// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Handles ../../../core/maybe ../../../core/promiseUtils ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),function(p,d,q,r,v,w,c,h,t,x,A,B,C,y){d.ElevationProfileView=function(u){function k(a){a=u.call(this,
a)||this;a._implementation=null;a._loadingTask=null;a._handles=new w;return a}q._inheritsLoose(k,u);var f=k.prototype;f.initialize=function(){this._handles.add(t.react(()=>({tool:this.tool,view:this.tool.viewModel.view,visible:this.tool.visible&&!!c.applySome(this.tool.viewModel.view,a=>a.ready)}),({tool:a,view:e,visible:g})=>{c.isSome(e)&&g?this._show(e,a):this._hide()},t.syncAndInitial))};f.destroy=function(){this._handles=c.destroyMaybe(this._handles);this._hide()};f._show=function(a,e){var g=
this;this._loadingTask=c.abortMaybe(this._loadingTask);this._loadingTask=h.createTask(function(){var z=q._asyncToGenerator(function*(b){if("2d"===a.type){var n=new Promise((l,m)=>p(["./ElevationProfileView2D"],l,m));b=(yield h.whenOrAbort(n,b)).ElevationProfileView2D;g._implementation=new b(a,e)}else"3d"===a.type&&(n=new Promise((l,m)=>p(["./ElevationProfileView3D"],l,m)),b=(yield h.whenOrAbort(n,b)).ElevationProfileView3D,g._implementation=new b(a,e))});return function(b){return z.apply(this,arguments)}}())};
f._hide=function(){this._loadingTask=c.abortMaybe(this._loadingTask);this._implementation=c.destroyMaybe(this._implementation)};return k}(v);r.__decorate([x.property()],d.ElevationProfileView.prototype,"tool",void 0);d.ElevationProfileView=r.__decorate([y.subclass("esri.widgets.ElevationProfile.support.ElevationProfileView")],d.ElevationProfileView);Object.defineProperty(d,"__esModule",{value:!0})});