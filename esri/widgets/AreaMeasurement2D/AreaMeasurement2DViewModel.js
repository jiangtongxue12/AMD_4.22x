// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Handles ../../core/Logger ../../core/maybe ../../core/unitUtils ../../core/watchUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../properties/defaultUnit ./AreaMeasurement2DTool ../support/InteractiveToolViewModel".split(" "),function(h,c,p,b,k,g,q,d,y,z,A,r,t,l,u){const v={handleWidth:8,handleColor:[255,
128,0,.5],pathWidth:2,pathColor:[255,128,0,1],fillColor:[255,128,0,.3]},w=b.getLogger("esri.widgets.AreaMeasurement2D.AreaMeasurement2DViewModel");b=function(m){function f(a){a=m.call(this,a)||this;a.logger=w;a.supportedViewType="2d";a.unsupportedErrorMessage="AreaMeasurement2DViewModel is only supported in 2D views.";a._handles=new p;a.geodesicDistanceThreshold=1E5;a.measurement=null;a.measurementLabel=null;a.palette=v;return a}h._inheritsLoose(f,m);var e=f.prototype;e.initialize=function(){this._handles.add([q.init(this,
["unit","palette","geodesicDistanceThreshold"],(a,n,x)=>{this.tool&&(this.tool[x]=a)})])};e.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null)};e.start=function(){return this.createTool()};e.clear=function(){this.removeTool()};e.createToolParams=function(){return{toolConstructor:l.default,constructorArguments:()=>({geodesicDistanceThreshold:this.geodesicDistanceThreshold,palette:this.palette,unit:this.unit})}};e._validateUnit=function(a){return-1!==this.unitOptions.indexOf(a)?
a:-1!==this.unitOptions.indexOf(this.defaultUnit)?this.defaultUnit:this.unitOptions[0]};e._validateUnits=function(a=[]){a=a.filter(n=>-1!==g.measurementAreaUnits.indexOf(n));return 0===a.length?g.measurementAreaUnits.slice():a};h._createClass(f,[{key:"state",get:function(){return this.disabled||k.isNone(this.view)||!l.isSupported(this.view.spatialReference)?"disabled":k.isSome(this.tool)&&this.tool.measurement?this.tool.active?"measuring":"measured":"ready"}},{key:"unit",get:function(){return this._validateUnit(this.defaultUnit)},
set:function(a){void 0===a?this._clearOverride("unit"):this._override("unit",this._validateUnit(a))}},{key:"unitOptions",get:function(){return g.measurementAreaUnits},set:function(a){void 0===a?this._clearOverride("unitOptions"):this._override("unitOptions",this._validateUnits(a))}}]);return f}(u.InteractiveToolViewModel);c.__decorate([d.property(t.defaultUnitPropertyMetadata)],b.prototype,"defaultUnit",void 0);c.__decorate([d.property({type:Number})],b.prototype,"geodesicDistanceThreshold",void 0);
c.__decorate([d.property({readOnly:!0,aliasOf:"tool.measurement"})],b.prototype,"measurement",void 0);c.__decorate([d.property({readOnly:!0,aliasOf:"tool.measurementLabel"})],b.prototype,"measurementLabel",void 0);c.__decorate([d.property()],b.prototype,"palette",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"state",null);c.__decorate([d.property({type:String})],b.prototype,"unit",null);c.__decorate([d.property({type:[String]})],b.prototype,"unitOptions",null);return b=c.__decorate([r.subclass("esri.widgets.AreaMeasurement2D.AreaMeasurement2DViewModel")],
b)});