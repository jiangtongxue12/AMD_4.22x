// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Logger ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleTrackingTarget".split(" "),function(h,k,l,r,t,u,m,n,v){function w(d,f){const g=()=>{if(!e||a)return f();e.clear();a=!0;const b=u.runTracked(e,f);a=!1;return b};let e=new v.SimpleTrackingTarget(()=>{e&&!a&&d(g)}),a=!1;d(g);return{remove:()=>{e&&(e.destroy(),e=null)}}}const q=
d=>{d=function(f){function g(){var a=f.apply(this,arguments)||this;a._numUpdating=0;a.asyncUpdateState=new Map;return a}k._inheritsLoose(g,f);var e=g.prototype;e.autoUpdateAsync=function(a,b){return w(c=>this.updateAsync(a,c),b)};e.updateAsync=function(){var a=k._asyncToGenerator(function*(b,c){if(!this.startAsyncUpdate(b)){try{const p=yield c();this._set(b,p)}catch(p){t.getLogger(this.declaredClass).warn(`Async update of "${b}" failed. Async update functions should not throw exceptions.`)}this.endAsyncUpdate(b)&&
this.updateAsync(b,c)}});return function(b,c){return a.apply(this,arguments)}}();e.startAsyncUpdate=function(a){var b;const c=null!=(b=this.asyncUpdateState.get(a))?b:0;if(c&1)return this.asyncUpdateState.set(a,c|2),!0;++this._numUpdating;this.asyncUpdateState.set(a,c|1);return!1};e.endAsyncUpdate=function(a){var b;--this._numUpdating;const c=(null!=(b=this.asyncUpdateState.get(a))?b:0)&-2;if(c&2)return this.asyncUpdateState.set(a,c&-3),!0;this.asyncUpdateState.set(a,c);return!1};k._createClass(g,
[{key:"updating",get:function(){return 0<this._numUpdating}}]);return g}(d);l.__decorate([m.property({readOnly:!0})],d.prototype,"updating",null);l.__decorate([m.property()],d.prototype,"_numUpdating",void 0);return d=l.__decorate([n.subclass("esri.core.AsyncUpdate")],d)};h.AsyncUpdate=function(d){function f(){return d.apply(this,arguments)||this}k._inheritsLoose(f,d);return f}(q(r));h.AsyncUpdate=l.__decorate([n.subclass("esri.core.AsyncUpdate")],h.AsyncUpdate);h.AsyncUpdateMixin=q;Object.defineProperty(h,
"__esModule",{value:!0})});