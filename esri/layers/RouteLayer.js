// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/maybe ../core/MultiOriginJSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./FeatureLayer ./Layer ./mixins/OperationalLayer ./mixins/PortalLayer".split(" "),function(p,d,t,f,c,e,y,z,A,q,u,l,v,w,x){c=function(r){function h(...a){a=r.call(this,...a)||this;
a.type="route";return a}p._inheritsLoose(h,r);var k=h.prototype;k.readFeatureCollectionsFromItem=function(a,b,m){this.revert("featureCollections","portal-item");return b.layers.map(n=>{const g=new l;g.read(n,m);return g})};k.readFeatureCollectionsFromWebMap=function(a,b,m){return b.featureCollection.layers.map(n=>{const g=new l;g.read(n,m);return g})};k.load=function(a){this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},a));return Promise.resolve(this)};k._getNamedFeatureLayer=
function(a){if(!f.isNone(this.featureCollections))return this.featureCollections.find(b=>b.title===a)};p._createClass(h,[{key:"barrierLines",get:function(){return this._getNamedFeatureLayer("PolylineBarriers")}},{key:"barrierPoints",get:function(){return this._getNamedFeatureLayer("Barriers")}},{key:"barrierPolygons",get:function(){return this._getNamedFeatureLayer("PolygonBarriers")}},{key:"directionLines",get:function(){return this._getNamedFeatureLayer("DirectionLines")}},{key:"directionPoints",
get:function(){return this._getNamedFeatureLayer("DirectionPoints")}},{key:"fullExtent",get:function(){return f.isNone(this.featureCollections)?null:this.featureCollections.reduce((a,b)=>f.isNone(b.fullExtent)?a:f.isNone(a)?b.fullExtent.clone():a.union(b.fullExtent),null)}},{key:"maxScale",get:function(){return f.isNone(this.featureCollections)?0:this.featureCollections.reduce((a,b)=>null==a?b.maxScale:Math.min(a,b.maxScale),null)},set:function(a){f.isSome(this.featureCollections)&&this.featureCollections.forEach(b=>
{b.maxScale=a});this._set("maxScale",a)}},{key:"minScale",get:function(){return f.isNone(this.featureCollections)?0:this.featureCollections.reduce((a,b)=>null==a?b.minScale:Math.min(a,b.minScale),null)},set:function(a){f.isSome(this.featureCollections)&&this.featureCollections.forEach(b=>{b.minScale=a});this._set("minScale",a)}},{key:"routeInfo",get:function(){return this._getNamedFeatureLayer("RouteInfo")}},{key:"stops",get:function(){return this._getNamedFeatureLayer("Stops")}}]);return h}(w.OperationalLayer(x.PortalLayer(c.MultiOriginJSONMixin(v))));
d.__decorate([e.property()],c.prototype,"barrierLines",null);d.__decorate([e.property()],c.prototype,"barrierPoints",null);d.__decorate([e.property()],c.prototype,"barrierPolygons",null);d.__decorate([e.property()],c.prototype,"directionLines",null);d.__decorate([e.property()],c.prototype,"directionPoints",null);d.__decorate([e.property({type:t.ofType(l)})],c.prototype,"featureCollections",void 0);d.__decorate([q.reader("portal-item","featureCollections",["layers"])],c.prototype,"readFeatureCollectionsFromItem",
null);d.__decorate([q.reader("web-map","featureCollections",["featureCollection.layers"])],c.prototype,"readFeatureCollectionsFromWebMap",null);d.__decorate([e.property({readOnly:!0})],c.prototype,"fullExtent",null);d.__decorate([e.property({type:["show","hide"]})],c.prototype,"listMode",void 0);d.__decorate([e.property()],c.prototype,"minScale",null);d.__decorate([e.property()],c.prototype,"routeInfo",null);d.__decorate([e.property()],c.prototype,"stops",null);d.__decorate([e.property({readOnly:!0,
json:{read:!1}})],c.prototype,"type",void 0);return c=d.__decorate([u.subclass("esri.layers.RouteLayer")],c)});