// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/mixins/ArcGISMapService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../request ../../core/promiseUtils ../../core/urlUtils ../../core/Version ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../geometry/Extent ../../geometry/SpatialReference ../support/commonProperties".split(" "),
function(v,q,c,d,y,f,r,F,ba,W,H,ha,ia,Q,X,Y){v.ArcGISMapService=E=>{E=function(O){function k(){var l=O.apply(this,arguments)||this;l.capabilities=void 0;l.copyright=null;l.fullExtent=null;l.legendEnabled=!0;l.spatialReference=null;l.version=null;return l}q._inheritsLoose(k,O);var B=k.prototype;B.readCapabilities=function(l,m){var u=m.capabilities&&m.capabilities.split(",").map(ca=>ca.toLowerCase().trim());if(!u)return{operations:{supportsQuery:!1,supportsExportMap:!1,supportsExportTiles:!1,supportsTileMap:!1},
exportMap:null,exportTiles:null};var C=this.type;l=-1!==u.indexOf("query");const n=-1!==u.indexOf("map"),w=!!m.exportTilesAllowed;u=-1!==u.indexOf("tilemap");const g="tile"!==C&&!!m.supportsDynamicLayers,M="tile"!==C&&(!m.tileInfo||g),S="tile"!==C&&(!m.tileInfo||g);C="tile"!==C;const I=m.cimVersion?r.Version.parse(m.cimVersion).since(1,4):!1;return{operations:{supportsQuery:l,supportsExportMap:n,supportsExportTiles:w,supportsTileMap:u},exportMap:n?{supportsArcadeExpressionForLabeling:I,supportsSublayersChanges:C,
supportsDynamicLayers:g,supportsSublayerVisibility:M,supportsSublayerDefinitionExpression:S}:null,exportTiles:w?{maxExportTilesCount:+m.maxExportTilesCount}:null}};B.readVersion=function(l,m){(l=m.currentVersion)||(l=m.hasOwnProperty("capabilities")||m.hasOwnProperty("tables")?10:m.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3);return l};B.fetchSublayerInfo=function(){var l=q._asyncToGenerator(function*(m,u){yield this.fetchAllLayersAndTables(u);return this._allLayersAndTablesMap.get(m)});
return function(m,u){return l.apply(this,arguments)}}();B.fetchAllLayersAndTables=function(){var l=q._asyncToGenerator(function*(m){yield this.load(m);this._allLayersAndTablesPromise||(this._allLayersAndTablesPromise=d(f.urlToObject(this.url).path+"/layers",{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey}}).then(C=>{this._allLayersAndTablesMap=new Map;for(const n of C.data.layers)this._allLayersAndTablesMap.set(n.id,n);return{result:C.data}},C=>({error:C})));const u=
yield this._allLayersAndTablesPromise;y.throwIfAborted(m);if("result"in u)return u.result;throw u.error;});return function(m){return l.apply(this,arguments)}}();return k}(E);c.__decorate([F.property({readOnly:!0})],E.prototype,"capabilities",void 0);c.__decorate([ha.reader("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],E.prototype,"readCapabilities",null);c.__decorate([F.property({json:{read:{source:"copyrightText"}}})],E.prototype,
"copyright",void 0);c.__decorate([F.property({type:Q})],E.prototype,"fullExtent",void 0);c.__decorate([F.property(Y.id)],E.prototype,"id",void 0);c.__decorate([F.property({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],E.prototype,"legendEnabled",void 0);c.__decorate([F.property(Y.popupEnabled)],E.prototype,"popupEnabled",void 0);c.__decorate([F.property({type:X})],E.prototype,"spatialReference",void 0);c.__decorate([F.property()],
E.prototype,"version",void 0);c.__decorate([ha.reader("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],E.prototype,"readVersion",null);return E=c.__decorate([ia.subclass("esri.layers.mixins.ArcGISMapService")],E)};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/core/Version":function(){define(["exports","./Error"],function(v,q){let c=function(){function d(f,r,F=""){this.major=f;this.minor=r;this._context=F}var y=d.prototype;y.lessThan=function(f,r){return this.major<
f||f===this.major&&this.minor<r};y.since=function(f,r){return!this.lessThan(f,r)};y.validate=function(f){if(this.major!==f.major)throw new q((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:f});};y.clone=function(){return new d(this.major,this.minor,this._context)};d.parse=function(f,r=""){const [F,ba]=f.split(".");var W=/^\s*\d+\s*$/;if(!F||!F.match||!F.match(W))throw new q((r&&
r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:f});if(!ba||!ba.match||!ba.match(W))throw new q((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:f});f=parseInt(F,10);W=parseInt(ba,10);return new d(f,W,r)};return d}();v.Version=c;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/layers/mixins/SublayersOwner":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/CollectionFlattener ../../core/Error ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/utils ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/PropertyOrigin ../support/Sublayer ../support/sublayerUtils".split(" "),
function(v,q,c,d,y,f,r,F,ba,W,H,ha,ia,Q,X,Y){function E(l,m){const u=[],C={};if(!l)return u;l.forEach(n=>{const w=new X;w.read(n,m);C[w.id]=w;null!=n.parentLayerId&&-1!==n.parentLayerId?(n=C[n.parentLayerId],n.sublayers||(n.sublayers=[]),n.sublayers.unshift(w)):u.unshift(w)});return u}function O(l,m){l&&l.forEach(u=>{m(u);u.sublayers&&u.sublayers.length&&O(u.sublayers,m)})}const k=r.getLogger("esri.layers.TileLayer"),B=d.ofType(X);v.SublayersOwner=l=>{l=function(m){function u(...n){var w=m.call(this,
...n)||this;w.allSublayers=new y({getCollections:()=>[w.sublayers],getChildrenFunction(g){return g.sublayers}});w.sublayersSourceJSON={[2]:{},[3]:{},[4]:{},[5]:{}};w.handles.add(w.watch("sublayers",(g,M)=>w._handleSublayersChange(g,M),!0));return w}q._inheritsLoose(u,m);var C=u.prototype;C.readSublayers=function(n,w){if(w&&n){var {sublayersSourceJSON:g}=this,M=Q.nameToId(w.origin);if(!(2>M||(g[M]={context:w,visibleLayers:n.visibleLayers||g[M].visibleLayers,layers:n.layers||g[M].layers},2<M))){this._set("serviceSublayers",
this.createSublayersForOrigin("service").sublayers);var {sublayers:S,origin:I}=this.createSublayersForOrigin("web-document");n=H.getProperties(this);n.setDefaultOrigin(I);this._set("sublayers",new B(S));n.setDefaultOrigin("user")}}};C.findSublayerById=function(n){return this.allSublayers.find(w=>w.id===n)};C.createServiceSublayers=function(){return this.createSublayersForOrigin("service").sublayers};C.createSublayersForOrigin=function(n){const w="web-document"===n?Q.nameToId("web-map"):Q.nameToId(n);
let g=2;n=this.sublayersSourceJSON[2].layers;let M=this.sublayersSourceJSON[2].context,S=null;var I=[3,4,5].filter(J=>J<=w);for(var ca of I)I=this.sublayersSourceJSON[ca],Y.isSublayerOverhaul(I.layers)&&(g=ca,n=I.layers,M=I.context,I.visibleLayers&&(S={visibleLayers:I.visibleLayers,context:I.context}));ca=[3,4,5].filter(J=>J>g&&J<=w);let V=null;for(var T of ca){const {layers:J,visibleLayers:ja,context:fa}=this.sublayersSourceJSON[T];J&&(V={layers:J,context:fa});ja&&(S={visibleLayers:ja,context:fa})}T=
E(n,M);const ka=new Map,ma=new Set;if(V)for(const J of V.layers)ka.set(J.id,J);if(S)for(const J of S.visibleLayers)ma.add(J);O(T,J=>{V&&J.read(ka.get(J.id),V.context);S&&J.read({defaultVisibility:ma.has(J.id)},S.context)});return{origin:Q.idToName(g),sublayers:new B({items:T})}};C.read=function(n,w){m.prototype.read.call(this,n,w);this.readSublayers(n,w)};C._handleSublayersChange=function(n,w){w&&(w.forEach(g=>{g.parent=null;g.layer=null}),this.handles.remove("sublayers-owner"));n&&(n.forEach(g=>
{g.parent=this;g.layer=this}),this.handles.add([n.on("after-add",({item:g})=>{g.parent=this;g.layer=this}),n.on("after-remove",({item:g})=>{g.parent=null;g.layer=null})],"sublayers-owner"),"tile"===this.type&&this.handles.add(n.on("before-changes",g=>{k.error(new f("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:this}));g.preventDefault()}),"sublayers-owner"))};return u}(l);c.__decorate([F.property({readOnly:!0})],l.prototype,"allSublayers",
void 0);c.__decorate([F.property({readOnly:!0,type:d.ofType(X)})],l.prototype,"serviceSublayers",void 0);c.__decorate([F.property({value:null,type:B,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],l.prototype,"sublayers",void 0);c.__decorate([F.property({readOnly:!0})],l.prototype,"sublayersSourceJSON",void 0);return l=c.__decorate([ia.subclass("esri.layers.mixins.SublayersOwner")],l)};v.forEachSublayer=O;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/layers/support/Sublayer":function(){define("require ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../request ../../symbols ../../core/Collection ../../core/Error ../../core/HandleOwner ../../core/Identifiable ../../core/lang ../../core/Loadable ../../core/Logger ../../core/maybe ../../core/MultiOriginJSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/utils ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../core/accessorSupport/PropertyOrigin ./FeatureType ./Field ./FieldsIndex ./LabelClass ./LayerFloorInfo ./source/DataLayerSource ./source/MapLayerSource ../../rest/support/Query ../../support/popupUtils ../../views/support/floorFilterUtils ../../geometry/Extent".split(" "),
function(v,q,c,d,y,f,r,F,ba,W,H,ha,ia,Q,X,Y,E,O,k,B,l,m,u,C,n,w,g,M,S,I,ca,V,T,ka,ma,J,ja,fa,Z,h,x,G,K,L,aa){function U(D){return D&&"esriSMS"===D.type}function z(D,R,p){var a;D=this.originIdOf(R)>=ka.nameToId(p.origin);return{ignoreOrigin:!0,allowNull:D,enabled:p?"map-image"===(null==(a=p.layer)?void 0:a.type)&&(p.writeSublayerStructure||D):!1}}function da(D,R,p){var a;return{enabled:p?"tile"===(null==(a=p.layer)?void 0:a.type)&&this._isOverridden(R):!1}}function P(D,R,p){return{ignoreOrigin:!0,
enabled:p&&p.writeSublayerStructure||!1}}function oa(D,R,p){return{ignoreOrigin:!0,enabled:p?p.writeSublayerStructure||this.originIdOf(R)>=ka.nameToId(p.origin):!1}}var pa;const qa=u.getLogger("esri.layers.support.Sublayer");let sa=0;const la=new Set;la.add("layer");la.add("parent");la.add("loaded");la.add("loadStatus");la.add("loadError");la.add("loadWarnings");d=pa=function(D){function R(a){a=D.call(this,a)||this;a.capabilities=void 0;a.fields=null;a.fullExtent=null;a.globalIdField=null;a.legendEnabled=
!0;a.objectIdField=null;a.popupEnabled=!0;a.popupTemplate=null;a.sourceJSON=null;a.title=null;a.typeIdField=null;a.types=null;return a}q._inheritsLoose(R,D);var p=R.prototype;p.load=function(){var a=q._asyncToGenerator(function*(b){var e=this;this.addResolvingPromise(q._asyncToGenerator(function*(){var t;if(!e.layer&&!e.url)throw new O("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:e});let A=null;if(!e.layer||2<e.originIdOf("url")||"data-layer"===(null==
(t=e.source)?void 0:t.type))A=(yield X(e.url,{responseType:"json",query:{f:"json"},...b})).data;else{var N;t=e.id;"map-layer"===(null==(N=e.source)?void 0:N.type)&&(t=e.source.mapLayerId);A=yield e.layer.fetchSublayerInfo(t,b)}A&&(e.sourceJSON=A,e.read({layerDefinition:A},{origin:"service"}))})());return this});return function(b){return a.apply(this,arguments)}}();p.readCapabilities=function(a,b){b=b.layerDefinition||b;a=(a=b.capabilities||a)?a.toLowerCase().split(",").map(e=>e.trim()):[];return{exportMap:{supportsModification:!!b.canModifyLayer},
operations:{supportsQuery:-1!==a.indexOf("query")}}};p.readGlobalIdFieldFromService=function(a,b){b=b.layerDefinition||b;if(b.globalIdField)return b.globalIdField;if(b.fields)for(const e of b.fields)if("esriFieldTypeGlobalID"===e.type)return e.name};p.writeLabelingInfo=function(a,b,e,t){a&&a.length&&(b.layerDefinition={drawingInfo:{labelingInfo:a.map(A=>A.write({},t))}})};p.readMinScale=function(a,b){return b.minScale||b.layerDefinition&&b.layerDefinition.minScale||0};p.readMaxScale=function(a,b){return b.maxScale||
b.layerDefinition&&b.layerDefinition.maxScale||0};p.readObjectIdFieldFromService=function(a,b){b=b.layerDefinition||b;if(b.objectIdField)return b.objectIdField;if(b.fields)for(const e of b.fields)if("esriFieldTypeOID"===e.type)return e.name};p.readOpacity=function(a,b){a=b.layerDefinition;return 1-.01*(null!=a.transparency?a.transparency:a.drawingInfo.transparency)};p.writeOpacity=function(a,b,e,t){b.layerDefinition={drawingInfo:{transparency:100-100*a}}};p.writeParent=function(a,b){b.parentLayerId=
this.parent&&this.parent!==this.layer?T.ensureInteger(this.parent.id):-1};p.castSublayers=function(a){return T.ensureType(E.ofType(pa),a)};p.writeSublayers=function(a,b,e){this.get("sublayers.length")&&(b[e]=this.sublayers.map(t=>t.id).toArray().reverse())};p.readTypeIdField=function(a,b){b=b.layerDefinition||b;let e=b.typeIdField;e&&b.fields&&(e=e.toLowerCase(),a=b.fields.find(t=>t.name.toLowerCase()===e))&&(e=a.name);return null};p.writeVisible=function(a,b,e,t){b[e]=this.getAtOrigin("defaultVisibility",
"service")||a};p.clone=function(){const {store:a}=M.getProperties(this),b=new pa;M.getProperties(b).store=a.clone(la);this.commitProperty("url");b._lastParsedUrl=this._lastParsedUrl;return b};p.createPopupTemplate=function(a){return K.createPopupTemplate(this,a)};p.createQuery=function(){return new G({returnGeometry:!0,where:this.definitionExpression||"1\x3d1"})};p.createFeatureLayer=function(){var a=q._asyncToGenerator(function*(){var b,e;if(this.hasOwnProperty("sublayers"))return null;const t=null==
(b=this.layer)?void 0:b.parsedUrl;b=new (yield new Promise((A,N)=>v(["../FeatureLayer"],ea=>A(Object.freeze({__proto__:null,default:ea})),N))).default({url:t.path});t&&this.source&&("map-layer"===this.source.type?b.layerId=this.source.mapLayerId:b.dynamicDataSource=this.source);null!=this.layer.refreshInterval&&(b.refreshInterval=this.layer.refreshInterval);this.definitionExpression&&(b.definitionExpression=this.definitionExpression);this.floorInfo&&(b.floorInfo=l.clone(this.floorInfo));2<this.originIdOf("labelingInfo")&&
(b.labelingInfo=l.clone(this.labelingInfo));0<this.originIdOf("labelsVisible")&&(b.labelsVisible=this.labelsVisible);0<this.originIdOf("legendEnabled")&&(b.legendEnabled=this.legendEnabled);0<this.originIdOf("visible")&&(b.visible=this.visible);0<this.originIdOf("minScale")&&(b.minScale=this.minScale);0<this.originIdOf("maxScale")&&(b.maxScale=this.maxScale);0<this.originIdOf("opacity")&&(b.opacity=this.opacity);0<this.originIdOf("popupTemplate")&&(b.popupTemplate=l.clone(this.popupTemplate));2<this.originIdOf("renderer")&&
(b.renderer=l.clone(this.renderer));"data-layer"===(null==(e=this.source)?void 0:e.type)&&(b.dynamicDataSource=this.source.clone());0<this.originIdOf("title")&&(b.title=this.title);"map-image"===this.layer.type&&0<this.layer.originIdOf("customParameters")&&(b.customParameters=this.layer.customParameters);"tile"===this.layer.type&&0<this.layer.originIdOf("customParameters")&&(b.customParameters=this.layer.customParameters);return b});return function(){return a.apply(this,arguments)}}();p.getField=
function(a){return this.fieldsIndex.get(a)};p.getFeatureType=function(a){const {typeIdField:b,types:e}=this;if(!b||!a)return null;const t=a.attributes?a.attributes[b]:void 0;if(null==t)return null;let A=null;e.some(N=>{const {id:ea}=N;if(null==ea)return!1;ea.toString()===t.toString()&&(A=N);return!!A});return A};p.getFieldDomain=function(a,b){return(b=this.getFeatureType(b&&b.feature))&&(b=b.domains&&b.domains[a])&&"inherited"!==b.type?b:this._getLayerDomain(a)};p.queryFeatures=function(){var a=q._asyncToGenerator(function*(b=
this.createQuery(),e){var t,A,N,ea;yield this.load();if(!this.get("capabilities.operations.supportsQuery"))throw new O("Sublayer.queryFeatures","this layer doesn't support queries.");const [{executeQuery:ta},{default:ua}]=yield Promise.all([new Promise((na,ra)=>v(["../../rest/query/operations/query"],na,ra)),new Promise((na,ra)=>v(["../../rest/support/FeatureSet"],va=>na(Object.freeze({__proto__:null,default:va})),ra))]);b=yield ta(this.url,G.from(b),null!=(t=null==(A=this.layer)?void 0:A.spatialReference)?
t:null,{...e,query:{...null==(N=this.layer)?void 0:N.customParameters,token:null==(ea=this.layer)?void 0:ea.apiKey}});t=ua.fromJSON(b.data);if(null!=t&&t.features)for(const na of t.features)na.sourceLayer=this;return t});return function(){return a.apply(this,arguments)}}();p.toExportImageJSON=function(a){var b;const e={id:this.id,source:(null==(b=this.source)?void 0:b.toJSON())||{mapLayerId:this.id,type:"mapLayer"}};this.definitionExpression?(a=C.isSome(a)?L.combineFloorsDefinitionExpression(a,this):
this.definitionExpression,e.definitionExpression=a):C.isSome(a)&&(e.definitionExpression=a);const t=["renderer","labelingInfo","opacity","labelsVisible"].reduce((A,N)=>{A[N]=this.originIdOf(N);return A},{});Object.keys(t).some(A=>2<t[A])&&(a=e.drawingInfo={},2<t.renderer&&(a.renderer=this.renderer?this.renderer.toJSON():null),2<t.labelsVisible&&(a.showLabels=this.labelsVisible),this.labelsVisible&&2<t.labelingInfo&&(a.labelingInfo=this.labelingInfo?this.labelingInfo.map(A=>A.write({},{origin:"service",
layer:this.layer})):null,a.showLabels=!0),2<t.opacity&&(a.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(a.renderer));return e};p._assignDefaultSymbolColors=function(a){this._forEachSimpleMarkerSymbols(a,b=>{b.color||"esriSMSX"!==b.style&&"esriSMSCross"!==b.style||(b.color=b.outline&&b.outline.color?b.outline.color:[0,0,0,0])})};p._forEachSimpleMarkerSymbols=function(a,b){if(a){const e="uniqueValueInfos"in a?a.uniqueValueInfos:"classBreakInfos"in a?a.classBreakInfos:[];for(const t of e)U(t.symbol)&&
b(t.symbol);"symbol"in a&&U(a.symbol)&&b(a.symbol);"defaultSymbol"in a&&U(a.defaultSymbol)&&b(a.defaultSymbol)}};p._setAndNotifyLayer=function(a,b){const e=this.layer,t=this._get(a);let A,N;switch(a){case "definitionExpression":case "floorInfo":A="supportsSublayerDefinitionExpression";case "minScale":case "maxScale":case "visible":A="supportsSublayerVisibility";break;case "labelingInfo":case "labelsVisible":case "opacity":case "renderer":case "source":A="supportsDynamicLayers",N="supportsModification"}const ea=
M.getProperties(this).getDefaultOrigin();if("service"!==ea){if(A&&!1===this.get(`layer.capabilities.exportMap.${A}`)){this._logLockedError(a,`capability not available 'layer.capabilities.exportMap.${A}'`);return}if(N&&!1===this.get(`capabilities.exportMap.${N}`)){this._logLockedError(a,`capability not available 'capabilities.exportMap.${N}'`);return}}"source"===a&&"not-loaded"!==this.loadStatus?this._logLockedError(a,"'source' can't be changed after calling sublayer.load()"):(this._set(a,b),"service"!==
ea&&t!==b&&e&&e.emit&&e.emit("sublayer-update",{propertyName:a,target:this}))};p._handleSublayersChange=function(a,b){b&&(b.forEach(e=>{e.parent=null;e.layer=null}),this.handles.removeAll());a&&(a.forEach(e=>{e.parent=this;e.layer=this.layer}),this.handles.add([a.on("after-add",({item:e})=>{e.parent=this;e.layer=this.layer}),a.on("after-remove",({item:e})=>{e.parent=null;e.layer=null}),a.on("before-changes",e=>{const t=this.get("layer.capabilities.exportMap.supportsSublayersChanges");null==t||t||
(qa.error(new O("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),e.preventDefault())})]))};p._logLockedError=function(a,b){qa.error(new O("sublayer:locked",`Property '${a}' can't be changed on Sublayer from the layer '${this.layer.id}'`,{reason:b,sublayer:this,layer:this.layer}))};p._getLayerDomain=function(a){return(a=this.fieldsIndex.get(a))?a.domain:null};q._createClass(R,[{key:"definitionExpression",
set:function(a){this._setAndNotifyLayer("definitionExpression",a)}},{key:"fieldsIndex",get:function(){return new ja(this.fields||[])}},{key:"floorInfo",set:function(a){this._setAndNotifyLayer("floorInfo",a)}},{key:"id",get:function(){const a=this._get("id");return null==a?sa++:a},set:function(a){this._get("id")!==a&&(!1===this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"):this._set("id",
a))}},{key:"labelingInfo",set:function(a){this._setAndNotifyLayer("labelingInfo",a)}},{key:"labelsVisible",set:function(a){this._setAndNotifyLayer("labelsVisible",a)}},{key:"layer",set:function(a){this._set("layer",a);this.sublayers&&this.sublayers.forEach(b=>b.layer=a)}},{key:"listMode",set:function(a){this._set("listMode",a)}},{key:"minScale",set:function(a){this._setAndNotifyLayer("minScale",a)}},{key:"maxScale",set:function(a){this._setAndNotifyLayer("maxScale",a)}},{key:"opacity",set:function(a){this._setAndNotifyLayer("opacity",
a)}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(a){if(a)for(const b of a.getSymbols())if(Y.isSymbol3D(b)){qa.warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",a)}},{key:"source",get:function(){return this._get("source")||new x.MapLayerSource({mapLayerId:this.id})},set:function(a){this._setAndNotifyLayer("source",a)}},{key:"sublayers",set:function(a){this._handleSublayersChange(a,this._get("sublayers"));
this._set("sublayers",a)}},{key:"url",get:function(){var a,b;const e=null!=(a=null==(b=this.layer)?void 0:b.parsedUrl)?a:this._lastParsedUrl;a=this.source;if(!e)return null;this._lastParsedUrl=e;if("map-layer"===(null==a?void 0:a.type))return`${e.path}/${a.mapLayerId}`;a={layer:JSON.stringify({source:this.source})};return`${e.path}/dynamicLayer?${w.objectToQuery(a)}`},set:function(a){a?this._override("url",a):this._clearOverride("url")}},{key:"visible",set:function(a){this._setAndNotifyLayer("visible",
a)}}]);return R}(k.HandleOwnerMixin(n.MultiOriginJSONMixin(B.IdentifiableMixin(m))));d.test={isMapImageLayerOverridePolicy:D=>D===P||D===z,isTileImageLayerOverridePolicy:D=>D===da};c.__decorate([g.property({readOnly:!0})],d.prototype,"capabilities",void 0);c.__decorate([I.reader("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],d.prototype,"readCapabilities",null);c.__decorate([g.property({type:String,value:null,json:{name:"layerDefinition.definitionExpression",
write:{allowNull:!0,overridePolicy:z}}})],d.prototype,"definitionExpression",null);c.__decorate([g.property({type:[J],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],d.prototype,"fields",void 0);c.__decorate([g.property({readOnly:!0})],d.prototype,"fieldsIndex",null);c.__decorate([g.property({type:Z,value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:z},origins:{"web-scene":{read:!1,
write:!1}}}})],d.prototype,"floorInfo",null);c.__decorate([g.property({type:aa,json:{read:{source:"layerDefinition.extent"}}})],d.prototype,"fullExtent",void 0);c.__decorate([g.property({type:String})],d.prototype,"globalIdField",void 0);c.__decorate([I.reader("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],d.prototype,"readGlobalIdFieldFromService",null);c.__decorate([g.property({type:T.Integer,json:{write:{ignoreOrigin:!0}}})],d.prototype,"id",null);c.__decorate([g.property({value:null,
type:[fa],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:P}}})],d.prototype,"labelingInfo",null);c.__decorate([V.writer("labelingInfo")],d.prototype,"writeLabelingInfo",null);c.__decorate([g.property({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:P}}})],d.prototype,"labelsVisible",null);c.__decorate([g.property({value:null})],
d.prototype,"layer",null);c.__decorate([g.property({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:oa}}})],d.prototype,"legendEnabled",void 0);c.__decorate([g.property({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],d.prototype,"listMode",null);c.__decorate([g.property({type:Number,value:0,json:{write:{overridePolicy:P}}})],d.prototype,"minScale",
null);c.__decorate([I.reader("minScale",["minScale","layerDefinition.minScale"])],d.prototype,"readMinScale",null);c.__decorate([g.property({type:Number,value:0,json:{write:{overridePolicy:P}}})],d.prototype,"maxScale",null);c.__decorate([I.reader("maxScale",["maxScale","layerDefinition.maxScale"])],d.prototype,"readMaxScale",null);c.__decorate([g.property({type:String})],d.prototype,"objectIdField",void 0);c.__decorate([I.reader("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],
d.prototype,"readObjectIdFieldFromService",null);c.__decorate([g.property({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:P}}})],d.prototype,"opacity",null);c.__decorate([I.reader("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],d.prototype,"readOpacity",null);c.__decorate([V.writer("opacity")],d.prototype,"writeOpacity",null);c.__decorate([g.property({json:{type:T.Integer,write:{target:"parentLayerId",writerEnsuresNonNull:!0,
overridePolicy:P}}})],d.prototype,"parent",void 0);c.__decorate([V.writer("parent")],d.prototype,"writeParent",null);c.__decorate([g.property({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader(D,R){return!R.disablePopup}},write:{target:"disablePopup",overridePolicy:oa,writer(D,R,p){R[p]=!D}}}})],d.prototype,"popupEnabled",void 0);c.__decorate([g.property({type:y,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:oa}}})],d.prototype,"popupTemplate",void 0);c.__decorate([g.property({readOnly:!0})],
d.prototype,"defaultPopupTemplate",null);c.__decorate([g.property({types:Q.rendererTypes,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:P},origins:{"web-scene":{types:Q.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:P}}}}})],d.prototype,"renderer",null);c.__decorate([g.property({types:{key:"type",base:null,typeMap:{"data-layer":h.DataLayerSource,"map-layer":x.MapLayerSource}},cast(D){if(D){if("mapLayerId"in D)return T.ensureClass(x.MapLayerSource,
D);if("dataSource"in D)return T.ensureClass(h.DataLayerSource,D)}return D},json:{name:"layerDefinition.source",write:{overridePolicy:P}}})],d.prototype,"source",null);c.__decorate([g.property()],d.prototype,"sourceJSON",void 0);c.__decorate([g.property({value:null,json:{type:[T.Integer],write:{target:"subLayerIds",allowNull:!0,overridePolicy:P}}})],d.prototype,"sublayers",null);c.__decorate([S.cast("sublayers")],d.prototype,"castSublayers",null);c.__decorate([V.writer("sublayers")],d.prototype,"writeSublayers",
null);c.__decorate([g.property({type:String,json:{name:"name",write:{overridePolicy:oa}}})],d.prototype,"title",void 0);c.__decorate([g.property({type:String})],d.prototype,"typeIdField",void 0);c.__decorate([I.reader("typeIdField",["layerDefinition.typeIdField"])],d.prototype,"readTypeIdField",null);c.__decorate([g.property({type:[ma],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],d.prototype,"types",void 0);c.__decorate([g.property({type:String,json:{read:{source:"layerUrl"},
write:{target:"layerUrl",overridePolicy:da}}})],d.prototype,"url",null);c.__decorate([g.property({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:P}}})],d.prototype,"visible",null);c.__decorate([V.writer("visible")],d.prototype,"writeVisible",null);return d=pa=c.__decorate([ca.subclass("esri.layers.support.Sublayer")],d)})},"esri/layers/support/sublayerUtils":function(){define(["exports"],function(v){function q(c,d){if(!c||!c.length)return!0;
d=d.slice().reverse().flatten(({sublayers:r})=>r&&r.toArray().reverse()).map(r=>r.id).toArray();if(c.length>d.length)return!1;let y=0;const f=d.length;for(const {id:r}of c){for(;y<f&&d[y]!==r;)y++;if(y>=f)return!1}return!0}v.isExportDynamic=function(c,d,y){return c.some(f=>{const r=f.source;return!(!r||"map-layer"===r.type&&r.mapLayerId===f.id&&(!r.gdbVersion||r.gdbVersion===y.gdbVersion))||2<f.originIdOf("renderer")||2<f.originIdOf("labelingInfo")||2<f.originIdOf("opacity")||2<f.originIdOf("labelsVisible")})?
!0:!q(c,d)};v.isSublayerOverhaul=function(c){return!!c&&c.some(d=>null!=d.minScale||d.layerDefinition&&null!=d.layerDefinition.minScale)};v.shouldWriteSublayerStructure=function(c,d,y){return d.flatten(({sublayers:f})=>f).length!==c.length||c.some(f=>f.originIdOf("minScale")>y||f.originIdOf("maxScale")>y||f.originIdOf("renderer")>y||f.originIdOf("labelingInfo")>y||f.originIdOf("opacity")>y||f.originIdOf("labelsVisible")>y||f.originIdOf("source")>y)?!0:!q(c,d)};Object.defineProperty(v,"__esModule",
{value:!0})})},"esri/layers/support/ExportImageParameters":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/HandleOwner ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./commonProperties ./sublayerUtils ../../views/support/floorFilterUtils".split(" "),function(v,q,c,d,y,f,r,F,ba,W,H,ha,ia,Q){const X=
{visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};v.ExportImageParameters=function(Y){function E(k){k=Y.call(this,k)||this;k.floors=null;k.scale=0;return k}q._inheritsLoose(E,Y);var O=E.prototype;O.destroy=function(){this.layer=null};O.toJSON=function(){var k=this.layer;k={dpi:k.dpi,format:k.imageFormat,
transparent:k.imageTransparency,gdbVersion:k.gdbVersion||null};this.hasDynamicLayers&&this.dynamicLayers?k.dynamicLayers=this.dynamicLayers:k={...k,layers:this.layers,layerDefs:this.layerDefs};return k};q._createClass(E,[{key:"dynamicLayers",get:function(){if(!this.hasDynamicLayers)return null;const k=this.visibleSublayers.map(B=>{const l=Q.getLayerFloorFilterClause(this.floors,B);return B.toExportImageJSON(l)});return k.length?JSON.stringify(k):null}},{key:"hasDynamicLayers",get:function(){return this.layer&&
ia.isExportDynamic(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}},{key:"layer",set:function(k){this._get("layer")!==k&&(this._set("layer",k),this.handles.remove("layer"),k&&this.handles.add([k.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),k.on("sublayer-update",B=>this.notifyChange(X[B.propertyName]))],"layer"))}},{key:"layers",get:function(){const k=this.visibleSublayers;return k?k.length?"show:"+k.map(B=>B.id).join(","):"show:-1":null}},{key:"layerDefs",get:function(){var k;
const B=!(null==(k=this.floors)||!k.length);k=this.visibleSublayers.filter(l=>null!=l.definitionExpression||B&&null!=l.floorInfo);return k.length?JSON.stringify(k.reduce((l,m)=>{var u=Q.getLayerFloorFilterClause(this.floors,m);u=f.isSome(u)?Q.combineFloorsDefinitionExpression(u,m):m.definitionExpression;l[m.id]=u;return l},{})):null}},{key:"version",get:function(){this.commitProperty("layers");this.commitProperty("layerDefs");this.commitProperty("dynamicLayers");this.commitProperty("timeExtent");
const k=this.layer;k&&(k.commitProperty("dpi"),k.commitProperty("imageFormat"),k.commitProperty("imageTransparency"),k.commitProperty("gdbVersion"));return(this._get("version")||0)+1}},{key:"visibleSublayers",get:function(){const k=[];if(!this.layer)return k;var B=this.layer.sublayers;const l=m=>{const u=this.scale,C=0===m.minScale||u<=m.minScale,n=0===m.maxScale||u>=m.maxScale;m.visible&&(0===u||C&&n)&&(m.sublayers?m.sublayers.forEach(l):k.unshift(m))};B&&B.forEach(l);B=this._get("visibleSublayers");
return!B||B.length!==k.length||B.some((m,u)=>k[u]!==m)?k:B}}]);return E}(y.HandleOwnerMixin(d));c.__decorate([r.property({readOnly:!0})],v.ExportImageParameters.prototype,"dynamicLayers",null);c.__decorate([r.property()],v.ExportImageParameters.prototype,"floors",void 0);c.__decorate([r.property({readOnly:!0})],v.ExportImageParameters.prototype,"hasDynamicLayers",null);c.__decorate([r.property()],v.ExportImageParameters.prototype,"layer",null);c.__decorate([r.property({readOnly:!0})],v.ExportImageParameters.prototype,
"layers",null);c.__decorate([r.property({readOnly:!0})],v.ExportImageParameters.prototype,"layerDefs",null);c.__decorate([r.property({type:Number})],v.ExportImageParameters.prototype,"scale",void 0);c.__decorate([r.property(ha.combinedViewLayerTimeExtentProperty)],v.ExportImageParameters.prototype,"timeExtent",void 0);c.__decorate([r.property({readOnly:!0})],v.ExportImageParameters.prototype,"version",null);c.__decorate([r.property({readOnly:!0})],v.ExportImageParameters.prototype,"visibleSublayers",
null);v.ExportImageParameters=c.__decorate([H.subclass("esri.layers.mixins.ExportImageParameters")],v.ExportImageParameters);Object.defineProperty(v,"__esModule",{value:!0})})},"*noref":1}});
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../request ../TimeExtent ../core/Error ../core/HandleOwner ../core/loadAll ../core/maybe ../core/MultiOriginJSONSupport ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/PropertyOrigin ../geometry/Extent ../geometry/support/scaleUtils ./Layer ./mixins/APIKeyMixin ./mixins/ArcGISMapService ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/OperationalLayer ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/SublayersOwner ./mixins/TemporalLayer ./support/commonProperties ./support/ExportImageParameters ./support/Sublayer ./support/sublayerUtils".split(" "),function(v,
q,c,d,y,f,r,F,ba,W,H,ha,ia,Q,X,Y,E,O,k,B,l,m,u,C,n,w,g,M,S,I,ca,V,T,ka,ma,J){f=function(ja){function fa(...h){h=ja.call(this,...h)||this;h.datesInUnknownTimezone=!1;h.dpi=96;h.gdbVersion=null;h.imageFormat="png24";h.imageMaxHeight=2048;h.imageMaxWidth=2048;h.imageTransparency=!0;h.isReference=null;h.labelsVisible=!1;h.operationalLayerType="ArcGISMapServiceLayer";h.sourceJSON=null;h.sublayers=null;h.type="map-image";h.url=null;return h}v._inheritsLoose(fa,ja);var Z=fa.prototype;Z.normalizeCtorArgs=
function(h,x){return"string"===typeof h?{url:h,...x}:h};Z.load=function(h){const x=F.isSome(h)?h.signal:null;this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},h).catch(W.throwIfAbortError).then(()=>this._fetchService(x)));return Promise.resolve(this)};Z.readImageFormat=function(h,x){return(h=x.supportedImageFormatTypes)&&-1<h.indexOf("PNG32")?"png32":"png24"};Z.writeSublayers=function(h,x,G,K){if(this.loaded&&h){h=h.slice().reverse().flatten(({sublayers:z})=>z&&z.toArray().reverse()).toArray();
G=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){const z=O.nameToId(K.origin);3===z?(G=this.createSublayersForOrigin("service").sublayers,G=J.shouldWriteSublayerStructure(h,G,2)):3<z&&(G=this.createSublayersForOrigin("portal-item"),G=J.shouldWriteSublayerStructure(h,G.sublayers,O.nameToId(G.origin)))}var L=[],aa={writeSublayerStructure:G,...K},U=G;h.forEach(z=>{const da=z.write({},aa);L.push(da);U=U||"user"===z.originOf("visible")});
L.some(z=>1<Object.keys(z).length)&&(x.layers=L);U&&(x.visibleLayers=h.filter(z=>z.visible).map(z=>z.id))}};Z.createExportImageParameters=function(h,x,G,K){var L=K&&K.pixelRatio||1;h&&10<=this.version&&(h=h.clone().shiftCentralMeridian());var aa=new ka.ExportImageParameters({layer:this,floors:null==K?void 0:K.floors,scale:B.getScale({extent:h,width:x})*L});const U=aa.toJSON();aa.destroy();aa=!K||!K.rotation||10.3>this.version?{}:{rotation:-K.rotation};var z=h&&h.spatialReference;z=z.wkid||JSON.stringify(z.toJSON());
U.dpi*=L;L={};if(null!=K&&K.timeExtent){const {start:da,end:P}=K.timeExtent.toJSON();L.time=da&&P&&da===P?""+da:`${null==da?"null":da},${null==P?"null":P}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(L.time="null,null");return{bbox:h&&h.xmin+","+h.ymin+","+h.xmax+","+h.ymax,bboxSR:z,imageSR:z,size:x+","+G,...U,...aa,...L}};Z.fetchImage=function(){var h=v._asyncToGenerator(function*(x,G,K,L){var aa;x={responseType:"image",signal:null!=(aa=null==L?void 0:L.signal)?aa:null,query:{...this.parsedUrl.query,
...this.createExportImageParameters(x,G,K,L),f:"image",...this.refreshParameters,...this.customParameters,token:this.apiKey}};const U=this.parsedUrl.path+"/export";return null==x.query.dynamicLayers||this.capabilities.exportMap.supportsDynamicLayers?c(U,x).then(z=>z.data).catch(z=>{if(W.isAbortError(z))throw z;throw new y("mapimagelayer:image-fetch-error",`Unable to load image: ${U}`,{error:z});}):Promise.reject(new y("mapimagelayer:dynamiclayer-not-supported",`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,
{query:x.query}))});return function(x,G,K,L){return h.apply(this,arguments)}}();Z.fetchRecomputedExtents=function(){var h=v._asyncToGenerator(function*(x={}){({data:x}=yield c(this.url,{...x,query:{returnUpdates:!0,f:"json",...this.customParameters,token:this.apiKey}}));const {extent:G,fullExtent:K,timeExtent:L}=x;x=G||K;return{fullExtent:x&&k.fromJSON(x),timeExtent:L&&d.fromJSON({start:L[0],end:L[1]})}});return function(){return h.apply(this,arguments)}}();Z.loadAll=function(){return r.loadAll(this,
h=>{h(this.allSublayers)})};Z._fetchService=function(){var h=v._asyncToGenerator(function*(x){if(this.sourceJSON)this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});else{var {data:G,ssl:K}=yield c(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},signal:x});K&&(this.url=this.url.replace(/^http:/i,"https:"));this.sourceJSON=G;this.read(G,{origin:"service",url:this.parsedUrl})}});return function(x){return h.apply(this,arguments)}}();
return fa}(n.BlendLayer(V.TemporalLayer(I.ScaleRangeLayer(ca.SublayersOwner(u.ArcGISMapService(C.ArcGISService(g.OperationalLayer(M.PortalLayer(ba.MultiOriginJSONMixin(S.RefreshableLayer(m.APIKeyMixin(w.CustomParametersMixin(f.HandleOwnerMixin(l))))))))))))));q.__decorate([H.property({type:Boolean})],f.prototype,"datesInUnknownTimezone",void 0);q.__decorate([H.property()],f.prototype,"dpi",void 0);q.__decorate([H.property()],f.prototype,"gdbVersion",void 0);q.__decorate([H.property()],f.prototype,
"imageFormat",void 0);q.__decorate([X.reader("imageFormat",["supportedImageFormatTypes"])],f.prototype,"readImageFormat",null);q.__decorate([H.property({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],f.prototype,"imageMaxHeight",void 0);q.__decorate([H.property({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],f.prototype,"imageMaxWidth",void 0);q.__decorate([H.property()],f.prototype,"imageTransparency",void 0);q.__decorate([H.property({type:Boolean,json:{read:!1,write:{enabled:!0,
overridePolicy:()=>({enabled:!1})}}})],f.prototype,"isReference",void 0);q.__decorate([H.property({json:{read:!1,write:!1}})],f.prototype,"labelsVisible",void 0);q.__decorate([H.property({type:["ArcGISMapServiceLayer"]})],f.prototype,"operationalLayerType",void 0);q.__decorate([H.property({json:{read:!1,write:!1}})],f.prototype,"popupEnabled",void 0);q.__decorate([H.property()],f.prototype,"sourceJSON",void 0);q.__decorate([H.property({json:{write:{ignoreOrigin:!0}}})],f.prototype,"sublayers",void 0);
q.__decorate([E.writer("sublayers",{layers:{type:[ma]},visibleLayers:{type:[Q.Integer]}})],f.prototype,"writeSublayers",null);q.__decorate([H.property({type:["show","hide","hide-children"]})],f.prototype,"listMode",void 0);q.__decorate([H.property({json:{read:!1},readOnly:!0,value:"map-image"})],f.prototype,"type",void 0);q.__decorate([H.property(T.url)],f.prototype,"url",void 0);return f=q.__decorate([Y.subclass("esri.layers.MapImageLayer")],f)});