// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Analysis ../core/Collection ../core/collectionUtils ../core/lang ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/support/coordinateSystem ../views/3d/interactive/analysisTools/slice/sliceToolUtils ../views/3d/support/RenderCoordsHelper ../views/support/spatialReferenceSupport ../widgets/Slice/SlicePlane".split(" "),function(l,
d,b,x,m,y,z,e,g,D,A,n,p,q,r,B){var k;const C=z.getLogger("esri.analysis.Slice");b=k=function(t){function h(a){a=t.call(this,a)||this;a.type="slice";a.tiltEnabled=!1;a.shape=null;a.excludeGroundSurface=!1;return a}l._inheritsLoose(h,t);h.prototype.clone=function(){return new k({tiltEnabled:this.tiltEnabled,shape:y.clone(this.shape),excludedLayers:this.excludedLayers.slice(),excludeGroundSurface:this.excludeGroundSurface,...this.cloneBaseAnalysisProperties()})};l._createClass(h,[{key:"extent",get:function(){if(e.isNone(this.shape)||
e.isNone(this.shape.position))return null;const a=this.shape.position.spatialReference;var c=null,f=null;r.isSpatialReferenceSupported(a,2)&&(c=q.RenderCoordsHelper.create(2,n.renderSRFromViewSR(!1,a)),c=p.shapeToExtent(this.shape,c,{tiltEnabled:this.tiltEnabled}));r.isSpatialReferenceSupported(a,1)&&(f=q.RenderCoordsHelper.create(1,n.renderSRFromViewSR(!0,a)),f=p.shapeToExtent(this.shape,f,{tiltEnabled:this.tiltEnabled}));if(e.isSome(c)&&e.isSome(f))return c.union(f);if(e.isNone(c)&&e.isNone(f)){var u,
v,w;C.warnOnce(`Extent of slice analysis (title: '${null!=(u=this.title)?u:"no title"}', id: '${null!=(v=this.id)?v:"no id"}') `+"could not be computed as the spatial reference of the shape "+`(wkid: '${null!=(w=a.wkid)?w:"no wkid"}') is not supported by the view`);return null}return e.isNone(c)?f:c}},{key:"excludedLayers",get:function(){return this._get("excludedLayers")||new x},set:function(a){this._set("excludedLayers",m.referenceSetter(a,this._get("excludedLayers")))}}]);return h}(b);d.__decorate([g.property({readOnly:!0})],
b.prototype,"type",void 0);d.__decorate([g.property({readOnly:!0})],b.prototype,"extent",null);d.__decorate([g.property()],b.prototype,"tiltEnabled",void 0);d.__decorate([g.property({types:{key:"type",base:null,typeMap:{plane:B},defaultKeyValue:"plane"}})],b.prototype,"shape",void 0);d.__decorate([g.property({cast:m.castForReferenceSetter})],b.prototype,"excludedLayers",null);d.__decorate([g.property({type:Boolean,nonNullable:!0})],b.prototype,"excludeGroundSurface",void 0);return b=k=d.__decorate([A.subclass("esri.analysis.Slice")],
b)});