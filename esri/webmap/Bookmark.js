// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../TimeExtent ../Viewpoint ../core/deprecate ../core/Error ../core/Identifiable ../core/JSONSupport ../core/lang ../core/Logger ../core/maybe ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../geometry/Extent ../webdoc/support/Thumbnail".split(" "),
function(t,c,v,n,w,x,b,y,z,A,p,e,B,C,D,E,F,G,k){var q;const r=A.getLogger("esri.webmap.Bookmark");b=q=function(f){function l(a){a=f.call(this,a)||this;a.name=null;a.thumbnail=new k;a.timeExtent=null;return a}t._inheritsLoose(l,f);var m=l.prototype;m.castThumbnail=function(a){return"string"===typeof a?new k({url:a}):F.ensureType(k,a)};m.readViewpoint=function(a,d){const {extent:g,viewpoint:h}=d;return n.fromJSON(h||{targetGeometry:g})};m.writeViewpoint=function(a,d,g,h){if(a){var {targetGeometry:u}=
a;p.isSome(u)&&"extent"!==u.type?null!=h&&h.messages?h.messages.push(new x("property:unsupported","Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.")):r.error("Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent."):d[g]=a.toJSON()}};m.clone=function(){return new q(z.clone({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))};t._createClass(l,[{key:"extent",set:function(a){w.deprecatedProperty(r,
"extent",{replacement:"viewpoint",version:"4.17"});this._set("viewpoint",new n({targetGeometry:a.clone()}));this._set("extent",a)}},{key:"viewpoint",set:function(a){const {targetGeometry:d,scale:g}=a;p.isSome(d)&&("extent"===d.type?this._set("extent",d.clone()):"point"===d.type&&p.isNone(g)&&r.warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",a));this._set("viewpoint",a)}}]);return l}(b.IdentifiableMixin(y.JSONSupport));c.__decorate([e.property({type:G,nonNullable:!0,
json:{read:!1,write:{isRequired:!0}}})],b.prototype,"extent",null);c.__decorate([e.property({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],b.prototype,"name",void 0);c.__decorate([e.property({type:k,json:{write:{overridePolicy(f){return{enabled:!(!f||!f.url)}}}}})],b.prototype,"thumbnail",void 0);c.__decorate([B.cast("thumbnail")],b.prototype,"castThumbnail",null);c.__decorate([e.property({type:v,json:{write:!0}})],b.prototype,"timeExtent",void 0);c.__decorate([e.property({type:n,nonNullable:!0,
json:{write:!0}})],b.prototype,"viewpoint",null);c.__decorate([C.reader("viewpoint",["extent","viewpoint"])],b.prototype,"readViewpoint",null);c.__decorate([E.writer("viewpoint")],b.prototype,"writeViewpoint",null);return b=q=c.__decorate([D.subclass("esri.webmap.Bookmark")],b)});