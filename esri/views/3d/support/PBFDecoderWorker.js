// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
require({cache:{"esri/rest/query/operations/pbfDehydratedFeatureSet":function(){define("exports ../../../core/compilerUtils ../../../core/maybe ../../../core/uid ../../../geometry/SpatialReference ../../../geometry/support/zscale ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/featureConversionUtils ../../../layers/support/Field".split(" "),function(c,B,z,A,C,N,L,P,I){function q(w,E){return E}function r(w,E,d,h){switch(d){case 0:return t(w,E+h,0);case 1:return"lowerLeft"===w.originPosition?
t(w,E+h,1):a(w,E+h,1)}}function J(w,E,d,h){switch(d){case 2:return t(w,E,2);default:return r(w,E,d,h)}}function O(w,E,d,h){switch(d){case 2:return t(w,E,3);default:return r(w,E,d,h)}}function f(w,E,d,h){switch(d){case 3:return t(w,E,3);default:return J(w,E,d,h)}}function t({translate:w,scale:E},d,h){return w[h]+d*E[h]}function a({translate:w,scale:E},d,h){return w[h]-d*E[h]}let k=function(){function w(d){this.options=d;this.geometryTypes=["point","multipoint","polyline","polygon"];this.previousCoordinate=
[0,0];this.transform=null;this.applyTransform=q;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this.AttributesConstructor=function(){}}var E=w.prototype;E.createFeatureResult=function(){return new L.DehydratedFeatureSetClass};E.finishFeatureResult=function(d){this.options.applyTransform&&(d.transform=null);this.AttributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=0;if(d.hasZ){var h=
N.getGeometryZScaler(d.geometryType,this.options.sourceSpatialReference,d.spatialReference);if(!z.isNone(h))for(const D of d.features)h(D.geometry)}};E.createSpatialReference=function(){return new C};E.addField=function(d,h){d.fields.push(I.fromJSON(h));const D=d.fields.map(U=>U.name);this.AttributesConstructor=function(){for(const U of D)this[U]=null}};E.addFeature=function(d,h){const D=this.options.maxStringAttributeLength?this.options.maxStringAttributeLength:0;if(0<D)for(const U in h.attributes){const Y=
h.attributes[U];"string"===typeof Y&&Y.length>D&&(h.attributes[U]="")}d.features.push(h)};E.addQueryGeometry=function(d,h){const {queryGeometry:D,queryGeometryType:U}=h;h=P.unquantizeOptimizedGeometry(D.clone(),D,!1,!1,this.transform);h=P.convertToGeometry(h,U,!1,!1);let Y=null;switch(U){case "esriGeometryPoint":Y="point";break;case "esriGeometryPolygon":Y="polygon";break;case "esriGeometryPolyline":Y="polyline";break;case "esriGeometryMultipoint":Y="multipoint"}h.type=Y;d.queryGeometryType=U;d.queryGeometry=
h};E.prepareFeatures=function(d){this.transform=d.transform;this.options.applyTransform&&d.transform&&(this.applyTransform=this.deriveApplyTransform(d));this.vertexDimension=2;d.hasZ&&this.vertexDimension++;d.hasM&&this.vertexDimension++;switch(d.geometryType){case "point":this.addCoordinate=(h,D,U)=>this.addCoordinatePoint(h,D,U);this.createGeometry=h=>this.createPointGeometry(h);break;case "polygon":this.addCoordinate=(h,D,U)=>this.addCoordinatePolygon(h,D,U);this.createGeometry=h=>this.createPolygonGeometry(h);
break;case "polyline":this.addCoordinate=(h,D,U)=>this.addCoordinatePolyline(h,D,U);this.createGeometry=h=>this.createPolylineGeometry(h);break;case "multipoint":this.addCoordinate=(h,D,U)=>this.addCoordinateMultipoint(h,D,U);this.createGeometry=h=>this.createMultipointGeometry(h);break;case "mesh":case "extent":break;default:B.neverReached(d.geometryType)}};E.createFeature=function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;return new L.DehydratedFeatureClass(A.generateUID(),
null,new this.AttributesConstructor)};E.allocateCoordinates=function(){const d=this.lengths.reduce((h,D)=>h+D,0);this.coordinateBuffer=new Float64Array(d*this.vertexDimension);this.coordinateBufferPtr=0};E.addLength=function(d,h,D){0===this.lengths.length&&(this.toAddInCurrentPath=h);this.lengths.push(h)};E.createPointGeometry=function(d){d={type:"point",x:0,y:0,spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM};d.hasZ&&(d.z=0);d.hasM&&(d.m=0);return d};E.addCoordinatePoint=function(d,
h,D){h=this.applyTransform(this.transform,h,D,0);switch(D){case 0:d.x=h;break;case 1:d.y=h;break;case 2:d.hasZ?d.z=h:d.m=h;break;case 3:d.m=h}};E.transformPathLikeValue=function(d,h){let D=0;1>=h&&(D=this.previousCoordinate[h],this.previousCoordinate[h]+=d);return this.applyTransform(this.transform,d,h,D)};E.addCoordinatePolyline=function(d,h,D){this.dehydratedAddPointsCoordinate(d.paths,h,D)};E.addCoordinatePolygon=function(d,h,D){this.dehydratedAddPointsCoordinate(d.rings,h,D)};E.addCoordinateMultipoint=
function(d,h,D){0===D&&d.points.push([]);h=this.transformPathLikeValue(h,D);d.points[d.points.length-1].push(h)};E.createPolygonGeometry=function(d){return{type:"polygon",rings:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}};E.createPolylineGeometry=function(d){return{type:"polyline",paths:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}};E.createMultipointGeometry=function(d){return{type:"multipoint",points:[],spatialReference:d.spatialReference,hasZ:!!d.hasZ,
hasM:!!d.hasM}};E.dehydratedAddPointsCoordinate=function(d,h,D){0===D&&0===this.toAddInCurrentPath--&&(d.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);h=this.transformPathLikeValue(h,D);d=d[d.length-1];0===D&&d.push(new Float64Array(this.coordinateBuffer.buffer,this.coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this.vertexDimension));this.coordinateBuffer[this.coordinateBufferPtr++]=h};E.deriveApplyTransform=
function(d){const {hasZ:h,hasM:D}=d;return h&&D?f:h?J:D?O:r};return w}();c.DehydratedFeatureSetParserContext=k;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(c,B){c.neverReached=function(z){};c.neverReachedSilent=function(z){};c.tuple=(...z)=>z;c.typeCast=function(z){return()=>z};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils",
"./spatialReferenceUtils"],function(c,B,z,A){c.getGeometryZScaler=function(C,N,L){if(B.isNone(N)||B.isNone(L)||L.vcsWkid||A.equals(N,L))return null;N=z.getMetersPerVerticalUnitForSR(N);L=z.getMetersPerVerticalUnitForSR(L);const P=N/L;if(1===P)return null;switch(C){case "point":case "esriGeometryPoint":return I=>{I&&null!=I.z&&(I.z*=P)};case "polyline":case "esriGeometryPolyline":return I=>{if(I)for(const q of I.paths)for(const r of q)2<r.length&&(r[2]*=P)};case "polygon":case "esriGeometryPolygon":return I=>
{if(I)for(const q of I.rings)for(const r of q)2<r.length&&(r[2]*=P)};case "multipoint":case "esriGeometryMultipoint":return I=>{if(I)for(const q of I.points)2<q.length&&(q[2]*=P)};case "extent":case "esriGeometryExtent":return I=>{I&&null!=I.zmin&&null!=I.zmax&&(I.zmin*=P,I.zmax*=P)};default:return null}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ./maybe ../geometry/projectionEllipsoid ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),
function(c,B,z,A,C,N,L,P,I){function q(F){if(F=M[F])return F;throw Error("unknown measure");}function r(F){return u[F].baseUnit}function J(F,Q=null){Q=Q||q(F);return u[Q].baseUnit===F}function O(F,Q,V){if(Q===V)return F;const X=q(Q);if(X!==q(V))throw Error("incompatible units");F=J(Q,X)?F:F*u[X].units[Q].inBaseUnits;return J(V,X)?F:F/u[X].units[V].inBaseUnits}function f(F,Q){return 3E3>O(F,Q,"meters")?"meters":"kilometers"}function t(F,Q){return 1E5>O(F,Q,"meters")?"meters":"kilometers"}function a(F,
Q){return 1E3>O(F,Q,"feet")?"feet":"miles"}function k(F,Q){return 1E5>O(F,Q,"feet")?"feet":"miles"}function w(F){return p.fromJSON(F.toLowerCase())||null}function E(F,Q=L.earth.metersPerDegree){return d(F,!0)||Q}function d(F,Q=!1){let V,X,fa=null;null!=F&&("object"===typeof F?(V=F.wkid,X=F.wkt):"number"===typeof F?V=F:"string"===typeof F&&(X=F));if(V){if(P.isWKIDFromMars(V))return L.mars.metersPerDegree;if(P.isWKIDFromMoon(V))return L.moon.metersPerDegree;fa=m.values[m[V]];!fa&&Q&&g.has(V)&&(fa=U)}else X&&
(/^PROJCS/i.test(X)?fa=h(Y.exec(X),fa):/^GEOCCS/i.test(X)&&(fa=h(x.exec(X),fa)));return fa}function h(F,Q){return F&&F[1]?parseFloat(F[1].split(",")[1]):Q}function D(F){var Q=null;if(null!=F)if("object"===typeof F){var V=F.wkid;var X=F.wkt}else"number"===typeof F?V=F:"string"===typeof F&&(X=F);if(V)Q=m.units[m[V]];else if(X&&(F=/^PROJCS/i.test(X)?Y:/^GEOCCS/i.test(X)?x:null)&&(X=F.exec(X))&&X[1]&&(X=X[1],Q=(Q=/[\\"\\']{1}([^\\"\\']+)/.exec(X))&&Q[1],!Q||-1===m.units.indexOf(Q)))for(X=parseFloat(X.split(",")[1]),
Q=null,F=m.values,V=0;V<F.length;++V)if(1E-7>Math.abs(X-F[V])){Q=m.units[V];break}return A.isSome(Q)?w(Q):null}const U=L.earth.radius*Math.PI/200,Y=/UNIT\[([^\]]+)\]\]$/i,m=I,x=/UNIT\[([^\]]+)\]/i,g=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),p=z.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",
yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});B={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},
"us-feet":{inBaseUnits:1200/3937}};I={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(F=>F*F)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};
const u={length:{baseUnit:"meters",units:B},area:{baseUnit:"square-meters",units:I},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},
angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},M=function(){const F={};for(const Q in u)for(const V in u[Q].units)F[V]=Q;return F}(),R={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",
esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Z={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};B=z.strict()(R);I=z.strict()(Z);z=z.strict()({...R,...Z});c.areaUnitsJSONMap=B;c.baseUnitForMeasure=r;c.baseUnitForUnit=function(F){return r(q(F))};c.convertUnit=O;c.getDefaultUnitSystem=function(F){if(!F)return null;
switch(D(F)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};c.getMetersPerUnit=d;c.getMetersPerUnitForSR=E;c.getMetersPerVerticalUnitForSR=function(F){if(F&&"object"===typeof F&&
!P.isEarth(F))return 1;F=E(F);return 1E5<F?1:F};c.getUnitString=D;c.getVerticalUnitStringForSR=function(F){const Q=E(F),V=F instanceof N?C.getReferenceEllipsoid(F).metersPerDegree:1E5;return Q>=V?"meters":D(F)};c.inchesPerMeter=39.37;c.isBaseUnit=J;c.isMeasurementSystem=function(F){return"imperial"===F||"metric"===F};c.lengthToDegrees=function(F,Q,V){return O(F,Q,"meters")/(V*Math.PI/180)};c.lengthUnitsJSONMap=I;c.measureForUnit=q;c.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");
c.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");c.preferredImperialAreaUnit=function(F,Q){return 1E6>O(F,Q,"square-feet")?"square-feet":"square-miles"};c.preferredImperialLengthUnit=a;c.preferredImperialVerticalLengthUnit=k;c.preferredLengthUnit=function(F,Q,V){switch(V){case "metric":return f(F,Q);case "imperial":return a(F,Q);default:return V}};c.preferredMetricAreaUnit=function(F,Q){return 3E6>O(F,Q,"square-meters")?"square-meters":
"square-kilometers"};c.preferredMetricLengthUnit=f;c.preferredMetricVerticalLengthUnit=t;c.preferredVerticalLengthUnit=function(F,Q,V){switch(V){case "metric":return t(F,Q);case "imperial":return k(F,Q);default:return V}};c.unitFromRESTJSON=w;c.unitToRESTJSON=function(F){return p.toJSON(F)||null};c.unitsJSONMap=z;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./SpatialReference","./support/Ellipsoid","./support/spatialReferenceUtils"],
function(c,B,z,A){function C(q){return new B({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${q.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const N=C(z.earth),L=C(z.mars),P=C(z.moon),I=new B({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${z.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});
c.SphericalECEFSpatialReference=N;c.SphericalPCPFMars=L;c.SphericalPCPFMoon=P;c.WGS84ECEFSpatialReference=I;c.createSphericalPCPF=C;c.getReferenceEllipsoid=function(q){return q&&(A.isMars(q)||q===L)?z.mars:q&&(A.isMoon(q)||q===P)?z.moon:z.earth};c.getReferenceEllipsoidFromWKID=function(q){return A.isWKIDFromMars(q)?z.mars:A.isWKIDFromMoon(q)?z.moon:z.earth};c.getSphericalPCPF=function(q){return q&&(A.isMars(q)||q===L)?L:q&&(A.isMoon(q)||q===P)?P:N};c.getSphericalPCPFForEllipsoid=function(q){return q&&
q===z.mars?L:q&&q===z.moon?P:N};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/dehydratedFeatures":function(){define("exports ../../core/byteSizeEstimations ../../core/has ../../core/maybe ../../core/typedArrayUtil ../../core/uid ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../../geometry/support/typeUtils ../support/Field ./dehydratedFeatureComparison".split(" "),function(c,
B,z,A,C,N,L,P,I,q,r,J,O){function f(d,h,D){if(A.isNone(d))return null;switch(h){case "point":return{x:d.x,y:d.y,z:d.z,m:d.m,hasZ:null!=d.z,hasM:null!=d.m,type:"point",spatialReference:D};case "polyline":return{paths:d.paths,hasZ:!!d.hasZ,hasM:!!d.hasM,type:"polyline",spatialReference:D};case "polygon":return{rings:d.rings,hasZ:!!d.hasZ,hasM:!!d.hasM,type:"polygon",spatialReference:D};case "multipoint":return{points:d.points,hasZ:!!d.hasZ,hasM:!!d.hasM,type:"multipoint",spatialReference:D}}}function t(d){if(A.isNone(d))return 0;
let h=32;switch(d.type){case "point":h+=42;break;case "polyline":case "polygon":{var D=0;const U=2+(d.hasZ?1:0)+(d.hasM?1:0);d="polyline"===d.type?d.paths:d.rings;for(const Y of d)D+=Y.length;h+=8*D*U+64;h+=128*D;h=h+34+32*(d.length+1);break}case "multipoint":D=d.points.length;h+=8*D*(2+(d.hasZ?1:0)+(d.hasM?1:0))+64;h+=128*D;h=h+34+32;break;case "extent":h+=98;d.hasM&&(h+=32);d.hasZ&&(h+=32);break;case "mesh":h+=C.estimateSize(d.vertexAttributes.position),h+=C.estimateSize(d.vertexAttributes.normal),
h+=C.estimateSize(d.vertexAttributes.uv),h+=C.estimateSize(d.vertexAttributes.tangent)}return h}function a(d,h){P.empty(h);"mesh"===d.type&&(d=d.extent);switch(d.type){case "point":h[0]=h[3]=d.x;h[1]=h[4]=d.y;d.hasZ&&(h[2]=h[5]=d.z);break;case "polyline":for(var D=0;D<d.paths.length;D++)P.expandWithNestedArray(h,d.paths[D],d.hasZ);break;case "polygon":for(D=0;D<d.rings.length;D++)P.expandWithNestedArray(h,d.rings[D],d.hasZ);break;case "multipoint":P.expandWithNestedArray(h,d.points,d.hasZ);break;
case "extent":h[0]=d.xmin,h[1]=d.ymin,h[3]=d.xmax,h[4]=d.ymax,null!=d.zmin&&(h[2]=d.zmin),null!=d.zmax&&(h[5]=d.zmax)}}function k(d,h){I.empty(h);"mesh"===d.type&&(d=d.extent);switch(d.type){case "point":h[0]=h[2]=d.x;h[1]=h[3]=d.y;break;case "polyline":for(var D=0;D<d.paths.length;D++)I.expandWithNestedArray(h,d.paths[D]);break;case "polygon":for(D=0;D<d.rings.length;D++)I.expandWithNestedArray(h,d.rings[D]);break;case "multipoint":I.expandWithNestedArray(h,d.points);break;case "extent":h[0]=d.xmin,
h[1]=d.ymin,h[2]=d.xmax,h[3]=d.ymax}}const w=P.create(),E=I.create();c.equals=O.equals;c.DehydratedFeatureClass=function(d,h,D){this.uid=d;this.geometry=h;this.attributes=D;this.visible=!0;this.centroid=this.objectId=null};c.DehydratedFeatureSetClass=function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null};c.computeAABB=
a;c.computeAABR=k;c.estimateGeometryObjectSize=t;c.estimateSize=function(d){let h;h=32+B.estimateAttributesObjectSize(d.attributes);return h=h+3+(8+t(d.geometry))};c.expandAABB=function(d,h){a(d,w);P.expandWithAABB(h,w)};c.expandAABR=function(d,h){A.isSome(d)&&(k(d,E),I.expand(h,E,h))};c.fromFeatureSetJSON=function(d){const h=r.featureGeometryTypeKebabDictionary.fromJSON(d.geometryType),D=L.fromJSON(d.spatialReference),U=d.transform,Y=d.features.map(m=>{var x=d.objectIdFieldName;m={uid:N.generateUID(),
objectId:x&&m.attributes?m.attributes[x]:null,attributes:m.attributes,geometry:f(m.geometry,h,D),visible:!0};x=m.geometry;if(A.isSome(x)&&U)switch(x.type){case "point":m.geometry=q.unquantizePoint(U,x,x,x.hasZ,x.hasM);break;case "multipoint":m.geometry=q.unquantizeMultipoint(U,x,x,x.hasZ,x.hasM);break;case "polygon":m.geometry=q.unquantizePolygon(U,x,x,x.hasZ,x.hasM);break;case "polyline":m.geometry=q.unquantizePolyline(U,x,x,x.hasZ,x.hasM);break;case "extent":m.geometry=x;break;case "mesh":m.geometry=
x}return m});return{geometryType:h,features:Y,spatialReference:D,fields:d.fields?d.fields.map(m=>J.fromJSON(m)):null,objectIdFieldName:d.objectIdFieldName,globalIdFieldName:d.globalIdFieldName,geohashFieldName:d.geohashFieldName,geometryProperties:d.geometryProperties,hasZ:d.hasZ,hasM:d.hasM,exceededTransferLimit:d.exceededTransferLimit,transform:null}};c.fromJSONGeometry=f;c.getObjectId=function(d,h){return null!=d.objectId?d.objectId:d.attributes&&h?d.attributes[h]:null};c.hasGeometry=function(d){return A.isSome(d.geometry)};
c.hasVertices=function(d){if(A.isNone(d))return!1;switch(d.type){case "extent":case "point":return!0;case "polyline":for(const h of d.paths)if(0<h.length)return!0;return!1;case "polygon":for(const h of d.rings)if(0<h.length)return!0;return!1;case "multipoint":return 0<d.points.length;case "mesh":return!d.loaded||0<d.vertexAttributes.position.length}};c.isFeatureGeometry=function(d){return r.isFeatureGeometryType(d.type)};c.makeDehydratedPoint=function(d,h,D,U){return{x:d,y:h,z:D,hasZ:null!=D,hasM:!1,
spatialReference:U,type:"point"}};c.numVertices=function(d){if(A.isNone(d))return 0;switch(d.type){case "point":return 1;case "polyline":var h=0;for(var D of d.paths)h+=D.length;return h;case "polygon":D=0;for(h of d.rings)D+=h.length;return D;case "multipoint":return d.points.length;case "extent":return 2;case "mesh":return(d=d.vertexAttributes&&d.vertexAttributes.position)?d.length/3:0}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/byteSizeEstimations":function(){define(["exports"],
function(c){function B(z){return 32+z.length}c.estimateAttributesObjectSize=function(z){if(!z)return 0;let A=32;for(const C in z)if(z.hasOwnProperty(C)){const N=z[C];switch(typeof N){case "string":A+=B(N);break;case "number":A+=16;break;case "boolean":A+=4}}return A};c.estimateFixedArraySize=function(z,A){return 32+z.length*A};c.estimateNumberByteSize=function(){return 16};c.estimateStringByteSize=B;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports",
"../../core/maybe","../Extent","./aaBoundingRect"],function(c,B,z,A){function C(a=f){return[a[0],a[1],a[2],a[3],a[4],a[5]]}function N(a,k,w,E,d,h,D=C()){D[0]=a;D[1]=k;D[2]=w;D[3]=E;D[4]=d;D[5]=h;return D}function L(a){return a[0]>=a[3]?0:a[3]-a[0]}function P(a){return a[1]>=a[4]?0:a[4]-a[1]}function I(a){return a[2]>=a[5]?0:a[5]-a[2]}function q(a,k){return Math.max(k[0],a[0])<=Math.min(k[3],a[3])&&Math.max(k[1],a[1])<=Math.min(k[4],a[4])&&Math.max(k[2],a[2])<=Math.min(k[5],a[5])}function r(a,k){a[0]=
k[0];a[1]=k[1];a[2]=k[2];a[3]=k[3];a[4]=k[4];a[5]=k[5];return a}function J(a){return 6===a.length}const O=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],f=[0,0,0,0,0,0],t=C();c.NEGATIVE_INFINITY=O;c.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];c.ZERO=f;c.allFinite=function(a){for(let k=0;6>k;k++)if(!isFinite(a[k]))return!1;return!0};c.center=function(a,k=[0,0,0]){k[0]=a[0]+L(a)/2;k[1]=a[1]+P(a)/2;k[2]=a[2]+I(a)/2;return k};c.contains=function(a,k){return k[0]>=
a[0]&&k[1]>=a[1]&&k[2]>=a[2]&&k[3]<=a[3]&&k[4]<=a[4]&&k[5]<=a[5]};c.containsPoint=function(a,k){return k[0]>=a[0]&&k[1]>=a[1]&&k[2]>=a[2]&&k[0]<=a[3]&&k[1]<=a[4]&&k[2]<=a[5]};c.containsPointWithMargin=function(a,k,w){return k[0]>=a[0]-w&&k[1]>=a[1]-w&&k[2]>=a[2]-w&&k[0]<=a[3]+w&&k[1]<=a[4]+w&&k[2]<=a[5]+w};c.create=C;c.depth=P;c.diameter=function(a){const k=L(a),w=I(a);a=P(a);return Math.sqrt(k*k+w*w+a*a)};c.empty=function(a){return a?r(a,O):C(O)};c.equals=function(a,k,w){if(B.isNone(a)||B.isNone(k))return a===
k;if(!J(a)||!J(k))return!1;if(w)for(let E=0;E<a.length;E++){if(!w(a[E],k[E]))return!1}else for(w=0;w<a.length;w++)if(a[w]!==k[w])return!1;return!0};c.expandWithAABB=function(a,k){a[0]=Math.min(a[0],k[0]);a[1]=Math.min(a[1],k[1]);a[2]=Math.min(a[2],k[2]);a[3]=Math.max(a[3],k[3]);a[4]=Math.max(a[4],k[4]);a[5]=Math.max(a[5],k[5])};c.expandWithBuffer=function(a,k,w=0,E=k.length/3){let d=a[0],h=a[1],D=a[2],U=a[3],Y=a[4],m=a[5];for(let x=0;x<E;x++)d=Math.min(d,k[w+3*x]),h=Math.min(h,k[w+3*x+1]),D=Math.min(D,
k[w+3*x+2]),U=Math.max(U,k[w+3*x]),Y=Math.max(Y,k[w+3*x+1]),m=Math.max(m,k[w+3*x+2]);a[0]=d;a[1]=h;a[2]=D;a[3]=U;a[4]=Y;a[5]=m};c.expandWithNestedArray=function(a,k,w){const E=k.length;let d=a[0],h=a[1],D=a[2],U=a[3],Y=a[4],m=a[5];if(w)for(w=0;w<E;w++){var x=k[w];d=Math.min(d,x[0]);h=Math.min(h,x[1]);D=Math.min(D,x[2]);U=Math.max(U,x[0]);Y=Math.max(Y,x[1]);m=Math.max(m,x[2])}else for(w=0;w<E;w++)x=k[w],d=Math.min(d,x[0]),h=Math.min(h,x[1]),U=Math.max(U,x[0]),Y=Math.max(Y,x[1]);a[0]=d;a[1]=h;a[2]=
D;a[3]=U;a[4]=Y;a[5]=m};c.expandWithOffset=function(a,k,w,E){a[0]=Math.min(a[0],a[0]+k);a[3]=Math.max(a[3],a[3]+k);a[1]=Math.min(a[1],a[1]+w);a[4]=Math.max(a[4],a[4]+w);a[2]=Math.min(a[2],a[2]+E);a[5]=Math.max(a[5],a[5]+E)};c.expandWithRect=function(a,k){a[0]=Math.min(a[0],k[0]);a[1]=Math.min(a[1],k[1]);a[3]=Math.max(a[3],k[2]);a[4]=Math.max(a[4],k[3])};c.expandWithVec3=function(a,k){a[0]=Math.min(a[0],k[0]);a[1]=Math.min(a[1],k[1]);a[2]=Math.min(a[2],k[2]);a[3]=Math.max(a[3],k[0]);a[4]=Math.max(a[4],
k[1]);a[5]=Math.max(a[5],k[2])};c.fromExtent=function(a,k=C()){k[0]=a.xmin;k[1]=a.ymin;k[2]=a.zmin;k[3]=a.xmax;k[4]=a.ymax;k[5]=a.zmax;return k};c.fromMinMax=function(a,k,w=C()){w[0]=a[0];w[1]=a[1];w[2]=a[2];w[3]=k[0];w[4]=k[1];w[5]=k[2];return w};c.fromRect=function(a,k){a[0]=k[0];a[1]=k[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=k[2];a[4]=k[3];a[5]=Number.POSITIVE_INFINITY;return a};c.fromValues=N;c.getMax=function(a,k){k[0]=a[3];k[1]=a[4];k[2]=a[5];return k};c.getMin=function(a,k){k[0]=a[0];k[1]=a[1];
k[2]=a[2];return k};c.height=I;c.intersects=q;c.intersectsClippingArea=function(a,k){return B.isNone(k)?!0:q(a,k)};c.is=J;c.isPoint=function(a){return 0===L(a)&&0===P(a)&&0===I(a)};c.maximumDimension=function(a){return Math.max(L(a),I(a),P(a))};c.offset=function(a,k,w,E,d=a){d[0]=a[0]+k;d[1]=a[1]+w;d[2]=a[2]+E;d[3]=a[3]+k;d[4]=a[4]+w;d[5]=a[5]+E;return d};c.scale=function(a,k,w=a){const E=a[0]+L(a)/2,d=a[1]+P(a)/2,h=a[2]+I(a)/2;w[0]=E+(a[0]-E)*k;w[1]=d+(a[1]-d)*k;w[2]=h+(a[2]-h)*k;w[3]=E+(a[3]-E)*
k;w[4]=d+(a[4]-d)*k;w[5]=h+(a[5]-h)*k;return w};c.set=r;c.setMax=function(a,k,w=a){w[3]=k[0];w[4]=k[1];w[5]=k[2];w!==a&&(w[0]=a[0],w[1]=a[1],w[2]=a[2]);return a};c.setMin=function(a,k,w=a){w[0]=k[0];w[1]=k[1];w[2]=k[2];w!==a&&(w[3]=a[3],w[4]=a[4],w[5]=a[5]);return w};c.size=function(a,k=[0,0,0]){k[0]=L(a);k[1]=P(a);k[2]=I(a);return k};c.toExtent=function(a,k){return isFinite(a[2])||isFinite(a[5])?new z({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:k}):new z({xmin:a[0],
xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:k})};c.toRect=function(a,k){k||(k=A.create());k[0]=a[0];k[1]=a[1];k[2]=a[3];k[3]=a[4];return k};c.width=L;c.wrap=function(a,k,w,E,d,h){return N(a,k,w,E,d,h,t)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(c,B,z,A,C){function N(f=O){return[f[0],f[1],f[2],f[3]]}function L(f,t){f!==t&&(f[0]=t[0],f[1]=
t[1],f[2]=t[2],f[3]=t[3]);return f}function P(f){return A.isNone(f)||f[0]>=f[2]?0:f[2]-f[0]}function I(f){return f[1]>=f[3]?0:f[3]-f[1]}function q(f,t,a){return t>=f[0]&&a>=f[1]&&t<=f[2]&&a<=f[3]}function r(f){return null!=f&&4===f.length}const J=[Infinity,Infinity,-Infinity,-Infinity],O=[0,0,0,0];c.NEGATIVE_INFINITY=J;c.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];c.UNIT=[0,0,1,1];c.ZERO=O;c.allFinite=function(f){for(let t=0;4>t;t++)if(!isFinite(f[t]))return!1;return!0};c.area=function(f){return P(f)*
I(f)};c.center=function(f,t=[0,0]){t[0]=(f[0]+f[2])/2;t[1]=(f[1]+f[3])/2;return t};c.clone=function(f){return[f[0],f[1],f[2],f[3]]};c.contains=function(f,t){return t[0]>=f[0]&&t[2]<=f[2]&&t[1]>=f[1]&&t[3]<=f[3]};c.containsPoint=function(f,t){return q(f,t[0],t[1])};c.containsPointObject=function(f,t){return q(f,t.x,t.y)};c.containsPointWithMargin=function(f,t,a){return t[0]>=f[0]-a&&t[1]>=f[1]-a&&t[0]<=f[2]+a&&t[1]<=f[3]+a};c.containsXY=q;c.copy=L;c.create=N;c.distance=function(f,t){const a=(f[1]+
f[3])/2,k=Math.max(Math.abs(t[0]-(f[0]+f[2])/2)-P(f)/2,0);f=Math.max(Math.abs(t[1]-a)-I(f)/2,0);return Math.sqrt(k*k+f*f)};c.empty=function(f){return f?L(f,J):N(J)};c.equals=function(f,t){return r(f)&&r(t)?f[0]===t[0]&&f[1]===t[1]&&f[2]===t[2]&&f[3]===t[3]:f===t};c.expand=function(f,t,a){if(A.isNone(t))L(a,f);else if("length"in t)if(r(t))a[0]=Math.min(f[0],t[0]),a[1]=Math.min(f[1],t[1]),a[2]=Math.max(f[2],t[2]),a[3]=Math.max(f[3],t[3]);else{if(2===t.length||3===t.length)a[0]=Math.min(f[0],t[0]),a[1]=
Math.min(f[1],t[1]),a[2]=Math.max(f[2],t[0]),a[3]=Math.max(f[3],t[1])}else switch(t.type){case "extent":a[0]=Math.min(f[0],t.xmin);a[1]=Math.min(f[1],t.ymin);a[2]=Math.max(f[2],t.xmax);a[3]=Math.max(f[3],t.ymax);break;case "point":a[0]=Math.min(f[0],t.x),a[1]=Math.min(f[1],t.y),a[2]=Math.max(f[2],t.x),a[3]=Math.max(f[3],t.y)}};c.expandPointInPlace=function(f,t){t[0]<f[0]&&(f[0]=t[0]);t[0]>f[2]&&(f[2]=t[0]);t[1]<f[1]&&(f[1]=t[1]);t[1]>f[3]&&(f[3]=t[1])};c.expandWithNestedArray=function(f,t,a=f){const k=
t.length;let w=f[0],E=f[1],d=f[2];f=f[3];for(let h=0;h<k;h++){const D=t[h];w=Math.min(w,D[0]);E=Math.min(E,D[1]);d=Math.max(d,D[0]);f=Math.max(f,D[1])}a[0]=w;a[1]=E;a[2]=d;a[3]=f;return a};c.fromExtent=function(f,t=N()){t[0]=f.xmin;t[1]=f.ymin;t[2]=f.xmax;t[3]=f.ymax;return t};c.fromValues=function(f,t,a,k,w=N()){w[0]=f;w[1]=t;w[2]=a;w[3]=k;return w};c.height=I;c.intersection=function(f,t,a){if(A.isNone(t))return L(a,f);const k=t[0],w=t[1],E=t[2];t=t[3];a[0]=z.clamp(f[0],k,E);a[1]=z.clamp(f[1],w,
t);a[2]=z.clamp(f[2],k,E);a[3]=z.clamp(f[3],w,t);return a};c.intersects=function(f,t){return Math.max(t[0],f[0])<=Math.min(t[2],f[2])&&Math.max(t[1],f[1])<=Math.min(t[3],f[3])};c.intersectsSphere=function(f,t){const a=t[3];var k=Math.abs(t[0]-.5*(f[0]+f[2]));const w=.5*(f[2]-f[0]);if(k>a+w)return!1;var E=.5*(f[3]-f[1]);f=Math.abs(t[1]-.5*(f[1]+f[3]));if(f>a+E)return!1;if(k<w||f<E)return!0;k-=w;E=f-E;return k*k+E*E<=a*a};c.is=r;c.isPoint=function(f){return(0===P(f)||!isFinite(f[0]))&&(0===I(f)||!isFinite(f[1]))};
c.offset=function(f,t,a,k=f){k[0]=f[0]+t;k[1]=f[1]+a;k[2]=f[2]+t;k[3]=f[3]+a;return k};c.pad=function(f,t,a=f){a[0]=f[0]-t;a[1]=f[1]-t;a[2]=f[2]+t;a[3]=f[3]+t;return a};c.setMax=function(f,t,a=f){a[2]=t[0];a[3]=t[1];a!==f&&(a[0]=f[0],a[1]=f[1]);return f};c.setMin=function(f,t,a=f){a[0]=t[0];a[1]=t[1];a!==f&&(a[2]=f[2],a[3]=f[3]);return a};c.size=function(f,t){t[0]=f[2]-f[0];t[1]=f[3]-f[1]};c.toExtent=function(f,t){return new C({xmin:f[0],ymin:f[1],xmax:f[2],ymax:f[3],spatialReference:t})};c.width=
P;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","../../core/maybe","./jsonUtils"],function(c,B,z){function A({scale:g,translate:p},u){return Math.round((u-p[0])/g[0])}function C({scale:g,translate:p},u){return Math.round((p[1]-u)/g[1])}function N(g,p,u){const M=[];let R,Z,F,Q;for(let V=0;V<u.length;V++){const X=u[V];if(0<V){if(F=A(g,X[0]),Q=C(g,X[1]),F!==R||Q!==Z)M.push(p(X,F-R,Q-Z)),R=F,Z=Q}else R=A(g,X[0]),Z=C(g,X[1]),
M.push(p(X,R,Z))}return 0<M.length?M:null}function L(g,p,u,M){return N(g,u?M?x:m:M?m:Y,p)}function P(g,p,u,M){const R=[];u=u?M?x:m:M?m:Y;for(M=0;M<p.length;M++){const Z=N(g,u,p[M]);Z&&3<=Z.length&&R.push(Z)}return R.length?R:null}function I(g,p,u,M){const R=[];u=u?M?x:m:M?m:Y;for(M=0;M<p.length;M++){const Z=N(g,u,p[M]);Z&&2<=Z.length&&R.push(Z)}return R.length?R:null}function q({scale:g,translate:p},u){return u*g[0]+p[0]}function r({scale:g,translate:p},u){return p[1]-u*g[1]}function J(g,p,u){const M=
Array(u.length);if(!u.length)return M;const [R,Z]=g.scale;let F=q(g,u[0][0]);g=r(g,u[0][1]);M[0]=p(u[0],F,g);for(let Q=1;Q<u.length;Q++){const V=u[Q];F+=V[0]*R;g-=V[1]*Z;M[Q]=p(V,F,g)}return M}function O(g,p,u){const M=Array(u.length);for(let R=0;R<u.length;R++)M[R]=J(g,p,u[R]);return M}function f(g,p,u,M){return J(g,u?M?x:m:M?m:Y,p)}function t(g,p,u,M){return O(g,u?M?x:m:M?m:Y,p)}function a(g,p,u,M){return O(g,u?M?x:m:M?m:Y,p)}function k(g,p,u){let [M,R]=u[0],Z=Math.min(M,p[0]),F=Math.min(R,p[1]),
Q=Math.max(M,p[2]);p=Math.max(R,p[3]);for(let V=1;V<u.length;V++){const [X,fa]=u[V];M+=X;R+=fa;0>X&&(Z=Math.min(Z,M));0<X&&(Q=Math.max(Q,M));0>fa?F=Math.min(F,R):0<fa&&(p=Math.max(p,R))}g[0]=Z;g[1]=F;g[2]=Q;g[3]=p;return g}function w(g,p){if(!p.length)return null;g[0]=g[1]=Number.POSITIVE_INFINITY;g[2]=g[3]=Number.NEGATIVE_INFINITY;for(let u=0;u<p.length;u++)k(g,g,p[u]);return g}function E(g,p,u,M,R){p.xmin=A(g,u.xmin);p.ymin=C(g,u.ymin);p.xmax=A(g,u.xmax);p.ymax=C(g,u.ymax);p!==u&&(M&&(p.zmin=u.zmin,
p.zmax=u.zmax),R&&(p.mmin=u.mmin,p.mmax=u.mmax));return p}function d(g,p,u,M,R){p.points=L(g,u.points,M,R);return p}function h(g,p,u,M,R){p.x=A(g,u.x);p.y=C(g,u.y);p!==u&&(M&&(p.z=u.z),R&&(p.m=u.m));return p}function D(g,p,u,M,R){g=P(g,u.rings,M,R);if(!g)return null;p.rings=g;return p}function U(g,p,u,M,R){g=I(g,u.paths,M,R);if(!g)return null;p.paths=g;return p}const Y=(g,p,u)=>[p,u],m=(g,p,u)=>[p,u,g[2]],x=(g,p,u)=>[p,u,g[2],g[3]];c.equals=function(g,p){if(g===p||null==g&&null==p)return!0;if(null==
g||null==p)return!1;let u,M,R,Z;g&&"upperLeft"===g.originPosition?(u=g.translate[0],M=g.translate[1],g=g.scale[0]):(u=B.isSome(g.extent)?g.extent.xmin:0,M=B.isSome(g.extent)?g.extent.ymax:0,g=g.tolerance);p&&"upperLeft"===p.originPosition?(R=p.translate[0],Z=p.translate[1],p=p.scale[0]):(R=B.isSome(p.extent)?p.extent.xmin:0,Z=B.isSome(p.extent)?p.extent.ymax:0,p=p.tolerance);return u===R&&M===Z&&g===p};c.getQuantizedBoundsCoordsArray=k;c.getQuantizedBoundsCoordsArrayArray=w;c.getQuantizedBoundsPaths=
function(g){return w([0,0,0,0],g)};c.getQuantizedBoundsPoints=function(g){const p=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return k(p,p,g)};c.getQuantizedBoundsRings=function(g){return w([0,0,0,0],g)};c.quantizeBounds=function(g,p,u){p[0]=A(g,u[0]);p[3]=C(g,u[1]);p[2]=A(g,u[2]);p[1]=C(g,u[3]);return p};c.quantizeExtent=E;c.quantizeGeometry=function(g,p){return g&&p?z.isPoint(p)?h(g,{},p,!1,!1):z.isPolyline(p)?U(g,{},p,!1,!1):z.isPolygon(p)?
D(g,{},p,!1,!1):z.isMultipoint(p)?d(g,{},p,!1,!1):z.isExtent(p)?E(g,{},p,!1,!1):null:null};c.quantizeMultipoint=d;c.quantizePaths=I;c.quantizePoint=h;c.quantizePoints=L;c.quantizePolygon=D;c.quantizePolyline=U;c.quantizeRings=P;c.quantizeX=A;c.quantizeY=C;c.toQuantizationTransform=function(g){return g?{originPosition:"upper-left"===g.originPosition?"upperLeft":"lower-left"===g.originPosition?"lowerLeft":g.originPosition,scale:g.tolerance?[g.tolerance,g.tolerance]:[1,1],translate:B.isSome(g.extent)?
[g.extent.xmin,g.extent.ymax]:[0,0]}:null};c.unquantizeBounds=function(g,p,u){return u?(p[0]=q(g,u[0]),p[1]=r(g,u[3]),p[2]=q(g,u[2]),p[3]=r(g,u[1]),p):[q(g,p[0]),r(g,p[3]),q(g,p[2]),r(g,p[1])]};c.unquantizeCoordsArray=J;c.unquantizeCoordsArrayArray=O;c.unquantizeExtent=function(g,p,u,M,R){p.xmin=q(g,u.xmin);p.ymin=r(g,u.ymin);p.xmax=q(g,u.xmax);p.ymax=r(g,u.ymax);p!==u&&(M&&(p.zmin=u.zmin,p.zmax=u.zmax),R&&(p.mmin=u.mmin,p.mmax=u.mmax));return p};c.unquantizeMultipoint=function(g,p,u,M,R){B.isSome(u)&&
(p.points=f(g,u.points,M,R));return p};c.unquantizePaths=t;c.unquantizePoint=function(g,p,u,M,R){if(B.isNone(u))return p;p.x=q(g,u.x);p.y=r(g,u.y);p!==u&&(M&&(p.z=u.z),R&&(p.m=u.m));return p};c.unquantizePoints=f;c.unquantizePolygon=function(g,p,u,M,R){B.isSome(u)&&(p.rings=a(g,u.rings,M,R));return p};c.unquantizePolyline=function(g,p,u,M,R){B.isSome(u)&&(p.paths=t(g,u.paths,M,R));return p};c.unquantizeRings=a;c.unquantizeX=q;c.unquantizeY=r;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(c,B,z,A,C,N,L,P,I,q,r,J,O){var f;const t=new z.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});z=f=function(a){function k(E){E=a.call(this,E)||this;
E.alias=null;E.defaultValue=void 0;E.description=null;E.domain=null;E.editable=!0;E.length=-1;E.name=null;E.nullable=!0;E.type=null;E.valueType=null;return E}c._inheritsLoose(k,a);var w=k.prototype;w.readDescription=function(E,{description:d}){let h;try{h=JSON.parse(d)}catch(D){}return h?h.value:null};w.readValueType=function(E,{description:d}){let h;try{h=JSON.parse(d)}catch(D){}return h?t.fromJSON(h.fieldValueType):null};w.clone=function(){return new f({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return k}(A.JSONSupport);B.__decorate([C.property({type:String,json:{write:!0}})],z.prototype,"alias",void 0);B.__decorate([C.property({type:[String,Number],json:{write:{allowNull:!0}}})],z.prototype,"defaultValue",void 0);B.__decorate([C.property()],z.prototype,"description",void 0);B.__decorate([q.reader("description")],
z.prototype,"readDescription",null);B.__decorate([C.property({types:J.types,json:{read:{reader:J.fromJSON},write:!0}})],z.prototype,"domain",void 0);B.__decorate([C.property({type:Boolean,json:{write:!0}})],z.prototype,"editable",void 0);B.__decorate([C.property({type:P.Integer,json:{write:!0}})],z.prototype,"length",void 0);B.__decorate([C.property({type:String,json:{write:!0}})],z.prototype,"name",void 0);B.__decorate([C.property({type:Boolean,json:{write:!0}})],z.prototype,"nullable",void 0);B.__decorate([I.enumeration(O.kebabDict)],
z.prototype,"type",void 0);B.__decorate([C.property()],z.prototype,"valueType",void 0);B.__decorate([q.reader("valueType",["description"])],z.prototype,"readValueType",null);return z=f=B.__decorate([r.subclass("esri.layers.support.Field")],z)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(c,B,z){c.enumeration=function(A,C={}){var N;A=A instanceof B.JSONMap?A:new B.JSONMap(A,C);A={type:(null!=(N=null==C?void 0:C.ignoreUnknown)?
N:1)?A.apiValues:String,readOnly:null==C?void 0:C.readOnly,json:{type:A.jsonValues,read:null!=C&&C.readOnly?!1:{reader:A.read},write:{writer:A.write}}};void 0!==(null==C?void 0:C.default)&&(A.json.default=C.default);void 0!==(null==C?void 0:C.name)&&(A.json.name=C.name);return z.property(A)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(c,B,
z,A,C,N){B={key:"type",base:A,typeMap:{range:N,"coded-value":z,inherited:C}};c.CodedValueDomain=z;c.DomainBase=A;c.InheritedDomain=C;c.RangeDomain=N;c.fromJSON=function(L){if(!L||!L.type)return null;switch(L.type){case "range":return N.fromJSON(L);case "codedValue":return z.fromJSON(L);case "inherited":return C.fromJSON(L)}return null};c.types=B;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(c,B,z,A,C,N,L,P,I){var q;C=q=function(r){function J(f){f=r.call(this,f)||this;f.codedValues=null;f.type="coded-value";return f}c._inheritsLoose(J,r);var O=J.prototype;O.getName=function(f){let t=null;if(this.codedValues){const a=String(f);this.codedValues.some(k=>{String(k.code)===a&&(t=k.name);return!!t})}return t};O.clone=function(){return new q({codedValues:z.clone(this.codedValues),name:this.name})};return J}(I);B.__decorate([A.property({type:[P.default],json:{write:!0}})],C.prototype,
"codedValues",void 0);B.__decorate([N.enumeration({codedValue:"coded-value"})],C.prototype,"type",void 0);return C=q=B.__decorate([L.subclass("esri.layers.support.CodedValueDomain")],C)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(c,B,z,A,C,N,L,P,I){var q;c.CodedValue=q=function(r){function J(O){O=r.call(this,O)||this;O.name=null;O.code=null;return O}B._inheritsLoose(J,r);J.prototype.clone=function(){return new q({name:this.name,code:this.code})};return J}(A.JSONSupport);z.__decorate([C.property({type:String,json:{write:!0}})],c.CodedValue.prototype,"name",void 0);z.__decorate([C.property({type:[String,Number],json:{write:!0}})],c.CodedValue.prototype,"code",void 0);c.CodedValue=q=z.__decorate([I.subclass("esri.layers.support.CodedValue")],
c.CodedValue);c.default=c.CodedValue;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(c,B,z,A,C,N,L,P,I,q){z=
new z.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});A=function(r){function J(O){O=r.call(this,O)||this;O.name=null;O.type=null;return O}c._inheritsLoose(J,r);return J}(A.JSONSupport);B.__decorate([C.property({type:String,json:{write:!0}})],A.prototype,"name",void 0);B.__decorate([I.enumeration(z)],A.prototype,"type",void 0);return A=B.__decorate([q.subclass("esri.layers.support.Domain")],A)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(c,B,z,A,C,N,L,P,I,q){var r;z=r=function(J){function O(f){f=J.call(this,f)||this;f.type="inherited";return f}c._inheritsLoose(O,J);O.prototype.clone=function(){return new r};return O}(q);B.__decorate([P.enumeration({inherited:"inherited"})],z.prototype,"type",void 0);return z=r=B.__decorate([I.subclass("esri.layers.support.InheritedDomain")],z)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(c,B,z,A,C,N,L,P,I){var q;A=q=function(r){function J(O){O=r.call(this,O)||this;O.maxValue=null;O.minValue=null;O.type="range";return O}c._inheritsLoose(J,r);J.prototype.clone=function(){return new q({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return J}(I);B.__decorate([z.property({type:Number,json:{type:[Number],read:{source:"range",reader(r,J){return J.range&&J.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",
writer(r,J,O){J[O]=[this.minValue||0,r]}}}})],A.prototype,"maxValue",void 0);B.__decorate([z.property({type:Number,json:{type:[Number],read:{source:"range",reader(r,J){return J.range&&J.range[0]}},write:{target:"range",writer(r,J,O){J[O]=[r,this.maxValue||0]}}}})],A.prototype,"minValue",void 0);B.__decorate([L.enumeration({range:"range"})],A.prototype,"type",void 0);return A=q=B.__decorate([P.subclass("esri.layers.support.RangeDomain")],A)})},"esri/layers/support/fieldType":function(){define(["exports",
"../../core/jsonMap"],function(c,B){B=new B.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});c.kebabDict=B;Object.defineProperty(c,"__esModule",
{value:!0})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["exports","../../core/has","../../core/maybe"],function(c,B,z){function A(q,r){if(q===r)return!0;if(null==q||null==r||q.length!==r.length)return!1;for(let J=0;J<q.length;J++){const O=q[J],f=r[J];if(O.length!==f.length)return!1;for(let t=0;t<O.length;t++)if(O[t]!==f[t])return!1}return!0}function C(q,r){if(q===r)return!0;if(null==q||null==r||q.length!==r.length)return!1;for(let J=0;J<q.length;J++)if(!A(q[J],r[J]))return!1;
return!0}function N(q,r){return L(q.spatialReference,r.spatialReference)?q.x===r.x&&q.y===r.y&&q.z===r.z&&q.m===r.m:!1}function L(q,r){return q===r||q&&r&&q.equals(r)}function P(q,r){if(q===r)return!0;if(z.isNone(q)||z.isNone(r)||q.type!==r.type)return!1;switch(q.type){case "point":return N(q,r);case "extent":return q=q.hasZ!==r.hasZ||q.hasM!==r.hasM?!1:L(q.spatialReference,r.spatialReference)?q.xmin===r.xmin&&q.ymin===r.ymin&&q.zmin===r.zmin&&q.xmax===r.xmax&&q.ymax===r.ymax&&q.zmax===r.zmax:!1,
q;case "polyline":return q=q.hasZ!==r.hasZ||q.hasM!==r.hasM?!1:L(q.spatialReference,r.spatialReference)?C(q.paths,r.paths):!1,q;case "polygon":return q=q.hasZ!==r.hasZ||q.hasM!==r.hasM?!1:L(q.spatialReference,r.spatialReference)?C(q.rings,r.rings):!1,q;case "multipoint":return q=q.hasZ!==r.hasZ||q.hasM!==r.hasM?!1:L(q.spatialReference,r.spatialReference)?A(q.points,r.points):!1,q;case "mesh":return!1}}function I(q,r){if(q===r)return!0;if(!q||!r)return!1;const J=Object.keys(q),O=Object.keys(r);if(J.length!==
O.length)return!1;for(const f of J)if(q[f]!==r[f])return!1;return!0}c.equals=function(q,r){return q===r?!0:null!=q&&null!=r&&q.objectId===r.objectId&&P(q.geometry,r.geometry)&&I(q.attributes,r.attributes)?!0:!1};c.pointEquals=N;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(c,B,z,A,C,N,L,P){function I(b,e){return b?e?4:3:e?3:2}function q(b,e,n,l){if(b){if(n)return e&&l?sa:ma;if(e&&l)return va}else if(e&&l)return ma;return ta}function r({scale:b,translate:e},n){return Math.round((n-e[0])/b[0])}function J({scale:b,translate:e},n){return Math.round((e[1]-n)/b[1])}function O({scale:b,translate:e},n){return n*b[0]+e[0]}function f({scale:b,translate:e},n){return e[1]-n*b[1]}function t(b){b=b.coords;return{x:b[0],y:b[1]}}function a(b,e){b.coords[0]=e.x;b.coords[1]=
e.y;return b}function k(b){b=b.coords;return{x:b[0],y:b[1],z:b[2]}}function w(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.z;return b}function E(b){b=b.coords;return{x:b[0],y:b[1],m:b[2]}}function d(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.m;return b}function h(b){b=b.coords;return{x:b[0],y:b[1],z:b[2],m:b[3]}}function D(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.z;b.coords[3]=e.m;return b}function U(b,e){return b&&e?D:b?w:e?d:a}function Y(b,e,n,l,y){n=U(n,l);for(const v of e){const {geometry:H,
attributes:G}=v;let K;H&&(K=n(new P,H));b.push(new N.default(K,G,null,G[y]))}return b}function m(b,e,n,l){for(const y of e){const {geometry:v,attributes:H}=y;let G;v&&(G=x(v,n,l));b.push({attributes:H,geometry:G})}return b}function x(b,e,n){if(A.isNone(b))return null;const l=I(e,n),y=[];for(let v=0;v<b.coords.length;v+=l){const H=[];for(let G=0;G<l;G++)H.push(b.coords[v+G]);y.push(H)}return e?n?{points:y,hasZ:e,hasM:n}:{points:y,hasZ:e}:n?{points:y,hasM:n}:{points:y}}function g(b,e,n,l,y){n=I(n,l);
for(const v of e){e=v.geometry;l=v.attributes;let H;e&&(H=p(new P,e,n));b.push(new N.default(H,l,null,l[y]))}return b}function p(b,e,n=I(e.hasZ,e.hasM)){b.lengths[0]=e.points.length;const l=b.coords;let y=0;for(const v of e.points)for(e=0;e<n;e++)l[y++]=v[e];return b}function u(b,e,n){if(!b)return null;const l=I(e,n),{coords:y,lengths:v}=b;b=[];let H=0;for(const G of v){const K=[];for(let S=0;S<G;S++){const T=[];for(let W=0;W<l;W++)T.push(y[H++]);K.push(T)}b.push(K)}return e?n?{paths:b,hasZ:e,hasM:n}:
{paths:b,hasZ:e}:n?{paths:b,hasM:n}:{paths:b}}function M(b,e,n,l,y){n=I(n,l);for(const v of e){e=v.geometry;l=v.attributes;let H;e&&(H=R(new P,e,n));b.push(new N.default(H,l,null,l[y]))}return b}function R(b,e,n=I(e.hasZ,e.hasM)){const {lengths:l,coords:y}=b;let v=0;for(const H of e.paths){for(const G of H)for(e=0;e<n;e++)y[v++]=G[e];l.push(H.length)}return b}function Z(b,e,n){if(!b)return null;const l=I(e,n),{coords:y,lengths:v}=b;b=[];let H=0;for(const G of v){const K=[];for(let S=0;S<G;S++){const T=
[];for(let W=0;W<l;W++)T.push(y[H++]);K.push(T)}b.push(K)}return e?n?{rings:b,hasZ:e,hasM:n}:{rings:b,hasZ:e}:n?{rings:b,hasM:n}:{rings:b}}function F(b,e,n,l,y){for(const v of e){e=v.geometry;const H=v.centroid,G=v.attributes;let K;e&&(K=Q(new P,e,n,l));A.isSome(H)?b.push(new N.default(K,G,a(new P,H),G[y])):b.push(new N.default(K,G,null,G[y]))}return b}function Q(b,e,n=e.hasZ,l=e.hasM){V(b,e.rings,n,l);return b}function V(b,e,n,l){n=I(n,l);const {lengths:y,coords:v}=b;l=0;y.length=v.length=0;for(const H of e){for(const G of H)for(e=
0;e<n;e++)v[l++]=G[e];y.push(H.length)}return b}function X(b,e,n,l,y,v){b.length=0;if(!n){for(const H of e)b.push(new N.default(null,H.attributes,null,H.attributes[v]));return b}switch(n){case "esriGeometryPoint":return Y(b,e,l,y,v);case "esriGeometryMultipoint":return g(b,e,l,y,v);case "esriGeometryPolyline":return M(b,e,l,y,v);case "esriGeometryPolygon":return F(b,e,l,y,v);default:ja.error("convertToFeatureSet:unknown-geometry",new B(`Unable to parse unknown geometry type '${n}'`)),b.length=0}return b}
function fa(b,e,n,l){b=b&&("coords"in b?b:b.geometry);if(A.isNone(b))return null;switch(e){case "esriGeometryPoint":return e=t,n&&l?e=h:n?e=k:l&&(e=E),e(b);case "esriGeometryMultipoint":return x(b,n,l);case "esriGeometryPolyline":return u(b,n,l);case "esriGeometryPolygon":return Z(b,n,l);default:ja.error("convertToGeometry:unknown-geometry",new B(`Unable to parse unknown geometry type '${e}'`))}}function na(b,e,n,l,y){b.length=0;if(A.isNone(n)){for(const G of e)b.push({attributes:G.attributes});return b}switch(n){case "esriGeometryPoint":var v=
t;l&&y?v=h:l?v=k:y&&(v=E);for(var H of e){const {geometry:G,attributes:K}=H;l=A.isSome(G)?v(G):null;b.push({attributes:K,geometry:l})}break;case "esriGeometryMultipoint":return m(b,e,l,y);case "esriGeometryPolyline":for(const G of e){const {geometry:K,attributes:S}=G;let T;A.isSome(K)&&(T=u(K,l,y));b.push({attributes:S,geometry:T})}break;case "esriGeometryPolygon":for(v of e){const {geometry:G,attributes:K,centroid:S}=v;let T;A.isSome(G)&&(T=Z(G,l,y));S?(H=t(S),b.push({attributes:K,centroid:H,geometry:T})):
b.push({attributes:K,geometry:T})}break;default:ja.error("convertToFeatureSet:unknown-geometry",new B(`Unable to parse unknown geometry type '${n}'`))}return b}function oa(b,e,n,l,y,v,H=n,G=l){b.lengths.length&&(b.lengths.length=0);b.coords.length&&(b.coords.length=0);if(A.isNone(e)||!e.coords.length)return null;y=pa[y];const {coords:K,lengths:S}=e;e=I(n,l);const T=I(n&&H,l&&G);n=q(n,l,H,G);if(!S.length)return n(b.coords,K,0,0,r(v,K[0]),J(v,K[1])),b.lengths.length&&(b.lengths.length=0),b.coords.length=
e,b;let W,ba=0,aa,ca=0;for(const ha of S){if(ha<y)continue;let ea=0;aa=ca;G=l=r(v,K[ba]);W=H=J(v,K[ba+1]);n(b.coords,K,aa,ba,G,W);ea++;ba+=e;aa+=T;for(let da=1;da<ha;da++,ba+=e)if(G=r(v,K[ba]),W=J(v,K[ba+1]),G!==l||W!==H)n(b.coords,K,aa,ba,G-l,W-H),aa+=T,ea++,l=G,H=W;ea>=y&&(b.lengths.push(ea),ca=aa)}b.coords.length=ca;return b.coords.length?b:null}function qa(b,e,n,l,y,v,H){let G=l,K=0;for(let T=v+n;T<H;T+=n){{var S=e[T];const W=e[T+1],ba=e[H],aa=e[H+1];let ca=e[v],ha=e[v+1],ea=ba-ca,da=aa-ha;if(0!==
ea||0!==da){const ia=((S-ca)*ea+(W-ha)*da)/(ea*ea+da*da);1<ia?(ca=ba,ha=aa):0<ia&&(ca+=ea*ia,ha+=da*ia)}ea=S-ca;da=W-ha;S=ea*ea+da*da}S>G&&(K=T,G=S)}G>l&&(K-v>n&&qa(b,e,n,l,y,v,K),y(b,e,b.length,K,e[K],e[K+1]),H-K>n&&qa(b,e,n,l,y,K,H))}function ra(b,e,n,l,y){const {coords:v,lengths:H}=e,G=n?l?sa:ma:l?ma:ta;n=I(n,l);if(!v.length)return b!==e&&(b.lengths.length=0,b.coords.length=0),b;if(!H.length)return G(b.coords,v,0,0,O(y,v[0]),f(y,v[1])),b!==e&&(b.lengths.length=0,b.coords.length=n),b;const [K,S]=
y.scale;l=0;for(let T=0;T<H.length;T++){const W=H[T];b.lengths[T]=W;let ba=O(y,v[l]),aa=f(y,v[l+1]);G(b.coords,v,l,l,ba,aa);l+=n;for(let ca=1;ca<W;ca++,l+=n)ba+=v[l]*K,aa-=v[l+1]*S,G(b.coords,v,l,l,ba,aa)}b!==e&&(b.lengths.length=H.length,b.coords.length=v.length);return b}function ua(b,e,n,l){let y=0,v=b[l*e],H=b[l*(e+1)];for(let G=1;G<n;G++){const K=v+b[l*(e+G)],S=H+b[l*(e+G)+1],T=(K-v)*(S+H);v=K;H=S;y+=T}return.5*y}const ja=z.getLogger("esri.tasks.support.optimizedFeatureSet"),pa={esriGeometryPoint:0,
esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},ta=(b,e,n,l,y,v)=>{b[n]=y;b[n+1]=v},ma=(b,e,n,l,y,v)=>{b[n]=y;b[n+1]=v;b[n+2]=e[l+2]},va=(b,e,n,l,y,v)=>{b[n]=y;b[n+1]=v;b[n+2]=e[l+3]},sa=(b,e,n,l,y,v)=>{b[n]=y;b[n+1]=v;b[n+2]=e[l+2];b[n+3]=e[l+3]},ka=[],la=[];c.convertFromFeature=function(b,e,n,l,y){ka[0]=b;[b]=X(la,ka,e,n,l,y);ka.length=la.length=0;return b};c.convertFromFeatureSet=function(b,e){const n=new L,{hasM:l,hasZ:y,features:v,objectIdFieldName:H,spatialReference:G,
geometryType:K,exceededTransferLimit:S,transform:T,fields:W}=b;W&&(n.fields=W);n.geometryType=K;n.objectIdFieldName=H||e;n.spatialReference=G;if(!n.objectIdFieldName)return ja.error(new B("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n;v&&X(n.features,v,K,y,l,n.objectIdFieldName);S&&(n.exceededTransferLimit=S);l&&(n.hasM=l);y&&(n.hasZ=y);T&&(n.transform=T);return n};c.convertFromFeatures=X;c.convertFromGeometry=function(b,e,n){if(A.isNone(b))return null;const l=new P;
"hasZ"in b&&null==e&&(e=b.hasZ);"hasM"in b&&null==n&&(n=b.hasM);if(C.isPoint(b))return U(null!=e?e:null!=b.z,null!=n?n:null!=b.m)(l,b);if(C.isPolygon(b))return Q(l,b,e,n);if(C.isPolyline(b))return R(l,b,I(e,n));if(C.isMultipoint(b))return p(l,b,I(e,n));ja.error("convertFromGeometry:unknown-geometry",new B(`Unable to parse unknown geometry type '${b}'`))};c.convertFromGraphics=function(b,e,n,l,y,v){const H=b.length;switch(n){case "esriGeometryPoint":Y(b,e,l,y,v);break;case "esriGeometryMultipoint":g(b,
e,l,y,v);break;case "esriGeometryPolyline":M(b,e,l,y,v);break;case "esriGeometryPolygon":F(b,e,l,y,v);break;default:ja.error("convertToFeatureSet:unknown-geometry",new B(`Unable to parse unknown geometry type '${n}'`))}for(l=0;l<e.length;l++)b[l+H].geometryType=n,b[l+H].insertAfter=e[l].insertAfter,b[l+H].groupId=e[l].groupId;return b};c.convertFromMultipoint=p;c.convertFromMultipointFeatures=g;c.convertFromNestedArray=V;c.convertFromPoint=function(b,e,n=U(null!=e.z,null!=e.m)){return n(b,e)};c.convertFromPointFeatures=
Y;c.convertFromPolygon=Q;c.convertFromPolyline=R;c.convertFromPolylineFeatures=M;c.convertToFeature=function(b,e,n,l){la[0]=b;na(ka,la,e,n,l);b=ka[0];ka.length=la.length=0;return b};c.convertToFeatureSet=function(b){const {objectIdFieldName:e,spatialReference:n,transform:l,fields:y,hasM:v,hasZ:H,features:G,geometryType:K,exceededTransferLimit:S,uniqueIdField:T,queryGeometry:W,queryGeometryType:ba}=b;b=na([],G,K,H,v);const aa=fa(W,ba,!1,!1);b={features:b,fields:y,geometryType:K,objectIdFieldName:e,
spatialReference:n,uniqueIdField:T,queryGeometry:aa};l&&(b.transform=l);S&&(b.exceededTransferLimit=S);v&&(b.hasM=v);H&&(b.hasZ=H);return b};c.convertToFeatures=na;c.convertToGeometry=fa;c.convertToMultipoint=x;c.convertToMultipointFeatures=m;c.convertToPoint=function(b,e,n){return b?e?n?h(b):k(b):n?E(b):t(b):null};c.convertToPolygon=Z;c.convertToPolyline=u;c.deltaDecodeGeometry=function(b,e){if(A.isNone(b))return null;const n=b.clone(),l=b.coords;b=b.lengths;let y=0;for(let G=0;G<b.length;G++){const K=
b[G];var v=l[e*y],H=l[e*y+1];for(let S=1;S<K;S++)v+=l[e*(y+S)],H+=l[e*(y+S)+1],n.coords[e*(y+S)]=v,n.coords[e*(y+S)+1]=H;y+=K}return n};c.deltaEncodeGeometry=function(b,e){const n=b.clone(),l=b.coords;b=b.lengths;let y=0;for(let H=0;H<b.length;H++){const G=b[H];let K=l[e*y];var v=l[e*y+1];for(let S=1;S<G;S++){const T=l[e*(y+S)],W=l[e*(y+S)+1];v=W-v;n.coords[e*(y+S)]=T-K;n.coords[e*(y+S)+1]=v;K=T;v=W}y+=G}return n};c.generalizeOptimizedGeometry=function(b,e,n,l,y,v,H=n,G=l){b.lengths.length&&(b.lengths.length=
0);b.coords.length&&(b.coords.length=0);if(!e||!e.coords.length)return null;y=pa[y];const {coords:K,lengths:S}=e;e=I(n,l);const T=I(n&&H,l&&G);n=q(n,l,H,G);if(!S.length)return n(b.coords,K,0,0,K[0],K[1]),b.lengths.length&&(b.lengths.length=0),b.coords.length=e,b;l=0;v*=v;for(const W of S){if(W<y){l+=W*e;continue}H=b.coords.length/T;G=l;const ba=l+(W-1)*e;n(b.coords,K,b.coords.length,G,K[G],K[G+1]);qa(b.coords,K,e,v,n,G,ba);n(b.coords,K,b.coords.length,ba,K[ba],K[ba+1]);G=b.coords.length/T-H;G>=y?
b.lengths.push(G):b.coords.length=H*T;l+=W*e}return b.coords.length?b:null};c.getBoundsOptimizedGeometry=function(b,e,n,l){if(A.isNone(e)||!e.coords||!e.coords.length)return null;n=I(n,l);let y=l=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,H=Number.NEGATIVE_INFINITY;if(e&&e.coords){e=e.coords;for(let G=0;G<e.length;G+=n){const K=e[G],S=e[G+1];l=Math.min(l,K);v=Math.max(v,K);y=Math.min(y,S);H=Math.max(H,S)}}b[0]=l;b[1]=y;b[2]=v;b[3]=H;return b};c.getQuantizedArea=function(b,e){const {coords:n,
lengths:l}=b;let y=b=0;for(let v=0;v<l.length;v++)y+=ua(n,b,l[v],e),b+=v;return Math.abs(y)};c.getQuantizedBoundsOptimizedGeometry=function(b,e,n,l){n=I(n,l);const {lengths:y,coords:v}=e;l=e=Number.POSITIVE_INFINITY;let H=Number.NEGATIVE_INFINITY,G=Number.NEGATIVE_INFINITY,K=0;for(const S of y){let T=v[K],W=v[K+1];e=Math.min(T,e);l=Math.min(W,l);H=Math.max(T,H);G=Math.max(W,G);K+=n;for(let ba=1;ba<S;ba++,K+=n){const aa=v[K],ca=v[K+1];T+=aa;W+=ca;0>aa&&(e=Math.min(e,T));0<aa&&(H=Math.max(H,T));0>ca?
l=Math.min(l,W):0<ca&&(G=Math.max(G,W))}}b[0]=e;b[1]=l;b[2]=H;b[3]=G;return b};c.getSignedQuantizedRingArea=ua;c.quantizeOptimizedFeatureSet=function(b,e){const {geometryType:n,features:l,hasM:y,hasZ:v}=e;if(!b)return e;for(let H=0;H<l.length;H++){const G=l[H],K=G.weakClone();K.geometry=new P;oa(K.geometry,G.geometry,y,v,n,b);G.centroid&&(K.centroid=new P,oa(K.centroid,G.centroid,y,v,"esriGeometryPoint",b));l[H]=K}e.transform=b;return e};c.quantizeOptimizedGeometry=oa;c.quantizeX=r;c.quantizeY=J;
c.removeCollinearVectices=function(b,e,n,l,y){if(!e||!e.coords||!e.coords.length)return null;n=pa[n];const {coords:v,lengths:H}=e;e=q(l,y,l,y);l=I(l,y);let G=y=0,K=0,S=0;for(const ba of H){G=S;e(b.coords,v,G,y,v[y],v[y+1]);y+=l;var T=v[y];let aa=v[y+1],ca=T,ha=aa;var W=aa/T;G+=l;e(b.coords,v,G,y,ca,ha);y+=l;for(let ea=2;ea<ba;ea++){T=v[y];aa=v[y+1];const da=aa/T,ia=W===da||!isFinite(W)&&!isFinite(da);W=ia&&isFinite(da)?0<=W&&0<=da||0>=W&&0>=da:0<=ha&&0<=aa||0>=ha&&0>=aa;ia&&W?(ca+=T,ha+=aa):(ca=T,
ha=aa,G+=l);e(b.coords,v,G,y,ca,ha);y+=l;W=da}G+=l;T=(G-S)/l;T>=n&&(b.lengths[K]=T,S=G,K++)}b.coords.length>S&&(b.coords.length=S);b.lengths.length>K&&(b.lengths.length=K);return b.coords.length&&b.lengths.length?b:null};c.removeZMValues=function(b,e,n,l,y,v){const H=I(n,l);n=q(n,l,y,v);l=e.coords;b.coords.length=0;b.lengths.length=0;b.lengths.push(...e.lengths);for(e=0;e<l.length;e+=H)n(b.coords,l,b.coords.length,e,l[e],l[e+1]);return b};c.unquantizeOptimizedFeatureSet=function(b){const {transform:e,
features:n,hasM:l,hasZ:y}=b;if(!e)return b;for(const v of n)A.isSome(v.geometry)&&ra(v.geometry,v.geometry,l,y,e),v.centroid&&ra(v.centroid,v.centroid,l,y,e);b.transform=null;return b};c.unquantizeOptimizedGeometry=ra;c.unquantizeX=O;c.unquantizeY=f;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(c,B,z){let A=function(){function N(L=null,P={},I,q){this.geometry=
L;this.attributes=P;this.centroid=I;this.objectId=q;this.geohashY=this.geohashX=this.displayId=0}N.prototype.weakClone=function(){const L=new N(this.geometry,this.attributes,this.centroid,this.objectId);L.displayId=this.displayId;L.geohashX=this.geohashX;L.geohashY=this.geohashY;return L};return N}(),C=function(N){function L(){return N.apply(this,arguments)||this}B._inheritsLoose(L,N);return L}(A);c.OptimizedFeatureWithGeometry=C;c.default=A;c.hasGeometry=function(N){return!(z.isNone(N.geometry)||
!N.geometry.coords||!N.geometry.coords.length)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function c(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=
null}c.prototype.weakClone=function(){const B=new c;B.objectIdFieldName=this.objectIdFieldName;B.globalIdFieldName=this.globalIdFieldName;B.geohashFieldName=this.geohashFieldName;B.geometryProperties=this.geometryProperties;B.geometryType=this.geometryType;B.spatialReference=this.spatialReference;B.hasZ=this.hasZ;B.hasM=this.hasM;B.features=this.features;B.fields=this.fields;B.transform=this.transform;B.exceededTransferLimit=this.exceededTransferLimit;B.uniqueIdField=this.uniqueIdField;B.queryGeometry=
this.queryGeometry;B.queryGeometryType=this.queryGeometryType;return B};return c}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(c){return function(){function B(A=[],C=[],N=!1){this.lengths=null!=A?A:[];this.coords=null!=C?C:[];this.hasIndeterminateRingOrder=N}var z=B.prototype;z.forEachVertex=function(A){let C=0;this.lengths.length||A(this.coords[0],this.coords[1]);for(let N=0;N<this.lengths.length;N++){const L=this.lengths[N];
for(let P=0;P<L;P++)A(this.coords[2*(P+C)],this.coords[2*(P+C)+1]);C+=L}};z.clone=function(A){return A?(A.set(this.coords),new B(this.lengths.slice(),A,this.hasIndeterminateRingOrder)):new B(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};c._createClass(B,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((A,C)=>A+C)}}]);return B}()})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports",
"./pbfFeatureServiceParser"],function(c,B){c.parsePBFFeatureQuery=function(z,A){var C=B.parseFeatureQuery(z,A);z=C.queryResult.featureResult;A=C.queryResult.queryGeometry;C=C.queryResult.queryGeometryType;if(z&&z.features&&z.features.length&&z.objectIdFieldName){const N=z.objectIdFieldName;for(const L of z.features)L.attributes&&(L.objectId=L.attributes[N])}z&&(z.queryGeometry=A,z.queryGeometryType=C);return z};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),
function(c,B,z,A,C,N){function L(m){return m>=D.length?null:D[m]}function P(m,x,g){for(g=x.createPointGeometry(g);m.next();)switch(m.tag()){case 3:{var p=m.getUInt32();p=m.pos()+p;let u=0;for(;m.pos()<p;)x.addCoordinatePoint(g,m.getSInt64(),u++);break}default:m.skip()}return g}function I(m,x,g){const p=x.createGeometry(g);for(g=2+(g.hasZ?1:0)+(g.hasM?1:0);m.next();)switch(m.tag()){case 2:var u=m.getUInt32();u=m.pos()+u;for(var M=0;m.pos()<u;)x.addLength(p,m.getUInt32(),M++);break;case 3:u=m.getUInt32();
u=m.pos()+u;M=0;for(x.allocateCoordinates(p);m.pos()<u;)x.addCoordinate(p,m.getSInt64(),M),M++,M===g&&(M=0);break;default:m.skip()}return p}function q(m){const x=new C;let g="esriGeometryPoint";for(;m.next();)switch(m.tag()){case 2:var p=m.getUInt32();for(p=m.pos()+p;m.pos()<p;)x.lengths.push(m.getUInt32());break;case 3:p=m.getUInt32();for(p=m.pos()+p;m.pos()<p;)x.coords.push(m.getSInt64());break;case 1:g=N.OPTIMIZED_GEOMETRY_TYPES[m.getEnum()];break;default:m.skip()}return{queryGeometry:x,queryGeometryType:g}}
function r(m){for(;m.next();)switch(m.tag()){case 1:return m.getString();case 2:return m.getFloat();case 3:return m.getDouble();case 4:return m.getSInt32();case 5:return m.getUInt32();case 6:return m.getInt64();case 7:return m.getUInt64();case 8:return m.getSInt64();case 9:return m.getBool();default:return m.skip(),null}return null}function J(m){const x={type:L(0)};for(;m.next();)switch(m.tag()){case 1:x.name=m.getString();break;case 2:x.type=L(m.getEnum());break;case 3:x.alias=m.getString();break;
case 4:var g=m.getEnum();g=g>=U.length?null:U[g];x.sqlType=g;break;case 5:m.skip();break;case 6:x.defaultValue=m.getString();break;default:m.skip()}return x}function O(m){const x={};for(;m.next();)switch(m.tag()){case 1:x.name=m.getString();break;case 2:x.isSystemMaintained=m.getBool();break;default:m.skip()}return x}function f(m,x,g,p){const u=x.createFeature(g);let M=0;for(;m.next();)switch(m.tag()){case 1:{const R=p[M++].name;u.attributes[R]=m.processMessage(r);break}case 2:u.geometry=m.processMessageWithArgs(I,
x,g);break;case 4:u.centroid=m.processMessageWithArgs(P,x,g);break;default:m.skip()}return u}function t(m){const x=[1,1,1,1];for(;m.next();)switch(m.tag()){case 1:x[0]=m.getDouble();break;case 2:x[1]=m.getDouble();break;case 4:x[2]=m.getDouble();break;case 3:x[3]=m.getDouble();break;default:m.skip()}return x}function a(m){const x=[0,0,0,0];for(;m.next();)switch(m.tag()){case 1:x[0]=m.getDouble();break;case 2:x[1]=m.getDouble();break;case 4:x[2]=m.getDouble();break;case 3:x[3]=m.getDouble();break;
default:m.skip()}return x}function k(m){const x={originPosition:0>=Y.length?null:Y[0]};for(;m.next();)switch(m.tag()){case 1:var g=m.getEnum();x.originPosition=g>=Y.length?null:Y[g];break;case 2:x.scale=m.processMessage(t);break;case 3:x.translate=m.processMessage(a);break;default:m.skip()}return x}function w(m){const x={};for(;m.next();)switch(m.tag()){case 1:x.shapeAreaFieldName=m.getString();break;case 2:x.shapeLengthFieldName=m.getString();break;case 3:x.units=m.getString();break;default:m.skip()}return x}
function E(m,x){for(x=x.createSpatialReference();m.next();)switch(m.tag()){case 1:x.wkid=m.getUInt32();break;case 5:x.wkt=m.getString();break;case 2:x.latestWkid=m.getUInt32();break;case 3:x.vcsWkid=m.getUInt32();break;case 4:x.latestVcsWkid=m.getUInt32();break;default:m.skip()}return x}function d(m,x){const g=x.createFeatureResult();g.geometryType=0>=x.geometryTypes.length?null:x.geometryTypes[0];let p=!1;for(;m.next();)switch(m.tag()){case 1:g.objectIdFieldName=m.getString();break;case 3:g.globalIdFieldName=
m.getString();break;case 4:g.geohashFieldName=m.getString();break;case 5:g.geometryProperties=m.processMessage(w);break;case 7:var u=m.getEnum();g.geometryType=u>=x.geometryTypes.length?null:x.geometryTypes[u];break;case 8:g.spatialReference=m.processMessageWithArgs(E,x);break;case 10:g.hasZ=m.getBool();break;case 11:g.hasM=m.getBool();break;case 12:g.transform=m.processMessage(k);break;case 9:u=m.getBool();g.exceededTransferLimit=u;break;case 13:x.addField(g,m.processMessage(J));break;case 15:p||
(x.prepareFeatures(g),p=!0);x.addFeature(g,m.processMessageWithArgs(f,x,g,g.fields));break;case 2:g.uniqueIdField=m.processMessage(O);break;default:m.skip()}x.finishFeatureResult(g);return g}function h(m,x){const g={};let p=null;for(;m.next();)switch(m.tag()){case 4:p=m.processMessageWithArgs(q);break;case 1:g.featureResult=m.processMessageWithArgs(d,x);break;default:m.skip()}z.isSome(p)&&g.featureResult&&x.addQueryGeometry(g,p);return g}const D="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),
U="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),Y=["upperLeft","lowerLeft"];c.parseFeatureQuery=function(m,x){try{const g=new A(new Uint8Array(m),new DataView(m));
for(m={};g.next();)switch(g.tag()){case 2:m.queryResult=g.processMessageWithArgs(h,x);break;default:g.skip()}return m}catch(g){throw new B("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:g});}};c.parseFieldType=L;c.parseTransform=k;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(c,B,z,A,C,N){const L=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let P=function(){function I(r){this.options=r;this.geometryTypes=L;this._vertexDimension=this._coordinatePtr=0}var q=I.prototype;q.createFeatureResult=function(){return new C};q.prepareFeatures=function(r){this._vertexDimension=2;r.hasZ&&this._vertexDimension++;r.hasM&&this._vertexDimension++};q.finishFeatureResult=function(r){if(r&&r.features&&r.hasZ&&this.options.sourceSpatialReference&&
r.spatialReference&&!z.equals(r.spatialReference,this.options.sourceSpatialReference)&&!r.spatialReference.vcsWkid){var J=B.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),O=B.getMetersPerVerticalUnitForSR(r.spatialReference);J/=O;if(1!==J)for(const f of r.features)if(A.hasGeometry(f))for(r=f.geometry.coords,O=2;O<r.length;O+=3)r[O]*=J}};q.addFeature=function(r,J){r.features.push(J)};q.createFeature=function(){return new A.default};q.createSpatialReference=function(){return{wkid:0}};
q.createGeometry=function(){return new N};q.addField=function(r,J){r.fields.push(J)};q.allocateCoordinates=function(r){r.coords.length=r.lengths.reduce((J,O)=>J+O,0)*this._vertexDimension;this._coordinatePtr=0};q.addCoordinate=function(r,J){r.coords[this._coordinatePtr++]=J};q.addCoordinatePoint=function(r,J){r.coords.push(J)};q.addLength=function(r,J){r.lengths.push(J)};q.addQueryGeometry=function(r,J){r.queryGeometry=J.queryGeometry;r.queryGeometryType=J.queryGeometryType};q.createPointGeometry=
function(){return new N};return I}();c.OPTIMIZED_GEOMETRY_TYPES=L;c.OptimizedFeatureSetParserContext=P;Object.defineProperty(c,"__esModule",{value:!0})})},"*noref":1}});
define(["../../../rest/query/operations/pbfDehydratedFeatureSet","../../../rest/query/operations/pbfQueryUtils"],function(c,B){let z=function(){function A(){}A.prototype._parseFeatureQuery=function(C){C=B.parsePBFFeatureQuery(C.buffer,new c.DehydratedFeatureSetParserContext(C.options));C={...C,spatialReference:C.spatialReference.toJSON(),fields:C.fields?C.fields.map(N=>N.toJSON()):void 0};return Promise.resolve(C)};return A}();return function(){return new z}});