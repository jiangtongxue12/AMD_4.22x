// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/maybe ../../../../chunks/mat4f64 ../../../../chunks/vec3f64 ../../../../geometry/projection ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/coordsUtils ../../../../layers/graphics/dehydratedFeatures ./elevationAlignmentUtils ./graphicUtils ../../webgl-engine/lib/Object3D".split(" "),function(h,u,v,w,m,x,q,r,t,y,z){const f=w.create();h.createStageObjectForHUD=function(a,b,d,n,p,c,e,g){const k=d?d.length:0;var l=a.clippingExtent;m.projectPointToVector(b,
f,a.elevationProvider.spatialReference);if(u.isSome(l)&&!x.containsPoint(l,f))return null;m.projectPointToVector(b,f,a.renderCoordsHelper.spatialReference);l=a.localOriginFactory.getOrigin(f);c=new z.Object3D({castShadow:!1,metadata:{layerUid:c,graphicUid:e,usesVerticalDistanceToGround:!0}});for(e=0;e<k;e++)c.addGeometry(d[e],n[e],v.IDENTITY,l,g);a=t.applyElevationAlignmentForHUD(c,b,a.elevationProvider,a.renderCoordsHelper,p);return{object:c,sampledElevation:a}};h.extendPointGraphicElevationContext=
function(a,b,d){a=a.elevationContext;d=d.spatialReference;m.projectPointToVector(b,f,d);a.centerPointInElevationSR=r.makeDehydratedPoint(f[0],f[1],b.hasZ?f[2]:0,d)};h.geometryToRenderInfo=function(a,b,d,n,p){const c=new Float64Array(3*a.length),e=new Float64Array(c.length);a.forEach((g,k)=>{c[3*k]=g[0];c[3*k+1]=g[1];c[3*k+2]=2<g.length?g[2]:0});b=t.applyPerVertexElevationAlignment(c,b,0,e,0,c,0,c.length/3,d,n,p);return{numVertices:a.length,position:c,mapPosition:e,projectionSuccess:null!=b,sampledElevation:b}};
h.placePointOnGeometry=function(a){switch(a.type){case "point":return a;case "polygon":case "extent":return y.computeCentroid(a);case "polyline":var b=a.paths[0];if(!b||0===b.length)break;b=q.getPointOnPath(b,q.getPathLength(b)/2);return r.makeDehydratedPoint(b[0],b[1],b[2],a.spatialReference);case "mesh":return a.origin}return null};Object.defineProperty(h,"__esModule",{value:!0})});