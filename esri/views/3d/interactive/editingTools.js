// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/3d/interactive/editingTools/draw/DrawGraphicTool3D":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/watchUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../support/elevationInfoUtils ../../../../../symbols/support/ElevationInfo ../../SnappingVisualizer3D ../settings ../../visualElements/OutlineVisualElement ../../visualElements/VerticesVisualElement ../../../layers/graphics/GraphicState ../../../../draw/DrawGraphicTool ../../../../draw/DrawOperation ../../../../draw/drawSurfaces".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D){y.DrawGraphicTool3D=function(O){function S(da){da=O.call(this,da)||this;da._activeVertexVisualElement=null;da._createGraphicState=null;da._outlineVisualElement=null;da._verticesVisualElement=null;da.geometryType=null;da.type="draw-3d";return da}aa._inheritsLoose(S,O);var V=S.prototype;V.initialize=function(){const {mode:da,offset:R}=this.elevationInfo;this.internalGraphicsLayer.elevationInfo=new N({mode:da,offset:R})};V.normalizeCtorArgs=function(da){if(!da.elevationInfo){var R;
const ba=null!=(R=da.hasZ)?R:!0;return{...da,elevationInfo:{mode:ba?"absolute-height":"on-the-ground",offset:0}}}return da};V.initializeGraphic=function(da){this._createGraphicState=new w.GraphicState({graphic:da});return Y.handlesGroup([this.view.maskOccludee(da),this.view.trackGraphicState(this._createGraphicState),A.init(this._createGraphicState,"isDraped",R=>{Q.isSome(this._outlineVisualElement)&&(this._outlineVisualElement.isDraped=R)})])};V.makeDrawOperation=function(){return new T.DrawOperation({view:this.view,
manipulators:this.manipulators,geometryType:J.geometryTypeToDrawOperationGeometryType(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new D.SceneDrawSurface(this.view,this.elevationInfo,[this.internalGraphicsLayer]),elevationDrawSurface:new D.ElevationDrawSurface(this.elevationInfo,this.defaultZ,this.view,this.internalGraphicsLayer),hasM:!1,elevationInfo:this.elevationInfo,snappingManager:this.snappingManager,snappingVisualizer:new B.SnappingVisualizer3D})};
V.onActiveVertexChanged=function(da){if(Q.isSome(this._activeVertexVisualElement))return this._activeVertexVisualElement.vertices=[da],null;this._activeVertexVisualElement=new I.VerticesVisualElement({view:this.view,spatialReference:this.view.spatialReference,vertices:[da],elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:H.settings.reshapeManipulators.vertex.renderOccluded,attached:!1});this._activeVertexVisualElement.color=H.settings.colorToVec4(H.settings.reshapeManipulators.selected.color);
this._activeVertexVisualElement.attached=!0;return Y.makeHandle(()=>{this._activeVertexVisualElement=Q.destroyMaybe(this._activeVertexVisualElement)})};V.onOutlineChanged=function(da){if(Q.isSome(this._outlineVisualElement))return this._outlineVisualElement.geometry=da,null;const R=this.internalGraphicsLayer.elevationInfo;this._outlineVisualElement=new E.OutlineVisualElement({view:this.view,geometry:da,elevationInfo:R,isDraped:Q.isSome(this._createGraphicState)?this._createGraphicState.isDraped:"on-the-ground"===
P.getEffectiveElevationMode(this.hasZ,R),attached:!1});H.settings.visualElements.lineGraphics.outline.apply(this._outlineVisualElement);H.settings.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement);this._outlineVisualElement.attached=!0;this._outlineVisualElement.laserlineEnabled=!0;return Y.makeHandle(()=>{this._outlineVisualElement=Q.destroyMaybe(this._outlineVisualElement)})};V.onRegularVerticesChanged=function(da){if(Q.isSome(this._verticesVisualElement))return this._verticesVisualElement.vertices=
da,null;this._verticesVisualElement=new I.VerticesVisualElement({view:this.view,spatialReference:this.view.spatialReference,vertices:da,elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:H.settings.reshapeManipulators.vertex.renderOccluded,attached:!1});this._verticesVisualElement.attached=!0;return Y.makeHandle(()=>{this._verticesVisualElement=Q.destroyMaybe(this._verticesVisualElement)})};return S}(J.DrawGraphicTool);K.__decorate([G.property({constructOnly:!0})],y.DrawGraphicTool3D.prototype,
"elevationInfo",void 0);K.__decorate([G.property({constructOnly:!0})],y.DrawGraphicTool3D.prototype,"geometryType",void 0);K.__decorate([G.property({readOnly:!0})],y.DrawGraphicTool3D.prototype,"type",void 0);K.__decorate([G.property({constructOnly:!0,nonNullable:!0})],y.DrawGraphicTool3D.prototype,"view",void 0);y.DrawGraphicTool3D=K.__decorate([F.subclass("esri.views.3d.interactive.editingTools.draw.DrawGraphicTool3D")],y.DrawGraphicTool3D);Object.defineProperty(y,"__esModule",{value:!0})})},"esri/support/elevationInfoUtils":function(){define(["exports",
"../core/maybe","../symbols/support/unitConversionUtils"],function(y,aa,K){function Y(C,F){return aa.isNone(F)||!F.mode?C?"absolute-height":"on-the-ground":F.mode}function Q(C,F){return Y(aa.isSome(C)?C.hasZ:!1,F)}function A(C){const F=G(C);return Q(C.geometry,F)}function G(C){return C.layer&&"elevationInfo"in C.layer?C.layer.elevationInfo:null}function z(C,F,P,N,B,H,E=null){if(!aa.isNone(H)){var I=aa.isSome(E)?E.mode:"absolute-height";if("on-the-ground"===I)return 0;a:{H=x(F,P,N,B,C,H);E=aa.isSome(E)&&
aa.isSome(E.offset)?E.offset:0;switch(I){case "absolute-height":C=H-E;break a;case "relative-to-ground":C=H-(aa.unwrapOr(C.elevationProvider.getElevation(F,P,N,B,"ground"),0)+E);break a;case "relative-to-scene":C=H-(aa.unwrapOr(C.elevationProvider.getElevation(F,P,N,B,"scene"),0)+E);break a}C=void 0}return C}}function x(C,F,P,N,B,H){const E=aa.isSome(H.offset)?H.offset:0;switch(H.mode){case "absolute-height":return P+E;case "on-the-ground":return aa.unwrapOr(B.elevationProvider.getElevation(C,F,0,
N,"ground"),0);case "relative-to-ground":return P+aa.unwrapOr(B.elevationProvider.getElevation(C,F,P,N,"ground"),0)+E;case "relative-to-scene":return P+aa.unwrapOr(B.elevationProvider.getElevation(C,F,P,N,"scene"),0)+E}}y.getConvertedElevation=function(C,F,P,N=null){return z(C,F.x,F.y,F.hasZ?F.z:0,F.spatialReference,P,N)};y.getConvertedElevationFromVector=function(C,F,P,N,B=null){return z(C,F[0],F[1],2<F.length?F[2]:0,P,N,B)};y.getEffectiveElevationMode=Y;y.getGeometryEffectiveElevationMode=Q;y.getGraphicEffectiveElevationInfo=
function(C){var F=G(C);C=Q(C.geometry,F);F=aa.isSome(F)&&"on-the-ground"!==C?aa.unwrapOr(F.offset,0)*K.getMetersPerUnit(aa.unwrapOr(F.unit,"meters")):0;return{mode:C,offset:F}};y.getGraphicEffectiveElevationMode=A;y.getZForElevationMode=function(C,F,P){if(!aa.isNone(P)&&P.mode){var N=C.hasZ?C.z:0,B=aa.isSome(P.offset)?P.offset:0;switch(P.mode){case "absolute-height":return N-B;case "on-the-ground":return 0;case "relative-to-ground":return C=aa.unwrapOr(F.elevationProvider.getElevation(C.x,C.y,C.z,
C.spatialReference,"ground"),0)+B,N-C;case "relative-to-scene":return C=aa.unwrapOr(F.elevationProvider.getElevation(C.x,C.y,C.z,C.spatialReference,"scene"),0)+B,N-C}}};y.hasGraphicFeatureExpressionInfo=function(C){if("on-the-ground"===A(C))return!1;C=G(C);C=aa.isSome(C)&&C.featureExpressionInfo?C.featureExpressionInfo.expression:null;return!(!C||"0"===C)};y.zValueInAbsoluteHeightMode=x;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/SnappingVisualizer3D":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../Color ../../../core/has ../../../core/handleUtils ../../../chunks/vec3 ../../../chunks/vec3f64 ./visualElements/ExtendedLineVisualElement ./visualElements/ParallelLineVisualElement ./visualElements/PointVisualElement ./visualElements/RightAngleQuadVisualElement ../../interactive/snapping/Settings ../../interactive/snapping/snappingUtils ../../interactive/snapping/SnappingVisualizer".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B){Y=function(H){function E(){return H.apply(this,arguments)||this}aa._inheritsLoose(E,H);var I=E.prototype;I.visualizeIntersectionPoint=function(w,J){const {coordinateHelper:T,elevationInfo:D,view:O}=J;return Q.destroyHandle(new C.PointVisualElement({view:O,primitive:"circle",geometry:T.vectorToPoint(w.intersectionPoint),elevationInfo:D,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:K.toUnitRGBA(P.defaults.orange),pixelSnappingEnabled:!1}))};I.visualizePoint=
function(w,J){const {coordinateHelper:T,elevationInfo:D,view:O}=J;return Q.destroyHandle(new C.PointVisualElement({view:O,primitive:"circle",geometry:T.vectorToPoint(w.point),elevationInfo:D,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:K.toUnitRGBA(P.defaults.orange),pixelSnappingEnabled:!1}))};I.visualizeLine=function(w,J){const {coordinateHelper:T,elevationInfo:D,view:O}=J;return Q.destroyHandle(this.createLineSegmentHintFromMap(w.type,w.lineStart,w.lineEnd,T,D,O,w.fadeLeft,w.fadeRight))};
I.visualizeParallelSign=function(w,J){const {coordinateHelper:T,elevationInfo:D,view:O}=J,S=N.anyMapPointToRender(w.lineStart,T,D,J.view);w=N.anyMapPointToRender(w.lineEnd,T,D,J.view);w=A.lerp(w,S,w,.5);J=new x.ParallelLineVisualElement({view:O,attached:!1,offset:P.defaults.parallelLineHintOffset,length:P.defaults.parallelLineHintLength,width:P.defaults.parallelLineHintWidth,color:K.toUnitRGBA(P.defaults.orange),location:w,renderOccluded:16});J.setDirectionFromPoints(S,w);J.attached=!0;return Q.destroyHandle(J)};
I.visualizeRightAngleQuad=function(w,J){const {coordinateHelper:T,elevationInfo:D,view:O}=J;return Q.destroyHandle(new F.RightAngleQuadVisualElement({view:O,attached:!0,color:K.toUnitRGBA(P.defaults.orange),renderOccluded:2,outlineRenderOccluded:16,outlineColor:K.toUnitRGBA(P.defaults.orange),outlineSize:P.defaults.rightAngleHintOutlineSize,size:P.defaults.rightAngleHintSize,geometry:{previous:N.anyMapPointToRender(w.previousVertex,T,D,O),center:N.anyMapPointToRender(w.centerVertex,T,D,O),next:N.anyMapPointToRender(w.nextVertex,
T,D,O)}}))};I.createLineSegmentHintFromMap=function(w,J,T,D,O,S,V=!0,da=!0){const R=G.create(),ba=G.create();N.anyMapPointsToRenderWithEqualZ(J,T,D,O,S,R,ba);return this.createLineSegmentHint(w,S,R,ba,V,da)};I.createLineSegmentHint=function(w,J,T,D,O=!0,S=!0){J=new z.ExtendedLineVisualElement({view:J,extensionType:3,start:T,end:D,color:K.toUnitRGBA(P.defaults.orange),renderOccluded:16});switch(w){case 0:J.width=P.defaults.lineHintWidthTarget;J.fadedExtensions={start:0,end:P.defaults.lineHintFadedExtensions};
break;case 2:J.width=P.defaults.lineHintWidthReference;J.fadedExtensions={start:0,end:0};break;case 1:J.width=P.defaults.lineHintWidthReference,J.fadedExtensions={start:O?P.defaults.lineHintFadedExtensions:0,end:S?P.defaults.lineHintFadedExtensions:0}}J.attached=!0;return J};return E}(B.SnappingVisualizer);y.SnappingVisualizer3D=Y;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/ExtendedLineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/Handles ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ../../../../geometry/support/clipRay ../../../../geometry/support/frustum ../../../../geometry/support/lineSegment ../../../../geometry/support/ray ./LaserlineVisualElement ./Object3DVisualElement ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/RibbonLineMaterial".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I){K=function(S){function V(R){var ba=S.call(this,R)||this;ba._ray=N.create();ba._externalResources=null;ba._handles=new Y;ba._isWorldDown=!1;ba._start=G.create();ba._end=G.fromValues(1,0,0);ba._width=1;ba._color=x.fromValues(1,0,1,1);ba._polygonOffset=!1;ba._writeDepthEnabled=!0;ba._innerWidth=0;ba._innerColor=x.fromValues(1,1,1,1);ba._stipplePattern=null;ba._stippleOffColor=null;ba._stipplePreferContinuous=!0;ba._falloff=0;ba._extensionType=0;ba._laserlineStyle=
null;ba._laserlineEnabled=!1;ba._renderOccluded=4;ba._fadedExtensions=O;ba.applyProps(R);return ba}aa._inheritsLoose(V,S);var da=V.prototype;da.createExternalResources=function(){const R=new I.RibbonLineMaterial(this.materialParameters);this._handles.add(this.view.state.watch("camera",()=>{this.updateGeometry()}));const ba=new B.LaserlineVisualElement({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:R,laserline:ba}};da.destroyExternalResources=function(){Q.isSome(this._externalResources)&&
this._externalResources.laserline.destroy();this._externalResources=null;this._handles.removeAll()};da.forEachExternalMaterial=function(R){Q.isSome(this._externalResources)&&R(this._externalResources.material)};da.createGeometries=function(R){var ba=[G.create(),G.create()],ea=3===this.extensionType;ea&&ba.push(G.create(),G.create());ea=ea?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null;ba=E.createPolylineGeometry(ba,null,ea);R.addGeometry(ba,Q.unwrap(this._externalResources).material);this.updateVertices(R)};
da.updateVisibility=function(R){S.prototype.updateVisibility.call(this,R);Q.isSome(this._externalResources)&&(this._externalResources.laserline.visible=R)};da.setStartEndFromWorldDownAtLocation=function(R){this._isWorldDown=!0;A.copy(this._start,R);this.view.renderCoordsHelper.worldUpAtPosition(R,this._end);A.subtract(this._end,R,this._end);N.fromPoints(this._start,this._end,this._ray);this.updateGeometry()};da.updateMaterial=function(){Q.isNone(this._externalResources)||this._externalResources.material.setParameters(this.materialParameters)};
da.updateGeometry=function(){Q.isSome(this.object)&&this.updateVertices(this.object)};da.updateVertices=function(R){const ba=3===this._extensionType?this.updateLineSegmentFinite(D):this.updateLineSegmentInfinite(this._extensionType,D);this.updateVertexAttributes(R,ba);Q.isSome(this._externalResources)&&(this._externalResources.laserline.intersectsLine=ba)};da.updateLineSegmentFinite=function(R){return P.fromPoints(this._start,this._end,R)};da.updateLineSegmentInfinite=function(R,ba){var ea=this.view.state.camera;
C.fromRay(this._ray,w);switch(R){case 0:w.c0=-Number.MAX_VALUE;break;case 1:case 2:var la=this._ray.origin;R=Q.unwrapOr(this.view.elevationProvider.getElevation(la[0],la[1],la[2],this.view.renderCoordsHelper.spatialReference,"ground"),0);la=this.view.renderCoordsHelper.getAltitude(la);this._isWorldDown&&la<R&&A.negate(w.ray.direction,w.ray.direction);2===this._extensionType&&null!=R&&(w.c1=Math.abs(la-R))}if(!F.intersectClipRay(ea.frustum,w))return P.fromPoints(this._start,this._end,ba);ea=C.getStart(w,
J);R=C.getEnd(w,T);return P.fromPoints(ea,R,ba)};da.updateVertexAttributes=function(R,ba){const ea=R.geometries[0].getMutableAttribute("position").data;if(3===this.extensionType){var la=P.pointAt(ba,-this.fadedExtensions.start,J);ea[0]=la[0];ea[1]=la[1];ea[2]=la[2];la=P.pointAt(ba,0,J);ea[3]=la[0];ea[4]=la[1];ea[5]=la[2];la=P.pointAt(ba,1,J);ea[6]=la[0];ea[7]=la[1];ea[8]=la[2];ba=P.pointAt(ba,1+this.fadedExtensions.end,J);ea[9]=ba[0];ea[10]=ba[1];ea[11]=ba[2]}else la=P.pointAt(ba,0,J),ea[0]=la[0],
ea[1]=la[1],ea[2]=la[2],ba=P.pointAt(ba,1,J),ea[3]=ba[0],ea[4]=ba[1],ea[5]=ba[2];R.geometryVertexAttrsUpdated(R.geometryRecords[0])};aa._createClass(V,[{key:"start",get:function(){return this._start},set:function(R){this._isWorldDown=!1;A.exactEquals(this._start,R)||(A.copy(this._start,R),N.fromPoints(this._start,this._end,this._ray),this.updateGeometry())}},{key:"end",get:function(){return this._end},set:function(R){this._isWorldDown=!1;A.exactEquals(this._end,R)||(A.copy(this._end,R),N.fromPoints(this._start,
this._end,this._ray),this.updateGeometry())}},{key:"width",get:function(){return this._width},set:function(R){R!==this._width&&(this._width=R,this.updateMaterial())}},{key:"color",get:function(){return this._color},set:function(R){z.exactEquals(R,this._color)||(z.copy(this._color,R),this.updateMaterial())}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(R){R!==this._polygonOffset&&(this._polygonOffset=R,this.updateMaterial())}},{key:"writeDepthEnabled",get:function(){return this._writeDepthEnabled},
set:function(R){this._writeDepthEnabled!==R&&(this._writeDepthEnabled=R,this.updateMaterial())}},{key:"innerWidth",get:function(){return this._innerWidth},set:function(R){R!==this._innerWidth&&(this._innerWidth=R,this.updateMaterial())}},{key:"innerColor",get:function(){return this._innerColor},set:function(R){z.exactEquals(R,this._innerColor)||(z.copy(this._innerColor,R),this.updateMaterial())}},{key:"stipplePattern",get:function(){return this._stipplePattern},set:function(R){const ba=Q.isSome(R)!==
Q.isSome(this._stipplePattern);this._stipplePattern=R;ba?this.recreate():this.updateMaterial()}},{key:"stippleOffColor",get:function(){return this._stippleOffColor},set:function(R){if(Q.isNone(R)||Q.isNone(this._stippleOffColor)||!z.exactEquals(R,this._stippleOffColor))this._stippleOffColor=Q.isSome(R)?x.clone(R):null,this.updateMaterial()}},{key:"stipplePreferContinuous",get:function(){return this._stipplePreferContinuous},set:function(R){R!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=
R,this.updateMaterial())}},{key:"falloff",get:function(){return this._falloff},set:function(R){R!==this._falloff&&(this._falloff=R,this.updateMaterial())}},{key:"extensionType",get:function(){return this._extensionType},set:function(R){R!==this._extensionType&&(this._extensionType=R,this.updateGeometry())}},{key:"_laserlineAttached",get:function(){return this._laserlineEnabled&&Q.isSome(this._laserlineStyle)}},{key:"laserlineStyle",get:function(){return this._laserlineStyle},set:function(R){this._laserlineStyle=
R;Q.isSome(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,Q.isSome(R)&&(this._externalResources.laserline.style=R))}},{key:"laserlineEnabled",get:function(){return this._laserlineEnabled},set:function(R){this._laserlineEnabled!==R&&(this._laserlineEnabled=R,Q.isSome(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(R){R!==this._renderOccluded&&
(this._renderOccluded=R,this.updateMaterial())}},{key:"fadedExtensions",get:function(){return this._fadedExtensions},set:function(R){this._fadedExtensions=Q.unwrapOr(R,O);this.recreateGeometry()}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,polygonOffset:this._polygonOffset,
renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}}]);return V}(H.Object3DVisualElement);const w=C.create(),J=G.create(),T=G.create(),D=P.create();H=1/3;const O={start:H,end:H};y.ExtendedLineVisualElement=K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/LaserlineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/support/lineSegment ./VisualElement ../../support/LaserLineRenderer ../../../../chunks/Laserlines.glsl".split(" "),
function(y,aa,K,Y,Q,A,G,z,x){G=function(F){function P(B){var H=F.call(this,B.view)||this;H._angleCutoff=x.defaultAngleCutoff;H._style={};H._heightManifoldTarget=Q.create();H._heightManifoldEnabled=!1;H._intersectsLine=A.create();H._intersectsLineEnabled=!1;H._intersectsLineInfinite=!1;H._lineVerticalPlaneSegment=null;H._pathVerticalPlaneBuffers=null;H._pointDistanceLine=null;H.applyProps(B);return H}aa._inheritsLoose(P,F);var N=P.prototype;N.createResources=function(){this.ensureRenderer()};N.destroyResources=
function(){this.disposeRenderer()};N.updateVisibility=function(){this.syncHeightManifold();this.syncIntersectsLine();this.syncPathVerticalPlane();this.syncLineVerticalPlane();this.syncPointDistance()};N.syncRenderer=function(){this.attached&&(this._intersectsLineEnabled||this._heightManifoldEnabled||K.isSome(this._pointDistanceLine)||K.isSome(this._pathVerticalPlaneBuffers))?this.ensureRenderer():this.disposeRenderer()};N.ensureRenderer=function(){K.isSome(this.renderer)||(this.renderer=new z.LaserLineRenderer(this.view.renderCoordsHelper,
void 0,{contrastControlEnabled:!0}),this.syncStyle(),this.syncHeightManifold(),this.syncIntersectsLine(),this.syncIntersectsLineInfinite(),this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance(),this.syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this.renderer.renderSlots,this.renderer))};N.syncStyle=function(){K.isNone(this.renderer)||(this.renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this.renderer.intersectsLineRadius=
this._style.intersectsLineRadius))};N.syncAngleCutoff=function(){K.isNone(this.renderer)||this.renderer.setParameters({angleCutoff:this._angleCutoff})};N.syncHeightManifold=function(){K.isNone(this.renderer)||(this.renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this.renderer.heightManifoldTarget=this._heightManifoldTarget))};N.syncIntersectsLine=function(){K.isNone(this.renderer)||(this.renderer.intersectsLineEnabled=this._intersectsLineEnabled&&
this.visible,this._intersectsLineEnabled&&(this.renderer.intersectsLineSegment=this._intersectsLine))};N.syncIntersectsLineInfinite=function(){K.isNone(this.renderer)||(this.renderer.intersectsLineInfinite=this._intersectsLineInfinite)};N.syncPathVerticalPlane=function(){K.isNone(this.renderer)||(this.renderer.pathVerticalPlaneEnabled=K.isSome(this._pathVerticalPlaneBuffers)&&this.visible,K.isSome(this._pathVerticalPlaneBuffers)&&(this.renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))};
N.syncLineVerticalPlane=function(){K.isNone(this.renderer)||(this.renderer.lineVerticalPlaneEnabled=K.isSome(this._lineVerticalPlaneSegment)&&this.visible,K.isSome(this._lineVerticalPlaneSegment)&&(this.renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))};N.syncPointDistance=function(){K.isNone(this.renderer)||(this.renderer.pointDistanceEnabled=K.isSome(this._pointDistanceLine)&&this.visible,K.isSome(this._pointDistanceLine)&&(this.renderer.pointDistanceOrigin=this._pointDistanceLine.origin,
this.renderer.pointDistanceTarget=this._pointDistanceLine.target))};N.disposeRenderer=function(){K.isSome(this.renderer)&&this.view._stage&&(this.view._stage.removeRenderPlugin(this.renderer),this.renderer=null)};aa._createClass(P,[{key:"testData",get:function(){return this.renderer}},{key:"angleCutoff",get:function(){return this._angleCutoff},set:function(B){this._angleCutoff!==B&&(this._angleCutoff=B,this.syncAngleCutoff())}},{key:"style",get:function(){return this._style},set:function(B){this._style=
B;this.syncStyle()}},{key:"heightManifoldTarget",get:function(){return this._heightManifoldEnabled?this._heightManifoldTarget:null},set:function(B){K.isSome(B)?(Y.copy(this._heightManifoldTarget,B),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1;this.syncRenderer();this.syncHeightManifold()}},{key:"intersectsWorldUpAtLocation",set:function(B){if(K.isNone(B))this.intersectsLine=null;else{var H=this.view.renderCoordsHelper.worldUpAtPosition(B,C);this.intersectsLine=A.fromValues(B,H);
this.intersectsLineInfinite=!0}}},{key:"intersectsLine",get:function(){return this._intersectsLineEnabled?this._intersectsLine:null},set:function(B){K.isSome(B)?(A.copy(B,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1;this.syncIntersectsLine();this.syncRenderer()}},{key:"intersectsLineInfinite",get:function(){return this._intersectsLineInfinite},set:function(B){this._intersectsLineInfinite=B;this.syncIntersectsLineInfinite()}},{key:"lineVerticalPlaneSegment",
get:function(){return this._lineVerticalPlaneSegment},set:function(B){this._lineVerticalPlaneSegment=K.isSome(B)?A.copy(B):null;this.syncLineVerticalPlane();this.syncRenderer()}},{key:"pathVerticalPlane",get:function(){return this._pathVerticalPlaneBuffers},set:function(B){this._pathVerticalPlaneBuffers=B;this.syncPathVerticalPlane();this.syncLineVerticalPlane();this.syncPointDistance();this.syncRenderer()}},{key:"pointDistanceLine",get:function(){return this._pointDistanceLine},set:function(B){this._pointDistanceLine=
K.isSome(B)?{origin:Q.clone(B.origin),target:Q.clone(B.target)}:null;this.syncPointDistance();this.syncRenderer()}}]);return P}(G.VisualElement);const C=Q.create();y.LaserlineVisualElement=G;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/VisualElement":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(y,aa){let K=function(){function Y(A){this._resourcesCreated=this._attached=!1;this._visible=!0;this.view=A;this.view.watch("ready",
G=>{this._resourcesCreated&&(G?this._createResources():this._destroyResources())})}var Q=Y.prototype;Q.applyProps=function(A){let G=!1;for(const z in A)z in this?"attached"===z?G=A[z]:this[z]=A[z]:console.error("Cannot set unknown property",z);this.attached=G};Q.destroy=function(){this.attached=!1};Q._createResources=function(){this.createResources();this._resourcesCreated=!0;this.visible||this.updateVisibility(!1)};Q._destroyResources=function(){this.destroyResources();this._resourcesCreated=!1};
aa._createClass(Y,[{key:"attached",get:function(){return this._attached},set:function(A){A!==this._attached&&this.view._stage&&((this._attached=A)&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}},{key:"visible",get:function(){return this._visible},set:function(A){A!==this._visible&&(this._visible=A,this.attached&&this.updateVisibility(A))}}]);return Y}();y.VisualElement=K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/support/LaserLineRenderer":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/mathUtils ../../../core/maybe ../../../chunks/vec2f64 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../chunks/vec4 ../../../chunks/vec4f64 ../../../geometry/support/clipRay ../../../geometry/support/frustum ../../../geometry/support/lineSegment ../../../geometry/support/plane ../../../geometry/support/ray ../../../chunks/sphere ./LaserlinePathData ../webgl-engine/lib/glUtil3D ../webgl-engine/lib/Util ../webgl-engine/materials/internal/MaterialUtil ../webgl-engine/shaders/LaserlinePathTechnique ../webgl-engine/shaders/LaserlineTechnique".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D){function O(la,oa,ma,ra){const ua=S,pa=V;A.transformMat4(ua,oa,ra);A.copy(pa,ma);pa[3]=0;z.transformMat4(pa,pa,ra);N.fromPositionAndNormal(ua,pa,la)}const S=G.create(),V=x.create(),da={glowColor:[1,.5,0],glowWidth:8,glowFalloff:8,innerColor:[1,1,1],innerWidth:1,globalAlpha:.75,angleCutoff:K.deg2rad(6),globalAlphaContrastBoost:2};K=function(){function la(ma,ra={},ua={contrastControlEnabled:!1}){this._renderCoordsHelper=ma;this._config=ua;this._technique=
null;this._projInfo=x.create();this._zScale=Q.create();this._heightManifoldEnabled=!1;this._heightManifoldTarget=G.create();this._pointDistanceEnabled=!1;this._pointDistanceOrigin=G.create();this._pointDistanceTarget=G.create();this._lineVerticalPlaneEnabled=!1;this._lineVerticalPlaneSegment=P.create();this._intersectsLineEnabled=!1;this._intersectsLineSegment=P.create();this._intersectsLineRadius=3;this._pathVerticalPlaneEnabled=this._intersectsLineInfinite=!1;this._pathTechnique=this._pathVerticalPlaneData=
null;this.canRender=!0;this._tempNormal=G.create();this._tempDir=G.create();this._tempUp=G.create();this._tempVec3A=G.create();this._tempVec3B=G.create();this._tempVec4=x.create();this._tempPlane=N.create();this._tempSphere=H.create();this._params=J.copyParameters(ra,da)}var oa=la.prototype;oa.setParameters=function(ma){J.updateParameters(this._params,ma)&&this._requestRender()};oa.initializeRenderContext=function(ma){this._context=ma;this._quadVAO=I.createQuadVAO(ma.renderContext.rctx);this._techniqueRepository=
ma.shaderTechniqueRep;this._techniqueConfig=new D.LaserlineTechniqueConfiguration;ma=new T.LaserlinePathTechniqueConfiguration;ma.contrastControlEnabled=this._config.contrastControlEnabled;this._pathTechnique=this._techniqueRepository.acquire(T.LaserlinePathTechnique,ma)};oa.uninitializeRenderContext=function(){this._quadVAO=Y.disposeMaybe(this._quadVAO);this._technique=Y.releaseMaybe(this._technique);this._pathVerticalPlaneData=Y.disposeMaybe(this._pathVerticalPlaneData);this._pathTechnique=Y.releaseMaybe(this._pathTechnique)};
oa.render=function(ma){const ra=this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled,ua=this.pathVerticalPlaneEnabled;if(!ra&&!ua)return!1;const pa=ma.camera;w.inverseProjectionInfo(pa.projectionMatrix,pa.fullWidth,pa.fullHeight,this._projInfo,this._zScale);ra&&this.renderUnified(ma);ua&&this.renderPath(ma);return!0};oa.renderUnified=function(ma){const ra=ma.rctx,ua=this._selectTechnique(),pa=ua.program;ra.useProgram(pa);ua.bindPipelineState(ra);
this._bindGlobalUniforms(ma,pa);this.bindHeightManifoldUniforms(ma,pa);this.bindPointDistanceUniforms(ma,pa);this.bindLineVerticalPlaneUniforms(ma,pa);this.bindIntersectsLineUniforms(ma,pa);ua.bind(this._params,ma.camera);ra.bindVAO(this._quadVAO);ra.drawArrays(5,0,4)};oa.renderPath=function(ma){if(!Y.isNone(this._pathVerticalPlaneData)&&!Y.isNone(this._pathTechnique)){var ra=ma.rctx,ua=this._pathTechnique,pa=ua.program;ra.useProgram(pa);ua.bindPipelineState(ra);this._bindGlobalUniforms(ma,pa);ua.bind(this._params,
this._pathVerticalPlaneData.origin,ma.camera);this._pathVerticalPlaneData.draw(ma.rctx)}};oa.bindHeightManifoldUniforms=function(ma,ra){if(this.heightManifoldEnabled){var ua=this._tempVec3A,pa=this._tempPlane;this._renderCoordsHelper.worldUpAtPosition(this._heightManifoldTarget,ua);O(pa,this._heightManifoldTarget,ua,ma.camera.viewMatrix);ra.setUniform4fv("heightPlane",pa)}};oa.bindPointDistanceUniforms=function(ma,ra){if(this._pointDistanceEnabled){ma=ma.camera;var ua=this._tempSphere;A.copy(ua,this._pointDistanceOrigin);
A.transformMat4(ua,ua,ma.viewMatrix);ua[3]=A.distance(this._pointDistanceOrigin,this._pointDistanceTarget);ra.setUniform4f("pointDistanceSphere",ua[0],ua[1],ua[2],ua[3])}};oa.bindLineVerticalPlaneUniforms=function(ma,ra){if(this._lineVerticalPlaneEnabled){var ua=this._renderCoordsHelper;ma=ma.camera;var pa=this._tempPlane,xa=this._tempVec3A,wa=this._tempUp,Da=this._tempDir,Ja=this._tempNormal;P.pointAt(this._lineVerticalPlaneSegment,.5,xa);ua.worldUpAtPosition(xa,wa);A.normalize(Da,this._lineVerticalPlaneSegment.vector);
A.cross(Ja,wa,Da);A.normalize(Ja,Ja);O(pa,this._lineVerticalPlaneSegment.origin,Ja,ma.viewMatrix);ra.setUniform4fv("lineVerticalPlane",pa);pa=this._tempVec3A;A.copy(pa,this._lineVerticalPlaneSegment.origin);ua.setAltitude(pa,0);A.transformMat4(pa,pa,ma.viewMatrix);ra.setUniform3fv("lineVerticalStart",pa);pa=this._tempVec3B;A.add(pa,this._lineVerticalPlaneSegment.origin,this._lineVerticalPlaneSegment.vector);ua.setAltitude(pa,0);A.transformMat4(pa,pa,ma.viewMatrix);ra.setUniform3fv("lineVerticalEnd",
pa)}};oa.bindIntersectsLineUniforms=function(ma,ra){if(this._intersectsLineEnabled){var ua=ba,pa=ea;if(this._intersectsLineInfinite){var xa=ma.camera;C.fromRay(B.wrap(this._intersectsLineSegment.origin,this._intersectsLineSegment.vector),R);R.c0=-Number.MAX_VALUE;if(!F.intersectClipRay(xa.frustum,R))return;C.getStart(R,ua);C.getEnd(R,pa)}else A.copy(ua,this._intersectsLineSegment.origin),A.add(pa,this._intersectsLineSegment.origin,this._intersectsLineSegment.vector);xa=this._tempVec3A;A.transformMat4(xa,
ua,ma.camera.viewMatrix);ra.setUniform3fv("intersectsLineStart",xa);ua=this._tempVec4;A.copy(ua,this._intersectsLineSegment.vector);this._tempVec4[3]=0;z.transformMat4(this._tempVec4,this._tempVec4,ma.camera.viewMatrix);A.transformMat4(pa,pa,ma.camera.viewMatrix);ra.setUniform3fv("intersectsLineEnd",pa);A.normalize(ua,ua);ra.setUniform3f("intersectsLineDirection",ua[0],ua[1],ua[2]);ra.setUniform1f("intersectsLineRadius",this._intersectsLineRadius)}};oa._bindGlobalUniforms=function(ma,ra){const ua=
ma.camera;ra.setUniform4fv("projInfo",this._projInfo);ra.setUniform2fv("zScale",this._zScale);ra.setUniform2f("nearFar",ua.near,ua.far);this._heightManifoldEnabled?ra.setUniform1f("maxPixelDistance",2*ua.computeScreenPixelSizeAt(this._heightManifoldTarget)):this._pointDistanceEnabled?ra.setUniform1f("maxPixelDistance",2*ua.computeScreenPixelSizeAt(this._pointDistanceTarget)):this._lineVerticalPlaneEnabled&&ra.setUniform1f("maxPixelDistance",2*ua.computeScreenPixelSizeAt(this._lineVerticalPlaneSegment.origin));
ra.bindTexture(ma.offscreenRenderingHelper.linearDepthTexture,"depthMap");ra.bindTexture(ma.offscreenRenderingHelper.mainColorTexture,"frameColor")};oa._requestRender=function(){this._context&&this._context.requestRender()};oa._selectTechnique=function(){this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled;this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled;this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled;this._techniqueConfig.intersectsLineEnabled=
this.intersectsLineEnabled;this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled;return this._technique=this._techniqueRepository.releaseAndAcquire(D.LaserlineTechnique,this._techniqueConfig,this._technique)};aa._createClass(la,[{key:"renderSlots",get:function(){return[this._config.contrastControlEnabled?15:14]}},{key:"needsLinearDepth",get:function(){return!0}},{key:"heightManifoldEnabled",get:function(){return this._heightManifoldEnabled},set:function(ma){this._heightManifoldEnabled!==
ma&&(this._heightManifoldEnabled=ma,this._requestRender())}},{key:"heightManifoldTarget",get:function(){return this._heightManifoldTarget},set:function(ma){A.copy(this._heightManifoldTarget,ma);this._requestRender()}},{key:"pointDistanceEnabled",get:function(){return this._pointDistanceEnabled},set:function(ma){ma!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=ma,this._requestRender())}},{key:"pointDistanceTarget",get:function(){return this._pointDistanceTarget},set:function(ma){A.copy(this._pointDistanceTarget,
ma);this._requestRender()}},{key:"pointDistanceOrigin",get:function(){return this._pointDistanceOrigin},set:function(ma){A.copy(this._pointDistanceOrigin,ma);this._requestRender()}},{key:"lineVerticalPlaneEnabled",get:function(){return this._lineVerticalPlaneEnabled},set:function(ma){ma!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=ma,this._requestRender())}},{key:"lineVerticalPlaneSegment",get:function(){return this._lineVerticalPlaneSegment},set:function(ma){P.copy(ma,this._lineVerticalPlaneSegment);
this._requestRender()}},{key:"intersectsLineEnabled",get:function(){return this._intersectsLineEnabled},set:function(ma){ma!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=ma,this._requestRender())}},{key:"intersectsLineSegment",get:function(){return this._intersectsLineSegment},set:function(ma){P.copy(ma,this._intersectsLineSegment);this._requestRender()}},{key:"intersectsLineRadius",get:function(){return this._intersectsLineRadius},set:function(ma){ma!==this._intersectsLineRadius&&(this._intersectsLineRadius=
ma,this._requestRender())}},{key:"intersectsLineInfinite",get:function(){return this._intersectsLineInfinite},set:function(ma){ma!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=ma,this._requestRender())}},{key:"pathVerticalPlaneEnabled",get:function(){return this._pathVerticalPlaneEnabled},set:function(ma){ma!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=ma,Y.isSome(this._pathVerticalPlaneData)&&this._requestRender())}},{key:"pathVerticalPlaneVertices",set:function(ma){Y.isNone(this._pathVerticalPlaneData)&&
(this._pathVerticalPlaneData=new E.LaserlinePathData(this._renderCoordsHelper));this._pathVerticalPlaneData.vertices=ma;this.pathVerticalPlaneEnabled&&this._requestRender()}},{key:"pathVerticalPlaneBuffers",set:function(ma){Y.isNone(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new E.LaserlinePathData(this._renderCoordsHelper));this._pathVerticalPlaneData.buffers=ma;this.pathVerticalPlaneEnabled&&this._requestRender()}}]);return la}();const R=C.create(),ba=G.create(),ea=G.create();y.LaserLineRenderer=
K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/support/LaserlinePathData":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../chunks/vec3 ../../../chunks/vec3f64 ./buffer/glUtil ./buffer/InterleavedLayout ../webgl-engine/shaders/LaserlinePathTechnique ../../webgl/BufferObject ../../webgl/VertexArrayObject".split(" "),function(y,aa,K,Y,Q,A,G,z,x,C){let F=function(){function H(I){this._renderCoordsHelper=I;this._buffers=null;this._origin=
Q.create();this._dirty=!1;this._count=0;this._vao=null}var E=H.prototype;E.draw=function(I){const w=this.ensureVAO(I);K.isSome(w)&&(I.bindVAO(w),I.drawArrays(4,0,this._count))};E.dispose=function(){K.isSome(this._vao)&&this._vao.dispose()};E.ensureVAO=function(I){if(K.isNone(this._buffers))return null;K.isNone(this._vao)&&(this._vao=this.createVAO(I,this._buffers));this.ensureVertexData(this._vao,this._buffers);return this._vao};E.createVAO=function(I,w){w=this.createDataBuffer(w);this._dirty=!1;
return new C(I,z.LaserlinePathTechnique.attributeLocations,{data:A.glLayout(B)},{data:x.createVertex(I,35044,w)})};E.ensureVertexData=function(I,w){this._dirty&&(w=this.createDataBuffer(w),I.vertexBuffers.data.setData(w),this._dirty=!1)};E.numberOfRenderVertices=function(I){return 6*(I.length/3-1)};E.createDataBuffer=function(I){var w=I.reduce((V,da)=>V+this.numberOfRenderVertices(da),0);this._count=w;w=B.createBuffer(w);const J=this._origin;let T=0,D=0;for(const V of I){for(I=0;I<V.length;I+=3){var O=
Y.set(N,V[I+0],V[I+1],V[I+2]);0===I?D=this._renderCoordsHelper.getAltitude(O):this._renderCoordsHelper.setAltitude(O,D);var S=this._renderCoordsHelper.worldUpAtPosition(O,P);const da=T+2*I;O=Y.subtract(N,O,J);if(I<V.length-3){w.up.setVec(da,S);w.up.setVec(da+3,S);w.up.setVec(da+5,S);for(let R=0;6>R;R++)w.start.setVec(da+R,O);w.extrude.setValues(da+0,0,-1);w.extrude.setValues(da+1,1,-1);w.extrude.setValues(da+2,1,1);w.extrude.setValues(da+3,0,-1);w.extrude.setValues(da+4,1,1);w.extrude.setValues(da+
5,0,1)}if(0<I)for(w.up.setVec(da-2,S),w.up.setVec(da-4,S),w.up.setVec(da-5,S),S=-6;0>S;S++)w.end.setVec(da+S,O)}T+=this.numberOfRenderVertices(V)}return w.buffer};aa._createClass(H,[{key:"vertices",set:function(I){const w=new Float64Array(3*I.length);let J=0;for(const T of I)w[J++]=T[0],w[J++]=T[1],w[J++]=T[2];this.buffers=[w]}},{key:"buffers",set:function(I){this._buffers=I;if(0<this._buffers.length){I=this._buffers[0];const w=3*Math.floor(I.length/3/2);Y.set(this._origin,I[w+0],I[w+1],I[w+2])}else Y.set(this._origin,
0,0,0);this._dirty=!0}},{key:"origin",get:function(){return this._origin}}]);return H}();const P=Q.create(),N=Q.create(),B=G.newLayout().vec3f("start").vec3f("end").vec3f("up").vec2f("extrude");y.LaserlinePathData=F;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/shaders/LaserlinePathTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/Program ../../../../chunks/LaserlinePath.glsl ../../../webgl/renderState".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P){z=function(B){function H(){return B.apply(this,arguments)||this}K._inheritsLoose(H,B);var E=H.prototype;E.initializeProgram=function(I){const w=H.shader.get().build(this.configuration);return new C.Program(I.rctx,w,H.attributeLocations)};E.bind=function(I,w,J){this.program.setUniform3fv("innerColor",I.innerColor);this.program.setUniform1f("innerWidth",I.innerWidth*J.pixelRatio);this.program.setUniform3fv("glowColor",I.glowColor);this.program.setUniform1f("glowWidth",
I.glowWidth*J.pixelRatio);this.program.setUniform1f("glowFalloff",I.glowFalloff);this.program.setUniform1f("globalAlpha",I.globalAlpha);this.program.setUniform1f("perScreenPixelRatio",J.perScreenPixelRatio);this.program.setUniform2f("pixelToNDC",2/J.fullWidth,2/J.fullHeight);this.program.setUniformMatrix4fv("uProjectionMatrix",J.projectionMatrix);Q.translate(N,J.viewMatrix,w);this.program.setUniformMatrix4fv("uModelViewMatrix",N);this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",
null!=I.globalAlphaContrastBoost?I.globalAlphaContrastBoost:1)};E.initializePipeline=function(){return P.makePipelineState({blending:P.simpleBlendingParams(1,771),colorWrite:P.defaultColorWriteParams})};return H}(z.ShaderTechnique);z.shader=new G.ReloadableShaderModule(F.LaserlinePathShader,()=>new Promise((B,H)=>y(["./LaserlinePath.glsl"],B,H)));z.attributeLocations=new Map([["start",0],["end",1],["up",2],["extrude",3]]);G=function(B){function H(){var E=B.apply(this,arguments)||this;E.contrastControlEnabled=
!1;return E}K._inheritsLoose(H,B);return H}(x.ShaderTechniqueConfiguration);Y.__decorate([x.parameter()],G.prototype,"contrastControlEnabled",void 0);const N=A.create();aa.LaserlinePathTechnique=z;aa.LaserlinePathTechniqueConfiguration=G;Object.defineProperty(aa,"__esModule",{value:!0})})},"esri/chunks/LaserlinePath.glsl":function(){define(["exports","../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl","../views/3d/webgl-engine/core/shaderModules/interfaces","../views/3d/webgl-engine/core/shaderModules/ShaderBuilder"],
function(y,aa,K,Y){function Q(G){const z=new Y.ShaderBuilder;z.include(aa.Laserline,G);z.vertex.uniforms.add("uModelViewMatrix","mat4");z.vertex.uniforms.add("uProjectionMatrix","mat4");z.attributes.add("start","vec3");z.attributes.add("end","vec3");z.attributes.add("up","vec3");z.attributes.add("extrude","vec2");z.varyings.add("uv","vec2");z.varyings.add("vViewStart","vec3");z.varyings.add("vViewEnd","vec3");z.varyings.add("vViewPlane","vec4");z.vertex.uniforms.add("glowWidth","float");z.vertex.uniforms.add("pixelToNDC",
"vec2");z.vertex.code.add(K.glsl`void main() {
vec3 pos = mix(start, end, extrude.x);
vec4 viewPos = uModelViewMatrix * vec4(pos, 1);
vec4 projPos = uProjectionMatrix * viewPos;
vec2 ndcPos = projPos.xy / projPos.w;
vec3 viewUp = (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;
vec4 projPosUp = uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);
vec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);
vec2 lxy = abs(sign(projExtrudeDir) - ndcPos);
ndcPos += length(lxy) * projExtrudeDir;
vec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));
vec3 viewPlaneNormal = (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;
vViewStart = (uModelViewMatrix * vec4(start, 1)).xyz;
vViewEnd = (uModelViewMatrix * vec4(end, 1)).xyz;
vViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));
float xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;
ndcPos.x += xPaddingPixels * pixelToNDC.x;
uv = ndcPos * 0.5 + 0.5;
gl_Position = vec4(ndcPos, 0, 1);
}`);z.fragment.uniforms.add("globalAlpha","float");z.fragment.uniforms.add("perScreenPixelRatio","float");z.fragment.code.add(K.glsl`float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {
vec3 origin = mix(start, end, 0.5);
vec3 basis = end - origin;
vec3 posAtOrigin = pos - origin;
float x = dot(normalize(basis), posAtOrigin);
float y = dot(plane.xyz, posAtOrigin);
float dx = max(abs(x) - length(basis), 0.0);
float dy = y;
float dist = length(vec2(dx, dy));
float width = fwidth(y);
float maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;
float pixelDist = dist / min(width, maxPixelDistance);
return abs(pixelDist);
}
void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
float distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);
vec4 color = laserlineProfile(distance);
float alpha = 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));
gl_FragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);
}`);return z}const A=Object.freeze({__proto__:null,build:Q});y.LaserlinePathShader=A;y.build=Q})},"esri/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl":function(){define(["exports","./output/ReadLinearDepth.glsl","./util/CameraSpace.glsl","../shaderModules/interfaces"],function(y,aa,K,Y){y.Laserline=function(Q,A){Q.extensions.add("GL_OES_standard_derivatives");Q.fragment.include(aa.ReadLinearDepth);Q.include(K.CameraSpace);Q.fragment.uniforms.add("glowColor","vec3");Q.fragment.uniforms.add("glowWidth",
"float");Q.fragment.uniforms.add("glowFalloff","float");Q.fragment.uniforms.add("innerColor","vec3");Q.fragment.uniforms.add("innerWidth","float");Q.fragment.uniforms.add("depthMap","sampler2D");Q.fragment.uniforms.add("nearFar","vec2");Q.fragment.uniforms.add("frameColor","sampler2D");A.contrastControlEnabled&&Q.fragment.uniforms.add("globalAlphaContrastBoost","float");Q.fragment.code.add(Y.glsl`vec4 blendPremultiplied(vec4 source, vec4 dest) {
float oneMinusSourceAlpha = 1.0 - source.a;
return vec4(
source.rgb + dest.rgb * oneMinusSourceAlpha,
source.a + dest.a * oneMinusSourceAlpha
);
}`);Q.fragment.code.add(Y.glsl`vec4 premultipliedColor(vec3 rgb, float alpha) {
return vec4(rgb * alpha, alpha);
}`);Q.fragment.code.add(Y.glsl`vec4 laserlineProfile(float dist) {
if (dist > glowWidth) {
return vec4(0.0);
}
float innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));
float glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);
return blendPremultiplied(
premultipliedColor(innerColor, innerAlpha),
premultipliedColor(glowColor, glowAlpha)
);
}`);Q.fragment.code.add(Y.glsl`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {
float depth = linearDepthFromTexture(depthMap, uv, nearFar);
if (-depth == nearFar[0]) {
return false;
}
pos = reconstructPosition(gl_FragCoord.xy, depth);
normal = normalize(cross(dFdx(pos), dFdy(pos)));
float ddepth = fwidth(depth);
depthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);
return true;
}`);A.contrastControlEnabled?Q.fragment.code.add(Y.glsl`float rgbToLuminance(vec3 color) {
return dot(vec3(0.2126, 0.7152, 0.0722), color);
}
vec4 laserlineOutput(vec4 color) {
float backgroundLuminance = rgbToLuminance(texture2D(frameColor, uv).rgb);
float alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);
return color * alpha;
}`):Q.fragment.code.add(Y.glsl`vec4 laserlineOutput(vec4 color) {
return color * globalAlpha;
}`)};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/shaders/LaserlineTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/mathUtils ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../lib/Program ../../../../chunks/Laserlines.glsl ../../../webgl/renderState".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P){G=function(N){function B(){return N.apply(this,arguments)||this}K._inheritsLoose(B,N);var H=B.prototype;H.initializeProgram=function(E){const I=B.shader.get().build(this.configuration);return new C.Program(E.rctx,I,x.Default3D)};H.bind=function(E,I){this.program.setUniform3fv("innerColor",E.innerColor);this.program.setUniform1f("innerWidth",E.innerWidth*I.pixelRatio);this.program.setUniform3fv("glowColor",E.glowColor);this.program.setUniform1f("glowWidth",E.glowWidth*
I.pixelRatio);this.program.setUniform1f("glowFalloff",E.glowFalloff);this.program.setUniform1f("globalAlpha",E.globalAlpha);this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=E.globalAlphaContrastBoost?E.globalAlphaContrastBoost:1);E=null!=E.angleCutoff?E.angleCutoff:F.defaultAngleCutoff;this.program.setUniform2f("angleCutoff",Math.cos(E),Math.cos(Math.max(0,E-Q.deg2rad(2))));this.configuration.intersectsLineEnabled&&this.program.setUniform1f("perScreenPixelRatio",
I.perScreenPixelRatio)};H.initializePipeline=function(){return P.makePipelineState({blending:P.simpleBlendingParams(1,771),colorWrite:P.defaultColorWriteParams})};return B}(G.ShaderTechnique);G.shader=new A.ReloadableShaderModule(F.LaserlinesShader,()=>new Promise((N,B)=>y(["./Laserlines.glsl"],N,B)));A=function(N){function B(){var H=N.apply(this,arguments)||this;H.heightManifoldEnabled=!1;H.pointDistanceEnabled=!1;H.lineVerticalPlaneEnabled=!1;H.intersectsLineEnabled=!1;H.contrastControlEnabled=
!1;return H}K._inheritsLoose(B,N);return B}(z.ShaderTechniqueConfiguration);Y.__decorate([z.parameter()],A.prototype,"heightManifoldEnabled",void 0);Y.__decorate([z.parameter()],A.prototype,"pointDistanceEnabled",void 0);Y.__decorate([z.parameter()],A.prototype,"lineVerticalPlaneEnabled",void 0);Y.__decorate([z.parameter()],A.prototype,"intersectsLineEnabled",void 0);Y.__decorate([z.parameter()],A.prototype,"contrastControlEnabled",void 0);aa.LaserlineTechnique=G;aa.LaserlineTechniqueConfiguration=
A;Object.defineProperty(aa,"__esModule",{value:!0})})},"esri/chunks/Laserlines.glsl":function(){define("exports ../core/mathUtils ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder".split(" "),function(y,aa,K,Y,Q,A){function G(x){const C=new A.ShaderBuilder;C.extensions.add("GL_OES_standard_derivatives");C.include(Y.ScreenSpacePass);
C.include(K.Laserline,x);C.fragment.uniforms.add("angleCutoff","vec2");C.fragment.uniforms.add("globalAlpha","float");x.heightManifoldEnabled&&C.fragment.uniforms.add("heightPlane","vec4");x.pointDistanceEnabled&&C.fragment.uniforms.add("pointDistanceSphere","vec4");x.lineVerticalPlaneEnabled&&C.fragment.uniforms.add("lineVerticalPlane","vec4").add("lineVerticalStart","vec3").add("lineVerticalEnd","vec3");(x.heightManifoldEnabled||x.pointDistanceEnabled||x.lineVerticalPlaneEnabled)&&C.fragment.uniforms.add("maxPixelDistance",
"float");x.intersectsLineEnabled&&C.fragment.uniforms.add("intersectsLineStart","vec3").add("intersectsLineEnd","vec3").add("intersectsLineDirection","vec3").add("intersectsLineRadius","float").add("perScreenPixelRatio","float");(x.lineVerticalPlaneEnabled||x.heightManifoldEnabled)&&C.fragment.code.add(Q.glsl`float planeDistancePixels(vec4 plane, vec3 pos) {
float dist = dot(plane.xyz, pos) + plane.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`);x.pointDistanceEnabled&&C.fragment.code.add(Q.glsl`float sphereDistancePixels(vec4 sphere, vec3 pos) {
float dist = distance(sphere.xyz, pos) - sphere.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`);x.intersectsLineEnabled&&C.fragment.code.add(Q.glsl`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {
float dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);
return abs(dist) - radius;
}`);(x.lineVerticalPlaneEnabled||x.intersectsLineEnabled)&&C.fragment.code.add(Q.glsl`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {
vec3 dir = end - start;
float t2 = dot(dir, pos - start);
float l2 = dot(dir, dir);
return t2 >= 0.0 && t2 <= l2;
}`);C.fragment.code.add(Q.glsl`void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
vec4 color = vec4(0, 0, 0, 0);`);x.heightManifoldEnabled&&C.fragment.code.add(Q.glsl`{
float heightManifoldAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));
vec4 heightManifoldColor = laserlineProfile(planeDistancePixels(heightPlane, pos));
color = max(color, heightManifoldColor * heightManifoldAlpha);
}`);x.pointDistanceEnabled&&C.fragment.code.add(Q.glsl`{
float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);
vec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);
float pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));
color = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);
}`);x.lineVerticalPlaneEnabled&&C.fragment.code.add(Q.glsl`{
if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {
float lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);
vec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);
float lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));
color = max(color, lineVerticalColor * lineVerticalAlpha);
}
}`);x.intersectsLineEnabled&&C.fragment.code.add(Q.glsl`{
if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {
float intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);
vec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);
float intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));
color = max(color, intersectsLineColor * intersectsLineAlpha);
}
}`);C.fragment.code.add(Q.glsl`gl_FragColor = laserlineOutput(color * depthDiscontinuityAlpha);
}`);return C}aa=aa.deg2rad(6);const z=Object.freeze({__proto__:null,defaultAngleCutoff:aa,build:G});y.LaserlinesShader=z;y.build=G;y.defaultAngleCutoff=aa})},"esri/views/3d/interactive/visualElements/Object3DVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/mat4f64 ./VisualElement ../../webgl-engine/lib/Object3D ../../webgl-engine/lib/WebGLLayer".split(" "),function(y,aa,K,Y,Q,A,G,z){A=function(x){function C(P){P=
x.call(this,P.view)||this;P._resources=null;P._transform=Q.create();return P}aa._inheritsLoose(C,x);var F=C.prototype;F.recreate=function(){this.attached&&this.createResources()};F.recreateGeometry=function(){if(!K.isNone(this._resources)){var P=this._resources.object,N=this.view._stage;N.removeMany(P.geometries);P.removeAllGeometries();this.createGeometries(P);this.visible||P.setVisible(this.visible);N.addMany(P.geometries)}};F.createResources=function(){this.destroyResources();const P=this.view._stage;
if(P){var N=new z.WebGLLayer({isPickable:!1,updatePolicy:1});P.add(N);var B=new G.Object3D({castShadow:!1});B.transformation=this._transform;this.createExternalResources();this.createGeometries(B);P.addMany(B.geometries);this.forEachExternalMaterial(H=>P.add(H));P.add(B);N.add(B);this.visible||B.setVisible(!1);this._resources={layer:N,object:B}}};F.destroyResources=function(){const P=this.view._stage;!K.isNone(this._resources)&&P&&(P.remove(this._resources.object),P.remove(this._resources.layer),
this.forEachExternalMaterial(N=>{P.remove(N);N.dispose()}),P.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)};F.updateVisibility=function(P){K.isNone(this._resources)||this._resources.object.setVisible(P)};aa._createClass(C,[{key:"object",get:function(){return K.isSome(this._resources)?this._resources.object:null}},{key:"transform",get:function(){return this._transform},set:function(P){Y.copy(this._transform,P);K.isSome(this._resources)&&
(this._resources.object.transformation=this._transform)}}]);return C}(A.VisualElement);y.Object3DVisualElement=A;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/ParallelLineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/Handles ../../../../core/maybe ../../../../core/screenUtils ../../../../chunks/vec2 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ./Object3DVisualElement ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/RibbonLineMaterial".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N){F=function(T){function D(S){var V=T.call(this,S)||this;V._handles=new K;V._location=z.create();V._direction=z.fromValues(1,0,0);V._width=1;V._offset=1;V._length=18;V._color=C.fromValues(1,0,1,1);V._renderOccluded=4;V.applyProps(S);return V}aa._inheritsLoose(D,T);var O=D.prototype;O.setDirectionFromPoints=function(S,V){G.normalize(this._direction,G.subtract(this._direction,V,S));this.updateGeometry()};O.createExternalResources=function(){const S=new N.RibbonLineMaterial(this.materialParameters);
this._handles.add(this.view.state.watch("camera",()=>{this.updateGeometry()}));this._externalResources={material:S}};O.destroyExternalResources=function(){this._handles.removeAll();this._externalResources=null};O.createGeometries=function(S){const V=P.createPolylineGeometry([z.create(),z.create()]),da=P.createPolylineGeometry([z.create(),z.create()]),R=Y.unwrap(this._externalResources).material;S.addGeometry(V,R);S.addGeometry(da,R);this.updateVertices(S)};O.forEachExternalMaterial=function(S){Y.isSome(this._externalResources)&&
S(this._externalResources.material)};O.updateMaterial=function(){Y.isNone(this._externalResources)||this._externalResources.material.setParameters(this.materialParameters)};O.updateGeometry=function(){const S=this.object;Y.isNone(S)||this.updateVertices(S)};O.updateVertices=function(S){const V=this.view.state.camera;V.projectToScreen(this.location,H);G.add(B,this.location,this.direction);V.projectToScreen(B,E);A.normalize(E,A.subtract(E,E,H));this.updateVertexAttributes(V,S,0,H,E,1);this.updateVertexAttributes(V,
S,1,H,E,-1)};O.updateVertexAttributes=function(S,V,da,R,ba,ea){da=V.geometryRecords[da];const la=da.geometry.getMutableAttribute("position").data;ea=A.scale(I,A.set(I,ba[1]*ea,ba[0]*-ea),this.offset+this.width/2);R=A.add(w,A.add(w,A.add(w,R,A.scale(w,ba,this.length/2)),ea),ea);ba=A.add(J,R,A.scale(J,ba,-this.length));S.unprojectFromScreen(R,B);la[0]=B[0];la[1]=B[1];la[2]=B[2];S.unprojectFromScreen(ba,B);la[3]=B[0];la[4]=B[1];la[5]=B[2];V.geometryVertexAttrsUpdated(da)};aa._createClass(D,[{key:"location",
get:function(){return this._location},set:function(S){G.exactEquals(this._location,S)||(G.copy(this._location,S),this.updateGeometry())}},{key:"direction",get:function(){return this._direction},set:function(S){G.exactEquals(this._direction,S)||(G.copy(this._direction,S),this.updateGeometry())}},{key:"width",get:function(){return this._width},set:function(S){S!==this._width&&(this._width=S,this.updateMaterial())}},{key:"offset",get:function(){return this._offset},set:function(S){S!==this._offset&&
(this._offset=S,this.updateGeometry())}},{key:"length",get:function(){return this._length},set:function(S){S!==this._length&&(this._length=S,this.updateGeometry())}},{key:"color",get:function(){return this._color},set:function(S){x.exactEquals(S,this._color)||(x.copy(this._color,S),this.updateMaterial())}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(S){S!==this._renderOccluded&&(this._renderOccluded=S,this.updateMaterial())}},{key:"materialParameters",get:function(){return{width:this._width,
color:this._color,renderOccluded:this._renderOccluded}}}]);return D}(F.Object3DVisualElement);const B=z.create(),H=Q.createScreenPointArray(),E=Q.createScreenPointArray(),I=Q.createScreenPointArray(),w=Q.createScreenPointArray(),J=Q.createScreenPointArray();y.ParallelLineVisualElement=F;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/PointVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/mathUtils ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f64 ../../../../geometry/projection ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/vectorStacks ./VisualElementResources ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../../layers/graphics/sdfPrimitives ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/Texture ../../webgl-engine/materials/HUDMaterial".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w){let J=function(){function O(V){this._geometry=this.view=null;this._size=3;this._color=z.fromValues(1,0,1,1);this._pixelSnappingEnabled=!0;this._primitive="square";this._outlineSize=1;this._outlineColor=z.fromValues(1,1,1,1);this._elevationInfo=null;this.resources=new P.VisualElementResources({view:V.view,createResources:R=>this.createResources(R),recreateGeometry:(R,ba)=>{R.geometry=this.recreateGeometry(ba,R.material);return Y.isSome(R.geometry)?[R.geometry]:
[]}});let da=!0;for(const R in V)R in this?"attached"===R?da=V[R]:this[R]=V[R]:console.error("Cannot set unknown property",R);this.attached=da}var S=O.prototype;S.destroy=function(){this.resources.destroy()};S.updateMaterial=function(){const V=this.resources.resources;Y.isNone(V)||V.material.setParameters(this.materialParameters(V.texture.id))};S.updateSizeAttribute=function(){var V=this.resources.resources;const da=this.resources.object;if(!Y.isNone(V)&&!Y.isNone(da)&&(V=V.geometry,!Y.isNone(V))){V=
V.getMutableAttribute("size").data;var R=this.geometrySize;V[0]=R;V[1]=R;da.geometryVertexAttrsUpdated(da.geometryRecords[0])}};S.materialParameters=function(V){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:T,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:V,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}};S.recreateGeometry=function(V,da){const R=
this.createRenderGeometry();Y.isSome(R)&&V.addGeometry(R,da);return R};S.createResources=function(V){const da=this.createTexture(),R=new w.HUDMaterial(this.materialParameters(da.id));V=this.recreateGeometry(V,R);return{material:R,texture:da,geometry:V,forEach(ba){ba(da);ba(R);Y.isSome(this.geometry)&&ba(this.geometry)}}};S.createTexture=function(){const V=this.preferredTextureSize;return new I.Texture(H.createType(this._primitive,V,.5*V),{mipmap:!1,wrap:{s:33071,t:33071},width:V,height:V,components:4,
noUnpackFlip:!0})};S.calculateMapBounds=function(V){if(Y.isNone(this.resources.resources)||Y.isNone(this.resources.resources.geometry))return!1;const da=this.resources.resources.geometry.vertexAttributes.get("position");x.projectVectorToVector(da.data,this.view.renderCoordsHelper.spatialReference,D,this.view.spatialReference);C.expandWithBuffer(V,D);return!0};S.createRenderGeometry=function(){var V=this.geometry;if(Y.isNone(V))return null;const {renderCoordsHelper:da,elevationProvider:R}=this.view;
var ba=N.evaluateElevationAlignmentAtPoint(V,R,B.ElevationContext.fromElevationInfo(this.elevationInfo),da);const ea=Q.set(F.sv3d.get(),V.x,V.y,ba);ba=F.sv3d.get();x.projectVectorToVector(ea,V.spatialReference,ba,da.spatialReference);V=this.geometrySize;return E.createPointGeometry(null,ba,null,[V,V],[0,0,0,1])};aa._createClass(O,[{key:"visible",get:function(){return this.resources.visible},set:function(V){this.resources.visible=V}},{key:"attached",get:function(){return this.resources.attached},set:function(V){this.resources.attached=
V}},{key:"geometry",get:function(){return this._geometry},set:function(V){this._geometry=V;this.resources.recreateGeometry()}},{key:"size",get:function(){return this._size},set:function(V){if(V!==this._size){const da=this.preferredTextureSize;this._size=V;da<this.preferredTextureSize?Y.isSome(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}}},{key:"color",get:function(){return this._color},set:function(V){G.exactEquals(V,this._color)||(G.copy(this._color,V),this.updateMaterial())}},
{key:"pixelSnappingEnabled",get:function(){return this._pixelSnappingEnabled},set:function(V){this._pixelSnappingEnabled!==V&&(this._pixelSnappingEnabled=V,this.updateMaterial())}},{key:"primitive",get:function(){return this._primitive},set:function(V){this._primitive!==V&&(this._primitive=V,Y.isSome(this.resources)&&this.resources.recreate())}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(V){V!==this._outlineSize&&(this._outlineSize=V,this.updateMaterial())}},{key:"outlineColor",
get:function(){return this._outlineColor},set:function(V){G.exactEquals(V,this._outlineColor)||(G.copy(this._outlineColor,V),this.updateMaterial())}},{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(V){this._elevationInfo=V;this.resources&&this.resources.recreateGeometry()}},{key:"geometrySize",get:function(){return this._size/.5}},{key:"preferredTextureSize",get:function(){return K.clamp(K.nextHighestPowerOfTwo(2*this.geometrySize),16,128)}}]);return O}();const T=[.25,
.25,.75,.75],D=A.create();y.PointVisualElement=J;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/VisualElementResources":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/watchUtils ../../webgl-engine/lib/Object3D ../../webgl-engine/lib/WebGLLayer".split(" "),function(y,aa,K,Y,Q,A){let G=function(){function z(C){this.resourceFactory=C;this._resources=null;this._visible=!0;this._attached=!1}
var x=z.prototype;x.destroy=function(){this._destroyResources()};x.recreate=function(){this.attached&&this._createResources()};x.recreateGeometry=function(){if(this.resourceFactory.recreateGeometry){var C=this.resourceFactory.view._stage;if(!K.isNone(this._resources)&&C){var F=this._resources.object;this._resources.external.forEach(P=>{2===P.type&&C.remove(P)});F.removeAllGeometries();F=this.resourceFactory.recreateGeometry(this._resources.external,F,this._resources.layer);C.addMany(F)}}else this.recreate()};
x._createOrDestroyResources=function(){this._attached?this._resources||this._createResources():this._destroyResources()};x._createResources=function(){this._destroyResources();const C=this.resourceFactory.view._stage;if(C){var F=new A.WebGLLayer({isPickable:!1,updatePolicy:1});C.add(F);var P=new Q.Object3D({castShadow:!1}),N=this.resourceFactory.createResources(P,F);N.forEach(H=>C.add(H));C.add(P);F.add(P);this._syncVisible();var B=this.resourceFactory.cameraChanged?Y.init(this.resourceFactory.view.state,
"camera",H=>this.resourceFactory.cameraChanged(H)):null;this._resources={layer:F,object:P,external:N,cameraHandle:B}}};x._destroyResources=function(){if(!K.isNone(this._resources)){var C=this.resourceFactory.view._stage;null==C?void 0:C.remove(this._resources.object);null==C?void 0:C.remove(this._resources.layer);this._resources.external.forEach(F=>{null==C?void 0:C.remove(F);"dispose"in F&&F.dispose()});this._resources.object.dispose();this._resources.cameraHandle&&this._resources.cameraHandle.remove();
this._resources=null}};x._syncVisible=function(){K.isNone(this._resources)||this._resources.object.setVisible(this._visible)};aa._createClass(z,[{key:"object",get:function(){return K.isSome(this._resources)?this._resources.object:null}},{key:"resources",get:function(){return K.isSome(this._resources)?this._resources.external:null}},{key:"visible",get:function(){return this._visible},set:function(C){C!==this._visible&&(this._visible=C,this._syncVisible())}},{key:"attached",get:function(){return this._attached},
set:function(C){C!==this._attached&&(this._attached=C,this._createOrDestroyResources())}}]);return z}();y.VisualElementResources=G;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/RightAngleQuadVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/Handles ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ../../../../geometry/support/vectorStacks ./Object3DVisualElement ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/ColorMaterial ../../webgl-engine/materials/RibbonLineMaterial".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E){P=function(w){function J(D){var O=w.call(this,D)||this;O._handles=new K;O._quadMaterial=null;O._outlineMaterial=null;O._maxSize=0;O._position=z.create();O._up=z.create();O._right=z.create();O._renderOccluded=4;O._color=C.fromValues(1,0,0,1);O._outlineColor=C.fromValues(0,0,0,1);O._outlineSize=0;O._size=32;O._outlineRenderOccluded=16;O.applyProps(D);return O}aa._inheritsLoose(J,w);var T=J.prototype;T.createExternalResources=function(){this._quadMaterial=new H.ColorMaterial(this.quadMaterialParameters);
this._outlineMaterial=new E.RibbonLineMaterial(this.outlineMaterialParameters);this._handles.add(this.view.state.watch("camera",()=>this._updateTransform()))};T.destroyExternalResources=function(){this._outlineMaterial=this._quadMaterial=null;this._handles.removeAll()};T.forEachExternalMaterial=function(D){D(this._quadMaterial);D(this._outlineMaterial)};T.createGeometries=function(D){this._createQuadGeometry(D);this._createOutlineGeometry(D);this._updateTransform(D)};T._createQuadGeometry=function(D){const O=
this._quadGeometryData(this._up,this._right);D.addGeometry(O,this._quadMaterial)};T._createOutlineGeometry=function(D){if(0!==this._outlineSize){var O=G.add(F.sv3d.get(),this._up,this._right);O=B.createPolylineGeometry([this._up,O,this._right]);D.addGeometry(O,this._outlineMaterial)}};T._updateTransform=function(D=this.object){var O=this._size*this.view.state.camera.computeScreenPixelSizeAt(this._position);O=Math.min(this._maxSize,O);Q.identity(I);Q.translate(I,I,this._position);Q.scale(I,I,[O,O,
O]);Y.isSome(D)&&(D.transformation=I)};T._quadGeometryData=function(D,O){const S=G.add(F.sv3d.get(),D,O);return new N.Geometry([["position",{size:3,data:[0,0,0,...O,...D,...S],exclusive:!0}]],[["position",new Uint16Array([0,1,2,1,2,3])]])};T._updateQuadMaterial=function(){this._quadMaterial&&this._quadMaterial.setParameters(this.quadMaterialParameters)};T._updateOutlineMaterial=function(){this._outlineMaterial&&this._outlineMaterial.setParameters(this.outlineMaterialParameters)};aa._createClass(J,
[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(D){D!==this._renderOccluded&&(this._renderOccluded=D,this._updateQuadMaterial())}},{key:"color",get:function(){return this._color},set:function(D){x.copy(this._color,D);this._updateQuadMaterial()}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(D){x.copy(this._outlineColor,D);this._updateOutlineMaterial()}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(D){const O=
0===this._outlineSize!==(0===D);this._outlineSize=D;O?this.recreateGeometry():this._updateOutlineMaterial()}},{key:"size",get:function(){return this._size},set:function(D){D!==this._size&&(this._size=D,this._updateTransform())}},{key:"outlineRenderOccluded",get:function(){return this._outlineRenderOccluded},set:function(D){this._outlineRenderOccluded=D;this._updateOutlineMaterial()}},{key:"geometry",set:function({previous:D,center:O,next:S}){this._maxSize=Math.min(G.distance(O,D),G.distance(O,S))/
3;G.normalize(this._up,G.subtract(this._up,D,O));G.normalize(this._right,G.subtract(this._right,S,O));G.copy(this._position,O);this.recreateGeometry()}},{key:"quadMaterialParameters",get:function(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}},{key:"outlineMaterialParameters",get:function(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}}]);return J}(P.Object3DVisualElement);const I=
A.create();y.RightAngleQuadVisualElement=P;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/snapping/Settings":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/subclass".split(" "),function(y,aa,K,Y,Q,A,G){let z=function(x){function C(){var F=x.apply(this,arguments)||this;F.enabled=!0;return F}aa._inheritsLoose(C,
x);return C}(Q.JSONSupport);K.__decorate([A.property({type:Boolean})],z.prototype,"enabled",void 0);z=K.__decorate([G.subclass("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],z);Q=function(x){function C(F){F=x.call(this,F)||this;F.lineSnapper=new z;F.parallelLineSnapper=new z;F.rightAngleSnapper=new z;F.rightAngleTriangleSnapper=new z;F.shortLineThreshold=15;F.distance=5;F.pointThreshold=1E-6;F.intersectionParallelLineThreshold=1E-6;F.parallelLineThreshold=1E-6;F.touchSensitivityMultiplier=
1.5;F.pointOnLineThreshold=1E-6;F.orange=new Y([255,127,0]);F.lineHintWidthReference=3;F.lineHintWidthTarget=3;F.lineHintFadedExtensions=.3;F.parallelLineHintWidth=2;F.parallelLineHintLength=24;F.parallelLineHintOffset=1.5;F.rightAngleHintSize=24;F.rightAngleHintOutlineSize=1.5;return F}aa._inheritsLoose(C,x);return C}(Q.JSONSupport);K.__decorate([A.property({type:z,constructOnly:!0,nonNullable:!0,json:{write:!0}})],Q.prototype,"lineSnapper",void 0);K.__decorate([A.property({type:z,constructOnly:!0,
nonNullable:!0,json:{write:!0}})],Q.prototype,"parallelLineSnapper",void 0);K.__decorate([A.property({type:z,constructOnly:!0,nonNullable:!0,json:{write:!0}})],Q.prototype,"rightAngleSnapper",void 0);K.__decorate([A.property({type:z,constructOnly:!0,nonNullable:!0,json:{write:!0}})],Q.prototype,"rightAngleTriangleSnapper",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],Q.prototype,"shortLineThreshold",void 0);K.__decorate([A.property({type:Number,
nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],Q.prototype,"distance",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:1E-5},json:{write:!0}})],Q.prototype,"pointThreshold",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:1E-5},json:{write:!0}})],Q.prototype,"intersectionParallelLineThreshold",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:1E-5},json:{write:!0}})],Q.prototype,"parallelLineThreshold",
void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Q.prototype,"touchSensitivityMultiplier",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:1E-5},json:{write:!0}})],Q.prototype,"pointOnLineThreshold",void 0);K.__decorate([A.property({type:Y,nonNullable:!0})],Q.prototype,"orange",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Q.prototype,"lineHintWidthReference",void 0);
K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Q.prototype,"lineHintWidthTarget",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],Q.prototype,"lineHintFadedExtensions",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],Q.prototype,"parallelLineHintWidth",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],
Q.prototype,"parallelLineHintLength",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],Q.prototype,"parallelLineHintOffset",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],Q.prototype,"rightAngleHintSize",void 0);K.__decorate([A.property({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],Q.prototype,"rightAngleHintOutlineSize",void 0);Q=K.__decorate([G.subclass("esri.views.interactive.snapping.Settings.Defaults")],
Q);K=new Q;y.defaults=K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/snapping/snappingUtils":function(){define("exports ../../../core/screenUtils ../../../chunks/vec2 ../../../chunks/vec3f64 ../../../geometry/Point ../../../support/elevationInfoUtils".split(" "),function(y,aa,K,Y,Q,A){function G(F,P,N,B,H=Y.create()){F=P.toXYZ(F);F[2]=A.getConvertedElevationFromVector(B,F,P.spatialReference,N)||0;B.renderCoordsHelper.toRenderCoords(F,P.spatialReference,H);return H}const z=
Y.create(),x=aa.createScreenPointArray(),C=new Q;y.anyMapPointToRender=G;y.anyMapPointToScreenPoint=function(F,P,N,B){if("2d"===B.type)return B.toScreen(P.vectorToPoint(F,C));G(F,P,N,B,z);B.state.camera.projectToScreen(z,x);return aa.createScreenPoint(x[0],x[1])};y.anyMapPointsToRenderWithEqualZ=function(F,P,N,B,H,E,I){F=N.toXYZ(F);P=N.toXYZ(P);const w=A.getConvertedElevationFromVector(H,F,N.spatialReference,B);B=A.getConvertedElevationFromVector(H,P,N.spatialReference,B);B=(null==w?B:null==B?w:Math.min(w,
B))||0;F[2]=B;P[2]=B;H.renderCoordsHelper.toRenderCoords(F,N.spatialReference,E);H.renderCoordsHelper.toRenderCoords(P,N.spatialReference,I)};y.objectEqual=function(F,P){const N=F.length===P.length&&F[0]===P[0]&&F[1]===P[1];switch(F.length){case 2:return N;case 3:return N&&F[2]===P[2];case 4:return N&&F[3]===P[3]}return!1};y.sortCandidatesInPlace=function(F,P){P.sort((N,B)=>{N=K.squaredDistance(N.targetPoint,F);B=K.squaredDistance(B.targetPoint,F);return N-B})};y.squareDistance=function(F,P){const N=
F.x-P.x;F=F.y-P.y;return N*N+F*F};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/snapping/SnappingVisualizer":function(){define("exports ../../../core/handleUtils ./hints/IntersectionSnappingHint ./hints/LineSnappingHint ./hints/ParallelSnappingHint ./hints/PointSnappingHint ./hints/RightAngleSnappingHint".split(" "),function(y,aa,K,Y,Q,A,G){let z=function(){function x(){}var C=x.prototype;C.draw=function(F,P){F=this.getUniqueHints(F);const N=[];for(const B of F)B instanceof
K.IntersectionSnappingHint&&N.push(this.visualizeIntersectionPoint(B,P)),B instanceof Y.LineSnappingHint&&N.push(this.visualizeLine(B,P)),B instanceof Q.ParallelSnappingHint&&N.push(this.visualizeParallelSign(B,P)),B instanceof G.RightAngleSnappingHint&&N.push(this.visualizeRightAngleQuad(B,P)),B instanceof A.PointSnappingHint&&N.push(this.visualizePoint(B,P));return aa.handlesGroup(N)};C.getUniqueHints=function(F){const P=[];for(const N of F){F=!0;for(const B of P)if(N.equals(B)){F=!1;break}F&&P.push(N)}return P};
return x}();y.SnappingVisualizer=z;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/IntersectionSnappingHint":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../snappingUtils","./SnappingHint"],function(y,aa,K,Y){Y=function(Q){function A(G){var z=Q.call(this)||this;z.intersectionPoint=G;return z}aa._inheritsLoose(A,Q);A.prototype.equals=function(G){return G instanceof A?K.objectEqual(this.intersectionPoint,G.intersectionPoint):
!1};return A}(Y.SnappingHint);y.IntersectionSnappingHint=Y;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/SnappingHint":function(){define(["exports"],function(y){y.SnappingHint=function(){};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/LineSnappingHint":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/Logger ../snappingUtils ./SnappingHint".split(" "),
function(y,aa,K,Y,Q,A){Y.getLogger("esri.views.interactive.snapping.hints.LineSnappingHint");K=function(G){function z(x,C,F,P=!0,N=!0){var B=G.call(this)||this;B.type=x;B.lineStart=C;B.lineEnd=F;B.fadeLeft=P;B.fadeRight=N;return B}aa._inheritsLoose(z,G);z.prototype.equals=function(x){return x instanceof z?this.type===x.type&&Q.objectEqual(this.lineStart,x.lineStart)&&Q.objectEqual(this.lineEnd,x.lineEnd)&&this.fadeLeft===x.fadeLeft&&this.fadeRight===x.fadeRight:!1};return z}(A.SnappingHint);y.LineSnappingHint=
K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/ParallelSnappingHint":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/Logger ../snappingUtils ./SnappingHint".split(" "),function(y,aa,K,Y,Q,A){Y.getLogger("esri.views.interactive.snapping.hints.ParallelSnappingHint");K=function(G){function z(x,C){var F=G.call(this)||this;F.lineStart=x;F.lineEnd=C;return F}aa._inheritsLoose(z,G);z.prototype.equals=
function(x){return x instanceof z?Q.objectEqual(this.lineStart,x.lineStart)&&Q.objectEqual(this.lineEnd,x.lineEnd):!1};return z}(A.SnappingHint);y.ParallelSnappingHint=K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/PointSnappingHint":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../snappingUtils","./SnappingHint"],function(y,aa,K,Y){Y=function(Q){function A(G){var z=Q.call(this)||this;z.point=G;return z}aa._inheritsLoose(A,
Q);A.prototype.equals=function(G){return G instanceof A?K.objectEqual(this.point,G.point):!1};return A}(Y.SnappingHint);y.PointSnappingHint=Y;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/RightAngleSnappingHint":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/Logger ../snappingUtils ./SnappingHint".split(" "),function(y,aa,K,Y,Q,A){Y.getLogger("esri.views.interactive.snapping.hints.RightAngleSnappingHint");
K=function(G){function z(x,C,F){var P=G.call(this)||this;P.previousVertex=x;P.centerVertex=C;P.nextVertex=F;return P}aa._inheritsLoose(z,G);z.prototype.equals=function(x){return x instanceof z?Q.objectEqual(this.previousVertex,x.previousVertex)&&Q.objectEqual(this.centerVertex,x.centerVertex)&&Q.objectEqual(this.nextVertex,x.nextVertex):!1};return z}(A.SnappingHint);y.RightAngleSnappingHint=K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/settings":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../Color ../../../../core/colorUtils ../../../../chunks/vec4f64 ../../webgl-engine/materials/lineStippleUtils".split(" "),
function(y,aa,K,Y,Q,A){function G(S,V){S=S.clone();S.a*=V;return S}function z(S,V){if(V)for(const da in V)S[da]=V[da]}function x(S){return Q.fromArray(K.toUnitRGBA(S))}const C={main:new K([255,127,0]),selected:new K([255,255,255]),staged:new K([12,207,255]),outline:new K([0,0,0,.5]),selectedOutline:new K([255,255,255])};let F=function(S){this.color=C.main;this.height=90;this.coneHeight=40;this.coneWidth=23;this.width=3;this.renderOccluded=16;z(this,S)},P=function(){function S(V){this.size=11;this.outlineSize=
1;this.collisionPadding=9;this.color=C.main;this.outlineColor=C.outline;this.renderOccluded=16;this.hoverOutlineColor=C.selectedOutline;z(this,V)}S.prototype.apply=function(V,da){const R=this[V];da.setParameters({color:x(R),transparent:"color"===V?1>R.a:!0,renderOccluded:this.renderOccluded})};return S}(),N=function(){function S(V){this.size=40;this.height=.2;this.offset=.25;this.collisionPadding=2;this.color=G(C.main,.5);this.hoverColor=C.main;this.renderOccluded=2;this.minSquaredEdgeLength=900;
z(this,V)}S.prototype.apply=function(V,da){V=this[V];da.setParameters({color:x(V),transparent:1>V.a,renderOccluded:this.renderOccluded})};return S}(),B=function(S){this.vertex=new P({color:C.main,outlineColor:C.outline});var V=G(C.main,2/3).clone();var da=Y.toHSV(V);da.s*=.5;da=Y.toRGB(da);V.r=da.r;V.g=da.g;V.b=da.b;this.edge=new P({color:V,outlineColor:G(C.outline,.5),size:8,collisionPadding:8});this.selected=new P({color:C.selected,outlineColor:C.outline});this.edgeOffset=new N;z(this,S)},H=function(){function S(V){this.color=
C.selected;this.width=1.5;this.stipplePattern=A.createStipplePatternSimple(5);this.stippleOffColor=C.outline;this.falloff=0;this.innerWidth=1.5;this.innerColor=C.selected;this.renderOccluded=4;z(this,V)}S.prototype.apply=function(V){V.color=x(this.color);V.width=this.width;V.stipplePattern=this.stipplePattern;V.stippleOffColor=x(this.stippleOffColor);V.falloff=this.falloff;V.innerWidth=this.innerWidth;V.innerColor=x(this.innerColor);V.renderOccluded=this.renderOccluded};return S}(),E=function(){function S(V){this.color=
C.selected;this.size=4;this.outlineSize=1;this.outlineColor=C.outline;this.shape="square";z(this,V)}S.prototype.apply=function(V){V.color=x(this.color);V.size=this.size;V.outlineSize=this.outlineSize;V.outlineColor=x(this.outlineColor);V.primitive=this.shape};return S}(),I=function(){function S(V){this.innerColor=C.selected;this.innerWidth=1;this.glowColor=C.main;this.glowFalloff=this.glowWidth=8;this.globalAlpha=.3;this.globalAlphaContrastBoost=1.5;this.radius=3;this.heightFillColor=C.main;z(this,
V)}S.prototype.apply=function(V,da=1){da={glowColor:K.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:K.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*da,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in V?V.style=da:V.laserlineStyle=da};return S}(),w=function(S){this.outline=new H({color:C.outline,renderOccluded:8,stippleOffColor:C.selected,stipplePattern:A.createStipplePatternSimple(5),
width:1.5,innerWidth:0});this.staged=new H({color:C.selected,renderOccluded:8,innerColor:C.staged,stippleOffColor:C.outline,stipplePattern:A.createStipplePatternSimple(5),width:1.5});this.shadowStyle=new I({globalAlpha:.3,glowColor:C.main,glowFalloff:8,glowWidth:8,innerColor:C.selected,innerWidth:1});z(this,S)},J=function(S){this.outline=new E({color:C.selected,outlineColor:C.outline,outlineSize:1,shape:"circle",size:4});this.shadowStyle=new I({globalAlpha:.3,glowColor:C.main,glowFalloff:1.5,glowWidth:6,
innerColor:C.selected,innerWidth:1,radius:2});z(this,S)},T=function(S){function V(da){var R=S.call(this)||this;R.extensionType=2;z(aa._assertThisInitialized(R),da);return R}aa._inheritsLoose(V,S);return V}(H),D=function(S){this.lineGraphics=new w;this.pointGraphics=new J;this.heightPlane=new I({globalAlpha:.3,glowColor:C.main,glowFalloff:8,glowWidth:8,innerColor:C.selected,innerWidth:1});this.heightBox=new I({globalAlpha:.3,glowColor:C.main,glowFalloff:8,glowWidth:8,innerColor:C.selected,innerWidth:0,
heightFillColor:C.main});this.zVerticalLine=new T({color:G(C.main,.5),falloff:2,innerColor:G(C.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2});this.laserlineAlphaMultiplier=1.5;this.heightPlaneAngleCutoff=20;z(this,S)};const O=new (function(){function S(V){this.visualElements=new D;this.reshapeManipulators=new B;this.zManipulator=new F;z(this,V)}S.prototype.colorToVec4=function(V){return x(V)};return S}());y.VertexManipulatorStyle=P;y.colors=C;y.settings=O;Object.defineProperty(y,
"__esModule",{value:!0})})},"esri/core/colorUtils":function(){define(["exports"],function(y){function aa(C,F){const P=[];let N,B;if(C[0].length!==F.length)throw"dimensions do not match";const H=C.length,E=C[0].length;let I=0;for(N=0;N<H;N++){for(B=I=0;B<E;B++)I+=C[N][B]*F[B];P.push(I)}return P}function K(C){C=[C.r/255,C.g/255,C.b/255].map(F=>.04045>=F?F/12.92:((F+.055)/1.055)**2.4);C=aa(z,C);return{x:100*C[0],y:100*C[1],z:100*C[2]}}function Y(C){C=aa(x,[C.x/100,C.y/100,C.z/100]).map(F=>Math.min(1,
Math.max(.0031308>=F?12.92*F:1.055*F**(1/2.4)-.055,0)));return{r:Math.round(255*C[0]),g:Math.round(255*C[1]),b:Math.round(255*C[2])}}function Q(C){C=[C.x/95.047,C.y/100,C.z/108.883].map(F=>F>(6/29)**3?F**(1/3):1/3*(29/6)**2*F+4/29);return{l:116*C[1]-16,a:500*(C[0]-C[1]),b:200*(C[1]-C[2])}}function A(C){const F=C.l;C=[(F+16)/116+C.a/500,(F+16)/116,(F+16)/116-C.b/200].map(P=>P>6/29?P**3:3*(6/29)**2*(P-4/29));return{x:95.047*C[0],y:100*C[1],z:108.883*C[2]}}function G(C){if("r"in C&&"g"in C&&"b"in C)return C;
if("l"in C&&"c"in C&&"h"in C){var F=C.c;var P=C.h;F={l:C.l,a:F*Math.cos(P),b:F*Math.sin(P)};return Y(A(F))}if("l"in C&&"a"in C&&"b"in C)return Y(A(C));if("x"in C&&"y"in C&&"z"in C)return Y(C);if("h"in C&&"s"in C&&"v"in C){{P=(C.h+360)%360/60;F=C.v/100*255;C=C.s/100*F;const N=C*(1-Math.abs(P%2-1));switch(Math.floor(P)){case 0:P={r:C,g:N,b:0};break;case 1:P={r:N,g:C,b:0};break;case 2:P={r:0,g:C,b:N};break;case 3:P={r:0,g:N,b:C};break;case 4:P={r:N,g:0,b:C};break;case 5:case 6:P={r:C,g:0,b:N};break;
default:P={r:0,g:0,b:0}}P.r=Math.round(P.r+F-C);P.g=Math.round(P.g+F-C);P.b=Math.round(P.b+F-C);F=P}return F}return C}const z=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],x=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];y.darken=function(C,F){C=Q(K(C));C.l*=1-F;return Y(A(C))};y.toHSV=function(C){if("h"in C&&"s"in C&&"v"in C)return C;var F=G(C);{C=F.r;const P=F.g,N=F.b;F=Math.max(C,P,N);const B=F-Math.min(C,P,N);C=0===B?0:F===C?(P-N)/B%6:F===P?(N-C)/B+2:(C-P)/
B+4;0>C&&(C+=6);C={h:60*C,s:100*(0===B?0:B/F),v:100/255*F}}return C};y.toLAB=function(C){return"l"in C&&"a"in C&&"b"in C?C:Q(K(G(C)))};y.toLCH=function(C){if(!("l"in C&&"c"in C&&"h"in C)){{var F=Q(K(G(C)));C=F.l;var P=F.a;const N=F.b;F=Math.sqrt(P*P+N*N);P=Math.atan2(N,P);P=0<P?P:P+2*Math.PI;C={l:C,c:F,h:P}}}return C};y.toRGB=G;y.toXYZ=function(C){return"x"in C&&"y"in C&&"z"in C?C:K(G(C))};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/OutlineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/Evented ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ../../../../geometry/projection ../../../../geometry/support/aaBoundingBox ../../../../layers/graphics/dehydratedFeatures ../../../../support/elevationInfoUtils ../../../../symbols/support/ElevationInfo ./DrapedVisualElementResources ./LaserlineVisualElement ./VisualElementResources ../../layers/graphics/ElevationContext ../../layers/graphics/lineUtils ../../webgl-engine/lib/geometryDataUtils ../../webgl-engine/lib/RenderGeometry ../../webgl-engine/materials/RibbonLineMaterial".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D){let O=function(){function R(ea){this.view=null;this._attachmentOrigin=F.makeDehydratedPoint(0,0,0,null);this._attachmentOriginDirty=!0;this.events=new K;this._isDraped=!1;this._geometry=null;this._width=1;this._color=z.fromValues(1,0,1,1);this._innerWidth=0;this._innerColor=z.fromValues(1,1,1,1);this._stippleOffColor=this._stipplePattern=null;this._falloff=0;this._laserlineStyle=this._elevationInfo=null;this._laserlineEnabled=!1;this._renderOccluded=
8;this.resources=new E.VisualElementResources({view:ea.view,createResources:oa=>this.createResources(oa),recreateGeometry:(oa,ma)=>{oa.geometries.length=0;this.recreateGeometry(ma,oa.material,oa.geometries);return oa.geometries}});this._attachmentOrigin.spatialReference=ea.view.spatialReference;this.drapedResources=new B.DrapedVisualElementResources({view:ea.view,createResources:()=>this._createDrapedResources(),recreateGeometry:oa=>{oa.geometries=this._createRenderGeometriesDraped(oa.material);this.attachmentOriginChanged()}});
let la=!0;this._laserline=new H.LaserlineVisualElement({view:ea.view});for(const oa in ea)oa in this?"attached"===oa?la=ea[oa]:this[oa]=ea[oa]:console.error("Cannot set unknown property",oa);this.attached=la}var ba=R.prototype;ba.destroy=function(){this.resources.destroy();this.drapedResources.destroy();this._laserline.destroy()};ba.updateAttached=function(ea){this.resources.attached=!this.isDraped&&ea;this.drapedResources.attached=this.isDraped&&ea;this._laserline.attached=this.laserlineAttached;
this.attached&&this.attachmentOriginChanged()};ba.updateMaterial=function(){Y.isSome(this.resources.resources)&&this.resources.resources.material.setParameters(this.materialParameters);Y.isSome(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameters(this.materialParameters)};ba.recreateGeometry=function(ea,la,oa){const ma=this.createRenderGeometries();for(const ra of ma)ea.addGeometry(ra,la),oa.push(ra);this.attachmentOriginChanged()};ba.attachmentOriginChanged=function(){this._attachmentOriginDirty=
!0;this.events.emit("attachment-origin-changed")};ba.createResources=function(ea){const la=new D.RibbonLineMaterial(this.materialParameters),oa=[];this.recreateGeometry(ea,la,oa);return{material:la,geometries:oa,forEach:ma=>{ma(la);oa.forEach(ma)}}};ba._createDrapedResources=function(){const ea=new D.RibbonLineMaterial(this.materialParameters),la=this._createRenderGeometriesDraped(ea);return{material:ea,geometries:la}};ba._createRenderGeometriesDraped=function(ea){var la=this.geometry;if(Y.isNone(la))return[];
var oa=w.geometryToRenderInfoDraped(la,this.view.basemapTerrain.spatialReference);la=[];for(const {position:ma}of oa.lines){oa=new T.RenderGeometry(w.createGeometry({overlayInfo:{spatialReference:this.view.basemapTerrain.spatialReference,renderCoordsHelper:this.view.renderCoordsHelper},attributeData:{position:ma},removeDuplicateStartEnd:this.isClosed?1:0}),ea);const ra=C.empty(S);C.expandWithBuffer(ra,ma);G.set(oa.boundingSphere,.5*(ra[0]+ra[3]),.5*(ra[1]+ra[4]),0,.5*Math.sqrt((ra[3]-ra[0])*(ra[3]-
ra[0])+(ra[4]-ra[1])*(ra[4]-ra[1])));la.push(oa)}return la};ba.calculateMapBounds=function(ea){if(Y.isNone(this.resources.resources))return!1;const la=this.view.renderCoordsHelper;for(const oa of this.resources.resources.geometries){const ma=oa.vertexAttributes.get("position"),ra=new Float64Array(ma.data.length);x.projectBuffer(ma.data,la.spatialReference,0,ra,this.view.spatialReference,0,ma.data.length/3);C.expandWithBuffer(ea,ra)}return!0};ba.createRenderGeometries=function(){var ea,la=this.geometry;
if(Y.isNone(la))return[];la=w.geometryToRenderInfo(la,this.view.elevationProvider,this.view.renderCoordsHelper,I.ElevationContext.fromElevationInfo(null!=(ea=this.elevationInfo)?ea:new N({mode:P.getGeometryEffectiveElevationMode(la,null)})));ea=[];const oa=[];for(const {position:ma,mapPosition:ra}of la.lines)ea.push(w.createGeometry({overlayInfo:null,attributeData:{position:ma,mapPosition:ra},removeDuplicateStartEnd:this.isClosed?1:0})),oa.push(ma);this._laserline.pathVerticalPlane=oa;return ea};
aa._createClass(R,[{key:"isDraped",get:function(){return this._isDraped},set:function(ea){ea!==this._isDraped&&(this._isDraped=ea,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}},{key:"laserlineAttached",get:function(){return this.attached&&this.visible&&Y.isSome(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}},{key:"visible",get:function(){return this.resources.visible},set:function(ea){this.resources.visible=ea;this.drapedResources.visible=ea;this._laserline.attached=
this.laserlineAttached}},{key:"attached",get:function(){return this.resources.attached||this.drapedResources.attached},set:function(ea){this.updateAttached(ea)}},{key:"geometry",get:function(){return this._geometry},set:function(ea){this._geometry=ea;this.resources.recreateGeometry();this.drapedResources.recreateGeometry()}},{key:"width",get:function(){return this._width},set:function(ea){ea!==this._width&&(this._width=ea,this.updateMaterial())}},{key:"color",get:function(){return this._color},set:function(ea){G.exactEquals(ea,
this._color)||(G.copy(this._color,ea),this.updateMaterial())}},{key:"innerWidth",get:function(){return this._innerWidth},set:function(ea){ea!==this._innerWidth&&(this._innerWidth=ea,this.updateMaterial())}},{key:"innerColor",get:function(){return this._innerColor},set:function(ea){G.exactEquals(ea,this._innerColor)||(G.copy(this._innerColor,ea),this.updateMaterial())}},{key:"stipplePattern",get:function(){return this._stipplePattern},set:function(ea){const la=Y.isSome(ea)!==Y.isSome(this._stipplePattern);
this._stipplePattern=ea;la?this.resources.recreate():this.updateMaterial()}},{key:"stippleOffColor",get:function(){return this._stippleOffColor},set:function(ea){ea&&this._stippleOffColor&&G.exactEquals(ea,this._stippleOffColor)||(this._stippleOffColor=ea?z.clone(ea):null,this.updateMaterial())}},{key:"falloff",get:function(){return this._falloff},set:function(ea){ea!==this._falloff&&(this._falloff=ea,this.updateMaterial())}},{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(ea){this._elevationInfo=
ea;this.resources.recreateGeometry()}},{key:"laserlineStyle",get:function(){return this._laserlineStyle},set:function(ea){this._laserlineStyle=ea;this._laserline.attached=this.laserlineAttached;Y.isSome(ea)&&(this._laserline.style=ea)}},{key:"laserlineEnabled",get:function(){return this._laserlineEnabled},set:function(ea){this._laserlineEnabled!==ea&&(this._laserlineEnabled=ea,this._laserline.attached=this.laserlineAttached)}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(ea){ea!==
this._renderOccluded&&(this._renderOccluded=ea,this.updateMaterial())}},{key:"attachmentOrigin",get:function(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;var ea=Y.isSome(this.resources.resources)?this.resources.resources.geometries:null;if(!ea||0===ea.length)return null;Q.set(da,0,0,0);let la=0;for(const oa of ea){ea=oa.vertexAttributes.get("position");const ma=oa.indices.get("position"),ra=Y.unwrap(this.resources.resources).material.isClosed(ea.data,ma);J.computeAttachmentOriginLines(ea,
ma,ra,V)&&(Q.add(da,da,V),la++)}if(0===la)return null;Q.scale(da,da,1/la);this.view.renderCoordsHelper.fromRenderCoords(da,this._attachmentOrigin);this._attachmentOriginDirty=!1;return this._attachmentOrigin}},{key:"isClosed",get:function(){return Y.isSome(this.geometry)&&"polygon"===this.geometry.type}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:!1,isClosed:this.isClosed,
falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:"round",polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}},{key:"normalizedRenderOccluded",get:function(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}}]);return R}();const S=C.create(),V=A.create(),da=A.create();y.OutlineVisualElement=O;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/DrapedVisualElementResources":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Identifiable ../../../../core/maybe ../../../../core/accessorSupport/decorators/property ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/subclass".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F){z=function(){function N(H){this.resourceFactory=H;this._resources=null;this._visible=!0;this._attached=!1}var B=N.prototype;B.destroy=function(){this._destroyResources()};B.recreate=function(){this.attached&&this._createResources()};B.recreateGeometry=function(){this.resourceFactory.recreateGeometry?A.isNone(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()};
B._createOrDestroyResources=function(){this._attached?A.isNone(this._resources)&&this._createResources():this._destroyResources()};B._createResources=function(){var H;this._destroyResources();var E=this.resourceFactory.createResources();this._resources={layerView:new P({view:this.resourceFactory.view}),external:E,geometriesAdded:!1};this._syncGeometriesToRenderer();(E=null==(H=this.resourceFactory.view.basemapTerrain)?void 0:H.overlayManager)&&E.registerDrapeSource(this._resources.layerView)};B._destroyResources=
function(){var H;if(!A.isNone(this._resources)){this.ensureRenderGeometriesRemoved();var E=null==(H=this.resourceFactory.view.basemapTerrain)?void 0:H.overlayManager;E&&E.unregisterDrapeSource(this._resources.layerView);this._resources=null}};B._syncGeometriesToRenderer=function(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()};B.ensureRenderGeometriesRemoved=function(){var H;!A.isNone(this._resources)&&null!=(H=this.resourceFactory.view)&&H.basemapTerrain&&
this._resources.geometriesAdded&&(this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1)};B.ensureRenderGeometriesAdded=function(){A.isNone(this._resources)||this._resources.geometriesAdded||(this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0)};
aa._createClass(N,[{key:"resources",get:function(){return A.isSome(this._resources)?this._resources.external:null}},{key:"visible",get:function(){return this._visible},set:function(H){H!==this._visible&&(this._visible=H,this._syncGeometriesToRenderer())}},{key:"attached",get:function(){return this._attached},set:function(H){H!==this._attached&&(this._attached=H,this._createOrDestroyResources())}}]);return N}();let P=function(N){function B(H){H=N.call(this,H)||this;H.drapeSourceType=1;H.updatePolicy=
1;return H}aa._inheritsLoose(B,N);return B}(Q.IdentifiableMixin(Y));K.__decorate([G.property({constructOnly:!0})],P.prototype,"view",void 0);K.__decorate([G.property({readOnly:!0})],P.prototype,"drapeSourceType",void 0);P=K.__decorate([F.subclass("DrapedVisualElementLayerView")],P);y.DrapedVisualElementResources=z;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/VerticesVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../editingTools/settings ./Object3DVisualElement ../../layers/graphics/ElevationContext ../../layers/graphics/pointUtils ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/ShadedColorMaterial".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P){z=function(B){function H(I){var w=B.call(this,I)||this;w.view=null;w._renderOccluded=4;w._vertices=null;w._spatialReference=null;w._color=G.settings.colorToVec4(G.settings.reshapeManipulators.vertex.color);w._size=G.settings.reshapeManipulators.vertex.size;w._outlineColor=G.settings.colorToVec4(G.settings.reshapeManipulators.vertex.outlineColor);w._outlineSize=G.settings.reshapeManipulators.vertex.outlineSize;w._elevationInfo=null;w.applyProps(I);return w}aa._inheritsLoose(H,
B);var E=H.prototype;E.updateMaterial=function(){this.attached&&this.vertexMaterial.setParameters(this.vertexMaterialParameters)};E.updateOutlineMaterial=function(){this.attached&&this.vertexOutlineMaterial.setParameters(this.vertexOutlineMaterialParameters)};E.createRenderGeometries=function(){var I=this.vertices;if(K.isNone(I)||0===I.length)return[];var w=C.geometryToRenderInfo(I,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,x.ElevationContext.fromElevationInfo(this.elevationInfo));
I=[];const J=w.numVertices;w=w.position;for(let D=0;D<J;++D){var T=Y.set(N,w[3*D],w[3*D+1],w[3*D+2]);const O=F.createSphereGeometry(.5,16,16,{offset:T});T=F.createSphereGeometry(.5,16,16,{offset:T});I.push({vertexGeometry:O,vertexOutlineGeometry:T})}return I};E.createGeometries=function(I){const w=this.createRenderGeometries();for(const {vertexGeometry:J,vertexOutlineGeometry:T}of w)I.addGeometry(J,this.vertexMaterial),I.addGeometry(T,this.vertexOutlineMaterial)};E.createExternalResources=function(){this.vertexMaterial=
new P.ShadedColorMaterial({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0});this.vertexOutlineMaterial=new P.ShadedColorMaterial({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1})};E.destroyExternalResources=function(){this.vertexOutlineMaterial=this.vertexMaterial=null};E.forEachExternalMaterial=function(I){I(this.vertexMaterial);I(this.vertexOutlineMaterial)};aa._createClass(H,[{key:"renderOccluded",
get:function(){return this._renderOccluded},set:function(I){I!==this._renderOccluded&&(this._renderOccluded=I,this.updateMaterial(),this.updateOutlineMaterial())}},{key:"vertices",get:function(){return this._vertices},set:function(I){this._vertices=I;this.recreateGeometry()}},{key:"spatialReference",get:function(){return this._spatialReference},set:function(I){this._spatialReference=I;this.recreateGeometry()}},{key:"color",get:function(){return this._color},set:function(I){A.exactEquals(I,this._color)||
(A.copy(this._color,I),this.updateMaterial())}},{key:"size",get:function(){return this._size},set:function(I){I!==this._size&&(this._size=I,this.updateMaterial())}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(I){A.exactEquals(I,this._outlineColor)||(A.copy(this._outlineColor,I),this.updateOutlineMaterial())}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(I){I!==this._outlineSize&&(this._outlineSize=I,this.updateOutlineMaterial())}},{key:"elevationInfo",
get:function(){return this._elevationInfo},set:function(I){this._elevationInfo=I;this.recreateGeometry()}},{key:"vertexMaterialParameters",get:function(){return{color:this._color,transparent:1>this._color[3],screenSize:this.size,renderOccluded:this._renderOccluded}}},{key:"vertexOutlineMaterialParameters",get:function(){return{color:this._outlineColor,transparent:1>this._outlineColor[3],screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}}]);return H}(z.Object3DVisualElement);
const N=Q.create();y.VerticesVisualElement=z;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/materials/ShadedColorMaterial":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/buffer/BufferView ../../support/buffer/InterleavedLayout ../lib/GLMaterial ../lib/GLMaterials ../lib/Material ../lib/Util ./internal/bufferWriterUtils ./internal/MaterialUtil ../shaders/ShadedColorMaterialTechnique".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B){let H=function(D){function O(V){V=D.call(this,V,I)||this;V.supportsEdges=!0;V.techniqueConfig=new B.ShadedColorMaterialTechniqueConfiguration;V._vertexAttributeLocations=B.ShadedColorMaterialVertexAttrLocations;return V}aa._inheritsLoose(O,D);var S=O.prototype;S.getTechniqueConfig=function(V,da){this.techniqueConfig.output=V;this.techniqueConfig.cullFace=this.parameters.cullFace;this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled;this.techniqueConfig.transparent=
this.parameters.transparent;this.techniqueConfig.writeDepth=this.parameters.writeDepth;this.techniqueConfig.screenSizeEnabled=this.parameters.screenSizeEnabled;this.techniqueConfig.shadingEnabled=this.parameters.shadingEnabled;this.techniqueConfig.transparencyPassType=da.transparencyPassType;this.techniqueConfig.multipassTerrainEnabled=da.multipassTerrainEnabled;this.techniqueConfig.cullAboveGround=da.cullAboveGround;return this.techniqueConfig};S.getPassParameters=function(){return this.parameters};
S.intersect=function(V,da,R,ba,ea,la,oa){if(this.parameters.screenSizeEnabled){const ma=V.vertexAttributes.get("offset");N.intersectTriangleGeometry(V,da,ba,ea,la,{applyToVertex:(ra,ua,pa,xa)=>{xa=K.set(J,ma.data[3*xa],ma.data[3*xa+1],ma.data[3*xa+2]);ra=K.set(T,ra,ua,pa);K.scale(xa,xa,this.parameters.screenSize*ba.camera.computeRenderPixelSizeAt(xa));K.add(ra,ra,xa);return[ra[0],ra[1],ra[2]]},applyToAabb:ra=>{const ua=Q.center(ra,J);return Q.scale(ra,this.parameters.screenSize*ba.camera.computeRenderPixelSizeAt(ua))}},
oa)}else N.intersectTriangleGeometry(V,da,ba,ea,la,void 0,oa)};S.requiresSlot=function(V,da){if(4===x.outputFromPass(da))return 2===V;da=2;this.parameters.transparent&&(da=this.parameters.writeDepth?4:7);return V===da||20===V};S.createGLMaterial=function(V){return 0===V.output||7===V.output||4===V.output?new E(V):null};S.createBufferWriter=function(){return new w(this.parameters.screenSizeEnabled)};return O}(C.Material),E=function(D){function O(){return D.apply(this,arguments)||this}aa._inheritsLoose(O,
D);var S=O.prototype;S.updateParameters=function(V){return this.ensureTechnique(B.ShadedColorMaterialTechnique,V)};S.beginSlot=function(V){return this.updateParameters(V)};S.bind=function(V,da){da.bindPass(this._material.getPassParameters(),V)};return O}(z);const I={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:K.normalize(Y.create(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...C.materialParametersDefaults};
let w=function(){function D(S){this.screenSizeEnabled=S;S=G.newLayout().vec3f("position").vec3f("normal");this.screenSizeEnabled&&S.vec3f("offset");this.vertexBufferLayout=S}var O=D.prototype;O.allocate=function(S){return this.vertexBufferLayout.createBuffer(S)};O.elementCount=function(S){return S.indices.get("position").length};O.write=function(S,V,da,R){P.writeDefaultAttributes(V,this.vertexBufferLayout,S.transformation,S.invTranspTransformation,da,R);if(this.screenSizeEnabled)if(V.vertexAttributes.has("offset")){const ba=
V.vertexAttributes.get("offset");V=V.indices.get("offset");F.assert(3===ba.size);if(da=da.getField("offset",A.BufferViewVec3f))P.writePosition(V,ba.data,S.invTranspTransformation,da,R);else throw Error("unable to acquire view for offset");}else throw Error("offset vertex attribute required for screenSizeEnabled ShadedColorMaterial");};return D}();const J=Y.create(),T=Y.create();y.ShadedColorMaterial=H;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../chunks/vec4f64 ../core/shaderLibrary/ScreenSizeScaling.glsl ../core/shaderLibrary/Slice.glsl ../core/shaderLibrary/shading/MultipassTerrainTest.glsl ../core/shaderLibrary/util/View.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/OrderIndependentTransparency ../lib/Program ../../../../chunks/ShadedColorMaterial.glsl ../../../webgl/renderState".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E){F=function(J){function T(){return J.apply(this,arguments)||this}K._inheritsLoose(T,J);var D=T.prototype;D.initializeProgram=function(O){var S=T.shader.get();const V=this.configuration;S=S.build({output:V.output,slicePlaneEnabled:V.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:V.screenSizeEnabled,shadingEnabled:V.shadingEnabled,OITEnabled:0===V.transparencyPassType,multipassTerrainEnabled:V.multipassTerrainEnabled,
cullAboveGround:V.cullAboveGround});return new B.Program(O.rctx,S,I)};D.bindPass=function(O,S){const {screenSizeEnabled:V,shadingEnabled:da}=this.configuration,{color:R,shadingTint:ba,shadingDirection:ea}=O;x.bindProjectionMatrix(this.program,S.camera.projectionMatrix);this.program.setUniform4fv("color",R);S.multipassTerrainEnabled&&(this.program.setUniform2fv("cameraNearFar",S.camera.nearFar),this.program.setUniform2fv("inverseViewport",S.inverseViewport),z.bindMultipassTerrainTexture(this.program,
S));da&&(this.program.setUniform4fv("shadedColor",this.blendColor(w,ba,R)),this.program.setUniform3fv("shadingDirection",ea),this.program.setUniformMatrix4fv("viewNormal",S.camera.viewInverseTransposeMatrix));V&&A.bindScreenSizeScalingUniforms(this.program,O,S)};D.bindDraw=function(O){x.bindView(this.program,O);x.bindCameraPosition(this.program,O.origin,O.camera.viewInverseTransposeMatrix);G.bindSliceUniformsWithOrigin(this.program,this.configuration,O);this.program.rebindTextures()};D.blendColor=
function(O,S,V){const da=1-S[3],R=S[3]+V[3]*da;if(0===R)return O[3]=R,O;O[0]=(S[0]*S[3]+V[0]*V[3]*da)/R;O[1]=(S[1]*S[3]+V[1]*V[3]*da)/R;O[2]=(S[2]*S[3]+V[2]*V[3]*da)/R;O[3]=V[3];return O};D.setPipelineState=function(O){const S=this.configuration,V=3===O,da=2===O;return E.makePipelineState({blending:0!==S.output&&7!==S.output||!S.transparent?null:V?N.blendingDefault:N.OITBlending(O),culling:E.cullingParams(S.cullFace),depthTest:{func:da?513:S.shadingEnabled?515:513},depthWrite:V?S.writeDepth&&E.defaultDepthWriteParams:
N.OITDepthWrite(O),colorWrite:E.defaultColorWriteParams,polygonOffset:V||da?null:N.OITPolygonOffset})};D.initializePipeline=function(){return this.setPipelineState(this.configuration.transparencyPassType)};return T}(F.ShaderTechnique);F.shader=new C.ReloadableShaderModule(H.ShadedColorMaterialShader,()=>new Promise((J,T)=>y(["./ShadedColorMaterial.glsl"],J,T)));C=function(J){function T(){var D=J.apply(this,arguments)||this;D.output=0;D.cullFace=0;D.slicePlaneEnabled=!1;D.transparent=!1;D.writeDepth=
!0;D.screenSizeEnabled=!0;D.shadingEnabled=!0;D.transparencyPassType=3;D.multipassTerrainEnabled=!1;D.cullAboveGround=!1;return D}K._inheritsLoose(T,J);return T}(P.ShaderTechniqueConfiguration);Y.__decorate([P.parameter({count:8})],C.prototype,"output",void 0);Y.__decorate([P.parameter({count:3})],C.prototype,"cullFace",void 0);Y.__decorate([P.parameter()],C.prototype,"slicePlaneEnabled",void 0);Y.__decorate([P.parameter()],C.prototype,"transparent",void 0);Y.__decorate([P.parameter()],C.prototype,
"writeDepth",void 0);Y.__decorate([P.parameter()],C.prototype,"screenSizeEnabled",void 0);Y.__decorate([P.parameter()],C.prototype,"shadingEnabled",void 0);Y.__decorate([P.parameter({count:4})],C.prototype,"transparencyPassType",void 0);Y.__decorate([P.parameter()],C.prototype,"multipassTerrainEnabled",void 0);Y.__decorate([P.parameter()],C.prototype,"cullAboveGround",void 0);const I=new Map([["position",0],["normal",1],["offset",2]]),w=Q.create();aa.ShadedColorMaterialTechnique=F;aa.ShadedColorMaterialTechniqueConfiguration=
C;aa.ShadedColorMaterialVertexAttrLocations=I;Object.defineProperty(aa,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl":function(){define(["exports","../shaderModules/interfaces"],function(y,aa){y.ScreenSizeScaling=function(K){K.vertex.uniforms.add("camPos","vec3").add("perScreenPixelRatio","float").add("screenSize","float");K.vertex.code.add(aa.glsl`float computeRenderPixelSizeAt( vec3 pWorld ){
vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);
float viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));
return viewDirectionDistance*perScreenPixelRatio;
}
vec3 screenSizeScaling(vec3 position, vec3 anchor){
return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;
}`)};y.bindScreenSizeScalingUniforms=function(K,Y,Q){K.setUniform1f("perScreenPixelRatio",Q.camera.perScreenPixelRatio);K.setUniform1f("screenSize",Y.screenSize)};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/chunks/ShadedColorMaterial.glsl":function(){define("exports ../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl ../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C){function F(N){const B=new C.ShaderBuilder;B.include(Y.Transform,{linearDepth:!1});B.include(aa.ScreenSizeScaling,{});B.include(K.Slice,N);B.fragment.include(z.ColorConversion);B.vertex.uniforms.add("proj","mat4").add("view","mat4");B.fragment.uniforms.add("color","vec4");B.attributes.add("position","vec3");B.varyings.add("vWorldPosition","vec3");N.multipassTerrainEnabled&&B.varyings.add("depth","float");N.screenSizeEnabled&&B.attributes.add("offset","vec3");N.shadingEnabled&&
(B.vertex.uniforms.add("viewNormal","mat4"),B.fragment.uniforms.add("shadedColor","vec4").add("shadingDirection","vec3"),B.attributes.add("normal","vec3"),B.varyings.add("vViewNormal","vec3"));B.vertex.code.add(x.glsl`
    void main(void) {
      vWorldPosition = ${N.screenSizeEnabled?"screenSizeScaling(offset, position)":"position"};
  `);N.shadingEnabled&&B.vertex.code.add(x.glsl`vec3 worldNormal = normal;
vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`);B.vertex.code.add(x.glsl`
    ${N.multipassTerrainEnabled?"depth \x3d (view * vec4(vWorldPosition, 1.0)).z;":""}
    gl_Position = transformPosition(proj, view, vWorldPosition);
  }
  `);N.multipassTerrainEnabled&&(B.fragment.include(Q.ReadLinearDepth),B.include(A.multipassTerrainTest,N));B.fragment.code.add(x.glsl`
    void main() {
      discardBySlice(vWorldPosition);
      ${N.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}
    `);N.shadingEnabled?B.fragment.code.add(x.glsl`vec3 viewNormalNorm = normalize(vViewNormal);
float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);
vec4 finalColor = mix(color, shadedColor, shadingFactor);`):B.fragment.code.add(x.glsl`vec4 finalColor = color;`);B.fragment.code.add(x.glsl`
      if (finalColor.a < ${x.glsl.float(G.symbolAlphaCutoff)}) {
        discard;
      }
      ${7===N.output?x.glsl`gl_FragColor = vec4(finalColor.a);`:""}

      ${0===N.output?x.glsl`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${N.OITEnabled?"gl_FragColor \x3d premultiplyAlpha(gl_FragColor);":""}`:""}
    }
    `);return B}const P=Object.freeze({__proto__:null,build:F});y.ShadedColorMaterialShader=P;y.build=F})},"esri/views/3d/layers/graphics/GraphicState":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Evented ../../../../core/accessorSupport/decorators/property ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/subclass".split(" "),function(y,aa,
K,Y,Q,A,G,z,x){y.GraphicState=function(C){function F(P){P=C.call(this,P)||this;P.tracking=!1;P.displaying=!1;P.isDraped=!1;return P}aa._inheritsLoose(F,C);return F}(Y.EventedAccessor);K.__decorate([Q.property({constructOnly:!0})],y.GraphicState.prototype,"graphic",void 0);K.__decorate([Q.property()],y.GraphicState.prototype,"tracking",void 0);K.__decorate([Q.property()],y.GraphicState.prototype,"displaying",void 0);K.__decorate([Q.property()],y.GraphicState.prototype,"isDraped",void 0);y.GraphicState=
K.__decorate([x.subclass("esri.views.3d.layers.graphics.GraphicState")],y.GraphicState);Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/draw/DrawGraphicTool":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Graphic ../../core/has ../../core/Evented ../../core/HandleOwner ../../core/handleUtils ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../layers/GraphicsLayer ./support/createUtils ./support/surfaceCoordinateSystems ../interactive/InteractiveToolBase".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I){y.DrawGraphicTool=function(J){function T(O){O=J.call(this,O)||this;O._graphic=null;O.defaultZ=0;O.geometryType=null;O.hasZ=!0;O.mode=null;O.snappingManager=null;O.snapToScene=!1;return O}aa._inheritsLoose(T,J);var D=T.prototype;D.initialize=function(){this.internalGraphicsLayer=new B({listMode:"hide",internal:!0});this.view.map.layers.add(this.internalGraphicsLayer);this.drawOperation=this.makeDrawOperation();this.handles.add([this.drawOperation.on("vertex-add",
O=>this.onVertexAdd(O)),this.drawOperation.on("vertex-remove",O=>this.onVertexRemove(O)),this.drawOperation.on("vertex-update",O=>this.onVertexUpdate(O)),this.drawOperation.on("cursor-update",O=>this.onCursorUpdate(O)),this.drawOperation.on("complete",O=>this.onComplete(O))]);this.complete()};D.destroy=function(){this.drawOperation=x.destroyMaybe(this.drawOperation);this._destroyAllVisualisations();this.view.map.remove(this.internalGraphicsLayer);this.internalGraphicsLayer=x.destroyMaybe(this.internalGraphicsLayer);
this._set("view",null)};D.completeCreateOperation=function(){this.drawOperation.complete()};D.onInputEvent=function(O){this.drawOperation.onInputEvent(O)};D.redo=function(){this.drawOperation.redo()};D.reset=function(){};D.undo=function(){this.drawOperation.undo()};D._createGraphic=function(O){this._graphic=new Y({geometry:O,symbol:this.graphicSymbol});this.internalGraphicsLayer.add(this._graphic);this.handles.add(this.initializeGraphic(this._graphic));this.notifyChange("graphic");this.handles.add(z.makeHandle(()=>
{x.isSome(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=x.destroyMaybe(this._graphic))}),"create-operation-graphic")};D._destroyAllVisualisations=function(){this.handles.remove(w.outline);this.handles.remove(w.regularVertices);this.handles.remove(w.activeVertex);this.handles.remove("create-operation-graphic")};D._getCreateOperationGeometry=function(O={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;var S=this.drawOperation.stagedVertex,
V=this.drawOperation.committedVertices;const da=V.slice();x.isSome(S)&&da.push(this.drawOperation.coordinateHelper.pointToArray(S));var R=x.isSome(S)?this.drawOperation.coordinateHelper.pointToArray(S):V.splice(-1)[0];S={regularVertices:null,activeVertex:null,full:null,outline:null};const ba=da.length,ea=this.drawOperation.spatialReference,la="3d"===this.view.type&&"global"===this.view.viewingMode;switch(this.geometryType){case "point":S.regularVertices=V;S.activeVertex=R;S.full=this.drawOperation.coordinateHelper.arrayToPoint(da[0]);
break;case "multipoint":S.regularVertices=V;S.activeVertex=R;0<ba&&(S.full=H.createMultipoint(da,ea));break;case "polyline":S.regularVertices=V;S.activeVertex=R;0<ba&&(S.full=H.createPolyline([da],ea,la));break;case "polygon":S.regularVertices=V;S.activeVertex=R;0<ba&&(S.full=H.createPolygon([da],ea,la,!0));break;case "circle":0<ba&&(V=E.createViewAlignedCoordinateSystem(this.view,da[0]),1===ba&&O.operationComplete?(O=da[0],R=V.makeMapPoint(O[0]+48*this.view.resolution,O[1]),S.full=H.createCircle([O,
R],V,!0)):2===ba&&(S.full=this.forceUniformSize?H.createCircle(da,V,this.centered):H.createEllipse(da,V,this.centered)));break;case "rectangle":0<ba&&(V=E.createViewAlignedCoordinateSystem(this.view,da[0]),1===ba&&O.operationComplete?(O=da[0],R=V.makeMapPoint(O[0]+48*this.view.resolution,O[1]),S.full=H.createSquare([O,R],V,!0)):2===ba&&(S.full=this.forceUniformSize?H.createSquare(da,V,this.centered):H.createRectangle(da,V,this.centered)));break;default:return null}switch(this.geometryType){case "polyline":case "polygon":1<
ba&&(S.outline=H.createPolyline([da],ea,la));break;case "circle":case "rectangle":x.isSome(S.full)&&"polygon"===S.full.type&&(S.outline=H.createPolygon(S.full.rings,ea,la))}return S};D.initializeGraphic=function(O){return null};D.onComplete=function(O){this._updateGraphic();let S=null;if(this.drawOperation.isCompleted){const V=this._getCreateOperationGeometry({operationComplete:!0});x.isSome(V)&&(S=new Y({geometry:V.full,symbol:this.graphicSymbol,sourceLayer:this.internalGraphicsLayer,...this.graphicProperties}))}this.emit("complete",
{graphic:S,...O})};D.onCursorUpdate=function(O){this._updateGraphic();this.emit("cursor-update",O)};D.onDeactivate=function(){this.drawOperation.isCompleted||this.drawOperation.cancel()};D.onVertexAdd=function(O){this._updateGraphic();this.emit("vertex-add",O)};D.onVertexRemove=function(O){this._updateGraphic();this.emit("vertex-remove",O)};D.onVertexUpdate=function(O){this._updateGraphic();this.emit("vertex-update",O)};D._updateGraphic=function(){const O=this._getCreateOperationGeometry();x.isNone(O)?
this._destroyAllVisualisations():(x.isSome(O.outline)?this.handles.add(this.onOutlineChanged(O.outline),w.outline):this.handles.remove(w.outline),x.isSome(O.regularVertices)?this.handles.add(this.onRegularVerticesChanged(O.regularVertices),w.regularVertices):this.handles.remove(w.regularVertices),x.isSome(O.activeVertex)?this.handles.add(this.onActiveVertexChanged(O.activeVertex),w.activeVertex):this.handles.remove(w.activeVertex),x.isSome(O.full)?x.isNone(this._graphic)?this._createGraphic(O.full):
this._graphic.geometry=O.full:this.handles.remove("create-operation-graphic"))};aa._createClass(T,[{key:"canRedo",get:function(){return this.drawOperation.canRedo}},{key:"canUndo",get:function(){return this.drawOperation.canUndo}},{key:"centered",set:function(O){this._set("centered",O);this._updateGraphic()}},{key:"enabled",set:function(O){this.drawOperation.interactive=O;this._set("enabled",O)}},{key:"forceUniformSize",set:function(O){this._set("forceUniformSize",O);this._updateGraphic()}},{key:"graphic",
get:function(){return this._graphic}},{key:"graphicSymbol",set:function(O){this._set("graphicSymbol",O);x.isSome(this._graphic)&&(this._graphic.symbol=O)}},{key:"updating",get:function(){var O,S;return null!=(O=null==(S=this.drawOperation)?void 0:S.updating)?O:!1}}]);return T}(G.HandleOwnerMixin(A.EventedMixin(I.InteractiveToolBase)));K.__decorate([C.property({value:!0})],y.DrawGraphicTool.prototype,"centered",null);K.__decorate([C.property({nonNullable:!0})],y.DrawGraphicTool.prototype,"defaultZ",
void 0);K.__decorate([C.property()],y.DrawGraphicTool.prototype,"drawOperation",void 0);K.__decorate([C.property({value:!0})],y.DrawGraphicTool.prototype,"enabled",null);K.__decorate([C.property({value:!0})],y.DrawGraphicTool.prototype,"forceUniformSize",null);K.__decorate([C.property({constructOnly:!0})],y.DrawGraphicTool.prototype,"geometryType",void 0);K.__decorate([C.property()],y.DrawGraphicTool.prototype,"graphic",null);K.__decorate([C.property({constructOnly:!0})],y.DrawGraphicTool.prototype,
"graphicProperties",void 0);K.__decorate([C.property()],y.DrawGraphicTool.prototype,"graphicSymbol",null);K.__decorate([C.property({constructOnly:!0})],y.DrawGraphicTool.prototype,"hasZ",void 0);K.__decorate([C.property({constructOnly:!0})],y.DrawGraphicTool.prototype,"mode",void 0);K.__decorate([C.property()],y.DrawGraphicTool.prototype,"snappingManager",void 0);K.__decorate([C.property()],y.DrawGraphicTool.prototype,"snapToScene",void 0);K.__decorate([C.property({readOnly:!0})],y.DrawGraphicTool.prototype,
"type",void 0);K.__decorate([C.property({readOnly:!0})],y.DrawGraphicTool.prototype,"updating",null);K.__decorate([C.property({constructOnly:!0,nonNullable:!0})],y.DrawGraphicTool.prototype,"view",void 0);y.DrawGraphicTool=K.__decorate([N.subclass("esri.views.draw.DrawGraphicTool")],y.DrawGraphicTool);const w={outline:"outline-visual",regularVertices:"regular-vertices-visual",activeVertex:"active-vertex-visual"};y.geometryTypeToDrawOperationGeometryType=function(J){switch(J){case "point":case "polyline":case "polygon":case "multipoint":return J;
case "circle":case "rectangle":return"segment";default:return null}};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/layers/GraphicsLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ./Layer ./mixins/BlendLayer ./mixins/ScaleRangeLayer ../support/GraphicsCollection ../symbols/support/ElevationInfo".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N){Y=function(B){function H(I){I=B.call(this,I)||this;I.elevationInfo=null;I.graphics=new P.GraphicsCollection;I.screenSizePerspectiveEnabled=!0;I.type="graphics";I.internal=!1;return I}y._inheritsLoose(H,B);var E=H.prototype;E.destroy=function(){this.removeAll();this.graphics.destroy()};E.add=function(I){this.graphics.add(I);return this};E.addMany=function(I){this.graphics.addMany(I);return this};E.removeAll=function(){this.graphics.removeAll();return this};E.remove=
function(I){this.graphics.remove(I)};E.removeMany=function(I){this.graphics.removeMany(I)};E.on=function(I,w){return B.prototype.on.call(this,I,w)};E.graphicChanged=function(I){this.emit("graphic-update",I)};return H}(C.BlendLayer(F.ScaleRangeLayer(x)));aa.__decorate([K.property({type:N})],Y.prototype,"elevationInfo",void 0);aa.__decorate([K.property(z.owningCollectionProperty(P.GraphicsCollection,"graphics"))],Y.prototype,"graphics",void 0);aa.__decorate([K.property({type:["show","hide"]})],Y.prototype,
"listMode",void 0);aa.__decorate([K.property()],Y.prototype,"screenSizePerspectiveEnabled",void 0);aa.__decorate([K.property({readOnly:!0})],Y.prototype,"type",void 0);aa.__decorate([K.property({constructOnly:!0})],Y.prototype,"internal",void 0);return Y=aa.__decorate([G.subclass("esri.layers.GraphicsLayer")],Y)})},"esri/views/draw/support/createUtils":function(){define("exports ../../../geometry ../../../core/arrayUtils ../../../core/lang ../../../core/maybe ../../../core/unitUtils ../../../geometry/Circle ../../../geometry/geometryEngine ../../../geometry/support/coordsUtils ../../../geometry/support/spatialReferenceUtils ./surfaceCoordinateSystems ../../../geometry/Multipoint ../../../geometry/Point ../../../geometry/Polyline ../../../geometry/Polygon".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H){function E(w,J){J=new N({x:w[0],y:w[1],spatialReference:J});2<w.length&&(J.z=w[2]);return J}function I(w,J,T,D=!0){w=Y.clone(w);w.forEach(O=>{K.equals(O[0],O[O.length-1])&&1!==O.length||O.push(O[0])});w=new H({rings:w,spatialReference:J});w.rings.forEach(O=>{x.isClockwise(O,!1,!1)||O.reverse()});T&&x.unnormalizeGeometryOnDatelineCrossing(w);D&&w.isSelfIntersecting&&C.isValid(J)&&(w=z.simplify(w));return w}y.SNAPPING_GRAPHICS_LAYER_ID="DrawAction-snapping-graphics-layer";
y.createCircle=function(w,J,T,D){var O=J.mapToLocalMultiple(w),S=w=null;T?(w=O[0],S=O[1]):(w=O[0],T=O[1],S=Math.round(T.x-w.x),T=Math.round(T.y-w.y),O=Math.max(Math.abs(S),Math.abs(T)),w=F.makeSurfacePoint(0<S?w.x+O/2:w.x-O/2,0<T?w.y+O/2:w.y-O/2),S=F.makeSurfacePoint(Math.abs(S)>Math.abs(T)?w.x-O/2:w.x,Math.abs(S)>Math.abs(T)?w.y:w.y-O/2));T=J.localToMap(w);O=J.localToMap(S);if(Q.isNone(T)||Q.isNone(O))return null;J.doUnnormalization&&x.unnormalizeVerticesOnDatelineCrossing([[T,O]],J.spatialReference);
T=E(T,J.spatialReference);var V=E(O,J.spatialReference);O=A.getMetersPerUnitForSR(J.spatialReference);let da=0;C.isValid(J.spatialReference)?da=O*z.distance(T,V,null):(V=w.x-S.x,w=w.y-S.y,da=O*Math.sqrt(V*V+w*w)*(D||1));J=new G({center:T,radius:da,radiusUnit:"meters",spatialReference:J.spatialReference});return I(J.rings,J.spatialReference,!1)};y.createEllipse=function(w,J,T){var D=J.mapToLocalMultiple(w);w=D[0];var O=D[1];D=Math.round(O.x-w.x);O=Math.round(O.y-w.y);w=F.makeSurfacePoint(T?w.x:w.x+
D/2,T?w.y:w.y+O/2);D=T?D:D/2;T=T?O:O/2;O=[];const S=2*Math.PI/60;for(let V=0;60>V;V++){const da=F.makeSurfacePoint(D*Math.cos(V*S)+w.x,T*Math.sin(V*S)+w.y);O.push(da)}O.push(O[0]);return I([Q.filterNones(O.map(V=>J.localToMap(V)))],J.spatialReference,J.doUnnormalization,!1)};y.createMultipoint=function(w,J){return new P({points:w,spatialReference:J})};y.createPoint=E;y.createPolygon=I;y.createPolyline=function(w,J,T){w=new B({paths:w,spatialReference:J});T&&x.unnormalizeGeometryOnDatelineCrossing(w);
return w};y.createRectangle=function(w,J,T){var D=J.mapToLocalMultiple(w);1===D.length&&(w=D[0],D=[F.makeSurfacePoint(w.x-48,w.y+48),F.makeSurfacePoint(w.x+48,w.y-48),F.makeSurfacePoint(w.x+48,w.y-48),F.makeSurfacePoint(w.x-48,w.y+48)]);w=[];var O=D[0].x,S=D[0].y,V=D[1].x;D=D[1].y;if(T){T=Math.round(V-O);const da=Math.round(D-S);w.push(F.makeSurfacePoint(O-T,S-da),F.makeSurfacePoint(V,S-da),F.makeSurfacePoint(V,D),F.makeSurfacePoint(O-T,D))}else w.push(F.makeSurfacePoint(O,S),F.makeSurfacePoint(V,
S),F.makeSurfacePoint(V,D),F.makeSurfacePoint(O,D));return I([Q.filterNones(w.map(da=>J.localToMap(da)))],J.spatialReference,J.doUnnormalization,!0)};y.createSquare=function(w,J,T){var D=J.mapToLocalMultiple(w);w=[];var O=D[0].x,S=D[0].y,V=Math.round(D[1].x-O);const da=Math.round(D[1].y-S);D=Math.max(Math.abs(V),Math.abs(da));T?(T=O+D,V=S+D,O-=D,S-=D,w.push(F.makeSurfacePoint(T,S),F.makeSurfacePoint(O,S),F.makeSurfacePoint(O,V),F.makeSurfacePoint(T,V))):(T=0<V?O+D:O-D,D=0<da?S+D:S-D,w.push(F.makeSurfacePoint(O,
S),F.makeSurfacePoint(T,S),F.makeSurfacePoint(T,D),F.makeSurfacePoint(O,D)));return I([Q.filterNones(w.map(R=>J.localToMap(R)))],J.spatialReference,J.doUnnormalization,!0)};y.makeMapPoint=function(w,J,T=null){return Q.isSome(T)?[w,J,T]:[w,J]};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/geometry/Circle":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/unitUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./Point ./Polygon ./projectionEllipsoid ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B){var H;Q=H=function(E){function I(...J){J=E.call(this,...J)||this;J.center=null;J.geodesic=!1;J.numberOfPoints=60;J.radius=1E3;J.radiusUnit="meters";return J}y._inheritsLoose(I,E);var w=I.prototype;w.normalizeCtorArgs=function(J,T){if(!J||!J.center){if(J&&J.rings)return E.prototype.normalizeCtorArgs.call(this,J,T);J={center:J}}return{...E.prototype.normalizeCtorArgs.call(this),...J,...T}};w.initialize=function(){var J=this.center;const T=this.numberOfPoints;this.hasZ=
J&&J.hasZ;if(0===this.rings.length&&J){var D=K.convertUnit(this.radius,this.radiusUnit,"meters"),O=J.spatialReference,S="geographic";if(O.isWebMercator)S="webMercator";else if(null!=B[O.wkid]||O.wkt&&0===O.wkt.indexOf("PROJCS"))S="projected";if(this.geodesic){let V;switch(S){case "webMercator":V=N.webMercatorToGeographic(J);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":V=
J}J=this._createGeodesicCircle(V,D,T);"webMercator"===S&&(J=N.geographicToWebMercator(J))}else{let V;"webMercator"===S||"projected"===S?V=D/this._convert2Meters(1,J.spatialReference):"geographic"===S&&(V=K.lengthToDegrees(D,"meters",F.getReferenceEllipsoid(J.spatialReference).radius));J=this._createPlanarCircle(J,V,T)}this.spatialReference=J.spatialReference;this.addRing(J.rings[0])}};w.clone=function(){const {center:J,numberOfPoints:T,radius:D,radiusUnit:O,geodesic:S}=this;return new H({center:J.clone(),
numberOfPoints:T,radius:D,radiusUnit:O,geodesic:S})};w._createGeodesicCircle=function(J,T,D){let O=0;const S=[];for(;360>O;){const V=[0,0];P.directGeodeticSolver(V,[J.x,J.y],O,T);this.hasZ&&V.push(J.z);S.push(V);O+=360/D}S.push(S[0]);return new C(S)};w._createPlanarCircle=function(J,T,D){const O=[],S=2*Math.PI/D;for(let da=0;da<D;++da){var V=S*da;V=[J.x+Math.cos(-V)*T,J.y+Math.sin(-V)*T];this.hasZ&&V.push(J.z);O.push(V)}O.push(O[0]);return new C({spatialReference:J.spatialReference,rings:[O]})};w._convert2Meters=
function(J,T){if(null!=B[T.wkid])T=B.values[B[T.wkid]];else{T=T.wkt;const D=T.lastIndexOf(",")+1,O=T.lastIndexOf("]]");T=parseFloat(T.substring(D,O))}return J*T};return I}(C);aa.__decorate([Y.property({type:x})],Q.prototype,"center",void 0);aa.__decorate([Y.property()],Q.prototype,"geodesic",void 0);aa.__decorate([Y.property()],Q.prototype,"numberOfPoints",void 0);aa.__decorate([Y.property()],Q.prototype,"radius",void 0);aa.__decorate([Y.property()],Q.prototype,"radiusUnit",void 0);return Q=H=aa.__decorate([z.subclass("esri.geometry.Circle")],
Q)})},"esri/geometry/support/geodesicUtils":function(){define("exports ../../geometry ../../core/Error ../../core/unitUtils ./geodesicConstants ../Polyline ../Polygon ../Point ../SpatialReference".split(" "),function(y,aa,K,Y,Q,A,G,z,x){function C(w){if(!w)return null;if(w.isGeographic&&w.wkid){var J=Q.spheroids[w.wkid];if(J)return J}return w.wkt&&((w=Q.WKT_SPHEROID_REGEX.exec(w.wkt))&&2===w.length?(J=w[1].split(","),!J||3>J.length?w=null:(w=parseFloat(J[1]),J=parseFloat(J[2]),w=isNaN(w)||isNaN(J)?
null:{a:w,f:0===J?0:1/J})):w=null,w)?w:null}function F(w){w=C(w||x.WGS84);if("b"in w&&"eSq"in w&&"radius"in w)return w;const J=w.a*(1-w.f);return Object.assign(w,{b:J,eSq:1-(J/w.a)**2,radius:(2*w.a+J)/3,densificationRatio:1E4/((2*w.a+J)/3)})}function P(w){return 0>w?w+360:w}function N(w,J,T){const {a:D,eSq:O}=F(T);T=Math.sqrt(O);const S=Math.sin(J[1]*Q.toRadians);J=D*J[0]*Q.toRadians;T=0<O?D*(1-O)*(S/(1-O*S*S)-1/(2*T)*Math.log((1-T*S)/(1+T*S)))*.5:D*S;w[0]=J;w[1]=T;return w}function B(w){return null!==
C(w)}function H(w,J){if("polyline"!==w.type&&"polygon"!==w.type)throw new K("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const {spatialReference:T}=w;if(!B(T))throw new K("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");var D="polyline"===w.type?w.paths:w.rings;const O=[],S=[0,0],V={distance:null};for(const ba of D){D=[];O.push(D);D.push([ba[0][0],ba[0][1]]);var da=ba[0][0],R=ba[0][1];let ea,la;for(let oa=
0;oa<ba.length-1;oa++){ea=ba[oa+1][0];la=ba[oa+1][1];if(da===ea&&R===la)continue;const ma=[da,R];I(V,[da,R],[ea,la],T);const {azimuth:ra,distance:ua}=V;da=ua/J;if(1<da){for(R=1;R<=da-1;R++)E(S,ma,ra,R*J,T),D.push(S.slice(0));E(S,ma,ra,(ua+Math.floor(da-1)*J)/2,T);D.push(S.slice(0))}E(S,ma,ra,ua,T);D.push(S.slice(0));da=S[0];R=S[1]}}return"polyline"===w.type?new A({paths:O,spatialReference:T}):new G({rings:O,spatialReference:T})}function E(w,J,T,D,O){const S=J[0]*Q.toRadians;J=J[1]*Q.toRadians;T*=
Q.toRadians;const {a:V,b:da,f:R}=F(O);O=Math.sin(T);T=Math.cos(T);var ba=(1-R)*Math.tan(J);J=1/Math.sqrt(1+ba*ba);const ea=ba*J,la=Math.atan2(ba,T);ba=J*O;const oa=ba*ba;var ma=1-oa,ra=ma*(V*V-da*da)/(da*da);const ua=1+ra/16384*(4096+ra*(-768+ra*(320-175*ra))),pa=ra/1024*(256+ra*(-128+ra*(74-47*ra)));ra=D/(da*ua);let xa=2*Math.PI,wa,Da,Ja,Na;for(;1E-12<Math.abs(ra-xa);)Ja=Math.cos(2*la+ra),wa=Math.sin(ra),Da=Math.cos(ra),Na=pa*wa*(Ja+pa/4*(Da*(-1+2*Ja*Ja)-pa/6*Ja*(-3+4*wa*wa)*(-3+4*Ja*Ja))),xa=ra,
ra=D/(da*ua)+Na;D=ea*wa-J*Da*T;ma=R/16*ma*(4+R*(4-3*ma));D=Math.atan2(ea*Da+J*wa*T,(1-R)*Math.sqrt(oa+D*D))/Q.toRadians;w[0]=(S+(Math.atan2(wa*O,J*Da-ea*wa*T)-(1-ma)*R*ba*(ra+ma*wa*(Ja+ma*Da*(-1+2*Ja*Ja)))))/Q.toRadians;w[1]=D;return w}function I(w,J,T,D){var O=J[0]*Q.toRadians;J=J[1]*Q.toRadians;var S=T[0]*Q.toRadians;T=T[1]*Q.toRadians;const {a:V,b:da,f:R,radius:ba}=F(D),ea=S-O;var la=Math.atan((1-R)*Math.tan(J)),oa=Math.atan((1-R)*Math.tan(T));D=Math.sin(la);la=Math.cos(la);const ma=Math.sin(oa);
oa=Math.cos(oa);let ra=1E3,ua=ea,pa,xa,wa;let Da,Ja,Na;do{var Ha=Math.sin(ua);var Fa=Math.cos(ua);wa=Math.sqrt(oa*Ha*oa*Ha+(la*ma-D*oa*Fa)*(la*ma-D*oa*Fa));if(0===wa)return w.distance=0,w.azimuth=void 0,w.reverseAzimuth=void 0,w;Fa=D*ma+la*oa*Fa;Da=Math.atan2(wa,Fa);Ja=la*oa*Ha/wa;xa=1-Ja*Ja;Ha=Fa-2*D*ma/xa;isNaN(Ha)&&(Ha=0);Na=R/16*xa*(4+R*(4-3*xa));pa=ua;ua=ea+(1-Na)*R*Ja*(Da+Na*wa*(Ha+Na*Fa*(-1+2*Ha*Ha)))}while(1E-12<Math.abs(ua-pa)&&0<--ra);if(0===ra)return D=Math.acos(Math.sin(J)*Math.sin(T)+
Math.cos(J)*Math.cos(T)*Math.cos(S-O))*ba,O=S-O,w.azimuth=Math.atan2(Math.sin(O)*Math.cos(T),Math.cos(J)*Math.sin(T)-Math.sin(J)*Math.cos(T)*Math.cos(O))/Q.toRadians,w.distance=D,w.reverseAzimuth=void 0,w;O=xa*(V*V-da*da)/(da*da);J=O/1024*(256+O*(-128+O*(74-47*O)));S=Math.atan2(la*Math.sin(ua),la*ma*Math.cos(ua)-D*oa);w.azimuth=Math.atan2(oa*Math.sin(ua),la*ma-D*oa*Math.cos(ua))/Q.toRadians;w.distance=da*(1+O/16384*(4096+O*(-768+O*(320-175*O))))*(Da-J*wa*(Ha+J/4*(Fa*(-1+2*Ha*Ha)-J/6*Ha*(-3+4*wa*wa)*
(-3+4*Ha*Ha))));w.reverseAzimuth=S/Q.toRadians;return w}y.directGeodeticSolver=E;y.geodesicAreas=function(w,J="square-meters"){if(w.some(S=>!B(S.spatialReference)))throw new K("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const T=[];for(var D=0;D<w.length;D++){var O=w[D];const {radius:S,densificationRatio:V}=F(O.spatialReference);T.push(H(O,S*V))}w=[];D=[0,0];O=[0,0];for(let S=0;S<T.length;S++){const {rings:V,spatialReference:da}=T[S];let R=
0;for(let ba=0;ba<V.length;ba++){const ea=V[ba];N(D,ea[0],da);N(O,ea[ea.length-1],da);let la=O[0]*D[1]-D[0]*O[1];for(let oa=0;oa<ea.length-1;oa++)N(D,ea[oa+1],da),N(O,ea[oa],da),la+=O[0]*D[1]-D[0]*O[1];R+=la}R=Y.convertUnit(R,"square-meters",J);w.push(R/-2)}return w};y.geodesicDensify=H;y.geodesicDistance=function(w,J,T="meters"){if(!w||!J)throw new K("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!w.spatialReference||!J.spatialReference)throw new K("geodesic-distance:invalid-parameters",
"one or both input points do not have a spatial reference");if(!w.spatialReference.equals(J.spatialReference))throw new K("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");const {spatialReference:D}=w;if(!B(D))throw new K("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(w.equals(J))return{distance:0,azimuth:0,reverseAzimuth:0};const O={distance:null};I(O,[w.x,w.y],[J.x,J.y],D);O.distance=Y.convertUnit(O.distance,
"meters",T);O.azimuth=P(O.azimuth);O.reverseAzimuth=P(O.reverseAzimuth);return O};y.geodesicLengths=function(w,J="meters"){if(!w)throw new K("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(w.some(O=>!B(O.spatialReference)))throw new K("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const T=[];for(let O=0;O<w.length;O++){var D=w[O];const {spatialReference:S}=D;D="polyline"===D.type?D.paths:D.rings;let V=
0;for(let da=0;da<D.length;da++){const R=D[da];let ba=0;for(let ea=1;ea<R.length;ea++){const la=R[ea-1][0],oa=R[ea][0],ma=R[ea-1][1],ra=R[ea][1];if(ma!==ra||la!==oa){const ua={distance:null};I(ua,[la,ma],[oa,ra],S);ba+=ua.distance}}V+=ba}V=Y.convertUnit(V,"meters",J);T.push(V)}return T};y.inverseGeodeticSolver=I;y.isSupported=B;y.pointFromDistance=function(w,J,T){if(!w||null==J||null==T)throw new K("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(0>
T||360<T)throw new K("point-from-distance:-of-bounds","azimuth is restricted to angles between, and including, 0\u00b0 to 360\u00b0 degrees");if(!w.spatialReference)throw new K("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");const {spatialReference:D}=w;if(!B(D))throw new K("geodesic-distance:not-supported","input geometry spatial reference is not supported");const O=[0,0];E(O,[w.x,w.y],T,J,D);return new z({x:O[0],y:O[1],spatialReference:D})};Object.defineProperty(y,
"__esModule",{value:!0})})},"esri/geometry/geometryEngine":function(){define(["exports","../chunks/geometryEngineBase","./geometryAdapters/hydrated"],function(y,aa,K){function Y(A){return Array.isArray(A)?A[0].spatialReference:A&&A.spatialReference}function Q(A){return"xmin"in A?"center"in A?A.center:null:"x"in A?A:"extent"in A?A.extent.center:null}y.buffer=function(A,G,z,x=!1){return aa.GeometryEngineApi.buffer(K.hydratedAdapter,Y(A),A,G,z,x)};y.clip=function(A,G){return aa.GeometryEngineApi.clip(K.hydratedAdapter,
Y(A),A,G)};y.contains=function(A,G){return aa.GeometryEngineApi.contains(K.hydratedAdapter,Y(A),A,G)};y.convexHull=function(A,G=!1){return aa.GeometryEngineApi.convexHull(K.hydratedAdapter,Y(A),A,G)};y.crosses=function(A,G){return aa.GeometryEngineApi.crosses(K.hydratedAdapter,Y(A),A,G)};y.cut=function(A,G){return aa.GeometryEngineApi.cut(K.hydratedAdapter,Y(A),A,G)};y.densify=function(A,G,z){return aa.GeometryEngineApi.densify(K.hydratedAdapter,Y(A),A,G,z)};y.difference=function(A,G){return aa.GeometryEngineApi.difference(K.hydratedAdapter,
Y(A),A,G)};y.disjoint=function(A,G){return aa.GeometryEngineApi.disjoint(K.hydratedAdapter,Y(A),A,G)};y.distance=function(A,G,z){return aa.GeometryEngineApi.distance(K.hydratedAdapter,Y(A),A,G,z)};y.equals=function(A,G){return aa.GeometryEngineApi.equals(K.hydratedAdapter,Y(A),A,G)};y.extendedSpatialReferenceInfo=function(A){return aa.GeometryEngineApi.extendedSpatialReferenceInfo(A)};y.flipHorizontal=function(A,G){var z;if(null==A)throw Error("Illegal Argument Exception");const x=A.spatialReference;
G=null!=(z=G)?z:Q(A);if(null==G)throw Error("Illegal Argument Exception");A=A.constructor.fromJSON(aa.GeometryEngineApi.flipHorizontal(A,G));A.spatialReference=x;return A};y.flipVertical=function(A,G){var z;if(null==A)throw Error("Illegal Argument Exception");const x=A.spatialReference;G=null!=(z=G)?z:Q(A);if(null==G)throw Error("Illegal Argument Exception");A=A.constructor.fromJSON(aa.GeometryEngineApi.flipVertical(A,G));A.spatialReference=x;return A};y.generalize=function(A,G,z,x){return aa.GeometryEngineApi.generalize(K.hydratedAdapter,
Y(A),A,G,z,x)};y.geodesicArea=function(A,G,z){return aa.GeometryEngineApi.geodesicArea(K.hydratedAdapter,Y(A),A,G,z)};y.geodesicBuffer=function(A,G,z,x,C,F){return aa.GeometryEngineApi.geodesicBuffer(K.hydratedAdapter,Y(A),A,G,z,x,C,F)};y.geodesicDensify=function(A,G,z,x=0){return aa.GeometryEngineApi.geodesicDensify(K.hydratedAdapter,Y(A),A,G,z,x)};y.geodesicLength=function(A,G,z){return aa.GeometryEngineApi.geodesicLength(K.hydratedAdapter,Y(A),A,G,z)};y.intersect=function(A,G){return aa.GeometryEngineApi.intersect(K.hydratedAdapter,
Y(A),A,G)};y.intersects=function(A,G){return aa.GeometryEngineApi.intersects(K.hydratedAdapter,Y(A),A,G)};y.isSimple=function(A){return aa.GeometryEngineApi.isSimple(K.hydratedAdapter,Y(A),A)};y.nearestCoordinate=function(A,G,z=!0){return aa.GeometryEngineApi.nearestCoordinate(K.hydratedAdapter,Y(A),A,G,z)};y.nearestVertex=function(A,G){return aa.GeometryEngineApi.nearestVertex(K.hydratedAdapter,Y(A),A,G)};y.nearestVertices=function(A,G,z,x){return aa.GeometryEngineApi.nearestVertices(K.hydratedAdapter,
Y(A),A,G,z,x)};y.offset=function(A,G,z,x,C,F){return aa.GeometryEngineApi.offset(K.hydratedAdapter,Y(A),A,G,z,x,C,F)};y.overlaps=function(A,G){return aa.GeometryEngineApi.overlaps(K.hydratedAdapter,Y(A),A,G)};y.planarArea=function(A,G){return aa.GeometryEngineApi.planarArea(K.hydratedAdapter,Y(A),A,G)};y.planarLength=function(A,G){return aa.GeometryEngineApi.planarLength(K.hydratedAdapter,Y(A),A,G)};y.relate=function(A,G,z){return aa.GeometryEngineApi.relate(K.hydratedAdapter,Y(A),A,G,z)};y.rotate=
function(A,G,z){var x;if(null==A)throw Error("Illegal Argument Exception");const C=A.spatialReference;z=null!=(x=z)?x:Q(A);if(null==z)throw Error("Illegal Argument Exception");A=A.constructor.fromJSON(aa.GeometryEngineApi.rotate(A,G,z));A.spatialReference=C;return A};y.simplify=function(A){return aa.GeometryEngineApi.simplify(K.hydratedAdapter,Y(A),A)};y.symmetricDifference=function(A,G){return aa.GeometryEngineApi.symmetricDifference(K.hydratedAdapter,Y(A),A,G)};y.touches=function(A,G){return aa.GeometryEngineApi.touches(K.hydratedAdapter,
Y(A),A,G)};y.union=function(A,G=null){return aa.GeometryEngineApi.union(K.hydratedAdapter,Y(A),A,G)};y.within=function(A,G){return aa.GeometryEngineApi.within(K.hydratedAdapter,Y(A),A,G)};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/chunks/geometryEngineBase":function(){define(["exports"],function(y){var aa={exports:{}};(function(Y,Q){Q=function(){function A(g){if("number"===typeof g)return L.Uc.$g(g);if(null==g)return null;if(null!=Qa[g])return L.Uc.$g(Qa[g]);throw Error("Unrecognised Unit Type");
}function G(g){if("number"===typeof g)return L.Uc.$g(g);if(null==g)return null;if(null!=Sa[g])return L.Uc.$g(Sa[g]);throw Error("Unrecognised Unit Type");}function z(g){if(g)switch(g){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function x(g,u,l,c){if(null==l||l.B())return null;switch(l.K()){case L.sn.Point:return g.exportPoint(u,l,c);case L.sn.Polygon:return g.exportPolygon(u,l,c);case L.sn.Polyline:return g.exportPolyline(u,
l,c);case L.sn.MultiPoint:return g.exportMultipoint(u,l,c);case L.sn.Envelope:return g.exportExtent(u,l,c)}return null}function C(g,u,l,c){if(l.K()!==L.sn.Point)throw Error("Geometry not Point");return g.exportPoint(u,l,c)}function F(g){var u=g.wkid;g=g.wkt;var l=Xa.get(u||g);null==l&&(-1!==u&&null!=u?(l=L.Gg.create(u),Xa.set(u,l)):g&&(l=L.Gg.iP(g),Xa.set(g,l)));return l}function P(g){var u;if(null==g)return null;var l=F(g);g=l.Id();l=l.Ln();return u={},u.tolerance=l,u.unitType=null==g?-1:g.od,u.unitID=
null==g?-1:g.Fc(),u.unitBaseFactor=null==g?0:g.bi,u.unitSquareDerivative=null==g?0:L.Uc.TF(g).Fc(),u}function N(g,u,l,c){if(null==l)return null;l=L.bc.clip(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u));return x(g,Ba,l,u)}function B(g,u,l,c){l=L.bc.el(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u));c=[];for(var a=0;a<l.length;a++)c.push(x(g,Ba,l[a],u));return c}function H(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return L.bc.contains(g.convertToGEGeometry(Ba,
l),g.convertToGEGeometry(Ba,c),F(u))}function E(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return L.bc.tP(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u))}function I(g,u,l,c,a){if(null==l||null==c)throw Error("Illegal Argument Exception");return L.bc.ub(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u),A(a))}function w(g,u,l,c){return null==l&&null!=c||null==c&&null!=l?!1:L.bc.Nb(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u))}function J(g,
u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return L.bc.JS(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u))}function T(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return L.bc.touches(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u))}function D(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return L.bc.eY(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u))}function O(g,u,l,c){if(null==l||
null==c)throw Error("Illegal Argument Exception");return L.bc.LP(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u))}function S(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return L.bc.tU(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u))}function V(g,u,l,c,a){if(null==l||null==c)throw Error("Illegal Argument Exception");return L.bc.sB(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u),a)}function da(g,u,l){if(null==l)throw Error("Illegal Argument Exception");
return L.bc.US(g.convertToGEGeometry(Ba,l),F(u))}function R(g,u,l){if(null==l)throw Error("Illegal Argument Exception");l=L.bc.YB(g.convertToGEGeometry(Ba,l),F(u));return x(g,Ba,l,u)}function ba(g,u,l,c){void 0===c&&(c=!1);if(null==l)throw Error("Illegal Argument Exception");if(Array.isArray(l)){var a=c,b=[];for(c=0;c<l.length;c++)b.push(g.convertToGEGeometry(Ba,l[c]));l=L.bc.bP(b,a);a=Array(l.length);for(c=0;c<l.length;c++)a[c]=x(g,Ba,l[c],u);return a}c=L.bc.aP(g.convertToGEGeometry(Ba,l),F(u));
return x(g,Ba,c,u)}function ea(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");if(Array.isArray(l)){for(var a=[],b=0;b<l.length;b++)a.push(g.convertToGEGeometry(Ba,l[b]));l=L.bc.IP(a,g.convertToGEGeometry(Ba,c),F(u));c=Array(l.length);for(b=0;b<l.length;b++)c[b]=x(g,Ba,l[b],u);return c}b=L.bc.km(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u));return x(g,Ba,b,u)}function la(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");if(Array.isArray(l)){for(var a=
[],b=0;b<l.length;b++)a.push(g.convertToGEGeometry(Ba,l[b]));l=L.bc.JX(a,g.convertToGEGeometry(Ba,c),F(u));c=Array(l.length);for(b=0;b<l.length;b++)c[b]=x(g,Ba,l[b],u);return c}b=L.bc.fp(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u));return x(g,Ba,b,u)}function oa(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");if(Array.isArray(l)){for(var a=[],b=0;b<l.length;b++)a.push(g.convertToGEGeometry(Ba,l[b]));l=L.bc.HS(a,g.convertToGEGeometry(Ba,c),F(u));c=Array(l.length);
for(b=0;b<l.length;b++)c[b]=x(g,Ba,l[b],u);return c}b=L.bc.Fa(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),F(u));return x(g,Ba,b,u)}function ma(g,u,l,c){if(null==l)return null;var a=[];if(Array.isArray(l)){if(0===l.length)return null;for(c=0;c<l.length;c++)a.push(g.convertToGEGeometry(Ba,l[c]))}else a.push(g.convertToGEGeometry(Ba,l)),null!=c&&a.push(g.convertToGEGeometry(Ba,c));return x(g,Ba,L.bc.YX(a,F(u)),u)}function ra(g,u,l,c,a,b,d,e){var f=0;if(null!=b)switch(b){case "round":f=0;
break;case "bevel":f=1;break;case "miter":f=2;break;case "square":f=3}if(Array.isArray(l)){if(null==l)g=null;else if(0===l.length)g=[];else{var h=[];for(b=0;b<l.length;b++)h.push(g.convertToGEGeometry(Ba,l[b]));l=L.bc.rU(h,F(u),c,f,d,e,A(a));c=Array(l.length);for(b=0;b<l.length;b++)c[b]=x(g,Ba,l[b],u);g=c}return g}l=L.bc.offset(g.convertToGEGeometry(Ba,l),F(u),c,f,d,e,A(a));return x(g,Ba,l,u)}function ua(g,u,l,c,a,b){void 0===b&&(b=!1);if(Array.isArray(l)){if(!Array.isArray(c)){for(var d=[],e=0;e<
l.length;e++)d.push(c);c=d}if(c.length!=l.length){if(0==c.length)throw Error("Illegal Argument Exception");d=[];var f=0;for(e=0;e<l.length;e++)void 0===c[e]?d.push(f):(d.push(c[e]),f=c[e]);c=d}return xa(g,u,l,c,a,!1,b,"geodesic",NaN)}l=L.bc.buffer(g.convertToGEGeometry(Ba,l),F(u),c,A(a),!1,0,NaN);return x(g,Ba,l,u)}function pa(g,u,l,c,a,b,d,e){if(Array.isArray(l)){if(!Array.isArray(c)){for(var f=[],h=0;h<l.length;h++)f.push(c);c=f}if(c.length!==l.length){if(0===c.length)throw Error("Illegal Argument Exception");
f=[];var k=0;for(h=0;h<l.length;h++)void 0===c[h]?f.push(k):(f.push(c[h]),k=c[h]);c=f}return xa(g,u,l,c,a,!0,b,d,e)}void 0===d&&(d=NaN);l=L.bc.buffer(g.convertToGEGeometry(Ba,l),F(u),c,A(a),!0,z(b),d);return x(g,Ba,l,u)}function xa(g,u,l,c,a,b,d,e,f){void 0===f&&(f=NaN);if(null==l)return null;if(0===l.length)return[];for(var h=[],k=0;k<l.length;k++)h.push(g.convertToGEGeometry(Ba,l[k]));l=L.bc.EN(h,F(u),c,A(a),b,d,z(e),f);c=Array(l.length);for(k=0;k<l.length;k++)c[k]=x(g,Ba,l[k],u);return c}function wa(g,
u,l,c,a){var b;void 0===a&&(a=!0);l=L.bc.iz(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c),a);return b={},b.coordinate=C(g,Ba,l.az(),u),b.distance=l.cz(),b.isRightSide=l.Nz(),b.vertexIndex=l.Va(),b.isEmpty=l.B(),b}function Da(g,u,l,c){var a;l=L.bc.jz(g.convertToGEGeometry(Ba,l),g.convertToGEGeometry(Ba,c));return a={},a.coordinate=C(g,Ba,l.az(),u),a.distance=l.cz(),a.isRightSide=l.Nz(),a.vertexIndex=l.Va(),a.isEmpty=l.B(),a}function Ja(g,u,l,c,a,b){var d;l=L.bc.kz(g.convertToGEGeometry(Ba,
l),g.convertToGEGeometry(Ba,c),a,b);c=[];for(a=0;a<l.length;a++)!1===l[a].B()&&c.push((d={},d.coordinate=C(g,Ba,l[a].az(),u),d.distance=l[a].cz(),d.isRightSide=l[a].Nz(),d.vertexIndex=l[a].Va(),d.isEmpty=l[a].B(),d));return c}function Na(g,u,l,c,a,b){l=L.bc.IQ(g.convertToGEGeometry(Ba,l),F(u),c,a,A(b));return x(g,Ba,l,u)}function Ha(g,u,l,c,a){l=L.bc.Rr(g.convertToGEGeometry(Ba,l),F(u),c,A(a));return x(g,Ba,l,u)}function Fa(g,u,l,c,a,b){void 0===b&&(b=0);l=L.bc.Ry(g.convertToGEGeometry(Ba,l),F(u),
c,A(a),b);return x(g,Ba,l,u)}function Ua(g,u,l,c){if(null==l)throw Error("Illegal Argument Exception");return L.bc.zU(g.convertToGEGeometry(Ba,l),F(u),G(c))}function Ra(g,u,l,c){if(null==l)throw Error("Illegal Argument Exception");return L.bc.AU(g.convertToGEGeometry(Ba,l),F(u),A(c))}function La(g,u,l,c,a){if(null==l)throw Error("Illegal Argument Exception");return L.bc.OQ(g.convertToGEGeometry(Ba,l),F(u),G(c),z(a))}function Ka(g,u,l,c,a){if(null==l)throw Error("Illegal Argument Exception");return L.bc.RQ(g.convertToGEGeometry(Ba,
l),F(u),A(c),z(a))}function Ta(g){L.FL.bind(g)}function Ea(g,u,l,c,a){var b=null,d=null;if(c){if(!a)throw L.i.O("AOI missing Spatial Reference");b=g.convertToGEGeometry(Ba,c);d=F(a).gh()}g=L.hu.OR(F(u).gh(),F(l).gh(),b,d);return null!==g?g:null}function ca(g,u,l,c,a){var b=null,d=null;if(c){if(!a)throw L.i.O("AOI missing Spatial Reference");b=g.convertToGEGeometry(Ba,c);d=F(a).gh()}return L.hu.PR(F(u).gh(),F(l).gh(),b,d)}function ha(g,u,l,c,a){void 0===a&&(a=null);if(!1===this.zY)throw Error("Projection Engine must be enabled using enableProjection");
if(0===u.length)return[];if(a){var b=a.getCachedGeTransformation(l,c);if(!b)a:{b=a;a=null;if(b){var d=b.getGTListEntry();if(null!==d){a=new L.pC(null);for(var e=0,f=d.steps;e<f.length;e++){d=f[e];var h=new L.Bx(d.geogtran);d.isInverse&&h.Lz();a.add(h)}a=L.xr.Or(F(l).gh(),F(c).gh(),a);b.assignCachedGe(l,c,a);b=a;break a}}if(null===a&&b&&b.steps&&0<b.steps.length){a=new L.pC(null);e=0;for(f=b.steps;e<f.length;e++)d=f[e],-1!=d.wkid&&null!=d.wkid?a.add(L.Bx.create(d.wkid,d.isInverse)):a.add(L.Bx.mP(d.wkt,
d.isInverse));a=L.xr.Or(F(l).gh(),F(c).gh(),a);b.assignCachedGe(l,c,a);b=a}else b=L.xr.Or(F(l).gh(),F(c).gh(),a)}}else b=L.xr.Or(F(l).gh(),F(c).gh(),null);l=[];for(d=0;d<u.length;d++)a=u[d],l.push(na(g,a,c,b));return l}function na(g,u,l,c){u=L.bc.Ah(g.convertToGEGeometry(Ba,u),c);return x(g,Ba,u,l)}var Z,fa=this&&this.__extends||function(){function g(u,l){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=
a[b])};return g(u,l)}return function(u,l){function c(){this.constructor=u}g(u,l);u.prototype=null===l?Object.create(l):(c.prototype=l.prototype,new c)}}(),L;(function(g){(function(l){l[l.Unknown=0]="Unknown";l[l.Point=33]="Point";l[l.Line=322]="Line";l[l.Envelope=197]="Envelope";l[l.MultiPoint=550]="MultiPoint";l[l.Polyline=1607]="Polyline";l[l.Polygon=1736]="Polygon"})(g.sn||(g.sn={}));(function(l){l[l.enumMild=0]="enumMild";l[l.enumMedium=1]="enumMedium";l[l.enumHot=2]="enumHot"})(g.QK||(g.QK={}));
var u=function(){function l(){this.description=null;this.PA=0}l.prototype.K=function(){return 0};l.prototype.Eb=function(){return-1};l.prototype.kg=function(c){this.wc();c!=this.description&&this.un(c)};l.prototype.un=function(){};l.prototype.Ll=function(c){this.wc();c!=this.description&&(c=g.ee.uR(this.description,c),c!=this.description&&this.un(c))};l.prototype.hasAttribute=function(c){return this.description.hasAttribute(c)};l.prototype.se=function(c){this.wc();this.description.hasAttribute(c)||
(c=g.ee.tR(this.description,c),this.un(c))};l.prototype.Ug=function(){return null};l.prototype.dn=function(){};l.prototype.A=function(){};l.prototype.Ro=function(){};l.prototype.yc=function(c){this.A(c)};l.prototype.B=function(){return!0};l.prototype.Pa=function(){};l.prototype.Pc=function(){};l.prototype.Ja=function(){return null};l.prototype.copyTo=function(){};l.prototype.He=function(){return 0};l.prototype.Rb=function(){return 0};l.prototype.aG=function(){return this.hasAttribute(1)};l.uf=function(c){return((c&
192)>>6)+1>>1};l.Sn=function(c){return 0!=(c&32)};l.KS=function(c){return 0!=(c&128)};l.zd=function(c){return 0!=(c&256)};l.yj=function(c){return 0!=(c&512)};l.Ic=function(c){return 0!=(c&1024)};l.prototype.Pf=function(){var c=this.Ja();this.copyTo(c);return c};l.prototype.mg=function(){return null};l.ig=function(c){var a=c.Ja();c.copyTo(a);return a};l.prototype.wc=function(){0<=this.PA&&(this.PA+=2147483649)};l.yx=function(c){var a=c.K();if(l.yj(a))return c.I();if(c.B())return 0;if(197==a)return 4;
if(33==a)return 1;if(l.zd(a))return 2;throw g.i.ga("missing type");};return l}();g.ba=u})(L||(L={}));(function(g){var u=function(){function l(){this.y=this.x=0}l.construct=function(c,a){var b=new l;b.x=c;b.y=a;return b};l.bl=function(c){var a=new l;a.x=c.x;a.y=c.y;return a};l.prototype.na=function(c,a){this.x=c;this.y=a};l.prototype.N=function(c){this.x=c.x;this.y=c.y};l.prototype.hq=function(c,a){return this.x===c&&this.y===a};l.prototype.Mz=function(c){return 2.220446049250313E-16>=Math.abs(this.x-
c.x)&&2.220446049250313E-16>=Math.abs(this.y-c.y)};l.prototype.rb=function(c){return this.x===c.x&&this.y===c.y};l.prototype.Nb=function(c){return c==this?!0:c instanceof l?this.x==c.x&&this.y==c.y:!1};l.prototype.sub=function(c){this.x-=c.x;this.y-=c.y};l.prototype.vc=function(c,a){this.x=c.x-a.x;this.y=c.y-a.y};l.prototype.add=function(c,a){void 0!==a?(this.x=c.x+a.x,this.y=c.y+a.y):(this.x+=c.x,this.y+=c.y)};l.prototype.Uq=function(){this.x=-this.x;this.y=-this.y};l.prototype.mt=function(c){this.x=
-c.x;this.y=-c.y};l.prototype.ES=function(c,a,b){this.x=c.x*(1-b)+a.x*b;this.y=c.y*(1-b)+a.y*b};l.prototype.Ct=function(c,a){this.x=this.x*c+a.x;this.y=this.y*c+a.y};l.prototype.wW=function(c,a,b){this.x=a.x*c+b.x;this.y=a.y*c+b.y};l.prototype.scale=function(c){this.x*=c;this.y*=c};l.prototype.compare=function(c){return this.y<c.y?-1:this.y>c.y?1:this.x<c.x?-1:this.x>c.x?1:0};l.prototype.normalize=function(){var c=this.length();0==c&&(this.x=1,this.y=0);this.x/=c;this.y/=c};l.prototype.length=function(){return Math.sqrt(this.x*
this.x+this.y*this.y)};l.prototype.Sk=function(){return this.x*this.x+this.y*this.y};l.ub=function(c,a){return Math.sqrt(this.zc(c,a))};l.Jy=function(c,a,b,d){c-=b;a-=d;return Math.sqrt(c*c+a*a)};l.prototype.Rh=function(c){return this.x*c.x+this.y*c.y};l.prototype.YC=function(c){return Math.abs(this.x*c.x)+Math.abs(this.y*c.y)};l.prototype.xi=function(c){return this.x*c.y-this.y*c.x};l.prototype.Bt=function(c,a){var b=-this.x*a+this.y*c;this.x=this.x*c+this.y*a;this.y=b};l.prototype.Iv=function(){var c=
this.x;this.x=-this.y;this.y=c};l.prototype.EG=function(c){this.x=-c.y;this.y=c.x};l.prototype.cr=function(){var c=this.x;this.x=this.y;this.y=-c};l.prototype.ru=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};l.ou=function(c,a){var b=c.ru(),d=a.ru();return d==b?(c=c.xi(a),0>c?1:0<c?-1:0):b<d?-1:1};l.zc=function(c,a){var b=c.x-a.x;c=c.y-a.y;return b*b+c*c};l.prototype.toString=function(){return"("+this.x+" , "+this.y+")"};l.prototype.Sc=function(){this.y=this.x=NaN};l.prototype.isNaN=
function(){return isNaN(this.x)||isNaN(this.y)};l.prototype.offset=function(c,a){var b=l.ub(c,a),d=l.construct(this.x,this.y);if(0==b)return l.ub(d,c);var e=new l;e.N(a);e.sub(c);d.sub(c);return d.xi(e)/b};l.Wq=function(c,a,b){var d=new g.Xb;d.set(a.x);d.sub(c.x);var e=new g.Xb;e.set(b.y);e.sub(c.y);var f=new g.Xb;f.set(a.y);f.sub(c.y);var h=new g.Xb;h.set(b.x);h.sub(c.x);d.Ag(e);f.Ag(h);d.sub(f);if(!d.qs())return b=d.value(),0>b?-1:0<b?1:0;d=new g.ip(a.x);e=new g.ip(c.x);f=new g.ip(c.y);d=d.jt(e);
c=new g.ip(b.y);c=c.jt(f);a=new g.ip(a.y);a=a.jt(f);b=new g.ip(b.x);b=b.jt(e);d=d.nr(c);a=a.nr(b);d=d.nr(a);return d.dT()?-1:d.XR()?1:0};l.prototype.dc=function(){return g.P.vj(g.P.vj())};return l}();g.h=u})(L||(L={}));(function(g){var u=function(){function l(c){this.zy=this.Nt=0;this.CX=c}l.prototype.reset=function(){this.zy=this.Nt=0};l.prototype.add=function(c){c-=this.zy;var a=this.Nt+c;this.zy=a-this.Nt-c;this.Nt=a};l.prototype.sub=function(c){this.add(-c)};l.prototype.tm=function(){return this.CX+
this.Nt};return l}();g.Dx=u;g.mc=function(){function l(){}l.Dn=function(c,a){return 0<=a?Math.abs(c):-Math.abs(c)};l.sign=function(c){return 0>c?-1:0<c?1:0};l.JK=function(c){return c-360*Math.floor(c/360)};l.round=function(c){return Math.floor(c+.5)};l.nx=function(c){return c*c};l.jq=function(c,a,b){return.5>=b?c+(a-c)*b:a-(a-c)*(1-b)};l.GG=function(c,a,b,d){.5>=b?(d.x=c.x+(a.x-c.x)*b,d.y=c.y+(a.y-c.y)*b):(d.x=a.x-(a.x-c.x)*(1-b),d.y=a.y-(a.y-c.y)*(1-b))};l.bT=function(c,a,b,d,e,f){.5>=e?(f.x=c+(b-
c)*e,f.y=a+(d-a)*e):(f.x=b-(b-c)*(1-e),f.y=d-(d-a)*(1-e))};return l}()})(L||(L={}));(function(g){var u=function(l){function c(){var a=l.call(this)||this;a.sa=0;a.oa=0;a.qa=0;a.ma=0;a.la=null;return a}fa(c,l);c.prototype.ac=function(){return g.h.construct(this.sa,this.oa)};c.prototype.$p=function(a){a.x=this.sa;a.y=this.oa};c.prototype.Ec=function(a){this.gm(0,a)};c.prototype.SB=function(a,b){this.gm(0,g.h.construct(a,b))};c.prototype.Uo=function(a){this.$C(0,a)};c.prototype.setStart=function(a){this.mD(0,
a)};c.prototype.xv=function(a,b){return this.Pd(0,a,b)};c.prototype.RB=function(a,b,d){this.vn(0,a,b,d)};c.prototype.xc=function(){return g.h.construct(this.qa,this.ma)};c.prototype.Ur=function(a){a.x=this.qa;a.y=this.ma};c.prototype.Rc=function(a){this.gm(1,a)};c.prototype.Sl=function(a,b){this.gm(1,g.h.construct(a,b))};c.prototype.Qo=function(a){this.$C(1,a)};c.prototype.setEnd=function(a){this.mD(1,a)};c.prototype.hv=function(a,b){return this.Pd(1,a,b)};c.prototype.IB=function(a,b,d){this.vn(1,
a,b,d)};c.prototype.Eb=function(){return 1};c.prototype.B=function(){return this.Bc()};c.prototype.Pa=function(){};c.prototype.He=function(){return 0};c.prototype.Fa=function(a,b,d,e,f){return this.CM(a,b,d,e,f)};c.prototype.isIntersecting=function(a,b){return 0!=this.Br(a,b,!1)};c.prototype.rs=function(a,b){return this.su(a,b,!1)};c.prototype.su=function(){return null};c.prototype.Bc=function(){return!1};c.prototype.Zx=function(a){this.wc();if(null==this.la&&0<a)this.la=g.P.lg(2*a);else if(null!=
this.la&&this.la.length<2*a){for(var b=this.la.slice(0),d=this.la.length;d<2*a;d++)b[d]=0;this.la=b}};c.ZL=function(a,b,d){if(0<d)var e=0;for(var f=0;f<d;f++)b[0+e]=a[0],e++};c.prototype.gm=function(a,b){0!=a?(this.qa=b.x,this.ma=b.y):(this.sa=b.x,this.oa=b.y)};c.prototype.un=function(a){if(null!=this.la){for(var b=g.ee.Jw(a,this.description),d=[],e=c.Ig(this.description,0),f=c.Ig(this.description,1),h=c.Ig(a,0),k=c.Ig(a,1),m=0,n=1,p=a.Ba;n<p;n++){var q=a.qd(n),r=g.ua.Wa(q);if(-1==b[n]){var t=g.ua.te(q);
for(q=0;q<r;q++)d[h+m]=t,d[k+m]=t,m++}else for(t=this.description.$j(b[n])-2,q=0;q<r;q++)d[h+m]=this.la[e+t],d[k+m]=this.la[f+t],m++,t++}this.la=d}this.description=a};c.prototype.$C=function(a,b){if(this.Bc())throw g.i.ga("empty geometry");b.kg(this.description);b.Bc()&&b.up();for(var d=0;d<this.description.Ba;d++)for(var e=this.description.Fd(d),f=0,h=g.ua.Wa(e);f<h;f++){var k=this.Pd(a,e,f);b.setAttribute(e,f,k)}};c.prototype.mD=function(a,b){this.wc();if(b.Bc())throw g.i.ga("empty geometry");for(var d=
b.description,e=0,f=d.Ba;e<f;e++)for(var h=d.Fd(e),k=g.ua.Wa(h),m=0;m<k;m++){var n=b.Vc(h,m);this.vn(a,h,m,n)}};c.prototype.Pd=function(a,b,d){if(this.Bc())throw g.i.ga("This operation was performed on an Empty Geometry.");if(0==b)return 0!=a?0!=d?this.ma:this.qa:0!=d?this.oa:this.sa;if(d>=g.ua.Wa(b))throw g.i.re();var e=this.description.Qf(b);return 0<=e?(null!=this.la&&this.Zx(this.description.Be.length-2),this.la[c.Ig(this.description,a)+this.description.$j(e)-2+d]):g.ua.te(b)};c.prototype.vn=
function(a,b,d,e){this.wc();if(d>=g.ua.Wa(b))throw g.i.re();var f=this.description.Qf(b);0>f&&(this.se(b),f=this.description.Qf(b));0==b?0!=a?0!=d?this.ma=e:this.qa=e:0!=d?this.oa=e:this.sa=e:(null==this.la&&this.Zx(this.description.Be.length-2),this.la[c.Ig(this.description,a)+this.description.$j(f)-2+d]=e)};c.prototype.copyTo=function(a){if(a.K()!=this.K())throw g.i.O();a.description=this.description;a.Zx(this.description.Be.length-2);c.ZL(this.la,a.la,2*(this.description.Be.length-2));a.sa=this.sa;
a.oa=this.oa;a.qa=this.qa;a.ma=this.ma;a.wc();this.pp(a)};c.prototype.Ug=function(a,b){var d=new g.Oc;if(this.Bc())return d.Pa(),d;d.pa=this.Pd(0,a,b);d.wa=d.pa;d.Lk(this.Pd(1,a,b));return d};c.prototype.RI=function(a){this.Bc()?a.Pa():(a.pa=this.Pd(0,0,0),a.wa=a.pa,a.Lk(this.Pd(1,0,0)))};c.prototype.Uw=function(a,b){b.kg(this.description);b.Db(this.ic(a));for(var d=1,e=this.description.Ba;d<e;d++)for(var f=this.description.Fd(d),h=g.ua.Wa(f),k=0;k<h;k++){var m=this.Vc(a,f,k);b.setAttribute(f,k,m)}};
c.prototype.xM=function(a){if(this.description!=a.description||this.sa!=a.sa||this.qa!=a.qa||this.oa!=a.oa||this.ma!=a.ma)return!1;for(var b=0;b<2*(this.description.Be.length-2);b++)if(this.la[b]!=a.la[b])return!1;return!0};c.prototype.tG=function(){return this.sa==this.qa&&this.oa==this.ma};c.prototype.reverse=function(){var a=this.sa;this.sa=this.qa;this.qa=a;a=this.oa;this.oa=this.ma;this.ma=a;a=1;for(var b=this.description.Ba;a<b;a++)for(var d=this.description.qd(a),e=0,f=g.ua.Wa(d);e<f;e++){var h=
this.Pd(0,d,e),k=this.Pd(1,d,e);this.vn(0,d,e,k);this.vn(1,d,e,h)}};c.prototype.Br=function(a,b,d){var e=a.K();switch(this.K()){case 322:if(322==e)return g.zb.GM(this,a,b,d);throw g.i.Ra();default:throw g.i.Ra();}};c.prototype.CM=function(a,b,d,e,f){var h=a.K();switch(this.K()){case 322:if(322==h)return g.zb.Xx(this,a,b,d,e,f);throw g.i.Ra();default:throw g.i.Ra();}};c.prototype.Rx=function(){return null};c.Ig=function(a,b){return b*(a.Be.length-2)};c.prototype.ic=function(a,b){if(void 0===b)return b=
new g.h,this.ic(a,b),b;g.mc.bT(this.sa,this.oa,this.qa,this.ma,a,b)};c.prototype.fe=function(){return null};c.prototype.XF=function(){return null};c.prototype.fq=function(){return null};c.prototype.Ci=function(){return null};c.prototype.Qn=function(){return null};c.prototype.jg=function(){return null};c.prototype.Sx=function(a,b){return void 0!==b?this.tx(b)-this.tx(a):this.tx(a)};c.prototype.pp=function(){};c.prototype.el=function(){return null};c.prototype.bh=function(){};c.prototype.Vc=function(){return null};
c.prototype.Me=function(){return null};c.prototype.tx=function(){return null};c.prototype.FG=function(){return null};c.prototype.ub=function(a,b){if(!b&&0!=this.Br(a,0,!1))return 0;b=1.7976931348623157E308;var d=this.ac(),e=a.fe(d,!1);d.sub(a.ic(e));d=d.length();d<b&&(b=d);d=this.xc();e=a.fe(d,!1);d.sub(a.ic(e));d=d.length();d<b&&(b=d);d=a.ac();e=this.fe(d,!1);d.sub(this.ic(e));d=d.length();d<b&&(b=d);d=a.xc();e=this.fe(d,!1);d.sub(this.ic(e));d=d.length();d<b&&(b=d);return b};c.prototype.mg=function(){return g.ri.im(this,
null)};return c}(g.ba);g.KC=u})(L||(L={}));new L.h;(function(g){(function(l){l[l.Unknown=-1]="Unknown";l[l.Not=0]="Not";l[l.Weak=1]="Weak";l[l.Strong=2]="Strong"})(g.SK||(g.SK={}));(function(l){l[l.DirtyIsKnownSimple=1]="DirtyIsKnownSimple";l[l.IsWeakSimple=2]="IsWeakSimple";l[l.IsStrongSimple=4]="IsStrongSimple";l[l.DirtyOGCFlags=8]="DirtyOGCFlags";l[l.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";l[l.DirtyExactIntervals=64]="DirtyExactIntervals";l[l.DirtyLooseIntervals=128]="DirtyLooseIntervals";
l[l.DirtyIntervals=192]="DirtyIntervals";l[l.DirtyIsEnvelope=256]="DirtyIsEnvelope";l[l.DirtyLength2D=512]="DirtyLength2D";l[l.DirtyRingAreas2D=1024]="DirtyRingAreas2D";l[l.DirtyCoordinates=1993]="DirtyCoordinates";l[l.DirtyAllInternal=65535]="DirtyAllInternal";l[l.DirtyAll=16777215]="DirtyAll"})(g.EK||(g.EK={}));var u=function(l){function c(){var a=l.call(this)||this;a.Jm=65535;a.xa=0;a.Qg=-1;a.Cb=null;return a}fa(c,l);c.prototype.pp=function(){};c.prototype.Yx=function(){};c.prototype.dy=function(){};
c.prototype.I=function(){return this.xa};c.prototype.B=function(){return this.Bc()};c.prototype.Bc=function(){return 0==this.xa};c.prototype.ak=function(a){return 0!=(this.Jm&a)};c.prototype.Nf=function(a,b){this.Jm=b?this.Jm|a:this.Jm&~a};c.prototype.rc=function(){this.ak(32)&&this.UM()};c.prototype.ux=function(){if(this.Bc())throw g.i.ga("This operation was performed on an Empty Geometry.");};c.prototype.we=function(a,b){if(0>a||a>=this.xa)throw g.i.ga("index out of bounds");this.rc();b.kg(this.description);
b.B()&&b.up();for(var d=0;d<this.description.Ba;d++)for(var e=this.description.Fd(d),f=0,h=g.ua.Wa(e);f<h;f++){var k=this.Aa[d].Bg(h*a+f);b.setAttribute(e,f,k)}};c.prototype.Ht=function(a,b){this.rc();for(var d=b.description,e=0;e<d.Ba;e++)for(var f=d.Fd(e),h=g.ua.Wa(f),k=0;k<h;k++){var m=b.Vc(f,k);this.setAttribute(f,a,k,m)}};c.prototype.D=function(a,b){if(0>a||a>=this.I())throw g.i.re();this.rc();this.Aa[0].uc(2*a,b)};c.prototype.Oa=function(a){var b=new g.h;this.D(a,b);return b};c.prototype.Hc=
function(a,b){this.Aa[0].uc(2*a,b)};c.prototype.Db=function(a,b,d){if(0>a||a>=this.xa)throw g.i.re();this.rc();var e=this.Aa[0];void 0!==d?(e.write(2*a,b),e.write(2*a+1,d)):e.Ut(2*a,b);this.Qc(1993)};c.prototype.xz=function(){if(void 0>=this.I())throw g.i.re();this.rc();var a=this.Aa[0],b=new g.Od;b.x=a.read(NaN);b.y=a.read(NaN);b.z=this.hasAttribute(1)?this.Aa[1].Bg(void 0):g.ua.te(1);return b};c.prototype.XB=function(a){if(0>a||a>=this.I())throw g.i.re();this.se(1);this.rc();this.Qc(1993);var b=
this.Aa[0];b.write(2*a,(void 0).x);b.write(2*a+1,(void 0).y);this.Aa[1].rr(a,(void 0).z)};c.prototype.Vc=function(a,b,d){if(0>b||b>=this.xa)throw g.i.re();var e=g.ua.Wa(a);if(d>=e)throw g.i.re();this.rc();var f=this.description.Qf(a);return 0<=f?this.Aa[f].Bg(b*e+d):g.ua.te(a)};c.prototype.qF=function(a,b){return this.Vc(a,b,void 0)};c.prototype.setAttribute=function(a,b,d,e){if(0>b||b>=this.xa)throw g.i.re();var f=g.ua.Wa(a);if(d>=f)throw g.i.re();this.se(a);this.rc();a=this.description.Qf(a);this.Qc(1993);
this.Aa[a].rr(b*f+d,e)};c.prototype.vb=function(a){this.ux();this.se(a);this.rc();return this.Aa[this.description.Qf(a)]};c.prototype.kn=function(a,b){if(null!=b&&g.ua.Vp(a)!=b.Vp())throw g.i.O();this.se(a);a=this.description.Qf(a);null==this.Aa&&(this.Aa=g.Zc.iI(this.description.Ba));this.Aa[a]=b;this.Qc(16777215)};c.prototype.un=function(a){var b=null;if(null!=this.Aa){var d=g.ee.Jw(a,this.description);b=[];for(var e=0,f=a.Ba;e<f;e++)-1!=d[e]&&(b[e]=this.Aa[d[e]])}this.description=a;this.Aa=b;this.Qg=
-1;this.Qc(16777215)};c.prototype.sD=function(a){this.xu(!0);a instanceof g.l?this.aa.A(a):this.aa.Ro(a)};c.prototype.TM=function(a){this.xu(!1);a instanceof g.l?this.aa.A(a):this.aa.Ro(a)};c.prototype.dn=function(a){this.xu(!0);this.aa.copyTo(a)};c.prototype.A=function(a){this.sD(a)};c.prototype.Ro=function(a){this.sD(a)};c.prototype.yc=function(a){this.TM(a)};c.prototype.Ug=function(a,b){var d=new g.Oc;if(this.Bc())return d.Pa(),d;this.xu(!0);return this.aa.Ug(a,b)};c.prototype.dc=function(){var a=
this.description.dc();if(!this.Bc())for(var b=this.I(),d=0,e=this.description.Ba;d<e;d++)a=this.Aa[d].Bn(a,0,b*g.ua.Wa(this.description.Fd(d)));return a};c.prototype.Nb=function(a){if(a==this)return!0;if(!(a instanceof c&&this.description.Nb(a.description))||this.Bc()!=a.Bc())return!1;if(this.Bc())return!0;var b=this.I();if(b!=a.I())return!1;for(var d=0;d<this.description.Ba;d++){var e=this.description.qd(d),f=this.vb(e),h=a.vb(e);if(!f.Nb(h,0,b*g.ua.Wa(e)))return!1}return!0};c.prototype.copyTo=function(a){if(a.K()!=
this.K())throw g.i.O();this.WC(a)};c.prototype.WC=function(a){this.rc();a.description=this.description;a.Aa=null;var b=this.description.Ba,d=null;if(null!=this.Aa){d=[];for(var e=0;e<b;e++)null!=this.Aa[e]&&(d[e]=this.Aa[e].AB(this.I()*g.ua.Wa(this.description.Fd(e))))}null!=this.aa?(a.aa=this.aa.Ja(),this.aa.copyTo(a.aa)):a.aa=null;a.xa=this.xa;a.Jm=this.Jm;a.Aa=d;try{this.pp(a)}catch(f){throw a.Pa(),g.i.gu();}};c.prototype.oD=function(){this.xa=0;this.Qg=-1;this.Aa=null;this.Qc(16777215)};c.prototype.Qc=
function(a){16777215==a&&(this.Qg=-1,this.Yx());this.Jm|=a;this.dM();this.wc()};c.prototype.xu=function(a){this.rc();if(this.ak(192))if(null==this.aa?this.aa=new g.Gh(this.description):this.aa.kg(this.description),this.B())this.aa.Pa();else{this.cy(a);for(var b=1;b<this.description.Ba;b++)for(var d=this.description.Fd(b),e=g.ua.Wa(d),f=this.Aa[b],h=0;h<e;h++){var k=new g.Oc;k.Pa();for(var m=0;m<this.xa;m++){var n=f.Bg(m*e+h);k.$b(n)}this.aa.setInterval(d,h,k)}a&&this.Nf(192,!1)}};c.prototype.cy=function(){this.aa.Pa();
for(var a=this.Aa[0],b=new g.h,d=0;d<this.xa;d++)a.uc(2*d,b),this.aa.$b(b)};c.prototype.Ap=function(a){a.Pa();for(var b=this.Aa[0],d=new g.h,e=0;e<this.xa;e++)b.uc(2*e,d),a.$b(d)};c.prototype.UM=function(){if(this.Qg<this.xa){null==this.Aa&&(this.Aa=g.Zc.iI(this.description.Ba));this.Qg=2147483647;for(var a=0;a<this.description.Ba;a++){var b=this.description.Fd(a);if(null!=this.Aa[a]){var d=g.ua.Wa(b),e=g.P.truncate(this.Aa[a].size/d);e<this.xa&&(e=g.P.truncate(this.Qg>this.xa+5?(5*this.xa+3)/4:this.xa),
this.Aa[a].resize(e*d,g.ua.te(b)));e<this.Qg&&(this.Qg=e)}else this.Aa[a]=g.Zc.QE(b,this.xa),this.Qg=this.xa}}this.dy();this.Nf(32,!1)};c.prototype.fm=function(a){if(0>a)throw g.i.O();a!=this.xa&&(this.xa=a,this.Qc(65535))};c.prototype.qm=function(a){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.GT>=a)return this.ak(8)?1:2}return-1};c.prototype.Dh=function(a,b){this.GT=b;if(-1==a)this.Nf(1,!0),this.Nf(8,!0);else if(this.Nf(1,!1),this.Nf(8,!0),0==a)this.Nf(2,!1),this.Nf(4,!1);else if(1==a)this.Nf(2,
!0),this.Nf(4,!1);else if(2==a)this.Nf(2,!0),this.Nf(4,!0);else throw g.i.ga("internal error.");};c.prototype.dM=function(){null!=this.Cb&&(this.Cb=null)};c.prototype.cD=function(a,b,d,e){if(0>a||a>=this.xa)throw g.i.ga("index out of bounds");if(0>b||b>=this.xa)throw g.i.ga("index out of bounds");this.rc();e.kg(this.description);e.B()&&e.up();for(var f=0;f<this.description.Ba;f++)for(var h=this.description.Fd(f),k=0,m=g.ua.Wa(h);k<m;k++){var n=this.Aa[f].Bg(m*a+k),p=this.Aa[f].Bg(m*b+k);e.setAttribute(h,
k,g.mc.jq(n,p,d))}};c.prototype.Ar=function(a,b){var d=this.Aa[0].o,e=d[2*a]-d[2*b];a=d[2*a+1]-d[2*b+1];return Math.sqrt(e*e+a*a)};c.prototype.Eh=function(a,b){if(0>a||a>=this.xa)throw g.i.re();if(b.B())throw g.i.O();this.rc();for(var d=b.description,e=0;e<d.Ba;e++)for(var f=d.qd(e),h=g.ua.Wa(f),k=0;k<h;k++){var m=b.Vc(f,k);this.setAttribute(f,a,k,m)}};c.prototype.mu=function(){return null};c.prototype.gj=function(){return null};return c}(g.ba);g.Ex=u})(L||(L={}));(function(g){var u=function(){function l(){this.ob=
this.$n=null;this.Vm=124234251;this.Sv=!0;this.Ne=-1;this.ob=new g.ad(7);this.$n=null}l.prototype.Wo=function(c){this.$n=c};l.prototype.JP=function(){this.Sv=!1};l.prototype.Ee=function(c){this.ob.Ee(c)};l.prototype.Qr=function(c){var a=this.ob.De();this.fX(a);this.iX(c,a);return a};l.prototype.EP=function(c){this.ob.kd(c)};l.prototype.addElement=function(c,a){-1==a&&(-1==this.Ne&&(this.Ne=this.Qr(-1)),a=this.Ne);return this.xD(c,0,a)};l.prototype.BD=function(c){-1==this.Ne&&(this.Ne=this.Qr(-1));
return this.xD(c,1,this.Ne)};l.prototype.yn=function(c){-1==this.Ne&&(this.Ne=this.Qr(-1));var a=this.Ne,b=this.ob.o;if(-1==a||-1==b[7*a])return c=this.ob.Nl([-1,-1,-1,c,this.il(),-1,-1]),b=this.ob.o,b[7*a]=c,this.xp(-1,c,a,b),c;var d=-1==a?-1:b[7*a+2];c=this.ob.Nl([-1,-1,d,c,this.il(),-1,-1]);b=this.ob.o;b[7*d+1]=c;this.jy(c,b);-1===b[7*c+2]&&(b[7*a]=c);this.xp(-1,c,a,b);return c};l.prototype.Au=function(c,a,b,d){var e=-1;-1==e&&(-1==this.Ne&&(this.Ne=this.Qr(-1)),e=this.Ne);var f=this.ob.o;if(-1==
e||-1==f[7*e])return b=this.ob.Nl([-1,-1,-1,b,this.il(),-1,-1]),f=this.ob.o,f[7*e]=b,this.xp(-1,b,e,f),b;if(d){d=-1!=a?this.$n.compare(this,b,a):-1;var h=-1!=c?this.$n.compare(this,b,c):1}else d=-1,h=1;if(0==d||0==h)return f[7*e+3]=0==d?a:c,-1;(-1!=a&&-1!=c?this.Vm>g.P.WA(this.Vm)>>1:-1!=a)?c=a:d=h;for(a=!0;;){if(0>d)if(h=f[7*c],-1!=h)c=h;else{d=c;b=this.ob.Nl([-1,-1,c,b,this.il(),-1,-1]);f=this.ob.o;f[7*c]=b;break}else if(h=f[7*c+1],-1!=h)c=h;else{d=f[7*c+6];b=this.ob.Nl([-1,-1,c,b,this.il(),-1,
-1]);f=this.ob.o;f[7*c+1]=b;break}a&&(d*=-1,a=!1)}this.jy(b,f);-1===f[7*b+2]&&(f[7*e]=b);this.xp(d,b,e,f);return b};l.prototype.xF=function(){return this.aR(this.Ne)};l.prototype.wd=function(c,a){a=-1==a?this.Ne:a;this.Sv?this.DP(c,a):this.XX(c,a)};l.prototype.search=function(c,a){for(a=this.tv(a);-1!=a;){var b=this.$n.compare(this,c,a);if(0==b)return a;a=0>b?this.nl(a):this.Zp(a)}return-1};l.prototype.xW=function(c){for(var a=this.tv(-1),b=-1;-1!=a;){var d=c.compare(this,a);if(0==d)return a;0>d?
a=this.nl(a):(b=a,a=this.Zp(a))}return b};l.prototype.mJ=function(c){for(var a=this.tv(-1),b=-1;-1!=a;){var d=c.compare(this,a);if(0==d)return a;0>d?(b=a,a=this.nl(a)):a=this.Zp(a)}return b};l.prototype.ka=function(c){return this.ob.U(c,3)};l.prototype.nl=function(c){return this.ob.U(c,0)};l.prototype.Zp=function(c){return this.ob.U(c,1)};l.prototype.getParent=function(c){return this.ob.U(c,2)};l.prototype.lb=function(c){return this.ob.U(c,6)};l.prototype.xe=function(c){return this.ob.U(c,5)};l.prototype.sc=
function(c){return-1==c?this.ml(this.Ne):this.ml(c)};l.prototype.Gc=function(c){return-1==c?this.$r(this.Ne):this.$r(c)};l.prototype.QR=function(c){return-1==c?this.UF(this.Ne):this.UF(c)};l.prototype.Tj=function(c,a){this.HB(c,a)};l.prototype.tv=function(c){return-1==c?this.QF(this.Ne):this.QF(c)};l.prototype.clear=function(){this.ob.nj(!1);this.Ne=-1};l.prototype.size=function(c){return-1==c?this.SF(this.Ne):this.SF(c)};l.prototype.CN=function(c,a){for(var b=a[7*c],d=a[7*c+1],e=a[7*c+4];-1!=b||
-1!=d;){var f=-1!=b?a[7*b+4]:2147483647;d=-1!=d?a[7*d+4]:2147483647;if(e<=Math.min(f,d))break;f<=d?this.kJ(b,a):this.jJ(c,a);b=a[7*c];d=a[7*c+1]}};l.prototype.jy=function(c,a){if(this.Sv)for(var b=a[7*c+4],d=a[7*c+2];-1!=d&&a[7*d+4]>b;)a[7*d]==c?this.kJ(c,a):this.jJ(d,a),d=a[7*c+2]};l.prototype.jJ=function(c,a){var b=a[7*c+1];a[7*b+2]=a[7*c+2];a[7*c+2]=b;var d=a[7*b];a[7*c+1]=d;-1!=d&&(a[7*d+2]=c);a[7*b]=c;d=a[7*b+2];-1!=d&&(a[7*d]==c?a[7*d]=b:a[7*d+1]=b)};l.prototype.kJ=function(c,a){var b=a[7*c+
2];a[7*c+2]=a[7*b+2];a[7*b+2]=c;var d=a[7*c+1];a[7*b]=d;-1!=d&&(a[7*d+2]=b);a[7*c+1]=b;d=a[7*c+2];-1!=d&&(a[7*d]===b?a[7*d]=c:a[7*d+1]=c)};l.prototype.Pk=function(c,a){this.ob.T(c,2,a)};l.prototype.MB=function(c,a){this.ob.T(c,0,a)};l.prototype.QB=function(c,a){this.ob.T(c,1,a)};l.prototype.PB=function(c,a){this.ob.T(c,5,a)};l.prototype.ex=function(c,a){this.ob.T(c,6,a)};l.prototype.PJ=function(c,a){this.ob.T(a,0,c)};l.prototype.fX=function(c){this.ob.T(c,4,0)};l.prototype.iX=function(c,a){this.ob.T(a,
5,c)};l.prototype.QF=function(c){return-1==c?-1:this.ob.U(c,0)};l.prototype.ml=function(c){return-1==c?-1:this.ob.U(c,1)};l.prototype.$r=function(c){return-1==c?-1:this.ob.U(c,2)};l.prototype.aR=function(c){return-1==c?-1:this.ob.U(c,3)};l.prototype.SF=function(c){return-1==c?0:this.ob.U(c,4)};l.prototype.UF=function(c){return this.ob.U(c,5)};l.prototype.Qw=function(){return this.ob.Nl([-1,-1,-1,void 0,this.il(),-1,-1])};l.prototype.hl=function(c){-1!=c&&this.ob.kd(c)};l.prototype.il=function(){this.Vm=
g.P.WA(this.Vm);return this.Vm&1073741823};l.prototype.xD=function(c,a,b){var d=this.ob.o;if(-1==b||-1==d[7*b])return c=this.ob.Nl([-1,-1,-1,c,this.il(),-1,-1]),d=this.ob.o,d[7*b]=c,this.xp(-1,c,b,d),c;for(var e=-1==b?-1:d[7*b];;){var f=-1==a?1:this.$n.compare(this,c,e);if(0>f)if(f=this.nl(e),-1!=f)e=f;else{a=e;c=this.ob.Nl([-1,-1,e,c,this.il(),-1,-1]);d=this.ob.o;d[7*e]=c;break}else{if(1==a&&0==f)return d[7*b+3]=e,-1;f=d[7*e+1];if(-1!=f)e=f;else{a=d[7*e+6];c=this.ob.Nl([-1,-1,e,c,this.il(),-1,-1]);
d=this.ob.o;d[7*e+1]=c;break}}}this.jy(c,d);-1===d[7*c+2]&&(d[7*b]=c);this.xp(a,c,b,d);return c};l.prototype.xp=function(c,a,b,d){if(-1!=c){var e=d[7*c+5];d[7*c+5]=a}else e=-1==b?-1:d[7*b+2];d[7*a+5]=e;-1!=e&&(d[7*e+6]=a);d[7*a+6]=c;c==(-1==b?-1:d[7*b+1])&&(d[7*b+1]=a);-1==c&&(d[7*b+2]=a);d[7*b+4]=(-1==b?0:d[7*b+4])+1};l.prototype.uB=function(c,a){var b=this.ob.o,d=b[7*c+5];c=b[7*c+6];-1!=d?b[7*d+6]=c:b[7*a+1]=c;-1!=c?b[7*c+5]=d:b[7*a+2]=d;b[7*a+4]=-1===a?-1:b[7*a+4]-1};l.prototype.XX=function(c,
a){this.uB(c,a);var b=this.nl(c),d=this.Zp(c),e=this.getParent(c),f=c;if(-1!=b&&-1!=d){this.Vm=g.P.WA(this.Vm);var h=1073741823<this.Vm?this.lb(c):this.xe(c),k=this.getParent(h)==c;this.ob.$B(c,h,0);this.ob.$B(c,h,1);this.ob.$B(c,h,2);-1!=e?this.nl(e)==c?this.MB(e,h):this.QB(e,h):this.PJ(h,a);k?(b==h?(this.MB(h,c),this.Pk(d,h)):d==h&&(this.QB(h,c),this.Pk(b,h)),this.Pk(c,h),e=h):(this.Pk(b,h),this.Pk(d,h),e=this.getParent(c),f=h);b=this.nl(c);d=this.Zp(c);-1!=b&&this.Pk(b,c);-1!=d&&this.Pk(d,c)}b=
-1!=b?b:d;-1==e?this.PJ(b,a):this.nl(e)==f?this.MB(e,b):this.QB(e,b);-1!=b&&this.Pk(b,e);this.hl(c)};l.prototype.DP=function(c,a){var b=this.ob.o;b[7*c+4]=2147483647;var d=-1,e=-1,f=-1===a?-1:b[7*a],h=f==c;h&&(d=b[7*f],e=b[7*f+1],-1==d&&-1==e)?(this.uB(f,a),this.hl(f),b[7*a]=-1):(this.CN(c,b),f=b[7*c+2],-1!=f&&(b[7*f]==c?b[7*f]=-1:b[7*f+1]=-1),this.uB(c,a),this.hl(c),h&&(b[7*a]=-1==d||-1!=b[7*d+2]?e:d))};l.prototype.HB=function(c,a){this.ob.T(c,3,a)};return l}();g.Yj=u})(L||(L={}));(function(g){var u=
function(){function l(c,a){void 0!==c&&this.L(c,a)}l.prototype.L=function(c,a){this.pa=c;this.wa=a;this.normalize()};l.prototype.isIntersecting=function(c){return this.pa<=c.pa?this.wa>=c.pa:c.wa>=this.pa};l.prototype.move=function(c){this.B()||(this.pa+=c,this.wa+=c)};l.prototype.normalize=function(){if(!isNaN(this.pa)){if(this.pa>this.wa){var c=this.pa;this.pa=this.wa;this.wa=c}isNaN(this.wa)&&this.Pa()}};l.prototype.Pa=function(){this.wa=this.pa=NaN};l.prototype.B=function(){return isNaN(this.pa)};
l.prototype.$b=function(c){"number"===typeof c?this.B()?this.wa=this.pa=c:this.Lk(c):c.B()||(this.B()?(this.pa=c.pa,this.wa=c.wa):(this.pa>c.pa&&(this.pa=c.pa),this.wa<c.wa&&(this.wa=c.wa),this.pa>this.wa&&this.Pa()))};l.prototype.Lk=function(c){c<this.pa?this.pa=c:c>this.wa&&(this.wa=c)};l.prototype.contains=function(c){return"number"===typeof c?c>=this.pa&&c<=this.wa:c.pa>=this.pa&&c.wa<=this.wa};l.prototype.Fa=function(c){this.B()||c.B()?this.Pa():(this.pa<c.pa&&(this.pa=c.pa),this.wa>c.wa&&(this.wa=
c.wa),this.pa>this.wa&&this.Pa())};l.prototype.X=function(c){this.B()||(this.pa-=c,this.wa+=c,this.wa<this.pa&&this.Pa())};l.prototype.zr=function(){return this.B()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.pa)+Math.abs(this.wa)+1)};l.prototype.EB=function(c,a){c>a?(this.pa=a,this.wa=c):(this.pa=c,this.wa=a)};l.prototype.Jt=function(c){return g.P.Rk(c,this.pa,this.wa)};l.prototype.S=function(){return this.wa-this.pa};l.prototype.tf=function(){return.5*(this.pa+this.wa)};l.prototype.Nb=
function(c){return c==this?!0:c instanceof l?this.B()&&c.B()?!0:this.pa!=c.pa||this.wa!=c.wa?!1:!0:!1};l.prototype.dc=function(){return g.P.vj(g.P.vj())};return l}();g.Oc=u})(L||(L={}));(function(g){var u=new g.Oc,l=new g.Oc,c=function(){return function(){this.ne=null;this.pb=-1;this.tb=new g.zb;this.kA=55555555;this.Uv=this.Wv=!1;this.Vf=new g.Oc;this.Vf.EB(0,0)}}();g.xY=c;var a=function(){function b(d,e,f){this.g=d;this.Hk=NaN;this.FH=this.Mq=0;this.GH=NaN;this.ra=e;this.Pq=10*e;this.HH=this.IH=
NaN;this.rg=!1;this.Fm=this.gt=this.Mo=this.Ys=this.Xs=-1;this.bA=f;this.NA=new c;this.QH=new c;g.P.truncate(3*d.gd/2)}b.prototype.eG=function(d,e,f,h){d.ne=null===h?null:h[f[5*e]];d.Uv=null!=d.ne;d.Uv||(h=f[5*e+2],-1!==h&&this.g.cW(f[5*e],f[5*h],d.tb),d.ne=d.tb,d.Vf.EB(d.tb.sa,d.tb.qa),d.Vf.wa+=this.ra,d.tb.jI(),d.Wv=d.tb.ma==d.tb.oa,d.Wv||(d.kA=(d.tb.qa-d.tb.sa)/(d.tb.ma-d.tb.oa)))};b.prototype.GO=function(d,e){var f=d.Br(e,this.ra,!0);if(0!=f)return 2==f?this.Ly():this.yi();d.$p(va);d.Ur(Ca);e.$p(Aa);
e.Ur(Ma);qa.na(this.Mq,this.Hk);va.rb(Aa)&&this.Hk==va.y?0>Ca.compare(Ma)?qa.N(Ca):qa.N(Ma):va.rb(Ma)&&this.Hk==va.y?0>Ca.compare(Aa)?qa.N(Ca):qa.N(Aa):Aa.rb(Ca)&&this.Hk==Aa.y?0>va.compare(Ma)?qa.N(va):qa.N(Ma):Ca.rb(Ma)&&this.Hk==Ca.y&&(0>va.compare(Aa)?qa.N(va):qa.N(Aa));return d.Me(qa.y,qa.x)<e.Me(qa.y,qa.x)?-1:1};b.prototype.EO=function(d,e){if(d.tb.oa==e.tb.oa&&d.tb.sa==e.tb.sa)return d.tb.ma==e.tb.ma&&d.tb.qa==e.tb.qa?this.bA?this.Ly():0:this.HE(d,e);if(d.tb.ma==e.tb.ma&&d.tb.qa==e.tb.qa)return this.GE(d,
e);var f=this.GE(d,e);d=this.HE(d,e);return 0>f&&0>d?-1:0<f&&0<d?1:this.yi()};b.prototype.AO=function(d,e){if(d.qa>e.qa){if(e.qa>e.sa&&e.ma-e.oa<2*this.ra&&d.wi(e.qa,e.ma,this.ra))return this.yi()}else if((e.ma-e.oa)/(e.qa-e.sa)*(d.qa-d.sa)<this.Pq&&e.wi(d.qa,d.ma,this.ra))return this.yi();return 1};b.prototype.BO=function(d,e){if(d.sa<e.sa){if(e.qa>e.sa&&e.ma-e.oa<2*this.ra&&d.wi(e.qa,e.ma,this.ra))return this.yi()}else if((e.ma-e.oa)/(e.qa-e.sa)*(d.sa-d.qa)<this.Pq&&e.wi(d.sa,d.oa,this.ra))return this.yi();
return-1};b.prototype.CO=function(d,e){var f=new g.h;f.vc(e.xc(),e.ac());f.cr();f.normalize();var h=new g.h;h.vc(d.ac(),e.ac());var k=new g.h;k.vc(d.xc(),e.ac());h=h.Rh(f);f=k.Rh(f);k=Math.abs(h);var m=Math.abs(f);if(k<m){if(k<this.Pq&&e.wi(d.sa,d.oa,this.ra))return this.yi()}else if(m<this.Pq&&e.wi(d.qa,d.ma,this.ra))return this.yi();return 0>h&&0>f?-1:0<h&&0<f?1:this.yi()};b.prototype.FE=function(d,e){return d.oa==e.oa&&d.sa==e.sa?this.AO(d,e):d.ma==e.ma&&d.qa==e.qa?this.BO(d,e):this.CO(d,e)};b.prototype.DO=
function(d,e){return d.ma==e.ma&&d.qa==e.qa&&d.oa==e.oa&&d.sa==e.sa?this.bA?this.Ly():0:this.yi()};b.prototype.GE=function(d,e){var f=1;if(d.tb.oa<e.tb.oa){f=-1;var h=d;d=e;e=h}d=d.tb;h=e.tb;var k=d.sa-h.sa;e=e.kA*(d.oa-h.oa);var m=this.Pq;return k<e-m?-f:k>e+m?f:h.wi(d.sa,d.oa,this.ra)?this.yi():k<e?-f:f};b.prototype.HE=function(d,e){var f=1;if(e.tb.ma<d.tb.ma){f=-1;var h=d;d=e;e=h}d=d.tb;h=e.tb;var k=d.qa-h.sa;e=e.kA*(d.ma-h.oa);var m=this.Pq;return k<e-m?-f:k>e+m?f:h.wi(d.qa,d.ma,this.ra)?this.yi():
k<e?-f:f};b.prototype.Ly=function(){this.rg=!0;this.Oi=new g.Nd(5,this.Mo,this.gt);return-1};b.prototype.yi=function(){this.rg=!0;this.bA?this.Oi=new g.Nd(4,this.Mo,this.gt):this.gt=this.Mo=this.Ys=this.Xs=-1;return-1};b.prototype.FO=function(d,e,f,h){if(this.rg)return-1;var k=this.GH==this.Hk&&this.FH==this.Mq;if(k&&d==this.Xs)var m=this.HH;else m=NaN,this.Xs=-1;k&&e==this.Ys?k=this.IH:(k=NaN,this.Ys=-1);f.ne.RI(u);h.ne.RI(l);if(u.wa<l.pa)return-1;if(l.wa<u.pa)return 1;this.GH=this.Hk;this.FH=this.Mq;
isNaN(m)&&(this.Xs=d,this.HH=m=d=f.ne.Me(this.Hk,this.Mq));isNaN(k)&&(this.Ys=e,this.IH=k=d=h.ne.Me(this.Hk,this.Mq));return Math.abs(m-k)<=this.ra?this.GO(f.ne,h.ne):m<k?-1:m>k?1:0};b.prototype.Lr=function(){this.rg=!1};b.prototype.tm=function(){return this.Oi};b.prototype.SJ=function(d,e){this.Hk=d;this.Mq=e;this.gt=this.Mo=this.Ys=this.Xs=-1};b.prototype.compare=function(d,e,f){if(this.rg)return-1;d=d.ka(f);this.Fm=f;return this.JE(e,e,d,d)};b.prototype.JE=function(d,e,f,h){if(this.Mo==e)var k=
this.NA;else this.Mo=e,k=this.NA,this.NA.pb=d,this.eG(k,e,this.g.ud.o,this.g.Te);if(null==m){this.gt=h;var m=this.QH;this.QH.pb=f;this.eG(m,h,this.g.ud.o,this.g.Te)}if(k.Uv||m.Uv)return this.FO(e,h,k,m);if(k.Vf.wa<m.Vf.pa)return-1;if(m.Vf.wa<k.Vf.pa)return 1;d=k.Wv?1:0;d|=m.Wv?2:0;return 0==d?this.EO(k,m):1==d?this.FE(k.tb,m.tb):2==d?-1*this.FE(m.tb,k.tb):this.DO(k.tb,m.tb)};return b}();g.MC=a})(L||(L={}));(function(g){var u=function(){function l(c,a){this.g=c;this.ra=a;this.rg=!1;this.Mo=-1;this.Vf=
new g.Oc;this.Iq=new g.h;this.Iq.Sc();this.ie=new g.zb;this.Fm=-1;this.vA=1.7976931348623157E308}l.prototype.Lr=function(){this.rg=!1;this.vA=1.7976931348623157E308};l.prototype.Eh=function(c){this.Iq.N(c)};l.prototype.compare=function(c,a){return this.KE(a,c.ka(a))};l.prototype.KE=function(c,a){var b=null!=this.g.cc(a);b||(this.g.fd(a,this.ie),this.Vf.EB(this.ie.sa,this.ie.qa));if(b)throw g.i.ga("not implemented");if(this.Iq.x+this.ra<this.Vf.pa)return-1;if(this.Iq.x-this.ra>this.Vf.wa)return 1;
if(this.ie.oa==this.ie.ma)return this.Fm=c,this.rg=!0,0;this.ie.jI();b=this.ie.ac();a=new g.h;a.vc(this.ie.xc(),b);a.cr();var d=new g.h;d.vc(this.Iq,b);b=a.Rh(d);b/=a.length();return b<10*-this.ra?-1:b>10*this.ra?1:this.ie.rs(this.Iq,this.ra)&&(a=Math.abs(b),a<this.vA&&(this.Fm=c,this.vA=a),this.rg=!0,a<.25*this.ra)?0:0>b?-1:1};return l}();g.TL=u})(L||(L={}));(function(g){function u(c,a,b,d){b=new Float64Array(c.subarray(b,d));c.set(b,a)}var l=function(){function c(a){this.Pb=this.pk=!1;this.o=null;
var b=a;2>b&&(b=2);this.o=new Float64Array(b);this.size=a}c.prototype.rotate=function(a,b,d){if(this.Pb)throw g.i.ga("invalid_call");if(b<a||b>d||a>d)throw g.i.O();a!=b&&d!=b&&(this.oi(a,b-a,1),this.oi(b,d-b,1),this.oi(a,d-a,1))};c.rf=function(a,b){var d=new c(a),e=d.o;2>a&&(a=2);if(0!==b)for(var f=0;f<a;f++)e[f]=b;return d};c.Cn=function(a){var b=new c(0);b.o=new Float64Array(a.o);b.size=a.size;return b};c.Mr=function(a,b){var d=new c(0);d.size=a.size;d.size>b&&(d.size=b);b=d.size;2>b&&(b=2);d.o=
new Float64Array(b);d.o.set(a.o.length<=b?a.o:a.o.subarray(0,b),0);return d};c.prototype.Jb=function(a){0>=a||(null==this.o?this.o=new Float64Array(a):a<=this.o.length||(0<this.o.length?(a=new Float64Array(a),a.set(this.o),this.o=a):this.o=new Float64Array(a)))};c.prototype.read=function(a){return this.o[a]};c.prototype.uc=function(a,b){b.x=this.o[a];b.y=this.o[a+1]};c.prototype.get=function(a){return this.o[a]};c.prototype.write=function(a,b){if(this.Pb)throw g.i.Hb();this.o[a]=b};c.prototype.set=
function(a,b){if(this.Pb)throw g.i.Hb();this.o[a]=b};c.prototype.Ut=function(a,b){if(this.Pb)throw g.i.Hb();this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.add=function(a){this.resize(this.size+1);this.o[this.size-1]=a};c.prototype.AB=function(a){return c.Mr(this,a)};c.prototype.Bg=function(a){return this.read(a)};c.prototype.resize=function(a,b){void 0===b&&(b=0);if(this.pk)throw g.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var d=
new Float64Array(this.o,0,a);this.o=d}}else{a>this.o.length&&(d=g.P.truncate(64>a?Math.max(2*a,4):5*a/4),d=new Float64Array(d),d.set(this.o),this.o=d);d=this.o;for(var e=this.size;e<a;e++)d[e]=b}this.size=a};c.prototype.Ch=function(a){(null==this.o||a>this.o.length)&&this.resize(a);if(this.pk)throw g.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};c.prototype.rr=function(a,b){this.write(a,b)};c.prototype.Bn=function(a,b,d){for(var e=this.size;b<e&&b<d;b++)a=g.P.vj(this.read(b));
return a};c.prototype.Nb=function(a,b,d){if(null==a||!(a instanceof c))return!1;var e=this.size,f=a.size;if(d>e||d>f&&e!=f)return!1;for(d>e&&(d=e);b<d;b++)if(this.read(b)!=a.read(b))return!1;return!0};c.prototype.addRange=function(a,b,d,e,f){if(this.Pb)throw g.i.Hb();if(!e&&(1>f||0!=d%f))throw g.i.O();var h=this.size;this.resize(h+d);if(e)this.o.set(a.o.subarray(b,b+d),h);else{e=d;for(var k=0;k<d;k+=f){e-=f;for(var m=0;m<f;m++)this.o[h+k+m]=a.o[b+e+m]}}};c.prototype.Nn=function(a,b,d,e,f,h,k){if(this.Pb)throw g.i.Hb();
if(!f&&(1>h||0!=e%h))throw g.i.O();var m=this.size-k;m<e&&this.resize(this.size+e-m);u(this.o,a+e,a,a+(k-a));this.o==b.o&&a<d&&(d+=e);if(f)this.o.set(b.o.subarray(d,d+e),a);else for(f=e,k=0;k<e;k+=h)for(f-=h,m=0;m<h;m++)this.o[a+k+m]=b.o[d+f+m]};c.prototype.Dz=function(a,b,d,e,f,h){if(this.Pb)throw g.i.Hb();0>h&&(h=this.size);this.size+2*e>this.o.length?this.resize(this.size+2*e):this.size+=2*e;u(this.o,a+2*e,a,a+(h-a));if(f)for(f=0;f<e;f++)h=b[d++],this.o[a++]=h.x,this.o[a++]=h.y;else{f=0;for(var k=
e-1;f<e;++f)h=b[d+k],this.o[a++]=h.x,this.o[a++]=h.y,k--}};c.prototype.Mn=function(a,b,d,e){if(this.Pb)throw g.i.Hb();e-=a;u(this.o,a+e,a,a+e);for(e=0;e<d;e++)this.o[a+e]=b};c.prototype.wj=function(a,b,d){if(this.Pb)throw g.i.Hb();u(this.o,a+2,a,a+(d-a));this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.Vt=function(a,b,d,e,f,h){if(0>a||0>b||0>e)throw g.i.O();if(!f&&(0>=h||0!=b%h))throw g.i.O();if(d.size<e+b)throw g.i.O();if(0!=b)if(this.size<b+a&&this.resize(b+a),d==this)this.Cr(a,b,e,f,h);else if(f)for(f=
0;f<b;f++)this.o[a]=d.o[e],a++,e++;else if(e=e+b-h,1==h)for(f=0;f<b;f++)this.o[a]=d.o[e],a++,e--;else for(f=0,b=g.P.truncate(b/h);f<b;f++){for(var k=0;k<h;k++)this.o[a+k]=d.o[e+k];a+=h;e-=h}};c.prototype.Fn=function(a,b,d){if(this.Pb)throw g.i.Hb();if(a+b>this.size)throw g.i.Hb();0<d-(a+b)&&u(this.o,a,a+b,a+(d-(a+b))+b);this.size-=b};c.prototype.oi=function(a,b,d){if(this.Pb)throw g.i.Hb();if(1>d||0!=b%d)throw g.i.Hb();for(var e=b>>1,f=0;f<e;f+=d){b-=d;for(var h=0;h<d;h++){var k=this.o[a+f+h];this.o[a+
f+h]=this.o[a+b+h];this.o[a+b+h]=k}}};c.prototype.Xj=function(a,b,d){if(0>b||0>d||0>b||d+b>this.size)throw g.i.O();for(var e=b;e<b+d;e++)this.o[e]=a};c.prototype.Cr=function(a,b,d,e,f){if(!e||a!=d)if(this.o.set(this.o.subarray(d,d+b),a),!e)for(d=a,a=a+b-f,e=0,b=g.P.truncate(b/2);e<b;e++){for(var h=0;h<f;h++){var k=this.o[d+h];this.o[d+h]=this.o[a+h];this.o[a+h]=k}d+=f;a-=f}};c.prototype.oC=function(a,b,d,e,f){if(0>a||0>b||0>e)throw g.i.O();if(0!=b)for(this.size<(b<<1)+a&&this.resize((b<<1)+a),f||
(a+=b-1<<1),f=f?2:-2,b+=e;e<b;e++)this.o[a]=d[e].x,this.o[a+1]=d[e].y,a+=f};c.prototype.nC=function(a,b,d){if(0>a||0>b)throw g.i.O();if(0!=b){this.size<(b<<1)+a&&this.resize((b<<1)+a);b+=0;for(var e=0;e<b;e++)this.o[a]=d[e][0],this.o[a+1]=d[e][1],a+=2}};c.prototype.Ww=function(a,b,d,e,f){if(0>a||0>b||0>e||this.size<b+a)throw g.i.O();if(f)for(f=0;f<b;f++)d[e+f]=this.o[a+f];else for(e=e+b-1;a<b;a++)d[e]=this.o[a],e--};c.prototype.oB=function(a,b,d){if(0>a||0>b||this.size<(b>>1)+a)throw g.i.O();if(0!=
b){b=0+b;for(var e=0;e<b;e++)d[e][0]=this.o[a],d[e][1]=this.o[a+1],a+=2}};c.prototype.clear=function(a){a?this.resize(0):this.Ch(0)};c.prototype.hx=function(){this.pk=this.Pb=!0};c.prototype.Wd=function(a,b,d){Array.prototype.sort.call(this.o.subarray(a,b),d)};c.prototype.Vp=function(){return 1};return c}();g.ce=l})(L||(L={}));(function(g){function u(c,a,b,d){b=new Int32Array(c.subarray(b,d));c.set(b,a)}g.fY=function(){return function(){this.random=1973}}();var l=function(){function c(a){this.Pb=
this.pk=!1;this.o=null;var b=a;2>b&&(b=2);this.o=new Int32Array(b);this.size=a}c.prototype.rotate=function(a,b,d){if(this.Pb)throw g.i.ga("invalid_call");if(b<a||b>d||a>d)throw g.i.O();a!=b&&d!=b&&(this.oi(a,b-a,1),this.oi(b,d-b,1),this.oi(a,d-a,1))};c.rf=function(a,b){var d=new c(a),e=d.o;2>a&&(a=2);if(0!==b)for(var f=0;f<a;f++)e[f]=b;return d};c.Cn=function(a){var b=new c(0);b.o=new Int32Array(a.o);b.size=a.size;return b};c.Mr=function(a,b){var d=new c(0);d.size=a.size;d.size>b&&(d.size=b);b=d.size;
2>b&&(b=2);d.o=new Int32Array(b);d.o.set(a.o.length<=b?a.o:a.o.subarray(0,b),0);return d};c.prototype.Jb=function(a){0>=a||(null==this.o?this.o=new Int32Array(a):a<=this.o.length||(0<this.o.length?(a=new Int32Array(a),a.set(this.o),this.o=a):this.o=new Int32Array(a)))};c.prototype.read=function(a){return this.o[a]};c.prototype.uc=function(a,b){b.x=this.o[a];b.y=this.o[a+1]};c.prototype.get=function(a){return this.o[a]};c.prototype.write=function(a,b){if(this.Pb)throw g.i.Hb();this.o[a]=b};c.prototype.set=
function(a,b){if(this.Pb)throw g.i.Hb();this.o[a]=b};c.prototype.Ut=function(a,b){if(this.Pb)throw g.i.Hb();this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.add=function(a){this.resize(this.size+1);this.o[this.size-1]=a};c.prototype.AB=function(a){return c.Mr(this,a)};c.prototype.Bg=function(a){return this.read(a)};c.prototype.resize=function(a,b){void 0===b&&(b=0);if(this.pk)throw g.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var d=
new Int32Array(this.o,0,a);this.o=d}}else{a>this.o.length&&(d=g.P.truncate(64>a?Math.max(2*a,4):5*a/4),d=new Int32Array(d),d.set(this.o),this.o=d);d=this.o;for(var e=this.size;e<a;e++)d[e]=b}this.size=a};c.prototype.Ch=function(a){(null==this.o||a>this.o.length)&&this.resize(a);if(this.pk)throw g.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};c.prototype.rr=function(a,b){this.write(a,b)};c.prototype.Bn=function(a,b,d){for(var e=this.size;b<e&&b<d;b++)a=g.P.Uh(this.read(b),
a);return a};c.prototype.Nb=function(a,b,d){if(null==a||!(a instanceof c))return!1;var e=this.size,f=a.size;if(d>e||d>f&&e!=f)return!1;for(d>e&&(d=e);b<d;b++)if(this.read(b)!=a.read(b))return!1;return!0};c.prototype.addRange=function(a,b,d,e,f){if(this.Pb)throw g.i.Hb();if(!e&&(1>f||0!=d%f))throw g.i.O();var h=this.size;this.resize(h+d);if(e)this.o.set(a.o.subarray(b,b+d),h);else{e=d;for(var k=0;k<d;k+=f){e-=f;for(var m=0;m<f;m++)this.o[h+k+m]=a.o[b+e+m]}}};c.prototype.Nn=function(a,b,d,e,f,h,k){if(this.Pb)throw g.i.Hb();
if(!f&&(1>h||0!=e%h))throw g.i.O();u(this.o,a+e,a,a+(k-a));this.o==b.o&&a<d&&(d+=e);if(f)this.o.set(b.o.subarray(d,d+e),a);else for(f=e,k=0;k<e;k+=h){f-=h;for(var m=0;m<h;m++)this.o[a+k+m]=b.o[d+f+m]}};c.prototype.Dz=function(a,b,d,e,f,h){if(this.Pb)throw g.i.Hb();0>h&&(h=this.size);this.size+2*e>this.o.length?this.resize(this.size+2*e):this.size+=2*e;u(this.o,a+2*e,a,a+(h-a));if(f)for(f=0;f<e;f++)h=b[d++],this.o[a++]=h.x,this.o[a++]=h.y;else{f=0;for(var k=e-1;f<e;++f)h=b[d+k],this.o[a++]=h.x,this.o[a++]=
h.y,k--}};c.prototype.Mn=function(a,b,d,e){if(this.Pb)throw g.i.Hb();e-=a;u(this.o,a+e,a,a+e);for(e=0;e<d;e++)this.o[a+e]=b};c.prototype.wj=function(a,b,d){if(this.Pb)throw g.i.Hb();u(this.o,a+2,a,a+(d-a));this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.Vt=function(a,b,d,e,f,h){if(0>a||0>b||0>e)throw g.i.O();if(!f&&(0>=h||0!=b%h))throw g.i.O();if(d.size<e+b)throw g.i.O();if(0!=b)if(this.size<b+a&&this.resize(b+a),d==this)this.Cr(a,b,e,f,h);else if(f)for(f=0;f<b;f++)this.o[a]=d.o[e],a++,e++;else if(e=e+
b-h,1==h)for(f=0;f<b;f++)this.o[a]=d.o[e],a++,e--;else for(f=0,b=g.P.truncate(b/h);f<b;f++){for(var k=0;k<h;k++)this.o[a+k]=d.o[e+k];a+=h;e-=h}};c.prototype.Fn=function(a,b,d){if(this.Pb)throw g.i.Hb();if(a+b>this.size)throw g.i.Hb();0<d-(a+b)&&u(this.o,a,a+b,a+(d-(a+b))+b);this.size-=b};c.prototype.oi=function(a,b,d){if(this.Pb)throw g.i.Hb();if(1>d||0!=b%d)throw g.i.Hb();for(var e=b>>1,f=0;f<e;f+=d){b-=d;for(var h=0;h<d;h++){var k=this.o[a+f+h];this.o[a+f+h]=this.o[a+b+h];this.o[a+b+h]=k}}};c.prototype.Xj=
function(a,b,d){if(0>b||0>d||0>b||d+b>this.size)throw g.i.O();for(var e=b;e<b+d;e++)this.o[e]=a};c.prototype.Cr=function(a,b,d,e,f){if(!e||a!=d)if(this.o.set(this.o.subarray(d,d+b),a),!e)for(d=a,a=a+b-f,e=0,b=g.P.truncate(b/2);e<b;e++){for(var h=0;h<f;h++){var k=this.o[d+h];this.o[d+h]=this.o[a+h];this.o[a+h]=k}d+=f;a-=f}};c.prototype.oC=function(a,b,d,e,f){if(0>a||0>b||0>e)throw g.i.O();if(0!=b)for(this.size<(b<<1)+a&&this.resize((b<<1)+a),f||(a+=b-1<<1),f=f?2:-2,b+=e;e<b;e++)this.o[a]=d[e].x,this.o[a+
1]=d[e].y,a+=f};c.prototype.Ww=function(a,b,d,e,f){if(0>a||0>b||0>e||this.size<b+a)throw g.i.O();if(f)for(f=0;f<b;f++)d[e+f]=this.o[a+f];else for(e=e+b-1;a<b;a++)d[e]=this.o[a],e--};c.prototype.clear=function(a){a?this.resize(0):this.Ch(0)};c.prototype.hx=function(){this.pk=this.Pb=!0};c.prototype.Wd=function(a,b,d){10>b-a?c.jG(this.o,a,b,d):c.kB(this.o,a,b-1,d)};c.prototype.Vp=function(){return 2};c.prototype.Gc=function(){return this.o[this.size-1]};c.prototype.Jf=function(){this.resize(this.size-
1)};c.prototype.PW=function(a){this.o[this.size-1]=a};c.prototype.IV=function(a){a<this.size-1&&(this.o[a]=this.o[this.size-1]);this.resize(this.size-1)};c.prototype.dF=function(a){for(var b=0,d=this.size;b<d;b++)if(this.o[b]==a)return b;return-1};c.prototype.$F=function(a){return 0<=this.dF(a)};c.jG=function(a,b,d,e){for(var f=b;f<d;f++){for(var h=a[f],k=f-1;k>=b&&0<e(a[k],h);)a[k+1]=a[k],k--;a[k+1]=h}};c.rx=function(a,b,d){var e=a[d];a[d]=a[b];a[b]=e};c.kB=function(a,b,d,e){if(!(b>=d))for(;;){if(9>
d-b){c.jG(a,b,d+1,e);break}var f=a[b];c.rx(a,b,d);for(var h=b,k=b;k<d;k++)0>=e(a[k],f)&&(c.rx(a,h,k),h+=1);c.rx(a,h,d);h-b<d-h?(c.kB(a,b,h-1,e),b=h+1):(c.kB(a,h+1,d,e),d=h-1)}};return c}();g.ja=l})(L||(L={}));(function(g){function u(c,a,b,d){b=new Int8Array(c.subarray(b,d));c.set(b,a)}var l=function(){function c(a){this.o=null;var b=a;2>b&&(b=2);this.o=new Int8Array(b);this.size=a}c.prototype.rotate=function(a,b,d){if(this.Pb)throw g.i.ga("invalid_call");if(b<a||b>d||a>d)throw g.i.O();a!=b&&d!=b&&
(this.oi(a,b-a,1),this.oi(b,d-b,1),this.oi(a,d-a,1))};c.rf=function(a,b){var d=new c(a),e=d.o;2>a&&(a=2);if(0!==b)for(var f=0;f<a;f++)e[f]=b;return d};c.Cn=function(a){var b=new c(0);b.o=new Int8Array(a.o);b.size=a.size;return b};c.Mr=function(a,b){var d=new c(0);d.size=a.size;d.size>b&&(d.size=b);b=d.size;2>b&&(b=2);d.o=new Int8Array(b);d.o.set(a.o.length<=b?a.o:a.o.subarray(0,b),0);return d};c.prototype.Jb=function(a){0>=a||(null==this.o?this.o=new Int8Array(a):a<=this.o.length||(0<this.o.length?
(a=new Int8Array(a),a.set(this.o),this.o=a):this.o=new Int8Array(a)))};c.prototype.read=function(a){return this.o[a]};c.prototype.uc=function(a,b){b.x=this.o[a];b.y=this.o[a+1]};c.prototype.get=function(a){return this.o[a]};c.prototype.write=function(a,b){if(this.Pb)throw g.i.Hb();this.o[a]=b};c.prototype.set=function(a,b){if(this.Pb)throw g.i.Hb();this.o[a]=b};c.prototype.Ut=function(a,b){if(this.Pb)throw g.i.Hb();this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.add=function(a){this.resize(this.size+1);
this.o[this.size-1]=a};c.prototype.AB=function(a){return c.Mr(this,a)};c.prototype.Bg=function(a){return this.read(a)};c.prototype.resize=function(a,b){void 0===b&&(b=0);if(this.pk)throw g.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.o.length&&5*a/4<this.o.length){var d=new Int8Array(this.o,0,a);this.o=d}}else{a>this.o.length&&(d=g.P.truncate(64>a?Math.max(2*a,4):5*a/4),d=new Int8Array(d),d.set(this.o),this.o=d);d=this.o;for(var e=this.size;e<
a;e++)d[e]=b}this.size=a};c.prototype.Ch=function(a){(null==this.o||a>this.o.length)&&this.resize(a);if(this.pk)throw g.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};c.prototype.rr=function(a,b){this.write(a,b)};c.prototype.Bn=function(a,b,d){for(var e=this.size;b<e&&b<d;b++)a=g.P.Uh(this.read(b),a);return a};c.prototype.Nb=function(a,b,d){if(null==a||!(a instanceof c))return!1;var e=this.size,f=a.size;if(d>e||d>f&&e!=f)return!1;for(d>e&&(d=e);b<d;b++)if(this.read(b)!=
a.read(b))return!1;return!0};c.prototype.addRange=function(a,b,d,e,f){if(this.Pb)throw g.i.Hb();if(!e&&(1>f||0!=d%f))throw g.i.O();var h=this.size;this.resize(h+d);if(e)this.o.set(a.o.subarray(b,b+d),h);else{e=d;for(var k=0;k<d;k+=f){e-=f;for(var m=0;m<f;m++)this.o[h+k+m]=a.o[b+e+m]}}};c.prototype.Nn=function(a,b,d,e,f,h,k){if(this.Pb)throw g.i.Hb();if(!f&&(1>h||0!=e%h))throw g.i.O();u(this.o,a+e,a,a+(k-a));this.o==b.o&&a<d&&(d+=e);if(f)this.o.set(b.o.subarray(d,d+e),a);else for(f=e,k=0;k<e;k+=h){f-=
h;for(var m=0;m<h;m++)this.o[a+k+m]=b.o[d+f+m]}};c.prototype.Mn=function(a,b,d,e){if(this.Pb)throw g.i.Hb();e-=a;u(this.o,a+e,a,a+e);for(e=0;e<d;e++)this.o[a+e]=b};c.prototype.Dz=function(a,b,d,e,f,h){if(this.Pb)throw g.i.Hb();0>h&&(h=this.size);this.size+2*e>this.o.length?this.resize(this.size+2*e):this.size+=2*e;u(this.o,a+2*e,a,a+(h-a));if(f)for(f=0;f<e;f++)h=b[d++],this.o[a++]=h.x,this.o[a++]=h.y;else{f=0;for(var k=e-1;f<e;++f)h=b[d+k],this.o[a++]=h.x,this.o[a++]=h.y,k--}};c.prototype.wj=function(a,
b,d){if(this.Pb)throw g.i.Hb();u(this.o,a+2,a,a+(d-a));this.o[a]=b.x;this.o[a+1]=b.y};c.prototype.Vt=function(a,b,d,e,f,h){if(0>a||0>b||0>e)throw g.i.O();if(!f&&(0>=h||0!=b%h))throw g.i.O();if(d.size<e+b)throw g.i.O();if(0!=b)if(this.size<b+a&&this.resize(b+a),d==this)this.Cr(a,b,e,f,h);else if(f)for(f=0;f<b;f++)this.o[a]=d.o[e],a++,e++;else if(e=e+b-h,1==h)for(f=0;f<b;f++)this.o[a]=d.o[e],a++,e--;else for(f=0,b=g.P.truncate(b/h);f<b;f++){for(var k=0;k<h;k++)this.o[a+k]=d.o[e+k];a+=h;e-=h}};c.prototype.Fn=
function(a,b,d){if(this.Pb)throw g.i.Hb();if(a+b>this.size)throw g.i.Hb();0<d-(a+b)&&u(this.o,a,a+b,a+(d-(a+b))+b);this.size-=b};c.prototype.oi=function(a,b,d){if(this.Pb)throw g.i.Hb();if(1>d||0!=b%d)throw g.i.Hb();for(var e=b>>1,f=0;f<e;f+=d){b-=d;for(var h=0;h<d;h++){var k=this.o[a+f+h];this.o[a+f+h]=this.o[a+b+h];this.o[a+b+h]=k}}};c.prototype.Xj=function(a,b,d){if(0>b||0>d||0>b||d+b>this.size)throw g.i.O();for(var e=b;e<b+d;e++)this.o[e]=a};c.prototype.Cr=function(a,b,d,e,f){if(!e||a!=d)if(this.o.set(this.o.subarray(d,
d+b),a),!e)for(d=a,a=a+b-f,e=0,b=g.P.truncate(b/2);e<b;e++){for(var h=0;h<f;h++){var k=this.o[d+h];this.o[d+h]=this.o[a+h];this.o[a+h]=k}d+=f;a-=f}};c.prototype.oC=function(a,b,d,e,f){if(0>a||0>b||0>e)throw g.i.O();if(0!=b)for(this.size<(b<<1)+a&&this.resize((b<<1)+a),f||(a+=b-1<<1),f=f?2:-2,b+=e;e<b;e++)this.o[a]=d[e].x,this.o[a+1]=d[e].y,a+=f};c.prototype.Ww=function(a,b,d,e,f){if(0>a||0>b||0>e||this.size<b+a)throw g.i.O();if(f)for(f=0;f<b;f++)d[e+f]=this.o[a+f];else for(e=e+b-1;a<b;a++)d[e]=this.o[a],
e--};c.prototype.clear=function(a){a?this.resize(0):this.Ch(0)};c.prototype.hx=function(){this.pk=this.Pb=!0};c.prototype.Wd=function(a,b,d){b=this.o.subarray(a,b);Array.prototype.sort.call(b,d);this.o.set(b,a)};c.prototype.rJ=function(a,b){if(this.Pb)throw g.i.ga("invalid call. Attribute Stream is read only.");this.o[a]|=b};c.prototype.CE=function(a,b){if(this.Pb)throw g.i.ga("invalid call. Attribute Stream is read only.");this.o[a]&=~b};c.prototype.Vp=function(){return 1};return c}();g.rn=l})(L||
(L={}));(function(g){g.Zc=function(){function u(){}u.Nr=function(l,c){return g.rn.rf(l,c)};u.En=function(l,c){return g.ce.rf(l,c)};u.hP=function(l,c,a){switch(l){case 1:l=g.ce.rf(c,a);break;case 2:l=g.ja.rf(c,a);break;case 4:l=g.rn.rf(c,a);break;default:throw g.i.Ra();}return l};u.QE=function(l,c){return u.hP(g.ua.Vp(l),c*g.ua.Wa(l),g.ua.te(l))};u.Ph=function(l,c){return g.ja.rf(l,c)};u.iI=function(l){var c,a=[];for(c=0;c<l;c++)a.push(null);return a};return u}()})(L||(L={}));(function(g){g.ha=function(){return function(u){void 0===
u&&(u=0);this.u=u}}()})(L||(L={}));(function(g){g.FL=function(){function u(){}u.bind=function(l){g.Tc=l.PeDefs;g.qf=l.PeFactory;g.FC=l.PeVertcs;g.fj=l.PeCSTransformations;g.EC=l.PeGTTransformations;g.DL=l.PeGeogtran;g.CL=l.PeFactoryCodechange;g.DC=l.PeGCSExtent;g.Eg=l.PePCSInfo;g.EL=l.PeHorizon;g.BL=l.PeCoordsys;g.mp=l.PeGTlistExtended;g.mp.PE_GTLIST_OPTS_USE_DEFAULT=128;g.qf.initialize(null);g.Kx=l.PeGTlistExtendedEntry;g.qf.fromString(g.Tc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};return u}();g.qf=null;
g.FC=null;g.BL=null;g.EL=null;g.Eg=null;g.mp=null;g.Kx=null;g.DC=null;g.CL=null;g.DL=null;g.Tc=null;g.EC=null;g.fj=null})(L||(L={}));(function(g){var u=function(){function l(){}l.Mb=function(c,a){return 0<=a?l.R(c):-l.R(c)};l.R=function(c){return 0>c?-c:c};l.ui=function(c){return 3.552713678800501E-15>c};l.CC=function(c,a,b){return l.R(c-a)<=b*(1+(l.R(c)+l.R(a))/2)};l.$=function(c,a){return l.CC(c,a,3.552713678800501E-15)};l.xL=function(c){return 3.552713678800501E-15>=l.R(c)};l.Dd=function(c){return l.xL(c)};
return l}();g.s=u;g.F=function(){function l(){}l.hp=function(c,a){c=u.R(c);a=u.R(a);var b=0;0!=c+a&&(c>a?(b=a/c,b=c*Math.sqrt(1+b*b)):(b=c/a,b=a*Math.sqrt(1+b*b)));return b};l.Yq=function(c,a,b,d,e){for(var f=[0,0,0],h=[0,0,0],k=0;2>=k;k++)a[k]-=c[k],b[k]-=a[k];b=f[1]*h[2]-f[2]*h[1];a=f[2]*h[0]-f[0]*h[2];f=f[0]*h[1]-f[1]*h[0];c=-1*(b*c[0]+a*c[1]+f*c[2]);d[0]=b;d[1]=a;d[2]=f;d[3]=c;h=l.qn(d);d[0]/=h;d[1]/=h;d[2]/=h;d[3]/=h;0!=e&&(h=u.Dd(f)?u.Dd(c)?u.Mb(1,a):-u.Mb(1,c):u.Mb(1,f),h*=u.Mb(1,e),d[0]*=
h,d[1]*=h,d[2]*=h,d[3]*=h)};l.xx=function(c,a,b){b[0]=c[1]*a[2]-a[1]*c[2];b[1]=c[2]*a[0]-a[2]*c[0];b[2]=c[0]*a[1]-a[0]*c[1]};l.Tt=function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]};l.qn=function(c){return l.hp(l.hp(c[0],c[1]),c[2])};l.dl=function(c,a,b,d,e,f,h,k){c=l.n(c,a,b);var m=Math.cos(b);f.u=(c+e)*m*Math.cos(d);h.u=(c+e)*m*Math.sin(d);k.u=(c*(1-a)+e)*Math.sin(b)};l.bO=function(c,a,b,d,e,f,h){var k=l.hp(a,b),m=1*Math.sqrt(1-c),n=m/1;if(u.$(k,0))f.u=0,e.u=u.Mb(1.570796326794897,d),h.u=u.R(d)-
m;else{f.u=Math.atan2(b,a);b=Math.atan2(1*d,m*k);f=Math.cos(b);var p=Math.sin(b);a=m*c/(1-c);c*=1;b=Math.atan2(d+a*p*p*p,k-c*f*f*f);3.141592653589793<u.R(b)&&(b=u.Mb(3.141592653589793,b)-b);b=Math.atan(n*Math.tan(b));p=Math.sin(b);f=Math.cos(b);e.u=Math.atan2(d+a*p*p*p,k-c*f*f*f);1.570796326794897<u.R(e.u)&&(e.u=u.Mb(3.141592653589793,e.u)-e.u);b=Math.atan(n*Math.tan(e.u));p=Math.sin(b);f=Math.cos(b);h.u=(d-m*p)*Math.sin(e.u)+(k-1*f)*Math.cos(e.u)}};l.n=function(c,a,b){b=Math.sin(b);return c/Math.sqrt(1-
a*b*b)};l.ot=function(c,a){return Math.atan2(Math.sin(a)*(1-c),Math.cos(a))};l.Rj=function(c,a){return Math.atan2(Math.sin(a),Math.cos(a)*(1-c))};l.Tq=function(c,a){if(u.ui(c)||0==a||u.$(u.R(a),1.570796326794897))return a;if(.006884661117170036>c){var b=Math.sqrt(1-c),d=(1-b)/(1+b),e=d*d,f=d*e,h=d*f,k=d*h,m=d*k,n=d*m,p=1.572916666666667*f-3.2578125*k+4.295068359375*n;c=2.142578125*h-6.071484375*m;b=3.129296875*k-11.249837239583334*n;var q=4.775276692708333*m,r=7.958636765252976*n,t=Math.cos(2*a);
return a+Math.sin(2*a)*(1.5*d-.84375*f+.525390625*k-.2688395182291667*n-p+b-r+t*(2*(1.3125*e-1.71875*h+1.650146484375*m)-4*c+6*q+t*(4*p-12*b+24*r+t*(8*c-32*q+t*(16*b-80*r+t*(32*q+64*t*r))))))}b=1-c;d=c/2;e=u.R(a);f=e*l.$u(c)/(1.570796326794897*b);h=9999;m=e;for(e=0;1E-16<h&&50>e;e++)n=l.w(c,m),k=(l.cG(m,c)-d*Math.sin(2*m)/n)/b-f,n=1/(n*n*n),p=k/n,k=m-p,h=u.R(p),m=k;return 0<=a?m:-m};l.gW=function(c,a){return u.ui(a)?c:c*l.$u(a)/1.570796326794897};l.ca=function(c){c=l.hF(c,6.283185307179586);return 0>
c?c+6.283185307179586:3.141592653589793>u.R(c)||u.$(u.R(c),3.141592653589793)?c:c-6.283185307179586};l.hF=function(c,a){return c-Math.floor(c/a)*a};l.Bh=function(c,a){if(.006884661117170036>a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var b=a*a,d=b*b;return c/(1+a)*(1+.25*b+.015625*d+.00390625*b*d)*1.570796326794897}return c*l.$u(a)};l.Xq=function(c,a){var b=u.Mb(1,Math.sin(a));a=u.R(l.hF(a,3.141592653589793));a=1.570796326794897>=a?a:3.141592653589793-a;return(u.$(a,1.570796326794897)?a:Math.atan(Math.sqrt(1-
c)*Math.tan(a)))*b};l.q=function(c,a,b){if(.006884661117170036>a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var d=a*a,e=a*d,f=a*e,h=a*f,k=a*h,m=a*k,n=-.7291666666666666*e+.2278645833333333*h+.03987630208333334*m,p=.615234375*f-.21533203125*k,q=-.54140625*h+.20302734375*m,r=.48876953125*k,t=-.4488699776785715*m,v=Math.cos(2*b);return c/(1+a)*((1+.25*d+.015625*f+.00390625*k)*b+Math.sin(2*b)*(-1.5*a+.1875*e+.0234375*h+.00732421875*m-n+q-t+v*(2*(.9375*d-.234375*f-.03662109375*k)-4*p+6*r+v*(4*n-12*q+24*t+v*(8*p-
32*r+v*(16*q-80*t+v*(32*r+64*v*t)))))))}return c*(l.cG(b,a)-.5*a*Math.sin(2*b)/l.w(a,b))};l.w=function(c,a){a=Math.sin(a);return Math.sqrt(1-c*a*a)};l.$u=function(c){return u.CC(c,1,2.220446049250313E-16)?1:1>c?l.Yw(0,1-c)-c/3*l.Vw(0,1-c):NaN};l.cG=function(c,a){var b=u.Mb(1,c);c=u.R(c);var d=Math.floor(c/1.570796326794897);if(1<a)a=0==c?0:NaN;else if(u.Dd(d))c=l.sin(c),a=c*l.Yw(1-c*c,1-a*c*c)-a/3*c*c*c*l.Vw(1-c*c,1-a*c*c);else{var e=g.P.truncate(d%2),f=l.$u(a);0<e?(c=Math.sin(1.570796326794897*(d+
1)-c),a=c*l.Yw(1-c*c,1-a*c*c)-a/3*c*c*c*l.Vw(1-c*c,1-a*c*c),a=f*(d+1)-a):(c=Math.sin(c-1.570796326794897*d),a=c*l.Yw(1-c*c,1-a*c*c)-a/3*c*c*c*l.Vw(1-c*c,1-a*c*c),a=f*d+a)}return a*b};l.sin=function(c){c=l.ca(c);var a=u.Mb(1,c);c=u.R(c);return u.$(c,3.141592653589793)?0:u.$(c,1.570796326794897)?1*a:Math.sin(c)*a};l.Vw=function(c,a){var b=c,d=a,e=1;a=0;c=1;for(var f,h,k,m;;){f=.2*(b+d+3*e);h=(f-b)/f;k=(f-d)/f;m=(f-e)/f;if(1E-4>u.R(h)&&1E-4>u.R(k)&&1E-4>u.R(m))break;m=Math.sqrt(d);f=Math.sqrt(e);m=Math.sqrt(b)*
(m+f)+m*f;a+=c/(f*(e+m));c*=.25;b=.25*(b+m);d=.25*(d+m);e=.25*(e+m)}b=h*k;e=m*m;d=b-e;e=b-6*e;h=e+d+d;return 3*a+c*(1+e*(-.2142857142857143+.10227272727272728*e-.1730769230769231*m*h)+m*(.1666666666666667*h+m*(-.4090909090909091*d+.1153846153846154*m*b)))/(f*Math.sqrt(f))};l.Yw=function(c,a){for(var b,d,e,f,h=1;;h=.25*(h+b)){b=(c+a+h)/3;d=2-(b+c)/b;e=2-(b+a)/b;f=2-(b+h)/b;if(1E-4>u.R(d)&&1E-4>u.R(e)&&1E-4>u.R(f))break;b=Math.sqrt(a);d=Math.sqrt(h);b=Math.sqrt(c)*(b+d)+b*d;c=.25*(c+b);a=.25*(a+b)}c=
d*e-f*f;a=d*e*f;return(1+(.04166666666666666*c-.1-.06818181818181818*a)*c+.07142857142857142*a)/Math.sqrt(b)};l.Rw=function(c,a){if(u.ui(c)||0==a||u.$(u.R(a),1.570796326794897))return a;if(.006884661117170036>c){var b=c*c,d=c*b,e=c*d,f=c*e,h=c*f,k=c*h,m=-(.02708333333333333*d+.03430059523809524*e+.03149181547619048*f+.02634359154541446*h+.02156896735835538*k),n=.007669890873015873*e+.01299603174603175*f+.0148051353064374*h+.01454454953803912*k,p=-(.002275545634920635*f+.004830845032667949*h+.006558395368616723*
k),q=6.957236677288761E-4*h+.001775193002406544*k,r=-(2.17324089394402E-4*k),t=Math.cos(2*a);return a+Math.sin(2*a)*(-(.5*c+.2083333333333333*b+.09375*d+.04878472222222222*e+.02916666666666667*f+.01938905423280423*h+.01388255931712963*k)-m+p-r+t*(2*(.1041666666666667*b+.0875*d+.06050347222222222*e+.04151785714285714*f+.02958958540013228*h+.02203667534722222*k)-4*n+6*q+t*(4*m-12*p+24*r+t*(8*n-32*q+t*(16*p-80*r+t*(32*q+64*t*r))))))}0==a||u.$(u.R(a),1.570796326794897)?b=a:(d=Math.sqrt(c),e=d*Math.sin(a),
b=Math.tan(.7853981633974483+a/2)*Math.pow((1-e)/(1+e),d/2),b=2*Math.atan(b)-1.570796326794897);return b};l.qO=function(c,a){if(u.ui(c)||0==a||u.$(u.R(a),1.570796326794897))return a;if(.006884661117170036>c){t=c*c;p=c*t;q=c*p;var b=c*q;r=c*b;var d=c*r,e=.05833333333333333*p+.07232142857142858*q+.05634300595238095*b+.0355325796406526*r+.020235546186067*d,f=.02653149801587302*q+.04379960317460317*b+.0429211791776896*r+.03255384637546096*d,h=.01294022817460318*b+.02668104344536636*r+.03155651254609588*
d,k=.00659454790965208*r+.0163075268674227*d,m=.003463473736911237*d,n=Math.cos(2*a);return a+Math.sin(2*a)*(.5*c+.2083333333333333*t+.08333333333333333*p+.03611111111111111*q+.01875*b+.01195601851851852*r+.008863673941798942*d-e+h-m+n*(2*(.1458333333333333*t+.1208333333333333*p+.07039930555555556*q+.03616071428571429*b+.01839451058201058*r+.01017113095238095*d)-4*f+6*k+n*(4*e-12*h+24*m+n*(8*f-32*k+n*(16*h-80*m+n*(32*k+64*n*m))))))}var p=Math.sqrt(c),q=p/2,r=Math.tan(.7853981633974483+a/2);c=0;e=
1;for(var t=a;0!=e;t=d)if(b=p*Math.sin(t),d=r*Math.pow((1+b)/(1-b),q),d=2*Math.atan(d)-1.570796326794897,c++,u.$(d,t)||3E4<c)e=0;return t};return l}()})(L||(L={}));(function(g){var u=function(){function l(c){this.wl=this.Vs=null;this.Jv=!1;this.AA=this.BA=0;this.zH=new g.h;this.PH=new g.h;this.EA=!1;this.xq=new g.l;this.oH=this.tw=0;this.uw=null;this.Bl=!1;this.Fo=null;this.Xz=0;this.Re=c;this.Bs=g.Ab.yv(this.Re,0,!0);this.zH.Sc();this.PH.Sc();this.JH=NaN;var a=c.getCode();0<a?(this.Kk=a,g.qf.getCode(c)):
this.Kk=g.qf.getCode(c);0>this.Kk&&(this.Kk=0);var b=this.Re.getType();this.bH=b==g.Tc.PE_TYPE_PROJCS?2:1;if(b==g.Tc.PE_TYPE_PROJCS&&!c.loadConstants())throw g.i.O("PeProjcs.loadConstants failed");a=b==g.Tc.PE_TYPE_GEOGCS?this.Re:this.Re.getGeogcs();b!=g.Tc.PE_TYPE_GEOGCS&&g.qf.getCode(a);this.Fo=c.getUnit();this.JH=a.getPrimem().getLongitude();this.oH=c=a.getUnit().getUnitFactor();c=Math.PI/(180*c);1E-10>Math.abs(c-1)&&(c=1);this.AA=c;0!=(b&g.Tc.PE_TYPE_PROJCS)?(a=this.Re,this.BA=1/a.getUnit().getUnitFactor(),
this.tw=.001/this.Re.getUnit().getUnitFactor(),this.uw=g.Eg.generate(a,g.Eg.PE_PCSINFO_OPTION_NONE),this.Bl=this.uw.isPannableRectangle(),this.Xz=g.Ab.iN(this.uw.getCentralMeridian(),this.AA)):(this.EA=this.Bl=!0,this.BA=0,b=1/a.getUnit().getUnitFactor(),this.tw=.001/a.getDatum().getSpheroid().getAxis()*b,this.Xz=0);this.Bl&&(this.vx(),this.vK(),this.bY(),this.uK(),this.$X(),this.aY())}l.prototype.bs=function(){return this.Kk};l.prototype.kk=function(){return this.uw};l.Ky=function(c,a){return c==
a?!0:null!=c&&null!=a&&0==c.Kk&&0==a.Kk?c.Bs===a.Bs:!1};l.prototype.Xc=function(){return this.Bl};l.prototype.hh=function(c){c.L(this.to)};l.prototype.qv=function(){return this.to.v};l.prototype.pv=function(){return this.to.C};l.prototype.yR=function(c){c.L(this.vw)};l.prototype.$X=function(){var c=this.Re.getType();if(c==g.Tc.PE_TYPE_PROJCS){c=this.Re;var a=this.kk().getCentralMeridian(),b=c.getGeogcs();if(null==b)throw g.i.ga("internal error");b=1/b.getUnit().getUnitFactor()*Math.PI;a=[[a+b,0]];
g.fj.geogToProj(c,1,a);a=a[0][0];b=c.getParameters()[g.Tc.PE_PARM_X0].getValue();var d=this.ol();c=new g.l;d.A(c);d=Math.abs(a-b);a=d+b;b=-1*d+b;d=c.H;c=c.G;var e=new g.l;e.L(b,c,a,d);null==this.to&&(this.to=e)}else if(c==g.Tc.PE_TYPE_GEOGCS)b=1/this.Re.getUnit().getUnitFactor()*Math.PI,c=new g.l,c.L(-b,-b/2,b,b/2),null==this.to&&(this.to=c);else throw g.i.ga("internal error");};l.prototype.aY=function(){var c=this.Re.getType();if(c==g.Tc.PE_TYPE_PROJCS){var a=this.Re;c=this.kk().getCentralMeridian();
a=a.getGeogcs();if(null==a)throw g.i.ga("internal error");a=1/a.getUnit().getUnitFactor()*Math.PI;var b=this.Wr(),d=new g.l;b.A(d);b=new g.l;b.L(c-a,d.G,c+a,d.H);null==this.vw&&(this.vw=b)}else if(c==g.Tc.PE_TYPE_GEOGCS)a=1/this.Re.getUnit().getUnitFactor()*Math.PI,c=new g.l,c.L(-a,-a/2,a,a/2),null==this.vw&&(this.vw=c);else throw g.i.ga("internal error");};l.prototype.bf=function(){return this.AA};l.prototype.rm=function(){return this.BA};l.prototype.Wr=function(){if(this.Bl)return this.wl;var c=
this.wl;if(null!=c)return c;this.vx();return this.wl};l.prototype.Xr=function(){if(this.Bl)return null;if(null!=this.wl)return this.PG;this.vx();return this.PG};l.prototype.vx=function(){if(this.Re.getType()==g.Tc.PE_TYPE_PROJCS){var c=this.Re,a=c.getGeogcs(),b=c.horizonGcsGenerate();if(null!=b){var d=b[0].getNump(),e=b[0].getKind();c=0<b[0].getInclusive();var f=this.bf(),h=90*f,k=360*f,m=370*f,n=180*f*g.Tc.PE_HORIZON_DELTA/Math.PI,p=new g.l,q=null;if(1<d)for(var r=1;r<d;r++)if(b[r].getKind()==g.Tc.PE_HORIZON_LINE){null==
q&&(q=new g.Ua);var t=b[r].getCoord();q.qx(t[0][0],t[0][1]);q.zj(t[1][0],t[1][1])}if(e==g.Tc.PE_HORIZON_RECT)b=b[0].getCoord(),p.L(b[0][0],b[0][1]),p.$b(b[1][0],b[1][1]),Math.abs(p.H-h)<1E-7*n&&(p.H=h),Math.abs(p.G+h)<1E-7*n&&(p.G=-h),p.S()>m&&(b=-400*f,p.L(b,p.G,b+5*k,p.H)),b=new g.Gh(p),null==this.wl&&(this.wl=b,this.Jv=c);else{m=new g.Ea;k=this.kk().isGcsHorizonMultiOverlap();p=g.hu.UE(a,g.iu.Integer64);if(k){m=new g.ZK;n=g.Hh.local().W(m,p,null);for(r=0;r<d;r++)if(b[r].getKind()==g.Tc.PE_HORIZON_POLY){a=
b[r].getSize();f=b[r].getCoord();e=[];for(h=0;h<a;h++)e[h]=g.h.construct(f[h][0],f[h][1]);b[r].getInclusive();k&&(f=new g.Ea,f.Zk(e,a-1),m.NX(f),n.qe())}m=n.next()}else for(r=0;r<d;r++)if(b[r].getKind()==g.Tc.PE_HORIZON_POLY){a=b[r].getSize();f=b[r].getCoord();k=[];for(h=0;h<a;h++)k[h]=g.h.construct(f[h][0],f[h][1]);b[r].getInclusive();m.Zk(k,a-1)}c?g.Wk.local().xn(m,p,1):g.lp.local().xn(m,p,1);g.ej.local().xn(m,p,1);null==this.wl&&(this.wl=m,this.Jv=c,this.PG=q)}}}};l.prototype.jv=function(){if(this.Bl)return this.Jv;
null==this.wl&&this.vx();return this.Jv};l.prototype.vK=function(){if(2==this.bH){var c=this.Re.horizonPcsGenerate();if(null!=c){var a=c[0].getKind();c[0].getInclusive();var b=c[0].getNump(),d=!1;if(a==g.Tc.PE_HORIZON_RECT)c=c[0].getCoord(),b=new g.l,b.L(c[0][0],c[0][1]),b.$b(c[1][0],c[1][1]),c=new g.Gh(b);else{a=-1;for(d=0;d<b;d++)c[d].getKind()==g.Tc.PE_HORIZON_POLY&&(a=d);d=c[a].getSize()-1;c=c[a].getCoord();b=[];for(a=0;a<d;a++)b[a]=g.h.construct(c[a][0],c[a][1]);c=a=new g.Ea;a.Zk(b,d);d=!0}this.kk().isDensificationNeeded()&&
(b=1E5*this.rm(),c=g.Zl.local().W(c,b,null));d&&(d=new g.Gh,c.dn(d),c.He(),c.Rb(),c.hR(),g.Wk.local().xn(c,null,1));null==this.Vs&&(this.Vs=c)}}};l.prototype.ol=function(){if(this.Bl)return this.Vs;var c=this.Vs;if(null!=c)return c;this.vK();return this.Vs};l.prototype.bY=function(){if(this.Re.getType()==g.Tc.PE_TYPE_PROJCS){var c=90*this.bf();c=[[0,c],[0,-c]];g.fj.geogToProj(this.Re,2,c);var a=this.kk(),b=a.getNorthPoleLocation()!=g.Eg.PE_POLE_OUTSIDE_BOUNDARY;a=a.getSouthPoleLocation()!=g.Eg.PE_POLE_OUTSIDE_BOUNDARY;
this.EA||(b&&this.zH.na(c[0][0],c[0][1]),a&&this.PH.na(c[1][0],c[1][1]))}this.EA=!0};l.prototype.uK=function(){if(1==this.bH){var c=400*this.bf();this.xq.L(-c,-c,c,c)}else c=g.Eg.generate(this.Re,g.Eg.PE_PCSINFO_OPTION_DOMAIN),c=g.l.construct(c.getDomainMinx(),c.getDomainMiny(),c.getDomainMaxx(),c.getDomainMaxy()),this.xq.B()&&this.xq.L(c)};l.prototype.$Q=function(c){this.Bl&&c.L(this.xq);this.xq.B()&&this.uK();c.L(this.xq)};l.prototype.Wp=function(){return this.JH};l.prototype.Ai=function(){return this.Xz};
l.prototype.Id=function(){return this.Fo};l.prototype.Yr=function(){return this.oH};return l}();g.GC=u})(L||(L={}));(function(g){var u=function(){function l(c){this.AT=c;this.Bs=g.Ab.yv(c,0,!0);var a=c.getCode();this.ts=0<a?a:g.qf.getCode(c);0>this.ts&&(this.ts=0);this.Fo=a=this.AT.getUnit();this.AH=1/a.getUnitFactor();g.qf.getCode(c)}l.Ky=function(c,a){return c==a?!0:null!=c&&null!=a&&0==c.ts&&0==a.ts?c.Bs===a.Bs:!1};l.prototype.bs=function(){return this.ts};return l}();g.HL=u})(L||(L={}));(function(g){g.Zg=
function(){function u(){}u.ub=function(l,c,a,b,d,e,f,h){if(null!=e||null!=f||null!=h){b=g.F.ca(b);c=g.F.ca(c);a=g.F.ca(a);d=g.F.ca(d);1.570796326794897<g.s.R(a)&&(a=g.s.Mb(3.141592653589793,a)-a,c=g.F.ca(c+3.141592653589793));1.570796326794897<g.s.R(d)&&(d=g.s.Mb(3.141592653589793,d)-d,b=g.F.ca(b+3.141592653589793));var k=g.F.ca(b-c);if(g.s.$(a,d)&&(g.s.$(c,b)||g.s.$(g.s.R(a),1.570796326794897)))null!=e&&(e.u=0),null!=f&&(f.u=0),null!=h&&(h.u=0);else{if(g.s.$(a,-d)){if(g.s.$(g.s.R(a),1.570796326794897)){null!=
e&&(e.u=3.141592653589793*l);null!=f&&(f.u=0<a?g.F.ca(3.141592653589793-g.F.ca(b)):g.F.ca(b));null!=h&&(h.u=0<a?g.F.ca(b):g.F.ca(3.141592653589793-g.F.ca(b)));return}if(g.s.$(g.s.R(k),3.141592653589793)){null!=e&&(e.u=3.141592653589793*l);null!=f&&(f.u=0);null!=h&&(h.u=0);return}}var m=1.570796326794897==g.s.R(a)?0:Math.cos(a),n=Math.sin(a),p=1.570796326794897==g.s.R(d)?0:Math.cos(d),q=Math.sin(d),r=1.570796326794897==g.s.R(k)?0:Math.cos(k),t=3.141592653589793==g.s.R(k)?0:Math.sin(k);if(null!=e){var v=
Math.sin((d-a)/2);k=Math.sin(k/2);e.u=2*Math.asin(Math.sqrt(v*v+m*p*k*k))*l}null!=f&&(f.u=g.s.$(g.s.R(a),1.570796326794897)?0>a?b:g.F.ca(3.141592653589793-b):Math.atan2(p*t,m*q-n*p*r));null!=h&&(g.s.$(g.s.R(d),1.570796326794897)?h.u=0>d?c:g.F.ca(3.141592653589793-c):(h.u=Math.atan2(m*t,q*m*r-p*n),h.u=g.F.ca(h.u+3.141592653589793)))}}};u.sf=function(l,c,a,b,d,e,f){if(null!=e||null!=f){c=g.F.ca(c);a=g.F.ca(a);1.570796326794897<g.s.R(a)&&(a=g.s.Mb(3.141592653589793,a)-a,c=g.F.ca(c+3.141592653589793));
g.s.$(g.s.R(a),1.570796326794897)&&(c=0);d=g.F.ca(d);var h=g.s.$(g.s.R(d),1.570796326794897)?0:Math.cos(d),k=g.s.$(g.s.R(d),3.141592653589793)?0:Math.sin(d),m=g.s.$(g.s.R(a),1.570796326794897)?0:Math.cos(a),n=Math.sin(a);l=b/l;b=g.s.$(g.s.R(l),1.570796326794897)?0:Math.cos(l);var p=g.s.$(g.s.R(l),3.141592653589793)?0:Math.sin(l),q=Math.asin(n*b+m*p*h);null!=f&&(f.u=q);null!=e&&(e.u=g.s.$(g.s.R(q),1.570796326794897)?g.s.$(a,-q)?0>q?d:g.F.ca(3.141592653589793-d):c:g.s.$(g.s.R(a),1.570796326794897)&&
g.s.$(l,3.141592653589793)?0>a?d:g.F.ca(3.141592653589793-d):g.F.ca(c+Math.atan2(p*k,m*b-n*p*h)))}};return u}()})(L||(L={}));(function(g){g.Xk=function(){function u(){}u.ub=function(l,c,a,b,d,e,f,h,k){var m=new g.ha(0),n=new g.ha(0),p=[0,0,0],q=[0,0,0],r=[0,0,0],t=new g.ha(0),v=new g.ha(0),M=new g.ha(0),W=new g.ha(0),U=new g.ha(0);if(null!=f||null!=h||null!=k)if(g.s.ui(c))g.Zg.ub(l,a,b,d,e,f,h,k);else{d=g.F.ca(d);a=g.F.ca(a);var X=g.F.ca(d-a);if(g.s.$(b,e)&&(g.s.$(a,d)||g.s.$(g.s.R(b),1.570796326794897)))null!=
f&&(f.u=0),null!=h&&(h.u=0),null!=k&&(k.u=0);else{if(g.s.$(b,-e)){if(g.s.$(g.s.R(b),1.570796326794897)){null!=f&&(f.u=2*g.F.Bh(l,c));null!=h&&(h.u=0<b?g.F.ca(3.141592653589793-g.F.ca(d)):g.F.ca(d));null!=k&&(k.u=0<b?g.F.ca(d):g.F.ca(3.141592653589793-g.F.ca(d)));return}g.s.$(g.s.R(X),3.141592653589793)&&(null!=f&&(f.u=2*g.F.Bh(l,c)),null!=h&&(h.u=0),null!=k&&(k.u=0))}else if(g.s.$(g.s.R(b),1.570796326794897)||g.s.$(g.s.R(e),1.570796326794897))g.s.$(g.s.R(b),1.570796326794897)?a=d:d=a;var ia=0;if(0>
X){ia=1;var ja=a;a=d;d=ja;ja=b;b=e;e=ja}X=g.F.ot(c,b);var ka=g.F.ot(c,e);if(null!=h||null!=k)g.Zg.ub(l,a,X,d,ka,null,m,n),m=Math.atan2(Math.sin(m.u)*Math.cos(b-X),Math.cos(m.u)),n=Math.atan2(Math.sin(n.u)*Math.cos(e-ka),Math.cos(n.u)),0!=ia&&(ja=m,m=n,n=ja),null!=h&&(h.u=m),null!=k&&(k.u=n);null!=f&&(g.F.dl(1,c,b,a,0,M,W,U),p[0]=M.u,p[1]=W.u,p[2]=U.u,g.F.dl(1,c,e,d,0,M,W,U),q[0]=M.u,q[1]=W.u,q[2]=U.u,r[0]=p[1]*q[2]-q[1]*p[2],r[1]=-(p[0]*q[2]-q[0]*p[2]),r[2]=p[0]*q[1]-q[0]*p[1],c=1-g.F.w(c,g.F.Xq(c,
g.F.Rj(c,Math.acos(r[2]/Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]))))),c*=2-c,h=Math.atan2(-r[1],-r[0]),r=g.F.ca(h-1.570796326794897),h=g.F.ca(h+1.570796326794897),r=g.s.R(g.F.ca(a-r))<=g.s.R(g.F.ca(a-h))?r:h,g.Zg.ub(1,r,0,a,X,t,null,null),g.Zg.ub(1,r,0,d,ka,v,null,null),3.141592653589793<t.u+v.u&&(r=g.F.ca(r+3.141592653589793),g.Zg.ub(1,r,0,a,X,t,null,null),g.Zg.ub(1,r,0,d,ka,v,null,null)),t.u*=g.s.Mb(1,b),v.u*=g.s.Mb(1,e),t.u=g.F.Rj(c,t.u),v.u=g.F.Rj(c,v.u),a=g.F.q(l,c,t.u),l=g.F.q(l,c,v.u),f.u=g.s.R(l-
a))}}};u.sf=function(l,c,a,b,d,e,f,h){var k=0,m=new g.ha(0),n=new g.ha(0),p=[0,0,0],q=[0,0,0],r=new g.ha(0),t=new g.ha(0),v=new g.ha(0);if(null!=f||null!=h)if(g.s.ui(c))g.Zg.sf(l,a,b,d,e,f,h);else if(g.s.Dd(d))null!=f&&(f.u=a),null!=h&&(h.u=b);else if(e=g.F.ca(e),0>d&&(d=g.s.R(d),e=g.F.ca(e+3.141592653589793)),a=g.F.ca(a),b=g.F.ca(b),1.570796326794897<g.s.R(b)&&(a=g.F.ca(a+3.141592653589793),b=g.s.Mb(3.141592653589793,b)-b),g.s.$(g.s.R(b),1.570796326794897)&&(a=0),g.s.Dd(b)){var M=g.s.R(1.570796326794897-
g.s.R(e));M=g.F.Rj(c,M);M=1-g.F.w(c,g.F.Xq(c,M));M*=2-M;l=d/g.F.Bh(l,M)*1.570796326794897;l=g.F.Tq(M,l);l=g.F.ot(M,l);g.Zg.sf(1,a,b,l,e,f,m);null!=h&&(k=m.u);null!=h&&(h.u=g.F.Rj(c,k))}else if(g.s.$(g.s.R(b),1.570796326794897))k=g.F.Bh(l,c),m=2*k,l=g.s.Mb(1.570796326794897,b),e=0<l?g.F.ca(3.141592653589793-e):e,b=k-d,g.s.R(b)<=k?null!=f&&(f.u=e):(b=Math.floor(d/m),0==g.P.truncate(b%2)?(null!=f&&(f.u=e),d-=b*m):(null!=f&&(f.u=g.F.ca(e+3.141592653589793)),d=(b+1)*m-d),b=k-d),null!=h&&(h.u=g.F.Tq(c,
b/k*l));else{M=g.F.ot(c,b);e=Math.atan2(Math.sin(e),Math.cos(e)*Math.cos(b-M));var W=g.P.truncate(g.s.Mb(1,M))*(1.570796326794897>=g.s.R(e)?1:-1);e=g.F.ca(a+Math.atan(Math.tan(e)*-Math.sin(M)));g.Zg.ub(l,e,0,a,M,null,n,null);M=g.s.R(1.570796326794897-g.s.R(n.u));M=g.F.Rj(c,M);M=1-g.F.w(c,g.F.Xq(c,M));M*=2-M;g.F.dl(1,c,0,e,0,r,t,v);p[0]=r.u;p[1]=t.u;p[2]=v.u;g.F.dl(1,c,b,a,0,r,t,v);q[0]=r.u;q[1]=t.u;q[2]=v.u;b=Math.acos((p[0]*q[0]+p[1]*q[1]+p[2]*q[2])/Math.sqrt(q[0]*q[0]+q[1]*q[1]+q[2]*q[2]));b=g.F.Rj(M,
b);b=g.F.q(l,M,b)+d*W;d=0<b?n.u:g.F.ca(n.u+3.141592653589793);l=g.s.R(b)/g.F.Bh(l,M)*1.570796326794897;l=g.F.Tq(M,l);l=g.F.ot(M,l);g.Zg.sf(1,e,0,l,d,f,m);null!=h&&(k=m.u);null!=h&&(h.u=g.F.Rj(c,k))}};return u}()})(L||(L={}));(function(g){g.du=function(){function u(){}u.ub=function(l,c,a,b,d,e,f,h,k){var m=0,n=0,p=0;if(null!=f||null!=h||null!=k)if(g.s.ui(c))g.Zg.ub(l,a,b,d,e,f,h,k);else{var q=g.F.ca(d-a);if(g.s.$(b,e)&&(g.s.Dd(q)||g.s.$(g.s.R(b),1.570796326794897)))null!=f&&(f.u=0),null!=h&&(h.u=0),
null!=k&&(k.u=0);else{if(g.s.$(b,-e)){if(g.s.$(g.s.R(b),1.570796326794897)){null!=f&&(f.u=2*g.F.Bh(l,c));null!=h&&(h.u=0<b?g.F.ca(3.141592653589793-g.F.ca(d)):g.F.ca(d));null!=k&&(k.u=0<b?g.F.ca(d):g.F.ca(3.141592653589793-g.F.ca(d)));return}g.s.$(g.s.R(q),3.141592653589793)&&(null!=f&&(f.u=2*g.F.Bh(l,c)),null!=h&&(h.u=0),null!=k&&(k.u=0))}else{if(g.s.$(g.s.R(b),1.570796326794897)||g.s.$(g.s.R(e),1.570796326794897)){g.Xk.ub(l,c,a,b,d,e,f,h,k);return}if(g.s.Dd(q)||g.s.$(g.s.R(q),3.141592653589793)){g.Xk.ub(l,
c,a,b,d,e,f,h,k);return}}var r=1-Math.sqrt(1-c),t=c/(1-c),v=l*(1-r);l=g.F.Xq(c,b);var M=g.F.Xq(c,e);c=1.570796326794897==g.s.R(l)?0:Math.cos(l);var W=Math.sin(l),U=1.570796326794897==g.s.R(M)?0:Math.cos(M),X=Math.sin(M),ia=q,ja=Math.cos(ia),ka=Math.sin(ia),sa=1,ta=0;do{var za=ia,ya=Math.sqrt(Math.pow(U*ka,2)+Math.pow(c*X-W*U*ja,2)),Ia=W*X+c*U*ja,Ga=Math.atan2(ya,Ia);if(0==ya){sa=0;break}var Oa=c*U*ka/ya;m=Math.cos(Math.asin(Oa));m*=m;n=Ia-2*W*X/m;1<g.s.R(n)&&(n=g.s.Mb(1,n));p=n*n;ia=r/16*m*(4+r*(4-
3*m));ia=q+(1-ia)*r*Oa*(Ga+ia*ya*(n+ia*Ia*(2*p-1)));ja=Math.cos(ia);ka=Math.sin(ia);ta++;if(3.141592653589793<g.s.R(ia)&&30<ta){sa=0;break}}while(5E3>=ta&&!g.s.$(za,ia));if(0!=sa)t*=m,r=t*(256+t*(-128+t*(74-47*t)))/1024,null!=f&&(f.u=v*(1+t*(4096+t*(-768+t*(320-175*t)))/16384)*(Ga-r*ya*(n+r/4*(Ia*(2*p-1)-r/6*n*(4*ya*ya-3)*(4*p-3))))),null!=h&&(h.u=g.s.$(g.s.R(b),1.570796326794897)?0>b?d:g.F.ca(3.141592653589793-d):Math.atan2(U*ka,c*X-W*U*ja)),null!=k&&(g.s.$(g.s.R(e),1.570796326794897)?k.u=0>e?a:
g.F.ca(3.141592653589793-a):(k.u=Math.atan2(c*ka,c*X*ja-W*U),k.u=g.F.ca(k.u+3.141592653589793)));else{ia=g.s.Mb(3.141592653589793,q);Ia=W*X-c*U;Ga=Math.acos(Ia);ya=Math.sin(Ga);m=1;ta=Oa=0;do p=Oa,m*=m,ja=m*m,Oa=r*m*(1+r+r*r),n=r*r*ja*(1+2.25*r),sa=r*r*r*ja*m,ja=1-.25*Oa+.1875*n-.1953125*sa,Oa=.25*Oa-.25*n+.29296875*sa,ka=.03125*n-.05859375*sa,sa*=.00651041666666667,n=Ia-2*W*X/m,1<g.s.R(n)&&(n=g.s.Mb(1,n)),m=Math.acos(n),Ia=Math.cos(2*m),za=Math.cos(3*m),Oa=g.s.$(b,-e)?g.F.ca(3.141592653589793-q)/
(3.141592653589793*r*ja):g.F.ca(ia-q)/(r*(ja*Ga+Oa*ya*n+ka*Math.sin(2*Ga)*Ia+sa*Math.sin(3*Ga)*za)),ka=Oa*ya/(c*U),ia=1.570796326794897<g.s.R(q)?g.s.Mb(3.141592653589793,ka)-Math.asin(ka):Math.asin(ka),ja=Math.cos(ia),ya=Math.sqrt(Math.pow(U*ka,2)+Math.pow(c*X-W*U*ja,2)),Ga=3.141592653589793-Math.asin(g.s.R(ya)),Ia=Math.cos(Ga),m=Math.cos(Math.asin(Oa)),ta++;while(70>=ta&&!g.s.$(p,Oa));null!=f&&(m*=m,t*=m,ja=1+t*(4096+t*(-768+t*(320-175*t)))/16384,g.s.$(b,-e)?f.u=3.141592653589793*v*ja:(n=Ia-2*W*
X/m,m=Math.acos(n),Ia=Math.cos(2*m),za=Math.cos(3*m),f.u=v*(ja*Ga+t*(-512+t*(128+t*(-60+35*t)))/2048*ya*n+t*(-4+5*t)/6144*t*t*Math.sin(2*Ga)*Ia+sa*Math.sin(3*Ga)*za+-7.62939453125E-5*t*t*t*t*Math.sin(4*Ga)*Math.cos(4*m))));null!=h&&(g.s.Dd(b)&&g.s.Dd(e)?(m=Math.sqrt(1-Oa*Oa),h.u=Math.acos(m),0>q&&(h.u*=-1)):g.s.$(g.s.R(b),1.570796326794897)?h.u=0>b?d:g.F.ca(3.141592653589793-d):(f=Oa/c,v=Math.sqrt(1-f*f),0>c*X-W*U*Math.cos(ia)&&(v*=-1),h.u=Math.atan2(f,v),g.s.$(b,-e)&&g.s.R(g.F.ca(a-d))>3.141592653589793*
(1-r*Math.cos(b))&&(0<b&&1.570796326794897>g.s.R(h.u)||0>b&&1.570796326794897<g.s.R(h.u))&&(h.u=g.s.Mb(3.141592653589793,h.u)-h.u)));if(null!=k)if(g.s.Dd(b)&&g.s.Dd(e))m=Math.sqrt(1-Oa*Oa),k.u=Math.acos(m),0<=q&&(k.u*=-1);else if(g.s.$(g.s.R(e),1.570796326794897))k.u=0>e?a:g.F.ca(3.141592653589793-a);else if(q=Oa/U,f=Math.sqrt(1-q*q),v=Math.sin(ia/2),0>Math.sin(M-l)-2*c*X*v*v&&(f*=-1),k.u=Math.atan2(q,f),k.u=g.F.ca(k.u+3.141592653589793),g.s.$(b,-e)&&!g.s.Dd(b)&&!g.s.$(g.s.R(b),1.570796326794897)&&
g.s.R(g.F.ca(a-d))>3.141592653589793*(1-r*Math.cos(b))&&(null!=h?v=h.u:(f=Oa/c,v=Math.sqrt(1-f*f),0>c*X-W*U*Math.cos(ia)&&(v*=-1),v=Math.atan2(f,v),g.s.$(b,-e)&&g.s.R(g.F.ca(a-d))>3.141592653589793*(1-r*Math.cos(b))&&(0<b&&1.570796326794897>g.s.R(v)||0>b&&1.570796326794897<g.s.R(v))&&(v=g.s.Mb(3.141592653589793,v)-v)),1.570796326794897>=g.s.R(v)&&1.570796326794897<g.s.R(k.u)||1.570796326794897<=g.s.R(v)&&1.570796326794897>g.s.R(k.u)))k.u=-1*g.F.ca(k.u+3.141592653589793)}}}};u.sf=function(l,c,a,b,
d,e,f,h){if(null!=f||null!=h)if(g.s.ui(c))g.Zg.sf(l,a,b,d,e,f,h);else if(e=g.F.ca(e),g.s.$(g.s.R(b),1.570796326794897)||g.s.Dd(e)||g.s.$(g.s.R(e),3.141592653589793))g.Xk.sf(l,c,a,b,d,e,f,h);else{var k=1.570796326794897==g.s.R(e)?0:Math.cos(e),m=3.141592653589793==g.s.R(e)?0:Math.sin(e);g.s.$(g.s.R(b),1.570796326794897)&&(a=0);e=1-Math.sqrt(1-c);var n=g.F.Xq(c,b);b=1.570796326794897==g.s.R(n)?0:Math.cos(n);var p=Math.sin(n);n=Math.atan2(Math.tan(n),k);var q=b*m,r=q*q,t=1-r,v=c/(1-c)*t;c=v*(256+v*(-128+
v*(74-47*v)))/1024;var M=c/4,W=c/6,U=d/(l*(1-e)*(1+v*(4096+v*(-768+v*(320-175*v)))/16384)),X=U;do{var ia=X;d=1.570796326794897==g.s.R(X)?0:Math.cos(X);v=3.141592653589793==g.s.R(X)?0:Math.sin(X);var ja=v*v;l=Math.cos(2*n+X);X=l*l;X=c*v*(l+M*(d*(2*X-1)-W*l*(4*ja-3)*(4*X-3)))+U}while(!g.s.$(ia,X));d=1.570796326794897==g.s.R(X)?0:Math.cos(X);v=3.141592653589793==g.s.R(X)?0:Math.sin(X);null!=f&&(m=Math.atan2(v*m,b*d-p*v*k),t=e/16*t*(4+e*(4-3*t)),l=Math.cos(2*n+X),f.u=g.F.ca(a+(m-(1-t)*e*q*(X+t*v*(l+t*
d*(2*l*l-1))))));null!=h&&(t=p*v-b*d*k,t=(1-e)*Math.sqrt(r+t*t),h.u=Math.atan2(p*d+b*v*k,t))}};return u}()})(L||(L={}));(function(g){g.HC=function(){function u(){}u.ub=function(l,c,a,b,d,e,f,h,k){var m=g.F.ca(d-a),n=g.s.$(g.s.R(b),1.570796326794897),p=g.s.$(g.s.R(e),1.570796326794897);if(g.s.$(b,e)&&(g.s.Dd(m)||n))null!=f&&(f.u=0),null!=h&&(h.u=0),null!=k&&(k.u=0);else{if(g.s.ui(c)){var q=Math.sin(b),r=Math.sin(e);q=Math.sqrt((1+q)/(1-q));r=Math.sqrt((1+r)/(1-r));q=Math.log(r)-Math.log(q);q=Math.atan2(m,
q);null!=f&&(f.u=g.s.$(b,e)?g.s.R(l*Math.cos(b)*m):g.s.R((l*e-l*b)/Math.cos(q)))}else r=g.F.Rw(c,e),q=Math.sin(g.F.Rw(c,b)),r=Math.sin(r),q=Math.sqrt((1+q)/(1-q)),r=Math.sqrt((1+r)/(1-r)),q=Math.log(r)-Math.log(q),q=Math.atan2(m,q),null!=f&&(g.s.$(b,e)?f.u=g.s.R(l*m*Math.cos(b)/g.F.w(c,b)):(m=g.F.q(l,c,b),l=g.F.q(l,c,e),f.u=g.s.R((l-m)/Math.cos(q))));if(null!=h||null!=k)f=g.F.ca(q+3.141592653589793),n&&p||!n&&!p||(n?q=0>b?d:g.F.ca(3.141592653589793-d):p&&(f=0>e?a:g.F.ca(3.141592653589793-a))),null!=
h&&(h.u=q),null!=k&&(k.u=f)}};u.sf=function(l,c,a,b,d,e,f,h){e=g.F.ca(e);0>d&&(d=g.s.R(d),e=g.F.ca(e+3.141592653589793));g.s.ui(c)?g.s.$(g.s.R(b),1.570796326794897)?(a=0>b?e:g.F.ca(3.141592653589793-e),e=d/l%6.283185307179586,3.141592653589793>=e?l=b-g.s.Mb(e,b):(a=g.F.ca(a+3.141592653589793),l=-b+g.s.Mb(e-3.141592653589793,b))):g.s.$(g.s.R(e),1.570796326794897)?(a=g.F.ca(a+g.s.Mb(d,e)/(l*Math.cos(b))),l=b):(l=b+d*Math.cos(e)/l,1.570796326794897<g.s.R(l)&&(l=1.570796326794897),g.s.$(g.s.R(l),1.570796326794897)&&
(g.s.Dd(e)||g.s.$(g.s.R(e),3.141592653589793))||(1.570796316258184<g.s.R(l)&&(l=g.s.Mb(1.570796316258184,l)),c=Math.sin(b),b=Math.sin(l),c=Math.sqrt((1+c)/(1-c)),b=Math.sqrt((1+b)/(1-b)),c=Math.log(b)-Math.log(c),a=g.F.ca(a+Math.tan(e)*c))):g.s.$(g.s.R(b),1.570796326794897)?(a=0>b?e:g.F.ca(3.141592653589793-e),e=d/g.F.gW(l,c),e%=6.283185307179586,3.141592653589793>=e?l=b-g.s.Mb(e,b):(a=g.F.ca(a+3.141592653589793),l=-b+g.s.Mb(e-3.141592653589793,b)),l=g.F.Tq(c,l)):g.s.$(g.s.R(e),1.570796326794897)?
(a=g.F.ca(a+g.s.Mb(d,e)*g.F.w(c,b)/(l*Math.cos(b))),l=b):(l=1.570796326794897*(d*Math.cos(e)+g.F.q(l,c,b))/g.F.Bh(l,c),1.570796326794897<g.s.R(l)&&(l=g.s.Mb(1.570796326794897,l)),l=g.F.Tq(c,l),g.s.$(g.s.R(l),1.570796326794897)&&(g.s.Dd(e)||g.s.$(g.s.R(e),3.141592653589793))||(d=g.F.Rw(c,b),b=g.F.Rw(c,l),1.570796316258184<g.s.R(b)&&(b=g.s.Mb(1.570796316258184,l),l=g.F.qO(c,b)),c=Math.sin(d),b=Math.sin(b),c=Math.sqrt((1+c)/(1-c)),b=Math.sqrt((1+b)/(1-b)),c=Math.log(b)-Math.log(c),a=g.F.ca(a+Math.tan(e)*
c)));null!=f&&(f.u=a);null!=h&&(h.u=l)};return u}()})(L||(L={}));(function(g){g.kb=function(){function u(){}u.Sy=function(l,c,a,b,d,e,f){g.du.ub(l,c,a,b,d,e,null,f,null)};u.zi=function(l,c,a,b,d,e,f,h){g.du.sf(l,c,a,b,d,e,f,h)};u.xd=function(l,c,a,b,d,e,f,h,k,m){switch(m){case 2:g.Xk.ub(l,c,a,b,d,e,f,h,k);break;case 3:g.IC.ub(l,c,a,b,d,e,f,h,k);break;case 1:g.HC.ub(l,c,a,b,d,e,f,h,k);break;default:g.du.ub(l,c,a,b,d,e,f,h,k)}};u.pj=function(l,c,a,b,d,e,f,h,k){switch(k){case 2:g.Xk.sf(l,c,a,b,d,e,f,
h);break;case 3:g.IC.sf(l,c,a,b,d,e,f,h);break;case 1:g.HC.sf(l,c,a,b,d,e,f,h);break;default:g.du.sf(l,c,a,b,d,e,f,h)}};return u}()})(L||(L={}));(function(g){var u=function(){function c(){this.y=this.x=null}c.construct=function(a){var b=new c;b.x=new g.Xb;b.x.set(a.x);b.y=new g.Xb;b.y.set(a.y);return b};c.NE=function(a,b){var d=new c;d.x=new g.Xb;d.x.set(a);d.y=new g.Xb;d.y.set(b);return d};c.prototype.qg=function(){return this.x.qg()&&this.y.qg()};c.prototype.value=function(){return g.h.construct(this.x.value(),
this.y.value())};return c}();g.jY=u;var l=function(){function c(){this.z=this.y=this.x=null}c.construct=function(a){var b=new c;b.x=new g.Xb;b.x.set(a.x);b.y=new g.Xb;b.y.set(a.y);b.z=new g.Xb;b.z.set(a.z);return b};c.NE=function(a,b,d){var e=new c;e.x=new g.Xb;e.x.set(a);e.y=new g.Xb;e.y.set(b);e.z=new g.Xb;e.z.set(d);return e};c.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()};c.prototype.value=function(){return new g.Od(this.x.value(),this.y.value(),this.z.value())};c.prototype.Rh=
function(a){var b=new g.Xb,d=new g.Xb,e=new g.Xb;b.Ml(this.x,a.x);d.Ml(this.y,a.y);e.Ml(this.z,a.z);a=new g.Xb;a.WM(b,d);a.add(e);return a};c.prototype.VE=function(a){var b=new c;b.x.Ml(this.y,a.z);b.y.Ml(this.z,a.x);b.z.Ml(this.x,a.y);var d=new g.Xb,e=new g.Xb,f=new g.Xb;d.Ml(this.z,a.y);e.Ml(this.x,a.z);f.Ml(this.y,a.x);b.x.sub(d);b.y.sub(e);b.z.sub(f);return b};return c}();g.kY=l;g.Mx=function(){function c(){}c.wP=function(a,b,d){var e=b.x;b=b.y;c.dl(1,a,Math.cos(e),Math.sin(e),Math.cos(b),Math.sin(b),
d)};c.vP=function(a,b){var d=new g.Od;c.wP(a,b,d);return d};c.dl=function(a,b,d,e,f,h,k){a/=Math.sqrt(1-b*h*h);k.L(a*f*d,a*f*e,a*(1-b)*h)};c.Zu=function(a,b){var d=new g.Xb,e=new g.Xb,f=new g.Xb,h=new g.Xb;d.cos(b.x);e.sin(b.x);f.cos(b.y);h.sin(b.y);var k=new g.Xb;k.set(h);k.Ag(h);k.Oo(a);k.Oo(-1);k.cN();k.sqrt();b=new g.Xb;b.set(1);b.lm(k);k=new g.Xb;k.set(b);k.Ag(f);k.Ag(d);d=new g.Xb;d.set(b);d.Ag(f);d.Ag(e);e=new g.Xb;e.set(b);e.Oo(1-a);e.Ag(h);return l.NE(k,d,e)};c.IS=function(a,b,d,e){if(Math.abs(b.x-
d.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(d.y)>.5*Math.PI||(Math.abs(b.y)==.5*Math.PI||Math.abs(d.y)==.5*Math.PI)&&b.x!=d.x)return NaN;e=c.XA(e,Math.min(b.x,d.x),Math.max(b.x,d.x));if(!(new g.Oc(b.x,d.x)).contains(e))return NaN;var f=u.construct(b);d=u.construct(d);f=c.Zu(a,f);d=c.Zu(a,d);d=f.VE(d);if(d.z.qg())return b=b.y;var h=new g.Xb;h.set(d.x);h.lm(d.z);h.Oo(-1);var k=new g.Xb;k.set(d.y);k.lm(d.z);k.Oo(-1);var m=new g.Xb;m.set(k);m.Ag(k);f=new g.Xb;f.set(h);f.Ag(h);f.add(m);f.sqrt();if(f.qg()||
h.qg()&&k.qg())return b=b.y;b=Math.atan2(k.value(),h.value());b=Math.atan2(f.value()*Math.cos(b-e),1-a);e=c.vP(a,g.h.construct(e,b));a=new g.Od(e.x,e.y,-e.z);e=d.value().Rh(e);a=d.value().Rh(a);Math.abs(a)<Math.abs(e)&&(b=-b);return b};c.Jz=function(a,b,d,e,f){f[0]=NaN;f[1]=NaN;if(Math.abs(b.x-d.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(d.y)>.5*Math.PI||(Math.abs(b.y)==.5*Math.PI||Math.abs(d.y)==.5*Math.PI)&&b.x!=d.x||Math.abs(e)>=.5*Math.PI||0<b.y&&0<d.y&&b.y>e&&d.y>e||0>b.y&&0>d.y&&b.y<e&&
d.y<e)return 0;var h=u.construct(b),k=u.construct(d);h=c.Zu(a,h);k=c.Zu(a,k);var m=h.VE(k);if(m.z.qg())return(new g.Oc(b.y,d.y)).contains(e)?(f[0]=b.x,1):0;k=new g.Xb;k.set(m.x);k.lm(m.z);k.Oo(-1);h=new g.Xb;h.set(m.y);h.lm(m.z);h.Oo(-1);m=new g.Xb;m.set(h);m.Ag(h);var n=new g.Xb;n.set(k);n.Ag(k);n.add(m);n.sqrt();if(n.qg()||k.qg()&&h.qg())return 0==e?(f[0]=b.x,f[1]=d.x,2):0;a=(1-a)*Math.tan(e)/n.value();if(1<Math.abs(a))return 0;a=Math.acos(a);m=Math.atan2(h.value(),k.value());k=Math.min(b.x,d.x);
h=Math.max(b.x,d.x);d=c.XA(m-a,k,h);a=0!=e?c.XA(m+a,k,h):d;e=0;k<=d&&d<=h&&(f[e]=d,e++);a!=d&&k<=a&&a<=h&&(f[e]=a,e++,2==e&&Math.abs(f[0]-b.x)>Math.abs(f[1]-b.x)&&(b=f[0],f[0]=f[1],f[1]=b));return e};c.XA=function(a,b,d){a>d?(b=Math.ceil((a-d)/(2*Math.PI)),a-=2*b*Math.PI):a<b&&(b=Math.ceil((b-a)/(2*Math.PI)),a+=2*b*Math.PI);return a};return c}()})(L||(L={}));(function(g){g.PK=function(){function u(){}u.OX=function(l,c){var a=[0,0,0,0],b=new g.h;b.N(c);b.scale(9102==g.cb.tc(l).Id().Fc()?1:g.cb.tc(l).Id().bi/
3.141592653589793*180);-180>b.x?(b.x-=b.x%360,-180>b.x&&(b.x+=360)):180<b.x&&(b.x-=b.x%360,180<b.x&&(b.x-=360));90<b.y&&(b.y=90);-90>b.y&&(b.y=-90);l=40;c=(l+31)/32;for(var d=-180,e=180,f=l-1,h=c-1;0<=h;h--)for(var k=f-32*h,m=Math.min(32,l-32*h),n=1;n<m;n+=2){var p=.5*(e+d);b.x>=p?(a[h]|=1<<k,d=p):e=p;k-=2;f-=2}d=-90;e=90;f=l-2;for(h=c-1;0<=h;h--)for(k=f-32*h,m=Math.min(32,l-32*h),n=0;n<m;n+=2)p=.5*(e+d),b.y>=p?(a[h]|=1<<k,d=p):e=p,k-=2,f-=2;return u.SP(a,8,8)};u.SP=function(l,c,a){for(var b=[],d=
0;d<c;d++)b[d]="";for(var e=d=0,f=0;f<c;f++){var h=l[d]>>e&31;e+=5;if(31<e){var k=37-e;h&=(1<<k)-1;e-=32;d++;h|=(l[d]&(1<<e)-1)<<k}b[c-1-f]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[h]}if(a>c)for(f=0;f<a-c;f++)b.push("0");else a<c&&(b.length=a);return b.join("")};return u}()})(L||(L={}));(function(g){var u={gcstol:[0,2E-9,1,2.241706620489156E-9,2,2.313672246530541E-9,3,8.98240164660333E-9,4,8.982433838020134E-9,5,8.982439417325895E-9,6,8.982466029667677E-9,7,8.982476760268133E-9,8,8.982492642167149E-9,
9,8.98251968292634E-9,10,8.98253685210448E-9,11,8.982546725256576E-9,12,8.982557456049832E-9,13,8.98257333682596E-9,14,8.982575482995276E-9,15,8.982578488197342E-9,16,8.982579775336987E-9,17,8.9825840676828E-9,18,8.982599090925448E-9,19,8.982605529473397E-9,20,8.982609220517402E-9,21,8.982611968030573E-9,22,8.982616260407152E-9,23,8.982620552787834E-9,24,8.982633429954492E-9,25,8.982637722351582E-9,26,8.98264416095491E-9,27,8.982646307158072E-9,28,8.982654891980968E-9,29,8.982667769246082E-9,30,8.982674207892485E-9,
31,8.982680646548117E-9,32,8.982682792768713E-9,33,8.982685798042582E-9,34,8.982689231436652E-9,35,8.98269137766135E-9,36,8.98269266624163E-9,37,8.982705114087017E-9,38,8.982706830791106E-9,39,8.982711958374661E-9,40,8.982712839964735E-9,41,8.982717991496125E-9,42,8.982721424914803E-9,43,8.982723571154887E-9,44,8.982727863638127E-9,45,8.982730868942154E-9,46,8.982734302370678E-9,47,8.982745033612112E-9,48,8.982751472369276E-9,49,8.982755764879183E-9,50,8.982762203651733E-9,51,8.982764776628385E-9,
52,8.982766496171896E-9,53,8.98277722749025E-9,54,8.98278152002477E-9,55,8.98279933943848E-9,56,8.9829143024805E-9,57,8.982922161948598E-9,58,8.98292327314211E-9,59,8.982925667349601E-9,60,8.982932222965576E-9,61,8.982961298941316E-9,62,8.982965524049989E-9,63,8.982994818246099E-9,64,8.982994895706967E-9,65,8.98299489597736E-9,66,8.983000733443498E-9,67,8.983055097289157E-9,68,8.983064111047368E-9,69,8.983111996941178E-9,70,8.983120447446023E-9,71,8.98312748954554E-9,72,8.983134531656096E-9,73,8.983141573777694E-9,
74,8.983148615910332E-9,75,8.983152841195215E-9,76,8.983153545409748E-9,77,8.983153827095593E-9,78,8.98315396793852E-9,79,8.983154249624393E-9,80,8.983155658054012E-9,81,8.983960794340072E-9,82,8.984061344391998E-9,83,8.984072829255685E-9,84,8.984194981201908E-9,85,8.984275233099427E-9,86,8.984326127007554E-9,87,8.984330099816539E-9,88,8.98433275258421E-9,89,8.984333047023206E-9,90,8.984333885258723E-9,91,8.984337959508212E-9,92,8.984365176209457E-9,93,8.984727360418079E-9,94,8.984901041679577E-9,
95,8.98542662091587E-9,96,8.98610024130669E-9,97,8.992894229037531E-9,98,8.993203677616635E-9,99,8.993206178094346E-9,100,8.993216059187305E-9,101,8.99322029394808E-9,102,8.994627867045891E-9,103,9.467559984315793E-9,104,9.46881168618118E-9,105,9.980888154931644E-9,106,9.981105353606775E-9,107,9.983807356573187E-9,108,1.687060485811522E-8,109,1.688447560354875E-8,110,2.176606011487185E-8,111,2.225078816042032E-8,112,2.348476432064694E-8,113,2.348765250187846E-8,114,2.378108974103778E-8,115,3.14559636297708E-8,
116,3.297788621680806E-8,117,3.667892343788279E-8,118,4.235973644320739E-8,119,4.794625900676345E-8,120,7.262742998235812E-8,121,7.499447580246377E-8,122,7.525056410964318E-8,123,7.979913581209237E-8,124,9.662020153976783E-8,125,9.799175562353741E-8,126,9.897353517547472E-8,127,1.02313891987647E-7,128,1.081460541960784E-7,129,1.21905913857622E-7,130,2.246893314238523E-7,131,2.297344808062643E-7,132,2.42984645941825E-7,133,2.754604784282804E-7,134,2.884548130346993E-7,135,3.370339971357784E-7,136,
4.307953346848296E-7,137,5.208707228462029E-7,138,5.509209568565608E-7,139,6.452227422644406E-7,140,6.740679942715567E-7,141,6.861770001566745E-7,142,7.252630318111686E-7,143,7.441010326374328E-7,144,7.742672907173287E-7,145,9.629542775307953E-7,146,1.061032953945969E-6,147,1.143628333594458E-6,148,1.162186197019925E-6,149,1.36418522650196E-6,150,1.367441038498385E-6,151,1.432394487827058E-6,152,1.736235742820677E-6,153,1.848250952034914E-6,154,1.909859317102744E-6,155,1.975716534933873E-6,156,2.122065907891938E-6,
157,2.72837045300392E-6,158,3.183098861837907E-6,159,3.580986219567645E-6,160,3.819718634205488E-6,161,4.09255567950588E-6,162,4.407367654852486E-6,163,4.774648292756861E-6,164,5.161781938115525E-6,165,5.20870722846203E-6,166,5.729577951308232E-6,167,6.031134685587613E-6,168,6.987290184522236E-6,169,9.241254760174569E-6,170,1.145915590261646E-5],pcstol:[0,6.666666666666667E-9,1,2E-8,2,4.970973863636364E-5,3,4.970978156565657E-5,4,4.970980410559237E-5,5,.001,6,.001093615055555556,7,.001093615194444445,
8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,
2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,
2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,
2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,
2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,
102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,
3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,
102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,
4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,
37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,
5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,
102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,
102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103E3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,
103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,
103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,
103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,
103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,
103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,
102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,
102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,
8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,
8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,
104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9E3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,
26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,
32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,
4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,
10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,
10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,
5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,
5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,
6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,
7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,
5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,
8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25E3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,
5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,
5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,
103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,
10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,
5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,
5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2E3,2045,5],[2056,2065,5],[2067,
2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,
3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,
5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,
5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,
5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,
24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,
5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32E3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,
5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,
102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,
5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],
[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,
4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,
75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,
65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,
55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,
84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,
64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,
55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,
75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,
104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,
104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,
104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],
[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},l={c:[[2E3,2035,9001],[2039,2045,9001],[2056,
2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],
[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,
9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,
4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],
[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,
9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,
7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9E3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],
[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,
25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],
[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32E3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,
9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],
[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],
[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],
[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,
2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,
9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,
3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,
9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,
3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,
9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,
4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,
9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,
6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,
9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,
6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,
9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,
6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,
9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,
6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,
9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,
7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,
9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,
8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,
9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,
8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,
9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,
22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,
27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,
9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,
9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,
9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,
9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,
9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,
9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};g.yr=function(){function c(){}c.Ny=function(a){!1===c.zp&&c.yt();var b=c.xQ(a);if(-1==b){var d=c.zx(a);d!=a&&(b=c.Ny(d))}-1==b&&(d=c.xK(a),d!=a&&(b=c.Ny(d)));return b};c.xQ=
function(a){return void 0!==c.Gw[a]?c.Gw[a]:-1};c.uQ=function(a){!1===c.zp&&c.yt();var b=c.fF(a);if(1E38==b){var d=c.zx(a);d!=a&&(b=c.fF(d));if(1E38==b)return 1E-10}return b};c.PS=function(a){if(void 0!==c.Js[a])return!0;var b=c.zx(a);return b!=a&&void 0!==c.Js[b]?!0:!1};c.RS=function(a){if(void 0!==c.yo[a])return!0;var b=c.zx(a);return b!=a&&void 0!==c.yo[b]?!0:!1};c.fF=function(a){!1===c.zp&&c.yt();return void 0!==c.Js[a]?c.Js[a]:void 0!==c.yo[a]?c.yo[a]:1E38};c.xK=function(a){!1===c.zp&&c.yt();
return void 0!==c.QA[a]?c.QA[a]:a};c.zx=function(a){!1===c.zp&&c.yt();return void 0!==c.RA[a]?c.RA[a]:a};c.yt=function(){for(var a=u,b,d=0;d<a.pcsid.length;d+=2)c.yo[a.pcsid[d]]=a.pcstol[2*a.pcsid[d+1]+1];for(d=0;d<a.pcsidc.length;d+=1){b=a.pcsidc[d];for(var e=b[0];e<=b[1];e++)c.yo[e]=a.pcstol[2*b[2]+1]}for(d=0;d<a.gcsid.length;d+=2)c.Js[a.gcsid[d]]=a.gcstol[2*a.gcsid[d+1]+1];for(d=0;d<a.gcsidc.length;d+=1)for(b=a.gcsidc[d],e=b[0];e<=b[1];e++)c.yo[e]=a.gcstol[2*b[2]+1];for(d=0;d<l.c.length;d+=1)for(b=
l.c[d],e=b[0];e<=b[1];e++)c.Gw[e]=b[2];for(d=0;d<l.nc.length;d+=2)c.Gw[l.nc[d]]=l.nc[d+1];l=null;for(d=0;d<a.newtoold.length;d+=2)c.QA[a.newtoold[d+1]]=a.newtoold[d],c.RA[a.newtoold[d]]=a.newtoold[d+1];u=null;c.zp=!0};c.zp=!1;c.Js=[];c.yo=[];c.QA=[];c.RA=[];c.Gw=[];return c}()})(L||(L={}));(function(g){function u(c){return 0===c.length?'""':'"'==c[0]||"."==c[0]||"0"<=c[0]&&"9">=c[0]?c:'"'+c.trim()+'"'}var l=[];g.PC=function(){function c(){}c.wQ=function(a){try{for(var b=0;b<l.length;b++)if(l[b].wkttext===
a)return l[b].unit;for(var d,e=b="",f=!1,h=0;h<a.length;h++){var k=a[h];!0===f?'"'==k?'"'==a[h+1]?b+=k:f=f=!1:b+=k:/[\s]/.test(k)||(","==k?(e=""!==b?e+(u(b)+","):e+",",b=""):")"==k||"]"==k?(e=""!==b?e+(u(b)+"]}"):e+"]}",b=""):"("==k||"["==k?(e+='{ "entity": "'+b.toUpperCase().trim()+'", "values":[',b=""):'"'==k?(f=!0,b=""):b+=k)}d=JSON.parse(e);var m=c.eF(d);if(null===m)return null;d=null;for(k=0;k<m.values.length;k++)if("object"===typeof m.values[k]&&"UNIT"===m.values[k].entity){d=m.values[k];break}if(null===
d)return null;var n=g.Uc.RO("GEOGCS"===m.entity?1:0,d.values[1],d.values[2]);l.push({wkttext:a,unit:n});10<l.length&&l.shift();return n}catch(p){return null}};c.eF=function(a){if(null===a)return null;if("GEOGCS"===a.entity||"PROJCS"===a.entity)return a;for(var b=[],d=0;d<a.values.length;d++)if("object"===typeof a.values[d]&&void 0!==a.values[d].entity){if("GEOGCS"===a.values[d].entity||"PROJCS"==a.values[d].entity)return a.values[d];b.push(a.values[d])}for(a=0;a<b.length;a++)if(d=c.eF(b[a]),null!==
d)return d;return null};c.vQ=function(a){var b=-1;if(null!=a&&0<a.length){var d=a.indexOf("PROJCS");if(0<=d){var e=0;d=a.lastIndexOf("UNIT");if(0<=d&&(d=a.indexOf(",",d+4),0<d)){d++;var f=a.indexOf("]",d+1);if(0<f)try{e=parseFloat(a.substring(d,f))}catch(k){e=0}}0<e&&(b=.001/e)}else if(d=a.indexOf("GEOGCS"),0<=d){var h=0;e=0;d=a.indexOf("SPHEROID",d+6);if(0<d&&(d=a.indexOf(",",d+8),0<d)){d++;f=a.indexOf(",",d+1);if(0<f)try{h=parseFloat(a.substring(d,f))}catch(k){h=0}if(0<h&&(d=a.indexOf("UNIT",f+
1),0<=d&&(d=a.indexOf(",",d+4),0<d&&(d++,f=a.indexOf("]",d+1),0<f))))try{e=parseFloat(a.substring(d,f))}catch(k){e=0}}0<h&&0<e&&(b=.001/(h*e))}}return b};return c}()})(L||(L={}));(function(g){(function(l){l[l.NONE=0]="NONE";l[l.LINEAR=1]="LINEAR";l[l.ANGULAR=2]="ANGULAR"})(g.XK||(g.XK={}));(function(l){l[l.enumFloat=0]="enumFloat";l[l.enumDouble=1]="enumDouble";l[l.enumInt32=2]="enumInt32";l[l.enumInt64=3]="enumInt64";l[l.enumInt8=4]="enumInt8";l[l.enumInt16=5]="enumInt16"})(g.IL||(g.IL={}));(function(l){l[l.POSITION=
0]="POSITION";l[l.Z=1]="Z";l[l.M=2]="M";l[l.ID=3]="ID";l[l.NORMAL=4]="NORMAL";l[l.TEXTURE1D=5]="TEXTURE1D";l[l.TEXTURE2D=6]="TEXTURE2D";l[l.TEXTURE3D=7]="TEXTURE3D";l[l.ID2=8]="ID2";l[l.MAXSEMANTICS=10]="MAXSEMANTICS"})(g.Jh||(g.Jh={}));var u=function(){function l(c,a){this.Ws=this.Be=null;this.Qq=this.Ba=0;this.vh=this.cg=null;this.yl=0;if(void 0!==a){this.Ba=a.Ba;this.Qq=a.Qq;this.cg=a.cg.slice(0);this.vh=a.vh.slice(0);this.yl=a.yl;this.Ws=[];for(c=a=0;c<this.Ba;c++)this.Ws[c]=a,a+=l.Wa(this.cg[c]);
this.Qq=a;this.Be=[];for(c=0;c<this.Ba;c++){a=l.Wa(this.qd(c));for(var b=l.te(this.qd(c)),d=0;d<a;d++)this.Be[this.Ws[c]+d]=b}}else this.Qq=this.Ba=0}l.prototype.qd=function(c){if(0>c||c>this.Ba)throw g.i.O();return this.cg[c]};l.prototype.Qf=function(c){return this.vh[c]};l.gz=function(c){return l.BM[c]};l.Vp=function(c){return l.KM[c]};l.Wa=function(c){return l.jM[c]};l.prototype.hasAttribute=function(c){return 0<=this.vh[c]};l.prototype.aG=function(){return this.hasAttribute(1)};l.te=function(c){return l.XC[c]};
l.prototype.CR=function(c){return this.Ws[c]};l.vG=function(c,a){return l.XC[c]===a};l.prototype.Nb=function(c){return this===c};l.prototype.Bn=function(){for(var c=g.P.Uh(this.cg[0]),a=1;a<this.Ba;a++)c=g.P.Uh(this.cg[a],c);return c};l.prototype.$j=function(c){return this.Ws[c]};l.prototype.dc=function(){return this.yl};l.prototype.Fd=function(c){return this.cg[c]};l.XC=[0,0,NaN,0,0,0,0,0,0];l.BM=[1,1,1,0,2,1,1,1,0];l.KM=[1,1,1,2,0,0,0,0,2];l.jM=[2,1,1,1,3,1,2,3,2];return l}();g.ua=u})(L||(L={}));
(function(g){function u(f,h,k){var m=h-(f=new e(f)).e,n=f.c;n.length>++h&&l(f,m,e.fu);for(n[0]?k?m=h:(n=f.c,m=f.e+m+1):++m;n.length<m;n.push(0));m=f.e;return 1===k||k&&(h<=m||m<=a)?(0>f.Cd&&n[0]?"-":"")+(1<n.length?n[0]+"."+n.join("").slice(1):n[0])+(0>m?"e":"e+")+m:f.toString()}function l(f,h,k,m){var n=f.c,p=f.e+h+1;1===k?m=5<=n[p]:2===k?m=5<n[p]||5==n[p]&&(m||0>p||void 0!==n[p+1]||n[p-1]&1):3===k?m=m||void 0!==n[p]||0>p:(m=!1,0!==k&&c("!Big.RM!"));if(1>p||!n[0])m?(f.e=-h,f.c=[1]):f.c=[f.e=0];else{n.length=
p--;if(m)for(;9<++n[p];)n[p]=0,p--||(++f.e,n.unshift(1));for(p=n.length;!n[--p];n.pop());}return f}function c(f){f=Error(f);f.name="BigError";throw f;}var a=-7,b=21,d=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,e=function(){function f(h){if(h instanceof f)this.Cd=h.Cd,this.e=h.e,this.c=h.c.slice();else{var k,m,n;0===h&&0>1/h?h="-0":d.test(h+="")||c(NaN);this.Cd="-"==h.charAt(0)?(h=h.slice(1),-1):1;-1<(k=h.indexOf("."))&&(h=h.replace(".",""));0<(m=h.search(/e/i))?(0>k&&(k=m),k+=+h.slice(m+1),h=h.substring(0,
m)):0>k&&(k=h.length);for(m=0;"0"==h.charAt(m);m++);if(m==(n=h.length))this.c=[this.e=0];else{for(;"0"==h.charAt(--n););this.e=k-m-1;this.c=[];for(k=0;m<=n;this.c[k++]=+h.charAt(m++));}}}f.prototype.abs=function(){var h=new f(this);h.Cd=1;return h};f.prototype.cmp=function(h){var k=this.c,m=(h=new f(h)).c,n=this.Cd,p=h.Cd,q=this.e,r=h.e;if(!k[0]||!m[0])return k[0]?n:m[0]?-p:0;if(n!=p)return n;h=0>n;if(q!=r)return q>(r^h)?1:-1;n=-1;for(p=(q=k.length)<(r=m.length)?q:r;++n<p;)if(k[n]!=m[n])return k[n]>
(m[n]^h)?1:-1;return q==r?0:q>(r^h)?1:-1};f.prototype.lm=function(h){var k=this.c,m=(h=new f(h)).c,n=this.Cd==h.Cd?1:-1,p=f.tr;(p!==~~p||0>p||1E6<p)&&c("!Big.DP!");if(!k[0]||!m[0])return k[0]==m[0]&&c(NaN),m[0]||c(n/0),new f(0*n);var q,r,t=m.slice(),v=q=m.length,M=k.length,W=k.slice(0,q),U=W.length,X=h,ia=X.c=[],ja=0,ka=p+(X.e=this.e-h.e)+1;X.Cd=n;n=0>ka?0:ka;for(t.unshift(0);U++<q;W.push(0));do{for(r=0;10>r;r++){if(q!=(U=W.length))var sa=q>U?1:-1;else{var ta=-1;for(sa=0;++ta<q;)if(m[ta]!=W[ta]){sa=
m[ta]>W[ta]?1:-1;break}}if(0>sa){for(h=U==q?m:t;U;){if(W[--U]<h[U]){for(ta=U;ta&&!W[--ta];W[ta]=9);--W[ta];W[U]+=10}W[U]-=h[U]}for(;!W[0];W.shift());}else break}ia[ja++]=sa?r:++r;W[0]&&sa?W[U]=k[v]||0:W=[k[v]]}while((v++<M||void 0!==W[0])&&n--);ia[0]||1==ja||(ia.shift(),X.e--);ja>ka&&l(X,p,f.fu,void 0!==W[0]);return X};f.prototype.XR=function(){return 0<this.cmp(0)};f.prototype.dT=function(){return 0>this.cmp(0)};f.prototype.jt=function(h){var k,m=this.Cd,n=(h=new f(h)).Cd;if(m!=n)return h.Cd=-n,
this.lI(h);var p=this.c.slice(),q=this.e,r=h.c,t=h.e;if(!p[0]||!r[0])return r[0]?(h.Cd=-n,h):new f(p[0]?this:0);if(m=q-t){(k=0>m)?(m=-m,q=p):(t=q,q=r);q.reverse();for(n=m;n--;q.push(0));q.reverse()}else for(q=((k=p.length<r.length)?p:r).length,m=n=0;n<q;n++)if(p[n]!=r[n]){k=p[n]<r[n];break}k&&(q=p,p=r,r=q,h.Cd=-h.Cd);if(0<(n=(q=r.length)-(k=p.length)))for(;n--;p[k++]=0);for(n=k;q>m;){if(p[--q]<r[q]){for(k=q;k&&!p[--k];p[k]=9);--p[k];p[q]+=10}p[q]-=r[q]}for(;0==p[--n];p.pop());for(;0==p[0];)p.shift(),
--t;p[0]||(h.Cd=1,p=[t=0]);h.c=p;h.e=t;return h};f.prototype.lI=function(h){var k=this.Cd,m=(h=new f(h)).Cd;if(k!=m)return h.Cd=-m,this.jt(h);m=this.e;var n=this.c,p=h.e,q=h.c;if(!n[0]||!q[0])return q[0]?h:new f(n[0]?this:0*k);n=n.slice();if(k=m-p){0<k?(p=m,m=q):(k=-k,m=n);for(m.reverse();k--;m.push(0));m.reverse()}0>n.length-q.length&&(m=q,q=n,n=m);k=q.length;for(m=0;k;)m=(n[--k]=n[k]+q[k]+m)/10|0,n[k]%=10;m&&(n.unshift(m),++p);for(k=n.length;0==n[--k];n.pop());h.c=n;h.e=p;return h};f.prototype.pow=
function(h){var k=this,m=new f(1),n=m,p=0>h;(h!==~~h||-1E6>h||1E6<h)&&c("!pow!");for(h=p?-h:h;;){h&1&&(n=n.nr(k));h>>=1;if(!h)break;k=k.nr(k)}return p?m.lm(n):n};f.prototype.round=function(h,k){var m=this;null==h?h=0:(h!==~~h||0>h||1E6<h)&&c("!round!");l(m=new f(m),h,null==k?f.fu:k);return m};f.prototype.sqrt=function(){var h=this.c,k=this.Cd,m=this.e,n=new f("0.5");if(!h[0])return new f(this);0>k&&c(NaN);k=Math.sqrt(this.toString());0==k||k==1/0?(k=h.join(""),k.length+m&1||(k+="0"),h=new f(Math.sqrt(k).toString()),
h.e=((m+1)/2|0)-(0>m||m&1)):h=new f(k.toString());k=h.e+(f.tr+=4);do m=h,h=n.nr(m.lI(this.lm(m)));while(m.c.slice(0,k).join("")!==h.c.slice(0,k).join(""));l(h,f.tr-=4,f.fu);return h};f.prototype.nr=function(h){var k=this.c,m=(h=new f(h)).c,n=k.length,p=m.length,q=this.e,r=h.e;h.Cd=this.Cd==h.Cd?1:-1;if(!k[0]||!m[0])return new f(0*h.Cd);h.e=q+r;if(n<p){var t=k;k=m;m=t;r=n;n=p;p=r}for(t=Array(r=n+p);r--;t[r]=0);for(q=p;q--;){p=0;for(r=n+q;r>q;)p=t[r]+m[q]*k[r-q-1]+p,t[r--]=p%10,p=p/10|0;t[r]=(t[r]+
p)%10}p&&++h.e;t[0]||t.shift();for(q=t.length;!t[--q];t.pop());h.c=t;return h};f.prototype.toString=function(){var h=this.e,k=this.c.join(""),m=k.length;if(h<=a||h>=b)k=k.charAt(0)+(1<m?"."+k.slice(1):"")+(0>h?"e":"e+")+h;else if(0>h){for(;++h;k="0"+k);k="0."+k}else if(0<h)if(++h>m)for(h-=m;h--;k+="0");else h<m&&(k=k.slice(0,h)+"."+k.slice(h));else 1<m&&(k=k.charAt(0)+"."+k.slice(1));return 0>this.Cd&&this.c[0]?"-"+k:k};f.prototype.toExponential=function(h){null==h?h=this.c.length-1:(h!==~~h||0>h||
1E6<h)&&c("!toExp!");return u(this,h,1)};f.prototype.toFixed=function(h){var k=a,m=b;a=-(b=1/0);if(null==h)var n=this.toString();else h===~~h&&0<=h&&1E6>=h&&(n=u(this,this.e+h),0>this.Cd&&this.c[0]&&0>n.indexOf("-")&&(n="-"+n));a=k;b=m;n||c("!toFix!");return n};f.prototype.toPrecision=function(h){if(null==h)return this.toString();(h!==~~h||1>h||1E6<h)&&c("!toPre!");return u(this,h-1,2)};f.tr=20;f.fu=1;return f}();g.ip=e})(L||(L={}));(function(g){var u=function(){function l(c){this.lf=c}l.prototype.qr=
function(c,a,b){var d=new g.h,e=new g.h,f=this.lf;b.Wd(c,a,function(h,k){f.uc(2*h,d);f.uc(2*k,e);return d.compare(e)})};l.prototype.bq=function(c){return this.lf.read(2*c+1)};return l}();g.ri=function(){function l(){}l.cq=function(c){if(c.B())return!1;var a=c.K();return 1736==a?0==c.He()?!1:!0:1607==a?(a=[!1],l.kE(c,!0,a),a[0]):197==a||g.ba.zd(a)&&!c.tG()?!0:!1};l.im=function(c){var a=c.K();if(1736==a)return a=new g.Ua(c.description),c.B()||c.WC(a),a;if(1607==a)return l.kE(c,!1,null);if(197==a)return a=
new g.Ua(c.description),c.B()||a.bd(c,!1),a;if(g.ba.zd(a)){a=new g.de(c.description);if(!c.B()&&!c.tG()){var b=new g.Ta;c.Uo(b);a.add(b);c.Qo(b);a.add(b)}return a}if(g.ba.Sn(a))return null;throw g.i.O();};l.kE=function(c,a,b){null!=b&&(b[0]=!1);var d=null;a||(d=new g.de(c.description));if(!c.B()){var e=new g.ja(0);e.Jb(2*c.ea());for(var f=0,h=c.ea();f<h;f++)if(0<c.Ka(f)&&!c.On(f)){var k=c.Ca(f);e.add(k);k=c.Wc(f)-1;e.add(k)}if(0<e.size){h=new g.Yt;f=c.vb(0);h.sort(e,0,e.size,new u(f));h=new g.h;f.uc(2*
e.get(0),h);k=0;for(var m=1,n=new g.Ta,p=new g.h,q=1,r=e.size;q<r;q++)if(f.uc(2*e.get(q),p),p.rb(h))e.get(k)>e.get(q)?(e.set(k,2147483647),k=q):e.set(q,2147483647),m++;else{if(0==(m&1))e.set(k,2147483647);else if(a)return null!=b&&(b[0]=!0),null;h.N(p);k=q;m=1}if(0==(m&1))e.set(k,2147483647);else if(a)return null!=b&&(b[0]=!0),null;if(!a)for(e.Wd(0,e.size,function(t,v){return t-v}),q=0,r=e.size;q<r&&2147483647!=e.get(q);q++)c.we(e.get(q),n),d.add(n)}}return a?null:d};return l}()})(L||(L={}));(function(g){var u=
function(){function l(){this.zf=new g.ja(0);this.zs=new g.ja(0);this.wH=1;this.Fs=NaN}l.prototype.sort=function(c,a,b,d){if(32>b-a)d.qr(a,b,c);else{var e=!0;try{for(var f=Infinity,h=-Infinity,k=a;k<b;k++){var m=d.bq(c.get(k));m<f&&(f=m);m>h&&(h=m)}if(this.reset(b-a,f,h,b-a)){for(k=a;k<b;k++){var n=c.get(k);m=d.bq(n);var p=this.rF(m);this.zf.set(p,this.zf.get(p)+1);this.zs.write(k-a,n)}var q=this.zf.get(0);this.zf.set(0,0);k=1;for(var r=this.zf.size;k<r;k++){var t=this.zf.get(k);this.zf.set(k,q);q+=
t}for(k=a;k<b;k++){n=this.zs.read(k-a);m=d.bq(n);p=this.rF(m);var v=this.zf.get(p);c.set(v+a,n);this.zf.set(p,v+1)}e=!1}}catch(M){this.zf.resize(0),this.zs.resize(0)}if(e)d.qr(a,b,c);else{k=b=0;for(r=this.zf.size;k<r;k++)e=b,b=this.zf.get(k),b>e&&d.qr(a+e,a+b,c);100<this.zf.size&&(this.zf.resize(0),this.zs.resize(0))}}};l.prototype.reset=function(c,a,b,d){if(2>c||b==a)return!1;c=Math.min(l.$K,c);this.zf.Jb(c);this.zf.resize(c);this.zf.Xj(0,0,this.zf.size);this.wH=a;this.zs.resize(d);this.Fs=(b-a)/
(c-1);return!0};l.prototype.rF=function(c){return g.P.truncate((c-this.wH)/this.Fs)};l.$K=65536;return l}();g.Yt=u})(L||(L={}));(function(g){var u;(function(e){e[e.enum_line=1]="enum_line";e[e.enum_arc=2]="enum_arc";e[e.enum_dummy=4]="enum_dummy";e[e.enum_concave_dip=8]="enum_concave_dip";e[e.enum_connection=3]="enum_connection"})(u||(u={}));var l=function(){function e(){}e.Su=function(f,h,k,m,n,p){var q=new e;q.Km=new g.h;q.Xm=new g.h;q.bw=new g.h;q.Km.N(f);q.Xm.N(h);q.bw.N(k);q.Do=m;q.rh=n;q.th=
p;return q};e.construct=function(f,h,k,m){var n=new e;n.Km=new g.h;n.Xm=new g.h;n.bw=new g.h;n.Km.N(f);n.Xm.N(h);n.bw.Sc();n.Do=4;n.rh=k;n.th=m;return n};return e}(),c=function(){function e(f,h,k,m,n,p){this.Zv=null;this.za=0;this.yA=f;this.UH=this.SH=0;this.La=h;this.Nj=k;this.vk=m;this.Fq=n;this.Vb=p}e.prototype.next=function(){for(var f=new g.Ta;;){if(this.za==this.yA.I())return null;this.yA.we(this.za,f);this.za++;if(!f.B())break}var h=!1;null==this.Zv&&(this.SH=f.Mg(),this.UH=f.jh(),this.Zv=
d.buffer(f,this.La,this.Nj,this.vk,this.Fq,this.Vb),h=!0);if(this.za<this.yA.I()){var k=new g.Ea;this.Zv.copyTo(k)}else k=this.Zv;if(!h){h=new g.Ed;var m=f.Mg()-this.SH;f=f.jh()-this.UH;h.gg(m,f);k.Pc(h)}return k};e.prototype.Ma=function(){return 0};e.prototype.qe=function(){};return e}(),a=function(){function e(f,h){this.Xa=f;this.za=0;this.qq=h}e.prototype.next=function(){var f=this.Xa.Y;if(this.za<f.ea()){var h=this.za;this.za++;if(!f.On(h))for(var k=f.Oa(f.Wc(h)-1);this.za<f.ea();){var m=f.Oa(f.Ca(this.za));
if(f.On(this.za))break;if(m!=k)break;k=f.Oa(f.Wc(this.za)-1);this.za++}if(1==this.za-h)return this.Xa.cE(this.Xa.Y,h,this.qq);k=new g.Ua(this.Xa.Y.description);k.addPath(this.Xa.Y,h,!0);for(h+=1;h<this.za;h++)k.Fr(this.Xa.Y,h,0,f.sv(h),!1);return this.Xa.cE(k,0,this.qq)}return null};e.prototype.Ma=function(){return 0};e.prototype.qe=function(){};return e}(),b=function(){function e(f){this.Xa=f;this.za=0}e.prototype.next=function(){var f=this.Xa.Y;if(this.za<f.ea()){var h=this.za;f.Kr(this.za);for(this.za++;this.za<
f.ea()&&!(0<f.Kr(this.za));)this.za++;return 0==h&&this.za==f.ea()?this.Xa.ky(f,0,f.ea()):this.Xa.ky(f,h,this.za)}return null};e.prototype.Ma=function(){return 0};e.prototype.qe=function(){};return e}(),d=function(){function e(f){this.Ls=this.mw=this.Ms=this.Jd=null;this.$d=[];this.Vb=f;this.sb=this.Lv=this.zT=this.La=this.nA=this.ct=this.ra=0;this.iA=this.vk=-1;this.qq=!0}e.buffer=function(f,h,k,m,n,p){if(null==f)throw g.i.O();if(0>m)throw g.i.O();if(f.B())return new g.Ea(f.description);var q=new g.l;
f.yc(q);0<h&&q.X(h,h);p=new e(p);p.Nj=k;p.Y=f;p.ra=g.ta.Xd(k,q,!0);p.ct=g.ta.Xd(null,q,!0);p.La=h;p.zT=f.K();0>=n&&(n=96);p.sb=Math.abs(p.La);p.Lv=0!=p.sb?1/p.sb:0;isNaN(m)||0==m?m=1E-5*p.sb:m>.5*p.sb&&(m=.5*p.sb);12>n&&(n=12);f=Math.abs(h)*(1-Math.cos(Math.PI/n));f>m?m=f:(f=Math.PI/Math.acos(1-m/Math.abs(h)),f<n-1&&(n=g.P.truncate(f),12>n&&(n=12,m=Math.abs(h)*(1-Math.cos(Math.PI/n)))));p.vk=m;p.Fq=n;p.nA=Math.min(p.ct,.25*m);return p.dE()};e.prototype.dv=function(){if(null==this.Jd)this.Jd=[];else if(0!==
this.Jd.length)return;var f=this.iE();f=g.P.truncate((f+3)/4);var h=.5*Math.PI/f;this.iA=h;for(var k=0;k<4*f;k++)this.Jd.push(null);var m=Math.cos(h);h=Math.sin(h);var n=g.h.construct(0,1);for(k=0;k<f;k++)this.Jd[k+0*f]=g.h.construct(n.y,-n.x),this.Jd[k+1*f]=g.h.construct(-n.x,-n.y),this.Jd[k+2*f]=g.h.construct(-n.y,n.x),this.Jd[k+3*f]=n,n=g.h.construct(n.x,n.y),n.Bt(m,h)};e.prototype.dE=function(){var f=this.Y.K();if(g.ba.zd(f))return f=new g.Ua(this.Y.description),f.oc(this.Y,!0),this.Y=f,this.dE();
if(this.La<=this.ra)if(g.ba.KS(f)){if(0>=this.La&&(f=new g.l,this.Y.A(f),f.S()<=2*-this.La||f.da()<=2*this.La))return new g.Ea(this.Y.description)}else return new g.Ea(this.Y.description);switch(this.Y.K()){case 33:return this.HN();case 550:return this.GN();case 1607:return this.JN();case 1736:return this.IN();case 197:return this.DN();default:throw g.i.Ra();}};e.prototype.JN=function(){if(this.wG(this.Y)){var f=new g.Ta;this.Y.we(0,f);var h=new g.l;this.Y.A(h);f.Db(h.tf());return this.Hu(f)}this.Y=
this.MV(this.Y);f=new a(this,this.qq);return g.Hh.local().W(f,this.Nj,this.Vb).next()};e.prototype.IN=function(){if(0==this.La)return this.Y;var f=g.$l.local();this.dv();this.Y=f.W(this.Y,null,!1,this.Vb);if(0>this.La){var h=this.Y;h=this.ky(h,0,h.ea());return f.W(h,this.Nj,!1,this.Vb)}if(this.wG(this.Y))return f=new g.Ta,this.Y.we(0,f),h=new g.l,this.Y.A(h),f.Db(h.tf()),this.Hu(f);f=new b(this);return g.Hh.local().W(f,this.Nj,this.Vb).next()};e.prototype.ky=function(f,h,k){for(var m=new g.Ea(f.description);h<
k;h++)if(!(1>f.Ka(h))){var n=f.Kr(h),p=new g.l;f.Sj(h,p);if(0<this.La)if(0<n)if(this.xG(f,h))n=new g.Ta,f.we(f.Ca(h),n),n.Db(p.tf()),this.zu(m,n);else{var q=n=new g.Ua(f.description);q=g.$t.BG(this.Y,h)||2==this.An(this.Y,h,q,!0,1)?this.bE(f,h):this.zn(n);m.add(q,!1)}else{if(!(p.S()+this.ra<=2*this.sb||p.da()+this.ra<=2*this.sb||(q=n=new g.Ua(f.description),this.An(this.Y,h,q,!0,1),n.B()))){var r=new g.l;r.L(p);r.X(this.sb,this.sb);q.vp(r);q=this.zn(n);p=1;for(n=q.ea();p<n;p++)m.addPath(q,p,!0)}}else if(0<
n){if(!(p.S()+this.ra<=2*this.sb||p.da()+this.ra<=2*this.sb||(q=n=new g.Ua(f.description),this.An(this.Y,h,q,!0,-1),n.B())))for(r=new g.l,q.yc(r),r.X(this.sb,this.sb),q.vp(r),q=this.zn(n),p=1,n=q.ea();p<n;p++)m.addPath(q,p,!0)}else for(q=n=new g.Ua(f.description),this.An(this.Y,h,q,!0,-1),q=this.zn(n),p=0,n=q.ea();p<n;p++)m.addPath(q,p,!0)}if(0<this.La)return 1<m.ea()?m=this.zn(m):e.jx(m);f=new g.l;m.yc(f);if(m.B())return e.jx(m);f.X(this.sb,this.sb);m.vp(f);m=this.zn(m);f=new g.Ea(m.description);
p=1;for(n=m.ea();p<n;p++)f.addPath(m,p,!1);return e.jx(f)};e.prototype.HN=function(){return this.Hu(this.Y)};e.prototype.Hu=function(f){var h=new g.Ea(this.Y.description);this.zu(h,f);return this.gX(h)};e.prototype.GN=function(){var f=new c(this.Y,this.La,this.Nj,this.vk,this.Fq,this.Vb);return g.Hh.local().W(f,this.Nj,this.Vb).next()};e.prototype.DN=function(){var f=new g.Ea(this.Y.description);if(0>=this.La){if(0==this.La)f.bd(this.Y,!1);else{var h=new g.Gh;this.Y.dn(h);h.X(this.La,this.La);f.bd(h,
!1)}return f}f.bd(this.Y,!1);this.Y=f;return this.bE(f,0)};e.prototype.bE=function(f,h){this.dv();var k=new g.Ea(f.description),m=new g.h,n=new g.h,p=new g.h,q=new g.h,r=new g.h,t=new g.h,v=new g.h,M=new g.h,W=f.Ka(h),U=f.Ca(h),X=0;for(h=f.Ka(h);X<h;X++){f.D(U+X,n);f.D(U+(X+1)%W,q);f.D(U+(X+2)%W,t);v.vc(q,n);if(0==v.length())throw g.i.Ra();v.Iv();v.normalize();v.scale(this.sb);m.add(v,n);p.add(v,q);0==X?k.Mt(m):k.Di(m);k.Di(p);M.vc(t,q);if(0==M.length())throw g.i.Ra();M.Iv();M.normalize();M.scale(this.sb);
r.add(M,q);this.yD(k,q,p,r,!1)}return e.jx(k)};e.prototype.cE=function(f,h,k){this.dv();if(1>f.Ka(h))return null;if(this.xG(f,h)&&0<this.La){k=new g.Ta;f.we(f.Ca(h),k);var m=new g.l;f.Sj(h,m);k.Db(m.tf());return this.Hu(k)}m=new g.Ua(f.description);if(f.On(h))this.An(f,h,m,k,1),this.An(f,h,m,k,-1);else{var n=new g.Ua(f.description);n.addPath(f,h,!1);n.Fr(f,h,0,f.sv(h),!1);this.An(n,0,m,k,1)}return this.zn(m)};e.prototype.Zq=function(){this.Zs++;if(0==this.Zs%1024&&null!=this.Vb&&!this.Vb.progress(-1,
-1))throw g.i.gu("user_canceled");};e.prototype.zn=function(f){return g.Hg.Mk(f,this.ct,!0,!0,this.Vb)};e.prototype.iE=function(){if(0==this.vk)return this.Fq;var f=1-this.vk*Math.abs(this.Lv);f=-1>f?4:2*Math.PI/Math.acos(f)+.5;4>f?f=4:f>this.Fq&&(f=this.Fq);return g.P.truncate(f)};e.prototype.yD=function(f,h,k,m,n){this.dv();var p=new g.h;p.vc(k,h);p.scale(this.Lv);var q=new g.h;q.vc(m,h);q.scale(this.Lv);p=Math.atan2(p.y,p.x)/this.iA;0>p&&(p=this.Jd.length+p);p=this.Jd.length-p;q=Math.atan2(q.y,
q.x)/this.iA;0>q&&(q=this.Jd.length+q);q=this.Jd.length-q;q<p&&(q+=this.Jd.length);var r=g.P.truncate(q);q=g.P.truncate(Math.ceil(p));p=new g.h;p.N(this.Jd[q%this.Jd.length]);p.Ct(this.sb,h);var t=10*this.ra;p.sub(k);p.length()<t&&(q+=1);p.N(this.Jd[r%this.Jd.length]);p.Ct(this.sb,h);p.sub(m);p.length()<t&&--r;k=r-q;k++;r=0;for(q%=this.Jd.length;r<k;r++,q=(q+1)%this.Jd.length)p.N(this.Jd[q]),p.Ct(this.sb,h),f.Di(p),this.Zq();n&&f.Di(m)};e.prototype.An=function(f,h,k,m,n){var p=new g.hd,q=p.eN(f,h);
p.Ip(this.nA,!1,!1);if(2>p.I(q)){if(0>n)return 1;n=f;p=new g.Ta;n.we(n.Ca(h),p);this.zu(k,p);return 1}var r=p.Oa(p.Ya(p.Ob(q))),t=new g.Ed;t.gg(-r.x,-r.y);p.Pc(t);if(m&&(this.lQ(p,q,n),2>p.I(q))){if(0>n)return 1;n=f;p=new g.Ta;n.we(n.Ca(h),p);this.zu(k,p);return 1}this.$d.length=0;var v=p.Ob(q);h=p.Ya(v);var M=1==n?p.Na(h):p.V(h);f=1==n?p.V(h):p.Na(h);var W=!0;m=new g.h;q=new g.h;var U=new g.h,X=new g.h,ia=new g.h,ja=new g.h,ka=new g.h,sa=new g.h,ta=new g.h,za=new g.h,ya=this.sb;v=p.Ka(v);for(var Ia=
0;Ia<v;Ia++)p.D(f,q),W&&(p.D(h,m),p.D(M,U),sa.vc(m,U),sa.normalize(),za.EG(sa),za.scale(ya),X.add(za,m)),ka.vc(q,m),ka.normalize(),ta.EG(ka),ta.scale(ya),ia.add(m,ta),M=sa.xi(ka),W=sa.Rh(ka),0>M||0>W&&0==M?this.$d.push(l.Su(X,ia,m,2,this.$d.length+1,this.$d.length-1)):X.rb(ia)||(this.$d.push(l.construct(X,m,this.$d.length+1,this.$d.length-1,"dummy")),this.$d.push(l.construct(m,ia,this.$d.length+1,this.$d.length-1,"dummy"))),ja.add(q,ta),this.$d.push(l.Su(ia,ja,m,1,this.$d.length+1,this.$d.length-
1)),X.N(ja),za.N(ta),U.N(m),m.N(q),sa.N(ka),M=h,h=f,W=!1,f=1==n?p.V(h):p.Na(h);this.$d[this.$d.length-1].rh=0;this.$d[0].th=this.$d.length-1;this.OV(k);t.gg(r.x,r.y);k.QD(t,k.ea()-1);return 1};e.prototype.OV=function(f){for(var h=this.rO(),k=!0,m=h+1,n=h;m!=h;n=m){var p=this.$d[n];m=-1!=p.rh?p.rh:(n+1)%this.$d.length;0!=p.Do&&(k&&f.Mt(p.Km),2==p.Do?this.yD(f,p.bw,p.Km,p.Xm,!0):f.Di(p.Xm),k=!1)}};e.prototype.rO=function(){null==this.Ls&&(this.Ls=[null,null,null,null,null,null,null,null,null]);for(var f=
0,h=0,k=this.$d.length;h<k;){var m=this.$d[h];if(0!=(m.Do&3)){f=h;break}h=m.rh}k=f+1;for(h=f;k!=f;h=k){m=this.$d[h];k=m.rh;for(var n=1,p=null;k!=h;){p=this.$d[k];if(0!=(p.Do&3))break;k=p.rh;n++}1!=n&&1==(m.Do&p.Do)&&(null==this.Ms&&(this.Ms=new g.zb,this.mw=new g.zb),this.Ms.Ec(m.Km),this.Ms.Rc(m.Xm),this.mw.Ec(p.Km),this.mw.Rc(p.Xm),1==this.Ms.Fa(this.mw,this.Ls,null,null,this.ct)&&(m.Xm.N(this.Ls[0]),p.Km.N(this.Ls[0]),m.rh=k,p.th=h))}return f};e.prototype.Gv=function(f,h,k){var m=new g.h;m.vc(k,
f);k=m.length();k=this.sb*this.sb-k*k*.25;if(0<k){k=Math.sqrt(k);m.normalize();m.cr();var n=new g.h;n.vc(h,f);if(n.Rh(m)+k>=this.sb)return!0}return!1};e.prototype.lQ=function(f,h,k){for(var m=0;1>m;m++){var n=!1,p=f.Ob(h),q=f.Ka(p);if(0==q)break;var r=q;if(3>q)break;!f.ec(p)&&(r=q-1);p=f.Ya(p);q=0<k?f.Na(p):f.V(p);for(var t=0<k?f.V(p):f.Na(p),v=q,M=!0,W=new g.h,U=new g.h,X=new g.h,ia=new g.h,ja=new g.h,ka=g.h.construct(0,0),sa=new g.h,ta=new g.h,za=new g.h,ya=new g.h,Ia=this.sb,Ga=0,Oa=0;Oa<r;){f.D(t,
U);M&&(f.D(p,W),f.D(q,X),v=q);ta.vc(W,X);ta.normalize();sa.vc(U,W);sa.normalize();if(v==t)break;var Pa=ta.xi(sa),Ya=ta.Rh(sa),ab=!0;0>Pa||0>Ya&&0==Pa||!this.Gv(X,W,U)||(ka.N(U),ab=!1,++Ga,n=!0);if(ab){if(0<Ga)for(;;){Pa=0<k?f.Na(v):f.V(v);if(Pa==p)break;f.D(Pa,ia);if(this.Gv(ia,X,ka))X.N(ia),v=Pa,ab=!1,++Ga;else{Pa!=t&&this.Gv(ia,X,U)&&this.Gv(ia,W,U)&&(X.N(ia),v=Pa,ab=!1,++Ga);break}}if(!ab)continue;if(0<Ga){v=0<k?f.Na(q):f.V(q);for(M=1;M<Ga;M++)ab=0<k?f.Na(v):f.V(v),f.pd(v,!0),v=ab;za.vc(W,X);Ga=
za.length();Ga=Ia*Ia-Ga*Ga*.25;Ga=Math.sqrt(Ga);Ia-Ga>.5*this.vk?(ja.add(X,W),ja.scale(.5),za.normalize(),za.cr(),ya.N(za),ya.scale(Ia-Ga),ja.add(ya),f.mf(q,ja)):f.pd(q,!0);Ga=0}X.N(W);v=p}W.N(U);q=p;p=t;t=0<k?f.V(p):f.Na(p);Oa++;M=!1}if(0<Ga){v=0<k?f.Na(q):f.V(q);for(M=1;M<Ga;M++)ab=0<k?f.Na(v):f.V(v),f.pd(v,!0),v=ab;ja.add(X,W);ja.scale(.5);za.vc(W,X);Ga=za.length();Ga=Ia*Ia-Ga*Ga*.25;Ga=Math.sqrt(Ga);za.normalize();za.cr();ya.N(za);ya.scale(Ia-Ga);ja.add(ya);f.mf(q,ja)}f.Ip(this.nA,!1,!1);if(!n)break}};
e.prototype.xG=function(f,h){if(1==f.Ka(h))return!0;var k=new g.l;f.Sj(h,k);return Math.max(k.S(),k.da())<.5*this.vk?!0:!1};e.prototype.wG=function(f){var h=new g.l;f.A(h);return Math.max(h.S(),h.da())<.5*this.vk?!0:!1};e.prototype.MV=function(f){f=g.wC.local().W(f,.25*this.vk,!1,this.Vb);for(var h=0,k=0,m=f.ea();k<m;k++)h=Math.max(f.Ka(k),h);if(32>h)return this.qq=!1,f;this.qq=!0;return g.Hg.Mk(f,this.ct,!1,!0,this.Vb)};e.prototype.zu=function(f,h){h=h.D();if(null!=this.Jd&&0!==this.Jd.length){var k=
new g.h;k.N(this.Jd[0]);k.Ct(this.sb,h);f.Mt(k);for(var m=1,n=this.Jd.length;m<n;m++)k.N(this.Jd[m]),k.Ct(this.sb,h),f.Di(k)}else{m=this.iE();k=g.P.truncate((m+3)/4);m=.5*Math.PI/k;n=Math.cos(m);for(var p=Math.sin(m),q=new g.h,r=3;0<=r;r--){q.na(0,this.sb);switch(r){case 0:for(m=0;m<k;m++)f.zj(q.x+h.x,q.y+h.y),q.Bt(n,p);break;case 1:for(m=0;m<k;m++)f.zj(-q.y+h.x,q.x+h.y),q.Bt(n,p);break;case 2:for(m=0;m<k;m++)f.zj(-q.x+h.x,-q.y+h.y),q.Bt(n,p);break;default:for(f.qx(q.y+h.x,-q.x+h.y),m=1;m<k;m++)q.Bt(n,
p),f.zj(q.y+h.x,-q.x+h.y)}this.Zq()}}};e.jx=function(f){f.Dh(1,0);return f};e.prototype.gX=function(f){f.Dh(2,this.ra);f.hm();return f};return e}();g.zK=d})(L||(L={}));(function(g){var u=function(){function l(c){this.Da=c;this.g=new g.hd;this.ed=new g.ja(0)}l.prototype.Mh=function(c,a,b){switch(a){case 0:if(c.v<b&&c.C<=b)break;else return c.v>=b?1:-1;case 1:if(c.G<b&&c.H<=b)break;else return c.G>=b?1:-1;case 2:if(c.v>=b&&c.C>b)break;else return c.C<=b?1:-1;case 3:if(!(c.G>=b&&c.H>b))return c.H<=b?
1:-1}return 0};l.prototype.uy=function(c,a){return 1736==c.K()?this.wy(c,a):this.xy(c)};l.prototype.wy=function(c,a){if(0==this.Da.S()||0==this.Da.da())return c.Ja();var b=new g.l;c.yc(b);this.Y=this.g.Ib(c);var d=new g.l,e=new g.l,f=new g.h,h=new g.h,k=[0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0];new g.hg;var n=new g.zb,p=new g.ja(0);p.Jb(Math.min(100,c.I()));for(var q=!1,r=0;!q&&4>r;r++){var t=!1,v=0!=(r&1),M=0;switch(r){case 0:M=this.Da.v;t=b.v<=M&&b.C>=M;break;case 1:M=this.Da.G;t=b.G<=M&&b.H>=M;
break;case 2:M=this.Da.C;t=b.v<=M&&b.C>=M;break;case 3:M=this.Da.H,t=b.G<=M&&b.H>=M}if(t)for(q=!0,t=this.g.Ob(this.Y);-1!=t;){var W=-1,U=-1,X=this.g.Ya(t),ia=X;do{var ja=this.g.cc(ia);null==ja&&(ja=n,this.g.D(ia,f),ja.Ec(f),this.g.D(this.g.V(ia),h),ja.Rc(h));ja.A(d);var ka=this.Mh(d,r,M),sa=0,ta=-1;if(-1==ka){ja=ja.fq(v,M,k,m);sa=0<ja?this.g.Wl(ia,m,ja):0;sa+=1;var za=ia,ya=this.g.V(za);for(ja=0;ja<sa;ja++){this.g.D(za,f);this.g.D(ya,h);ta=this.g.cc(za);null==ta&&(ta=n,ta.Ec(f),ta.Rc(h));ta.A(e);
ta=this.Mh(e,r,M);if(-1==ta){if(v)ta=Math.abs(f.y-M),Ia=Math.abs(h.y-M),ta<Ia?(f.y=M,this.g.mf(za,f)):(h.y=M,this.g.mf(ya,h));else{ta=Math.abs(f.x-M);var Ia=Math.abs(h.x-M);ta<Ia?(f.x=M,this.g.mf(za,f)):(h.x=M,this.g.mf(ya,h))}ta=this.g.cc(za);null==ta&&(ta=n,ta.Ec(f),ta.Rc(h));ta.A(e);ta=this.Mh(e,r,M)}Ia=W;W=ta;-1==U&&(U=W);0==Ia&&1==W||1==Ia&&0==W||0!=Ia||0!=W||p.add(za);1==W&&(q=!1);ta=za=ya;ya=this.g.V(ya)}}0==sa&&(Ia=W,W=ka,-1==U&&(U=W),0==Ia&&1==W||1==Ia&&0==W||0!=Ia||0!=W||p.add(ia),1==W&&
(q=!1),ta=this.g.V(ia));ia=ta}while(ia!=X);0==U&&0==W&&p.add(X);ja=0;for(W=p.size;ja<W;ja++)U=p.get(ja),this.g.pd(U,!1);p.clear(!1);t=3>this.g.Ka(t)?this.g.ar(t):this.g.Sb(t)}}if(q)return c.Ja();this.zB();0<a&&this.Hy(a);return this.g.Ke(this.Y)};l.prototype.xy=function(c){var a=new g.l,b=new g.l,d=[0,0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0,0],f=new g.hg,h=c,k=new g.l;c.yc(k);for(var m=0;4>m;m++){var n=!1,p=0!=(m&1),q=0;switch(m){case 0:q=this.Da.v;n=k.v<=q&&k.C>=q;break;case 1:q=this.Da.G;n=k.G<=q&&
k.H>=q;break;case 2:q=this.Da.C;n=k.v<=q&&k.C>=q;break;case 3:q=this.Da.H,n=k.G<=q&&k.H>=q}if(n){n=h;h=c.Ja();n=n.Ha();n.$i();for(var r,t=new g.h;n.ab();)for(var v,M=!0;n.Ia();){var W=n.ia();W.A(a);var U=this.Mh(a,m,q);if(-1==U){if(U=W.fq(p,q,d,e),0<U){var X=0;r=W.ac();for(var ia=0;ia<=U;ia++)if(v=ia<U?e[ia]:1,X!=v){W.bh(X,v,f);var ja=f.get();ja.Ec(r);ia<U&&(p?(t.x=d[ia],t.y=q):(t.x=q,t.y=d[ia]),ja.Rc(t));ja.A(b);var ka=this.Mh(b,m,q);if(-1==ka){r=ja.ac();X=ja.xc();if(p)ka=Math.abs(r.y-q),sa=Math.abs(X.y-
q),ka<sa?(r.y=q,ja.Ec(r)):(X.y=q,ja.Rc(X));else{ka=Math.abs(r.x-q);var sa=Math.abs(X.x-q);ka<sa?(r.x=q,ja.Ec(r)):(X.x=q,ja.Rc(X))}ja.A(b);ka=this.Mh(b,m,q)}r=ja.xc();X=v;v=ka;1==v?(h.oc(ja,M),M=!1):M=!0}}}else v=U,1==v?(h.oc(W,M),M=!1):M=!0}}}return h};l.prototype.zB=function(){this.ki=-1;this.Xl(!1,this.Da.v);this.Xl(!1,this.Da.C);this.Xl(!0,this.Da.G);this.Xl(!0,this.Da.H);this.ed.resize(0);this.ed.Jb(100);this.ki=this.g.Hd();for(var c=new g.h,a=this.g.Ob(this.Y);-1!=a;a=this.g.Sb(a))for(var b=
this.g.Ya(a),d=0,e=this.g.Ka(a);d<e;d++,b=this.g.V(b))if(this.g.D(b,c),this.Da.v==c.x||this.Da.C==c.x||this.Da.G==c.y||this.Da.H==c.y)this.g.Sa(b,this.ki,this.ed.size),this.ed.add(b);this.Pl(!1,this.Da.v);this.Pl(!1,this.Da.C);this.Pl(!0,this.Da.G);this.Pl(!0,this.Da.H);this.Oy()};l.prototype.Hy=function(c){for(var a=new g.h,b=new g.h,d=g.P.lg(2048,0),e=this.g.Ob(this.Y);-1!=e;e=this.g.Sb(e)){var f=this.g.Ya(e),h=f;do{var k=this.g.V(h);this.g.D(h,a);var m=-1;a.x==this.Da.v?(this.g.D(k,b),b.x==this.Da.v&&
(m=1)):a.x==this.Da.C&&(this.g.D(k,b),b.x==this.Da.C&&(m=1));a.y==this.Da.G?(this.g.D(k,b),b.y==this.Da.G&&(m=0)):a.y==this.Da.H&&(this.g.D(k,b),b.y==this.Da.H&&(m=0));if(-1!=m&&(m=g.h.ub(a,b),m=g.P.truncate(Math.min(Math.ceil(m/c),2048)),!(1>=m))){for(var n=1;n<m;n++)d[n-1]=1*n/m;this.g.Wl(h,d,m-1)}h=k}while(h!=f)}};l.prototype.Xl=function(c,a){var b=this.g.Hd(),d=new g.h,e=new g.ja(0);e.Jb(100);for(var f=this.g.Ob(this.Y);-1!=f;f=this.g.Sb(f))for(var h=this.g.Ya(f),k=0,m=this.g.Ka(f);k<m;k++){var n=
this.g.V(h);this.g.D(h,d);if(c?d.y==a:d.x==a)if(this.g.D(n,d),c?d.y==a:d.x==a)1!=this.g.Qa(h,b)&&(e.add(h),this.g.Sa(h,b,1)),1!=this.g.Qa(n,b)&&(e.add(n),this.g.Sa(n,b,1));h=n}this.g.Ud(b);if(!(3>e.size)){var p=this;e.Wd(0,e.size,function(ka,sa){return p.Nh(ka,sa)});b=new g.h;f=new g.h;h=new g.h;f.Sc();var q=-1;k=new g.ja(0);m=new g.ja(0);n=this.g.Hd();for(var r=this.g.Hd(),t=0,v=e.size;t<v;t++){var M=e.get(t);this.g.D(M,d);if(!d.rb(f)){if(-1!=q){for(var W=q;W<t;W++){q=e.get(W);var U=this.g.V(q);
M=this.g.Na(q);var X=!1;0>this.Nh(q,U)&&(this.g.D(U,b),c?b.y==a:b.x==a)&&(k.add(q),X=!0,this.g.Sa(q,r,1));0>this.Nh(q,M)&&(this.g.D(M,b),c?b.y==a:b.x==a)&&(X||k.add(q),this.g.Sa(q,n,1))}W=0;for(X=k.size;W<X;W++){q=k.get(W);M=this.g.Qa(q,n);U=this.g.Qa(q,r);if(1==M){M=this.g.Na(q);this.g.D(M,h);var ia=[0];ia[0]=0;if(!h.rb(d)){var ja=g.h.ub(f,h);ia[0]=g.h.ub(h,d)/ja;0==ia[0]?ia[0]=2.220446049250313E-16:1==ia[0]&&(ia[0]=.9999999999999998);this.g.Wl(M,ia,1);M=this.g.Na(q);this.g.mf(M,d);m.add(M);this.g.Sa(M,
n,1);this.g.Sa(M,r,-1)}}1==U&&(U=this.g.V(q),this.g.D(U,h),ia=[0],ia[0]=0,h.rb(d)||(ja=g.h.ub(f,h),ia[0]=g.h.ub(f,d)/ja,0==ia[0]?ia[0]=2.220446049250313E-16:1==ia[0]&&(ia[0]=.9999999999999998),this.g.Wl(q,ia,1),M=this.g.V(q),this.g.mf(M,d),m.add(M),this.g.Sa(M,n,-1),this.g.Sa(M,r,1)))}q=k;k=m;m=q;m.clear(!1)}q=t;f.N(d)}}this.g.Ud(n);this.g.Ud(r)}};l.prototype.Pl=function(c,a){var b=new g.h,d=new g.ja(0);d.Jb(100);for(var e=this.g.Hd(),f=0,h=this.ed.size;f<h;f++){var k=this.ed.get(f);if(-1!=k){var m=
this.g.V(k);this.g.D(k,b);if(c?b.y==a:b.x==a)if(this.g.D(m,b),c?b.y==a:b.x==a)-2!=this.g.Qa(k,e)&&(d.add(k),this.g.Sa(k,e,-2)),-2!=this.g.Qa(m,e)&&(d.add(m),this.g.Sa(m,e,-2))}}if(0!=d.size){var n=this;d.Wd(0,d.size,function(sa,ta){return n.Nh(sa,ta)});f=0;for(h=d.size;f<h;f++){var p=d.get(f);this.g.Sa(p,e,f)}k=new g.h;m=new g.h;m.Sc();var q=-1;f=0;for(h=d.size;f<h;f++)if(p=d.get(f),-1!=p&&(this.g.D(p,b),!b.rb(m))){if(-1!=q)for(;;){p=!1;for(var r=1<f-q?f-1:f,t=q;t<r;t++){var v=d.get(t);if(-1!=v){var M=
-1,W=this.g.V(v);0>this.Nh(v,W)&&(this.g.D(W,k),c?k.y==a:k.x==a)&&(M=W);W=-1;var U=this.g.Na(v);0>this.Nh(v,U)&&(this.g.D(U,k),c?k.y==a:k.x==a)&&(W=U);if(-1!=M&&-1!=W)this.Lh(v,d,e),this.g.pd(v,!1),this.Lh(M,d,e),this.g.pd(M,!1),p=!0;else if(-1!=M||-1!=W){for(U=t+1;U<f;U++){var X=d.get(U);if(-1!=X){var ia=this.g.V(X),ja=-1;0>this.Nh(X,ia)&&(this.g.D(ia,k),c?k.y==a:k.x==a)&&(ja=ia);ia=this.g.Na(X);var ka=-1;0>this.Nh(X,ia)&&(this.g.D(ia,k),c?k.y==a:k.x==a)&&(ka=ia);if(-1!=ja&&-1!=ka){this.Lh(X,d,e);
this.g.pd(X,!1);this.Lh(ja,d,e);this.g.pd(ja,!1);p=!0;break}if(-1!=M&&-1!=ka){this.zt(d,v,M,X,ka,e);p=!0;break}else if(-1!=W&&-1!=ja){this.zt(d,X,ja,v,W,e);p=!0;break}}}if(p)break}}}if(!p)break}q=f;m.N(b)}}this.g.Ud(e)};l.prototype.Lh=function(c,a,b){b=this.g.Qa(c,b);a.set(b,-1);b=this.g.Qa(c,this.ki);this.ed.set(b,-1);a=this.g.cd(c);-1!=a&&this.g.Ya(a)==c&&(this.g.Kf(a,-1),this.g.Xg(a,-1))};l.prototype.zt=function(c,a,b,d,e,f){this.g.Cc(a,d);this.g.Dc(d,a);this.g.Dc(b,e);this.g.Cc(e,b);this.Lh(d,
c,f);this.g.ni(d,!1);this.Lh(e,c,f);this.g.ni(e,!0)};l.prototype.Oy=function(){for(var c=0,a=this.ed.size;c<a;c++){var b=this.ed.get(c);-1!=b&&this.g.bj(b,-1)}for(var d=0,e=0,f=this.g.Ob(this.Y);-1!=f;){var h=this.g.Ya(f);if(-1==h||f!=this.g.cd(h)){var k=f;f=this.g.Sb(f);this.g.Kf(k,-1);this.g.br(k)}else{b=h;k=0;do this.g.bj(b,f),k++,b=this.g.V(b);while(b!=h);2>=k?(b=this.g.Qa(h,this.ki),this.ed.set(b,-1),h=this.g.pd(h,!1),2==k&&(b=this.g.Qa(h,this.ki),this.ed.set(b,-1),this.g.pd(h,!1)),k=f,f=this.g.Sb(f),
this.g.Kf(k,-1),this.g.br(k)):(this.g.ep(f,!1),this.g.Xg(f,this.g.Na(h)),this.g.Wj(f,k),e+=k,d++,f=this.g.Sb(f))}}c=0;for(a=this.ed.size;c<a;c++)if(b=this.ed.get(c),-1!=b&&(f=this.g.cd(b),-1==f)){f=this.g.wf(this.Y,-1);k=0;h=b;do this.g.bj(b,f),k++,b=this.g.V(b);while(b!=h);2>=k?(b=this.g.Qa(h,this.ki),this.ed.set(b,-1),h=this.g.pd(h,!1),2==k&&(b=this.g.Qa(h,this.ki),0<=b&&this.ed.set(b,-1),this.g.pd(h,!1)),k=f,this.g.Kf(k,-1),this.g.br(k)):(this.g.mn(f,!0),this.g.Wj(f,k),this.g.Kf(f,h),this.g.Xg(f,
this.g.Na(h)),this.g.ep(f,!1),e+=k,d++)}this.g.Tl(this.Y,d);this.g.Uj(this.Y,e);c=0;for(a=this.g.ld;-1!=a;a=this.g.ve(a))c+=this.g.I(a);this.g.VB(c)};l.vy=function(c,a,b){return(new l(a)).uy(c,b)};l.clip=function(c,a,b,d){if(c.B())return c;if(a.B())return c.Ja();b=c.K();if(33==b)return d=c.D(),a.contains(d)?c:c.Ja();if(197==b)return d=new g.l,c.A(d),d.Fa(a)?(a=new g.Gh,c.copyTo(a),a.Yo(d),a):c.Ja();var e=new g.l;c.yc(e);if(a.contains(e))return c;if(!a.isIntersecting(e))return c.Ja();e=c.Cb;if(null!=
e&&(e=e.Fk,null!=e)){e=e.So(a);if(1==e){if(1736!=b)throw g.i.Ra();c=new g.Ea(c.description);c.vp(a);return c}if(0==e)return c.Ja()}switch(b){case 550:b=null;e=c.I();for(var f=c.vb(0),h=0,k=0;k<e;k++)d=new g.h,f.uc(2*k,d),a.contains(d)||(0==h&&(b=c.Ja()),h<k&&b.Gd(c,h,k),h=k+1);0<h&&b.Gd(c,h,e);return 0==h?c:b;case 1736:case 1607:return l.vy(c,a,d);default:throw g.i.Ra();}};l.prototype.Nh=function(c,a){var b=new g.h;this.g.D(c,b);c=new g.h;this.g.D(a,c);return b.compare(c)};return l}();g.Vd=u})(L||
(L={}));(function(g){var u=function(){function l(c,a){this.Da=c;this.g=new g.hd;this.ed=new g.ja(0);this.nd=a}l.prototype.Mh=function(c,a,b){switch(a){case 0:if(c.v<b&&c.C<=b)break;else return c.v>=b?1:-1;case 1:if(c.G<b&&c.H<=b)break;else return c.G>=b?1:-1;case 2:if(c.v>=b&&c.C>b)break;else return c.C<=b?1:-1;case 3:if(!(c.G>=b&&c.H>b))return c.H<=b?1:-1}return 0};l.prototype.uy=function(c,a){return 1736==c.K()?this.wy(c,a):this.xy(c)};l.prototype.wy=function(c,a){if(0==this.Da.S()||0==this.Da.da())return c.Ja();
var b=new g.l;c.yc(b);this.Y=this.g.Ib(c);var d=new g.l,e=new g.l,f=new g.h,h=new g.h,k=[0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0],n=new g.zb,p=new g.ja(0);p.Jb(256);for(var q=!1,r=0;!q&&4>r;r++){var t=!1,v=0!=(r&1),M=0;switch(r){case 0:M=this.Da.v;t=b.v<=M&&b.C>=M;break;case 1:M=this.Da.G;t=b.G<=M&&b.H>=M;break;case 2:M=this.Da.C;t=b.v<=M&&b.C>=M;break;case 3:M=this.Da.H,t=b.G<=M&&b.H>=M}if(t)for(q=!0,t=this.g.Ob(this.Y);-1!=t;){var W=!0,U=-1,X=-1,ia=this.g.Ya(t),ja=ia;do{var ka=this.g.cc(ja);null==
ka&&(ka=n,this.g.D(ja,f),ka.Ec(f),this.g.D(this.g.V(ja),h),ka.Rc(h));ka.A(d);var sa=this.Mh(d,r,M),ta=0,za=-1;if(-1==sa){ka=ka.fq(v,M,k,m);ta=0<ka?this.g.zX(ja,m,ka):0;ta+=1;var ya=ja,Ia=this.g.V(ya);for(ka=0;ka<ta;ka++){this.g.D(ya,f);this.g.D(Ia,h);za=this.g.cc(ya);null==za&&(za=n,za.Ec(f),za.Rc(h));za.A(e);za=this.Mh(e,r,M);if(-1==za){if(v)za=Math.abs(f.y-M),Ga=Math.abs(h.y-M),za<Ga?(f.y=M,this.g.mf(ya,f)):(h.y=M,this.g.mf(Ia,h));else{za=Math.abs(f.x-M);var Ga=Math.abs(h.x-M);za<Ga?(f.x=M,this.g.mf(ya,
f)):(h.x=M,this.g.mf(Ia,h))}za=this.g.cc(ya);null==za&&(za=n,za.Ec(f),za.Rc(h));za.A(e);za=this.Mh(e,r,M)}Ga=U;U=za;-1==X&&(X=U);0==Ga&&1==U||1==Ga&&0==U||0!=Ga||0!=U||p.add(ya);1==U&&(W=q=!1);za=ya=Ia;Ia=this.g.V(Ia)}}0==ta&&(Ga=U,U=sa,-1==X&&(X=U),0==Ga&&1==U||1==Ga&&0==U||0!=Ga||0!=U||p.add(ja),1==U&&(W=q=!1),za=this.g.V(ja));ja=za;if(256<=p.size){ka=1;for(sa=p.size-1;ka<sa;ka++)ta=p.get(ka),this.g.pd(ta,!1);p.set(1,p.Gc());p.Ch(2)}}while(ja!=ia);if(!W)for(0==X&&0==U&&p.add(ia),ka=0,sa=p.size;ka<
sa;ka++)ta=p.get(ka),this.g.pd(ta,!1);p.clear(!1);t=W||0==this.g.Ka(t)?this.g.ar(t):this.g.Sb(t)}}if(q)return c.Ja();this.zB();0<a&&this.Hy(a);return this.g.Ke(this.Y)};l.prototype.xy=function(c){var a=new g.l,b=new g.l,d=[0,0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0,0],f=new g.hg,h=c,k=new g.l;c.yc(k);for(var m=new g.h,n=new g.h,p=null,q=null,r=0;4>r;r++){var t=!1,v=0!=(r&1),M=0;switch(r){case 0:M=this.Da.v;t=k.v<=M&&k.C>=M;break;case 1:M=this.Da.G;t=k.G<=M&&k.H>=M;break;case 2:M=this.Da.C;t=k.v<=M&&k.C>=
M;break;case 3:M=this.Da.H,t=k.G<=M&&k.H>=M}if(t)for(t=h,h=c.Ja(),t=t.Ha(),t.$i();t.ab();)for(var W,U=!0;t.Ia();){var X=t.ia();X.A(a);var ia=this.Mh(a,r,M);if(-1==ia){if(ia=X.fq(v,M,d,e),0<ia){var ja=0;X.$p(m);for(var ka=0;ka<=ia;ka++)if(W=ka<ia?e[ka]:1,ja!=W){X.bh(ja,W,f);var sa=f.get();sa.Ec(m);ka<ia&&(v?(n.x=d[ka],n.y=M):(n.x=M,n.y=d[ka]),sa.Rc(n));sa.A(b);var ta=this.Mh(b,r,M);-1==ta&&(null==p&&(p=new g.h),null==q&&(q=new g.h),sa.$p(p),sa.Ur(q),v?(ja=Math.abs(p.y-M),ta=Math.abs(q.y-M),ja<ta?(p.y=
M,sa.Ec(p)):(q.y=M,sa.Rc(q))):(ja=Math.abs(p.x-M),ta=Math.abs(q.x-M),ja<ta?(p.x=M,sa.Ec(p)):(q.x=M,sa.Rc(q))),sa.A(b),ta=this.Mh(b,r,M));sa.Ur(m);ja=W;W=ta;1==W?(h.oc(sa,U),U=!1):U=!0}}}else W=ia,1==W?(h.oc(X,U),U=!1):U=!0}}return h};l.prototype.zB=function(){this.ki=-1;this.Xl(!1,this.Da.v);this.Xl(!1,this.Da.C);this.Xl(!0,this.Da.G);this.Xl(!0,this.Da.H);this.ed.resize(0);this.ed.Jb(100);this.ki=this.g.Hd();for(var c=new g.h,a=this.g.Ob(this.Y);-1!=a;a=this.g.Sb(a))for(var b=this.g.Ya(a),d=0,e=
this.g.Ka(a);d<e;d++,b=this.g.V(b))if(this.g.D(b,c),this.Da.v==c.x||this.Da.C==c.x||this.Da.G==c.y||this.Da.H==c.y)this.g.Sa(b,this.ki,this.ed.size),this.ed.add(b);this.Pl(!1,this.Da.v);this.Pl(!1,this.Da.C);this.Pl(!0,this.Da.G);this.Pl(!0,this.Da.H);this.Oy()};l.prototype.Hy=function(c){for(var a=new g.h,b=new g.h,d=null,e=null,f=g.P.lg(2048,0),h=this.g.Ob(this.Y);-1!=h;h=this.g.Sb(h)){var k=this.g.Ya(h),m=k;do{var n=this.g.V(m);this.g.D(m,a);var p=-1;a.x==this.Da.v?(this.g.D(n,b),b.x==this.Da.v&&
(p=1)):a.x==this.Da.C&&(this.g.D(n,b),b.x==this.Da.C&&(p=1));a.y==this.Da.G?(this.g.D(n,b),b.y==this.Da.G&&(p=0)):a.y==this.Da.H&&(this.g.D(n,b),b.y==this.Da.H&&(p=0));if(-1!=p){null==d&&(d=new g.h);null==e&&(e=new g.h);d.N(a);e.na(0,0);if(0==p){var q=a.x-this.Da.v;e.x=g.mc.sign(b.x-a.x);d.x=c*g.mc.Dn(Math.floor(Math.abs(q/c)),q)+this.Da.v;0>d.x&&(d.x+=c)}else q=a.y-this.Da.G,e.y=g.mc.sign(b.y-a.y),d.y=c*g.mc.Dn(Math.floor(Math.abs(q/c)),q)+this.Da.G,0>d.y&&(d.y+=c);q=0!=p?b.y-a.y:b.x-a.x;var r=Math.abs(q);
if(65536<r/c)throw g.i.ga("internal error");if(0<r){r=g.P.truncate(r/c)+2;f.length<r&&(f=g.P.lg(r));for(var t=r=0;;t++){var v=new g.h;v.x=d.x+e.x*t*c;v.y=d.y+e.y*t*c;v=(0!=p?v.y-a.y:v.x-a.x)/q;if(1<=v)break;0>=v||(f[r]=v,r++)}0!=r&&this.g.Wl(m,f,r)}}m=n}while(m!=k)}};l.prototype.Xl=function(c,a){for(var b=-1,d=new g.h,e=null,f=this.g.Ob(this.Y);-1!=f;f=this.g.Sb(f))for(var h=this.g.Ya(f),k=0,m=this.g.Ka(f);k<m;k++){var n=this.g.V(h);this.g.D(h,d);if(c?d.y==a:d.x==a)if(this.g.D(n,d),c?d.y==a:d.x==
a)-1==b&&(b=this.g.Hd()),null==e&&(e=new g.ja(0),e.Jb(100)),1!=this.g.Qa(h,b)&&(e.add(h),this.g.Sa(h,b,1)),1!=this.g.Qa(n,b)&&(e.add(n),this.g.Sa(n,b,1));h=n}-1!=b&&this.g.Ud(b);if(!(null==e||3>e.size)){var p=this;e.Wd(0,e.size,function(ka,sa){return p.Nh(ka,sa)});b=new g.h;f=new g.h;h=new g.h;f.Sc();var q=-1;k=new g.ja(0);m=new g.ja(0);n=null;for(var r=this.g.Hd(),t=this.g.Hd(),v=0,M=e.size;v<M;v++){var W=e.get(v);this.g.D(W,d);if(!d.rb(f)){if(-1!=q){for(var U=q;U<v;U++){q=e.get(U);var X=this.g.V(q);
W=this.g.Na(q);var ia=!1;this.g.D(X,b);0>f.compare(b)&&(c?b.y==a:b.x==a)&&(k.add(q),ia=!0,this.g.Sa(q,t,1));this.g.D(W,b);0>f.compare(b)&&(c?b.y==a:b.x==a)&&(ia||k.add(q),this.g.Sa(q,r,1))}U=0;for(ia=k.size;U<ia;U++){q=k.get(U);W=this.g.Qa(q,r);X=this.g.Qa(q,t);if(1==W&&(W=this.g.Na(q),this.g.D(W,h),!h.rb(d))){null==n&&(n=[]);var ja=g.h.ub(f,h);n[0]=g.h.ub(h,d)/ja;0==n[0]?n[0]=2.220446049250313E-16:1==n[0]&&(n[0]=.9999999999999998);this.g.Wl(W,n,1);W=this.g.Na(q);this.g.mf(W,d);m.add(W);this.g.Sa(W,
r,1);this.g.Sa(W,t,-1)}1==X&&(X=this.g.V(q),this.g.D(X,h),h.rb(d)||(null==n&&(n=[]),ja=g.h.ub(f,h),n[0]=g.h.ub(f,d)/ja,0==n[0]?n[0]=2.220446049250313E-16:1==n[0]&&(n[0]=.9999999999999998),this.g.Wl(q,n,1),W=this.g.V(q),this.g.mf(W,d),m.add(W),this.g.Sa(W,r,-1),this.g.Sa(W,t,1)))}q=k;k=m;m=q;m.clear(!1)}q=v;f.N(d)}}this.g.Ud(r);this.g.Ud(t)}};l.prototype.Pl=function(c,a){for(var b=new g.h,d=null,e=-1,f=0,h=this.ed.size;f<h;f++){var k=this.ed.get(f);if(-1!=k){var m=this.g.V(k);this.g.D(k,b);if(c?b.y==
a:b.x==a)if(this.g.D(m,b),c?b.y==a:b.x==a)-1==e&&(e=this.g.Hd()),null==d&&(d=new g.ja(0),d.Jb(100)),-2!=this.g.Qa(k,e)&&(d.add(k),this.g.Sa(k,e,-2)),-2!=this.g.Qa(m,e)&&(d.add(m),this.g.Sa(m,e,-2))}}if(null==d)-1!=e&&this.g.Ud(e);else{var n=this;d.Wd(0,d.size,function(sa,ta){return n.Nh(sa,ta)});f=0;for(h=d.size;f<h;f++){var p=d.get(f);this.g.Sa(p,e,f)}k=new g.h;m=new g.h;m.Sc();var q=-1;f=0;for(h=d.size;f<h;f++)if(p=d.get(f),-1!=p&&(this.g.D(p,b),!b.rb(m))){if(-1!=q)for(;;){p=!1;for(var r=1<f-q?
f-1:f,t=q;t<r;t++){var v=d.get(t);if(-1!=v){var M=-1,W=this.g.V(v);this.g.D(W,k);0>m.compare(k)&&(c?k.y==a:k.x==a)&&(M=W);W=-1;var U=this.g.Na(v);this.g.D(U,k);0>m.compare(k)&&(c?k.y==a:k.x==a)&&(W=U);if(-1!=M&&-1!=W)this.Lh(v,d,e),this.g.pd(v,!1),this.Lh(M,d,e),this.g.pd(M,!1),p=!0;else if(-1!=M||-1!=W){for(U=t+1;U<f;U++){var X=d.get(U);if(-1!=X){var ia=this.g.V(X),ja=-1;this.g.D(ia,k);0>m.compare(k)&&(c?k.y==a:k.x==a)&&(ja=ia);ia=this.g.Na(X);var ka=-1;this.g.D(ia,k);0>m.compare(k)&&(c?k.y==a:k.x==
a)&&(ka=ia);if(-1!=ja&&-1!=ka){this.Lh(X,d,e);this.g.pd(X,!1);this.Lh(ja,d,e);this.g.pd(ja,!1);p=!0;break}if(-1!=M&&-1!=ka){this.zt(d,v,M,X,ka,e);p=!0;break}else if(-1!=W&&-1!=ja){this.zt(d,X,ja,v,W,e);p=!0;break}}}if(p)break}}}if(!p)break}q=f;m.N(b)}this.g.Ud(e)}};l.prototype.Lh=function(c,a,b){b=this.g.Qa(c,b);a.set(b,-1);b=this.g.Qa(c,this.ki);this.ed.set(b,-1);a=this.g.cd(c);-1!=a&&this.g.Ya(a)==c&&(this.g.Kf(a,-1),this.g.Xg(a,-1))};l.prototype.zt=function(c,a,b,d,e,f){this.g.Cc(a,d);this.g.Dc(d,
a);this.g.Dc(b,e);this.g.Cc(e,b);this.Lh(d,c,f);this.g.ni(d,!1);this.Lh(e,c,f);this.g.ni(e,!0)};l.prototype.Oy=function(){for(var c=0,a=this.ed.size;c<a;c++){var b=this.ed.get(c);-1!=b&&this.g.bj(b,-1)}for(var d=0,e=0,f=this.g.Ob(this.Y);-1!=f;){var h=this.g.Ya(f);if(-1==h||f!=this.g.cd(h)){var k=f;f=this.g.Sb(f);this.g.Kf(k,-1);this.g.br(k)}else{b=h;k=0;do this.g.bj(b,f),k++,b=this.g.V(b);while(b!=h);this.g.ep(f,!1);this.g.Xg(f,this.g.Na(h));this.g.Wj(f,k);e+=k;d++;f=this.g.Sb(f)}}c=0;for(a=this.ed.size;c<
a;c++)if(b=this.ed.get(c),-1!=b&&(f=this.g.cd(b),-1==f)){f=this.g.wf(this.Y,-1);k=0;h=b;do this.g.bj(b,f),k++,b=this.g.V(b);while(b!=h);2>=k?(b=this.g.Qa(h,this.ki),this.ed.set(b,-1),h=this.g.pd(h,!1),2==k&&(b=this.g.Qa(h,this.ki),0<=b&&this.ed.set(b,-1),this.g.pd(h,!1)),k=f,this.g.Kf(k,-1),this.g.br(k)):(this.g.mn(f,!0),this.g.Wj(f,k),this.g.Kf(f,h),this.g.Xg(f,this.g.Na(h)),this.g.ep(f,!1),e+=k,d++)}this.g.Tl(this.Y,d);this.g.Uj(this.Y,e);c=0;for(a=this.g.ld;-1!=a;a=this.g.ve(a))c+=this.g.I(a);
this.g.VB(c)};l.vy=function(c,a,b,d){return(new l(a,d)).uy(c,b)};l.clip=function(c,a,b,d,e){return l.Pu(c,a,null,b,d,e)};l.Pu=function(c,a,b,d,e,f){var h=c.K();if(33==h)return e=c.D(),a.contains(e)?c:c.Ja();if(197==h)return e=new g.l,c.A(e),e.Fa(a)?(a=new g.Gh,c.copyTo(a),a.Yo(e),a):c.Ja();if(c.B())return c;if(a.B())return c.Ja();var k=new g.l;c.yc(k);if(a.contains(k))return c;if(!a.isIntersecting(k))return c.Ja();(null!=b||isNaN(d))&&g.ta.ny(b,a,!1);if(!g.ba.yj(h))throw g.i.O();b=c.Cb;if(null!=b&&
(b=b.Fk,null!=b)){b=b.So(a);if(1==b){if(1736!=h)throw g.i.ga("internal error");c=new g.Ea(c.description);c.vp(a);return c}if(0==b)return c.Ja()}switch(h){case 550:f=null;h=c.I();b=c.vb(0);d=0;e=new g.h;for(k=0;k<h;k++)b.uc(2*k,e),a.contains(e)||(0==d&&(f=c.Ja()),d<k&&f.Gd(c,d,k),d=k+1);0<d&&f.Gd(c,d,h);return 0==d?c:f;case 1736:case 1607:return l.vy(c,a,e,f);default:throw g.i.ga("internal error");}};l.prototype.Nh=function(c,a){var b=new g.h;this.g.D(c,b);c=new g.h;this.g.D(a,c);return b.compare(c)};
return l}();g.si=u})(L||(L={}));(function(g){var u=new g.h,l=function(){function a(b,d,e,f,h){this.Rm=new g.h;this.Dk=new g.h;this.Qi=new g.h;this.g=b;this.Bw=e;this.oo=f;this.Rm=d;this.Al=h;this.Dk.Sc();this.Qi.Sc()}a.prototype.pE=function(b){this.g.D(b,this.Dk);b=g.P.truncate((this.Dk.x-this.Rm.x)*this.oo+.5);var d=g.P.truncate((this.Dk.y-this.Rm.y)*this.oo+.5);return c.bG(b,d)};a.prototype.ez=function(b){return this.g.Qa(b,this.Al)};a.prototype.Ky=function(b,d){this.g.D(b,this.Dk);this.g.D(d,this.Qi);
return c.Dv(this.Dk.x,this.Dk.y,this.Qi.x,this.Qi.y,this.Bw)};return a}();g.gY=function(){return function(){}}();var c=function(){function a(){this.Rm=new g.h;this.rq=[0,0,0,0];this.ys=[0,0,0,0];this.ro=this.Al=-1}a.aQ=function(b,d){var e=new a;e.g=b;e.ra=d;e.Bw=d*d;e.aw=2*d;e.oo=1/e.aw;return e.tO()};a.Dv=function(b,d,e,f,h){b-=e;d-=f;return b*b+d*d<=h};a.bG=function(b,d){return g.P.Uh(d,g.P.Uh(b))};a.prototype.vO=function(b,d){this.g.Hc(b,u);for(var e=(u.y-this.Rm.y)*this.oo,f=g.P.truncate((u.x-
this.Rm.x)*this.oo),h=g.P.truncate(e),k=e=0;1>=k;k+=1)for(var m=0;1>=m;m+=1){var n=a.bG(f+k,h+m),p=this.zl.iR(n);-1!=p&&(this.rq[e]=p,this.ys[e]=n,e++)}for(f=e-1;1<=f;f--)for(p=this.rq[f],h=f-1;0<=h;h--)if(p==this.rq[h]){this.ys[h]=-1;e--;f!=e&&(this.ys[f]=this.ys[e],this.rq[f]=this.rq[e]);break}for(h=0;h<e;h++)this.wO(b,this.ys[h],u,this.rq[h],d)};a.prototype.wO=function(b,d,e,f,h){for(var k=new g.h;-1!=f;f=this.zl.wR(f)){var m=this.zl.ka(f);b==m||-1!=d&&this.g.Qa(m,this.Al)!=d||(this.g.Hc(m,k),
a.Dv(e.x,e.y,k.x,k.y,this.Bw)&&h.add(f))}};a.prototype.Zm=function(b,d,e){var f=this.g.Qa(b,this.ro),h=this.g.Qa(d,this.ro);-1==f&&(f=this.Ad.Qh(),this.Ad.addElement(f,b),this.g.Sa(b,this.ro,f));-1==h?this.Ad.addElement(f,d):this.Ad.By(f,h);this.g.Sa(d,this.ro,-2);d=this.OT(b,d);e&&(e=this.lw.pE(b),this.g.Sa(b,this.Al,e));return d};a.MT=function(b,d,e){b.Nb(d);e=b;var f=new g.h;a.NT(b.D(),d.D(),f);e.Db(f)};a.NT=function(b,d,e){var f=b.x;b.x!=d.x&&(f=(1*b.x+1*d.x)/2);var h=b.y;b.y!=d.y&&(h=(1*b.y+
1*d.y)/2);e.na(f,h)};a.prototype.OT=function(b,d){var e=new g.h;this.g.D(b,e);var f=new g.h;this.g.D(d,f);var h=this.g.VF(b);d=this.g.VF(d);var k=h+d,m=0,n=e.x;e.x!=f.x&&(n=(e.x*h+f.x*d)/k,m++);var p=e.y;e.y!=f.y&&(p=(e.y*h+f.y*d)/k,m++);0<m&&this.g.Db(b,n,p);this.g.jX(b,k);return 0!=m};a.prototype.tO=function(){var b=this.g.gd,d=this.g.AF();this.Rm=d.hz();d=Math.max(d.da(),d.S())/2147483646;this.aw<d&&(this.aw=d,this.oo=1/this.aw);this.Ad=new g.bu;this.Ad.At(g.P.truncate(this.g.gd/3+1));this.Ad.hn(g.P.truncate(this.g.gd/
3+1));this.Al=this.g.Hd();this.ro=this.g.Hd();this.lw=new l(this.g,this.Rm,this.Bw,this.oo,this.Al);this.zl=new g.WK(g.P.truncate(4*b/3),this.lw);this.zl.qW(this.g.gd);b=!1;for(d=this.g.ld;-1!=d;d=this.g.ve(d))for(var e=this.g.Ob(d);-1!=e;e=this.g.Sb(e))for(var f=this.g.Ya(e),h=0,k=this.g.Ka(e);h<k;h++){var m=this.lw.pE(f);this.g.Sa(f,this.Al,m);this.zl.addElement(f,m);f=this.g.V(f)}var n=new g.ja(0);n.Jb(10);for(d=this.g.ld;-1!=d;d=this.g.ve(d))for(e=this.g.Ob(d);-1!=e;e=this.g.Sb(e))for(f=this.g.Ya(e),
h=0,k=this.g.Ka(e);h<k;h++){if(-2!=this.g.Qa(f,this.ro))for(m=this.g.Qa(f,this.Al),this.zl.kd(f,m);;){this.vO(f,n);if(0==n.size)break;m=!1;for(var p=0,q=n.size;p<q;p++){var r=n.get(p),t=this.zl.ka(r);this.zl.wd(r);m=this.Zm(f,t,p+1==q)||m}b=b||m;n.clear(!1);if(!m)break}f=this.g.V(f)}b&&this.nN();this.lw=this.zl=null;this.g.Ud(this.Al);this.g.Ud(this.ro);return b};a.prototype.nN=function(){for(var b=new g.h,d=this.Ad.je;-1!=d;d=this.Ad.lz(d)){var e=this.Ad.sc(d);this.g.D(this.Ad.ka(e),b);for(e=this.Ad.lb(e);-1!=
e;e=this.Ad.lb(e))this.g.mf(this.Ad.ka(e),b)}};return a}();g.Zt=c})(L||(L={}));(function(g){var u=function(){function l(c){void 0===c&&(c=null);this.yg=null;this.Pb=!1;this.yg=null===c?[]:c}l.prototype.copyTo=function(c){if(c.Pb)throw g.i.ga("CompositeGeographicTransformation is read-only");for(var a=0;a<this.yg.length;a++)c.yg.push(this.yg[a].Pf())};l.prototype.count=function(){return this.yg.length};l.prototype.add=function(c){if(this.Pb)throw g.i.ga("CompositeGeographicTransformation is read-only");
this.yg.push(c.Pf())};l.prototype.clear=function(){if(this.Pb)throw g.i.ga("CompositeGeographicTransformation is read-only");this.yg.length=0};l.prototype.remove=function(c){if(this.Pb)throw g.i.ga("CompositeGeographicTransformation is read-only");this.yg.splice(c,1)};l.prototype.ig=function(){var c=new l;this.copyTo(c);return c};l.prototype.Pf=function(){return this.ig()};l.prototype.transform=function(c,a,b,d){if(c.length<a)throw g.i.ga("invalid Argument");var e=b;for(b=0;b<this.yg.length;b++){var f=
this.yg[b];if(null!=f.sm()){var h=f.Vn,k=h?1:0,m=h?f.sm().getGeogcs2():f.sm().getGeogcs1();m=m.getUnit().getUnitFactor();m=e/m;if(3.552713678800501E-15<Math.abs(m-1))for(e=0;e<a;e++)c[e][0]*=m,c[e][1]*=m;g.EC.geogToGeog(f.sm(),a,c,null,k);e=(h?f.sm().getGeogcs1():f.sm().getGeogcs2()).getUnit().getUnitFactor()}}m=e/d;if(3.552713678800501E-15<Math.abs(m-1))for(e=0;e<a;e++)c[e][0]*=m,c[e][1]*=m;return a};l.prototype.Nb=function(c){if(c==this)return!0;if(!(c instanceof l)||this.yg.length!=c.yg.length)return!1;
for(var a=0;a<this.yg.length;a++)if(!this.yg[a].Nb(c.yg[a]))return!1;return!0};l.prototype.hx=function(){this.Pb=!0};l.prototype.toString=function(){for(var c="CGT ("+this.count()+") ",a=0,b=this.count();a<b;++a)c+=this.yg[a].toString()+", ";return 200<c.length?c.substring(0,197)+"... ("+c.length.toString()+" characters)":c};l.create=function(){return new l};return l}();g.pC=u})(L||(L={}));(function(g){var u=Math.PI,l=2*Math.PI,c=Math.PI/2,a=function(){function e(){}e.LO=function(f,h){var k=new e;
k.x=f;k.y=h;k.type=0;k.Vh=0;return k};e.bl=function(f){var h=new e;h.x=f.x;h.y=f.y;h.type=0;h.Vh=0;return h};e.KO=function(f){var h=new e;h.x=f.x;h.y=f.y;h.type=f.type;h.Vh=f.Vh;return h};e.Qd=function(f,h,k){var m=new e;m.x=f.x+h*Math.cos(k);m.y=f.y+h*Math.sin(k);m.type=f.type;m.Vh=f.Vh;return m};e.Ru=function(f,h){var k=new e;k.x=.5*(f.x+h.x);k.y=.5*(f.y+h.y);k.type=f.type;k.Vh=f.Vh;return k};e.LE=function(f,h){var k=new e;k.x=f.x+.001*(h.x-f.x);k.y=f.y+.001*(h.y-f.y);k.type=f.type;k.Vh=f.Vh;return k};
return e}(),b=function(){return function(){}}();(function(e){e[e.Round=0]="Round";e[e.Bevel=1]="Bevel";e[e.Miter=2]="Miter";e[e.Square=3]="Square"})(g.YK||(g.YK={}));var d=function(){function e(f){this.HA=this.Zb=this.wg=null;this.nd=f}e.W=function(f,h,k,m,n,p){if(null==f)throw g.i.O();if(1>f.Eb())throw g.i.O();if(0==h||f.B())return f;p=new e(p);p.lo=f;p.La=h;p.ra=n;p.Li=k;p.wA=m;return p.Px()};e.prototype.XL=function(){var f=this.lo,h=f.ac(),k=f.xc(),m=new g.h;m.vc(k,h);m.normalize();m.Iv();m.scale(this.La);
h.add(m);k.add(m);m=f.Ja();f.Ec(h);f.Rc(k);return m};e.prototype.WL=function(){var f=this.lo;if(0<this.La&&2!=this.Li){var h=new g.Ea;h.bd(f,!1);this.lo=h;return this.Px()}f=new g.Gh(f.aa);f.X(this.La,this.La);return f};e.prototype.lJ=function(f,h,k,m){return(h.x-f.x)*(m.x-k.x)+(h.y-f.y)*(m.y-k.y)};e.prototype.hc=function(f,h){if(void 0===h)this.Zb.push(f),this.gf++;else if(0==this.gf)this.hc(f);else{var k=this.Cw,m=this.wg[0==h?k-1:h-1],n=this.wg[h],p=this.lJ(m,n,this.Zb[this.gf-1],f);0<p?this.hc(f):
0>p&&(0<this.lJ(m,n,n,this.Zb[this.gf-1])?(n=this.wg[0==h?k-2:1==h?k-1:h-2],k=a.Qd(m,this.La,Math.atan2(m.y-n.y,m.x-n.x)-c),this.Zb[this.gf-1]=k,1==this.Li||2==this.Li?(k=a.Ru(k,m),this.hc(k),k=a.Qd(m,this.La,this.Kv+c),m=a.Ru(k,m),m.type|=256,this.hc(m)):(k=a.Qd(m,this.La,this.Kv+c),k.type|=256),this.hc(k),this.hc(f,h)):(k=a.Qd(n,this.La,this.Kv+c),this.hc(k),1==this.Li||2==this.Li?(k=a.Ru(k,n),this.hc(k),k=a.Qd(n,this.La,this.Wz-c),m=a.Ru(k,n),m.type|=256,this.hc(m)):(k=a.Qd(n,this.La,this.Wz-c),
k.type|=256),this.hc(k)))}};e.prototype.eE=function(){var f,h=this.Cw;this.gf=0;var k=.5*this.ra,m=0,n=0;for(f=0;f<h;f++){var p=this.wg[f],q=0==f?this.wg[h-1]:this.wg[f-1],r=f==h-1?this.wg[0]:this.wg[f+1],t=q.x-p.x,v=q.y-p.y,M=r.x-p.x,W=r.y-p.y,U=Math.atan2(v,t),X=Math.atan2(W,M);this.Kv=U;this.Wz=X;0==f&&(m=U,n=X);t=t*W-M*v;v=X;X<U&&(X+=l);if(0<t*this.La)1==this.Li||2==this.Li?(U=a.Qd(p,this.La,U+c),this.hc(U),U=a.LE(p,U),this.hc(U),U=a.Qd(p,this.La,X-c),p=a.LE(p,U),p.type|=256,this.hc(p),this.hc(U)):
(t=.5*(X-U),t=this.La/Math.abs(Math.sin(t)),U=a.Qd(p,t,.5*(U+X)),this.hc(U,f));else if(0!=(p.type&512)){t=1-k/Math.abs(this.La);q=1;r=0>this.La?-u:u;-1<t&&1>t&&(v=2*Math.acos(t),.017453292519943295>v&&(v=.017453292519943295),q=g.P.truncate(u/v+1.5),1<q&&(r/=q));v=U+c;U=a.Qd(p,this.La,v);0==f&&(U.type|=1024);this.hc(U,f);t=this.La/Math.cos(r/2);v+=r/2;U=a.Qd(p,t,v);U.type|=1024;for(this.hc(U);0<--q;)v+=r,U=a.Qd(p,t,v),U.type|=1024,this.hc(U);U=a.Qd(p,this.La,X-c);U.type|=1024;this.hc(U)}else if(1==
this.Li)U=a.Qd(p,this.La,U+c),this.hc(U,f),U=a.Qd(p,this.La,X-c),this.hc(U);else if(0==this.Li)for(t=1-k/Math.abs(this.La),q=1,r=X-c-(U+c),-1<t&&1>t&&(v=2*Math.acos(t),.017453292519943295>v&&(v=.017453292519943295),q=g.P.truncate(Math.abs(r)/v+1.5),1<q&&(r/=q)),t=this.La/Math.cos(.5*r),v=U+c+.5*r,U=a.Qd(p,t,v),this.hc(U,f);0<--q;)v+=r,U=a.Qd(p,t,v),this.hc(U);else 2==this.Li?(t=q.x-p.x,v=q.y-p.y,M=r.x-p.x,W=r.y-p.y,q=(t*M+v*W)/Math.sqrt(t*t+v*v)/Math.sqrt(M*M+W*W),.99999999<q?(U=a.Qd(p,1.4142135623730951*
this.La,X-.25*u),this.hc(U,f),U=a.Qd(p,1.4142135623730951*this.La,X+.25*u),this.hc(U)):(q=Math.abs(this.La/Math.sin(.5*Math.acos(q))),r=Math.abs(this.wA*this.La),q>r?(t=.5*(X-U),t=this.La/Math.abs(Math.sin(t)),U=a.Qd(p,t,.5*(U+X)),X=g.h.construct(U.x,U.y),U=g.h.construct(p.x,p.y),p=new g.h,p.vc(X,U),X=new g.h,X.wW(r/p.length(),p,U),U=(q-r)*Math.abs(this.La)/Math.sqrt(q*q-this.La*this.La),0<this.La?p.Iv():p.cr(),p.scale(U/p.length()),U=new g.h,U.add(X,p),q=new g.h,q.vc(X,p),U=a.bl(U),this.hc(U,f),
U=a.bl(q),this.hc(U)):(t=.5*(X-U),t=this.La/Math.abs(Math.sin(t)),U=a.Qd(p,t,.5*(U+X)),this.hc(U,f)))):(X=v,0<this.La?(X>U&&(X-=l),q=U-X<c):(X<U&&(X+=l),q=X-U<c),q?(t=1.4142135623730951*this.La,v=0>t?U+.25*u:U+.75*u,U=a.Qd(p,t,v),this.hc(U,f),v=0>t?X-.25*u:X-.75*u,U=a.Qd(p,t,v),this.hc(U)):(t=.5*(X-U),t=this.La/Math.abs(Math.sin(t)),X<U&&(X+=l),U=a.Qd(p,t,(U+X)/2),this.hc(U,f)))}this.Kv=m;this.Wz=n;this.hc(this.Zb[0],0);p=a.KO(this.Zb[this.gf-1]);this.Zb[0]=p;return this.mW()};e.prototype.Bu=function(f,
h){if(!(2>h))for(var k=0;k<h;k++){var m=this.Zb[f+k];0!=k?this.HA.Di(g.h.construct(m.x,m.y)):this.HA.Mt(g.h.construct(m.x,m.y))}};e.prototype.YL=function(f,h,k){var m=f.Ca(h),n=f.Wc(h);this.Zb=[];this.HA=k;if(f.ec(h)){for(h=f.Oa(m);f.Oa(n-1).rb(h);)n--;if(2<=n-m){this.Cw=n-m;this.wg=[];for(h=m;h<n;h++)this.wg.push(a.bl(f.Oa(h)));this.eE()&&this.Bu(0,this.gf-1)}}else{for(h=f.Oa(m);m<n&&f.Oa(m+1).rb(h);)m++;for(h=f.Oa(n-1);m<n&&f.Oa(n-2).rb(h);)n--;if(2<=n-m){this.Cw=2*(n-m)-2;this.wg=[];k=a.bl(f.Oa(m));
k.type|=1536;this.wg.push(k);for(h=m+1;h<n-1;h++)k=a.bl(f.Oa(h)),this.wg.push(k);k=a.bl(f.Oa(n-1));k.type|=512;this.wg.push(k);for(h=n-2;h>=m+1;h--)k=a.bl(f.Oa(h)),k.type|=1024,this.wg.push(k);if(this.eE())if(2<=this.Zb.length){f=-1;(n=0!=(this.Zb[this.gf-1].type&1024))||(f=0);for(h=1;h<this.gf;h++)(m=0!=(this.Zb[h].type&1024))?n||(n=h-1,1<n-f+1&&this.Bu(f,n-f+1)):n&&(f=h-1),n=m;n||(n=this.gf-1,1<n-f+1&&this.Bu(f,n-f+1))}else f=0,n=this.gf-1,0<=f&&1<=n-f&&this.Bu(f,n-f+1)}}this.wg=null;this.Cw=0;
this.Zb=null;this.gf=0};e.prototype.mW=function(){for(var f=!1,h=0;h<this.gf;h++){var k=this.Zb[h];k.rh=h+1;k.th=h-1;this.Zb[h]=k}k=this.Zb[0];k.th=this.gf-2;this.Zb[0]=k;k=this.Zb[this.gf-2];k.rh=0;this.Zb[this.gf-2]=k;for(h=k=0;h<this.gf;h++)if(0!=(this.Zb[k].type&256)){var m=this.yP(k);if(-1!=m)k=m;else{f=!0;break}}else k=this.Zb[k].rh;if(f)return!1;this.IO(k);return!0};e.prototype.yP=function(f){for(var h=this.gf-1,k=f,m,n,p=1;p<=h-2;p++){m=k=this.Zb[k].rh;n=f;for(var q=1;q<=p;q++){n=this.Zb[n].th;
if(0==(this.Zb[n].type&256)&&0==(this.Zb[m].type&256)){var r=this.YR(n,m);if(-1!=r)return r}m=this.Zb[m].th}}return-1};e.prototype.YR=function(f,h){var k=this.Zb[this.Zb[f].th],m=this.Zb[f],n=this.Zb[this.Zb[h].th],p=this.Zb[h];if(!this.yW(k,m,n,p))return-1;var q=new b;return this.pQ(k,m,n,p,q)&&!q.UD&&g.P.UJ((m.x-k.x)*(p.y-n.y)-(m.y-k.y)*(p.x-n.x))!=g.P.UJ(this.La)?(k=this.Zb[f].th,q.cn.type=m.type,q.cn.rh=h,q.cn.th=k,this.Zb[f]=q.cn,q.cn=this.Zb[h],q.cn.th=f,this.Zb[h]=q.cn,h):-1};e.prototype.yW=
function(f,h,k,m){return Math.max(f.x,h.x)>=Math.min(k.x,m.x)&&Math.max(k.x,m.x)>=Math.min(f.x,h.x)&&Math.max(f.y,h.y)>=Math.min(k.y,m.y)&&Math.max(k.y,m.y)>=Math.min(f.y,h.y)};e.prototype.pQ=function(f,h,k,m,n){n.UD=!1;var p=(h.y-f.y)*(m.x-k.x)-(h.x-f.x)*(m.y-k.y),q=(k.y-f.y)*(h.x-f.x)-(k.x-f.x)*(h.y-f.y);p=0==p?2:q/p;if(0<=p&&1>=p){var r=p;p=(m.y-k.y)*(h.x-f.x)-(m.x-k.x)*(h.y-f.y);q=(f.y-k.y)*(m.x-k.x)-(f.x-k.x)*(m.y-k.y);p=0==p?2:q/p;if(0<=p&&1>=p)return n.cn=a.LO(f.x+p*(h.x-f.x),f.y+p*(h.y-f.y)),
n.cn.Vh=k.Vh+r*(m.Vh-k.Vh),0!=r&&1!=r||0!=p&&1!=p||(n.UD=!0),n.KY=p,n.LY=r,(0==r||1==r)&&0<p&&1>p||(0==p||1==p)&&0<r&&1>r?!1:!0}return!1};e.prototype.IO=function(f){for(;this.Zb[f].th<f;)f=this.Zb[f].th;var h=0,k=f;do k=this.Zb[k],this.Zb[h]=k,k=k.rh,h++;while(k!=f);this.Zb[h]=this.Zb[0];this.gf=h+1};e.prototype.SC=function(f){var h=this.lo,k=h.Ha();if(null!=k){k.$i();for(var m=-1;k.ab();)m++,this.YL(h,m,f)}};e.prototype.Px=function(){var f=this.lo.K();return 322==f?this.XL():197==f?this.WL():g.ba.zd(f)?
(f=new g.Ua,f.oc(this.lo,!0),this.lo=f,this.Px()):1607==f?(f=new g.Ua,this.SC(f),f):1736==f?(f=new g.Ea,this.SC(f),f):null};return e}();g.AK=d})(L||(L={}));(function(g){var u=function(){function b(d){this.qk=d}b.prototype.D=function(d,e){this.qk.g.D(d,e)};b.prototype.wd=function(d){var e=this.qk.Ga.ka(d);this.qk.Ga.wd(d,-1);this.qk.g.pd(e,!1)};return b}(),l=function(){function b(d){this.qk=d}b.prototype.D=function(d,e){this.qk.yT.D(d,e)};b.prototype.wd=function(d){this.qk.Ga.wd(d,-1)};return b}(),
c=function(){function b(d){this.qk=d}b.prototype.D=function(d,e){e.N(this.qk.BT[d])};b.prototype.wd=function(d){this.qk.Ga.wd(d,-1)};return b}(),a=function(){function b(d){void 0===d?(this.Ga=new g.Yj,this.Ga.Ee(20),this.g=new g.hd,this.mT=this.g.Kg(550),this.Ts=this.g.wf(this.mT,-1),this.Yh=new u(this)):d instanceof Array?(this.Ga=new g.Yj,this.Ga.Ee(20),this.BT=d,this.Yh=new c(this)):(this.Ga=new g.Yj,this.Ga.Ee(20),this.yT=d,this.Yh=new l(this))}b.prototype.Ib=function(d){var e=d.K();if(g.Ex.yj(e))this.bN(d);
else if(g.Vk.zd(e))this.gN(d);else if(197==e)this.ZM(d);else if(33==e)this.fN(d);else throw g.i.O("invalid shape type");};b.prototype.VQ=function(){var d=new g.Ta,e=this.Ga.sc(-1),f=new g.Ea(this.g.ht);this.g.Wi(this.Ga.ka(e),d);f.nf(d);for(e=this.Ga.lb(e);-1!=e;e=this.Ga.lb(e))this.g.Wi(this.Ga.ka(e),d),f.lineTo(d);return f};b.JO=function(d){var e=new b(d),f=d.I(),h=1,k=new g.h,m=new g.h,n=new g.h;for(d.D(0,k);;){d.D(h,m);if(!(m.Mz(k)&&h<f-1))break;h++}e.Ga.addElement(0,-1);e.Ga.yn(h);for(f=h+1;f<
d.I();f++)d.D(f,n),h=e.iC(n),-1!=h&&e.Ga.Tj(h,f);n=new g.Ta;h=e.Ga.sc(-1);f=new g.Ea(d.description);d.we(e.Ga.ka(h),n);f.nf(n);for(h=e.Ga.lb(h);-1!=h;h=e.Ga.lb(h))d.we(e.Ga.ka(h),n),f.lineTo(n);return f};b.construct=function(d,e,f){for(var h=new b(d),k=1,m=d[0];d[k].Mz(m)&&k<e-1;)k++;h.Ga.addElement(0,-1);h.Ga.yn(k);for(k+=1;k<e;k++)m=h.iC(d[k]),-1!=m&&h.Ga.Tj(m,k);d=0;for(e=h.Ga.sc(-1);-1!=e;e=h.Ga.lb(e))f[d++]=h.Ga.ka(e);return d};b.BG=function(d,e){var f=d.Ca(e),h=d.Wc(e);e=!d.ec(e)&&d.On(e);d=
d.vb(0);f*=2;h*=2;e&&(h-=2);if(6>h-f)return!0;e=new g.h;var k=new g.h,m=new g.h;d.uc(f,e);d.uc(f+2,k);d.uc(f+4,m);var n=b.Xu(k,m,e);if(n.qs()||!b.wm(n.value()))return!1;var p=g.h.construct(k.x,k.y),q=new g.h;for(f+=6;f<h;f+=2){q.N(k);k.N(m);d.uc(f,m);n=b.Xu(k,m,e);if(n.qs()||!b.wm(n.value()))return!1;n=b.Xu(p,m,e);if(n.qs()||!b.wm(n.value()))return!1;n=b.Xu(k,m,q);if(n.qs()||!b.wm(n.value()))return!1}return!0};b.prototype.bN=function(d){for(var e=new g.Ta,f=new g.h,h=0;h<d.I();h++){d.D(h,f);var k=
this.Er(f);if(-1!=k){d.we(h,e);var m=this.g.hc(this.Ts,e);this.Ga.Tj(k,m)}}};b.prototype.ZM=function(d){for(var e=new g.Ta,f=new g.h,h=0;4>h;h++){d.gB(h,f);var k=this.Er(f);if(-1!=k){d.If(h,e);var m=this.g.hc(this.Ts,e);this.Ga.Tj(k,m)}}};b.prototype.gN=function(d){var e=new g.Ta,f=d.ac();f=this.Er(f);if(-1!=f){d.Uo(e);var h=this.g.hc(this.Ts,e);this.Ga.Tj(f,h)}f=d.xc();f=this.Er(f);-1!=f&&(d.Qo(e),d=this.g.hc(this.Ts,e),this.Ga.Tj(f,d))};b.prototype.fN=function(d){var e=d.D();e=this.Er(e);-1!=e&&
(d=this.g.hc(this.Ts,d),this.Ga.Tj(e,d))};b.prototype.Er=function(d){var e=-1;if(0==this.Ga.size(-1))return e=this.Ga.addElement(-4,-1);if(1==this.Ga.size(-1)){var f=this.g.Oa(this.Ga.ka(this.Ga.sc(-1)));d.Mz(f)||(e=this.Ga.yn(-5));return e}return e=this.iC(d)};b.prototype.iC=function(d){var e=-1,f=this.Ga.sc(-1),h=this.Ga.Gc(-1),k=this.Ga.ka(f),m=this.Ga.ka(h),n=new g.h,p=new g.h;this.Yh.D(k,n);this.Yh.D(m,p);k=g.h.Wq(p,d,n);if(b.wm(k))e=this.Ga.yn(-1),n=this.gC(d,h,f),n!=f&&this.hC(d,f,this.Ga.xe(n));
else if(b.uG(k)){p=this.Ga.tv(-1);var q=this.Ga.sc(-1),r=this.Ga.Gc(-1);k=new g.h;for(m=new g.h;q!=this.Ga.xe(r);){var t=this.Ga.ka(p);this.Yh.D(t,k);t=g.h.Wq(k,d,n);b.uG(t)?(r=p,p=this.Ga.nl(p)):(q=p,p=this.Ga.Zp(p))}p=r;n=q;t=this.Ga.ka(p);q=this.Ga.ka(n);this.Yh.D(t,k);this.Yh.D(q,m);if(n==f||(k=g.h.Wq(m,d,k),b.wm(k)))e=this.Ga.Au(n,p,-2,!1),this.hC(d,p,h),this.gC(d,n,f)}else null==this.tb&&(this.tb=new g.zb),this.tb.Ec(p),this.tb.Rc(n),n=this.tb.fe(d,!0),0>n?(n=this.Ga.xe(h),this.Ga.wd(h,-1),
e=this.Ga.yn(-3),this.gC(d,n,f)):1<n&&(n=this.Ga.lb(f),this.Ga.wd(f,-1),e=this.Ga.Au(-1,n,-3,!1),this.hC(d,n,h));return e};b.prototype.hC=function(d,e,f){if(e!=f){var h=this.Ga.ka(e),k=this.Ga.lb(e),m=new g.h,n=new g.h;for(this.Yh.D(h,m);e!=f&&2<this.Ga.size(-1);){this.Yh.D(this.Ga.ka(k),n);h=g.h.Wq(n,d,m);if(b.wm(h))break;h=e;e=k;m.N(n);k=this.Ga.lb(e);this.Yh.wd(h)}}};b.prototype.gC=function(d,e,f){if(e==f)return f;var h=this.Ga.ka(e),k=this.Ga.xe(e),m=new g.h,n=new g.h;for(this.Yh.D(h,m);e!=f&&
2<this.Ga.size(-1);){this.Yh.D(this.Ga.ka(k),n);h=g.h.Wq(m,d,n);if(b.wm(h))break;h=e;e=k;m.N(n);k=this.Ga.xe(e);this.Yh.wd(h)}return e};b.Xu=function(d,e,f){var h=new g.Xb;h.set(e.x);h.sub(d.x);var k=new g.Xb;k.set(f.y);k.sub(d.y);var m=new g.Xb;m.set(e.y);m.sub(d.y);e=new g.Xb;e.set(f.x);e.sub(d.x);h.Ag(k);m.Ag(e);h.sub(m);return h};b.wm=function(d){return 0>d};b.uG=function(d){return 0<d};return b}();g.$t=a})(L||(L={}));(function(g){var u=function(){function l(c){this.g=null;this.lH=!0;this.nd=
c}l.pU=function(c,a,b){c=g.ta.Gr(c);return g.Zt.Dv(a.Mg(),a.jh(),b.Mg(),b.jh(),g.mc.nx(c))};l.uO=function(c,a){var b=new g.Ta;g.Zt.MT(c,a,b);return b};l.W=function(c,a,b,d){b=new l(b);b.g=c;b.ra=a;b.lH=d;return b.wM()};l.prototype.fM=function(c){return g.Zt.aQ(this.g,c)};l.prototype.kM=function(c){return g.au.W(this.g,c,this.nd)};l.prototype.wM=function(){var c=this.ra,a=g.ta.Gr(c);c=g.ta.jN(c);var b=1.00001*c;c*=1.000001;for(var d=!1,e=30<this.g.gd+10?1E3:(this.g.gd+10)*(this.g.gd+10),f=0,h=this.g.aS();;f++){if(f>
e)throw g.i.ga("Internal Error: max number of iterations exceeded");var k=this.fM(a);d=d||k;this.lH&&(k=0!=this.g.Ip(a,!0,!1),d=d||k);k=!1;if(0==f||h||g.au.cI(!0,this.g,c,null,this.nd))k=this.kM(b),d=d||k;if(!k)break;g.np.Bp(this.nd)}return d};return l}();g.Tk=u})(L||(L={}));(function(g){var u=function(){function c(a){this.ae=this.Nc=null;this.Zs=0;this.Vb=a;this.Yz=!0}c.prototype.vv=function(a,b){var d=this.g.cc(a);if(null==d){if(!this.g.fd(a,b))return null;d=b}return d};c.prototype.Zq=function(){var a;
void 0===a&&(a=!1);this.Zs++;if(a||0==(this.Zs&4095))this.Zs=0,g.np.Bp(this.Vb)};c.prototype.fP=function(){var a=this.g.$q(!1),b=!1,d=new g.zb,e=new g.zb,f=new g.l;f.Pa();var h=new g.l;h.Pa();for(var k=new g.Ta,m=new g.LC,n=a.next();-1!=n;n=a.next()){g.np.Bp(this.Vb);var p=null,q=!1;if(!g.ba.Sn(this.g.jc(a.ck))){p=this.vv(n,d);if(null==p)continue;p.A(f);f.X(this.ra,this.ra);if(p.Ci(this.ra))if(p.Ci(0))q=!0,p=null;else continue}var r=this.g.$q(a),t=r.next();for(-1!=t&&(t=r.next());-1!=t;t=r.next()){var v=
null,M=!1;if(!g.ba.Sn(this.g.jc(r.ck))){v=this.vv(t,e);if(null==v)continue;v.A(h);if(v.Ci(this.ra))if(v.Ci(0))M=!0,v=null;else continue}var W=0,U=0;if(null!=p&&null!=v)f.zG(h)&&(m.Po(p),m.Po(v),m.Fa(this.ra,!1),W=m.ql(0),U=m.ql(1),0<W+U&&(this.g.lr(n,m,0,!0),this.g.lr(t,m,1,!0)),m.clear());else if(null!=p){var X=new g.h;this.g.D(t,X);if(f.contains(X)){m.Po(p);this.g.Wi(t,k);m.Fz(this.ra,k,!1);W=m.ql(0);if(0<W)if(this.g.lr(n,m,0,!0),M){M=-1;for(X=this.g.V(t);-1!=X&&X!=t&&(v=this.vv(X,e),M=X,null!=
v&&v.Ci(0));X=this.g.V(X));for(X=t;-1!=X&&(this.g.Eh(X,m.Cf),X!=M);X=this.g.V(X));}else this.g.Eh(t,m.Cf);m.clear()}}else if(null!=v){if(X=new g.h,this.g.D(n,X),h.X(this.ra,this.ra),h.contains(X)){m.Po(v);this.g.Wi(n,k);m.Fz(this.ra,k,!1);U=m.ql(0);if(0<U)if(this.g.lr(t,m,0,!0),q){M=-1;for(X=this.g.V(n);-1!=X&&X!=n&&(v=this.vv(X,e),M=X,null!=v&&v.Ci(0));X=this.g.V(X));for(X=n;-1!=X&&(this.g.Eh(X,m.Cf),X!=M);X=this.g.V(X));}else this.g.Eh(n,m.Cf);m.clear()}}else continue;if(0!=W+U){if(0!=W){p=this.g.cc(n);
if(null==p){if(!this.g.fd(n,d))continue;p=d;d.A(f)}else p.A(f);if(p.Ci(this.ra))break}b=!0}}}return b};c.prototype.gP=function(){return this.GU()};c.prototype.GU=function(){return(new g.JC).DX(this.g,this.ra)};c.prototype.dI=function(){var a=!1;null==this.Nc&&(this.Nc=new g.Yj);var b=new g.ja(0);b.Jb(this.g.gd+1);for(var d=this.g.$q(),e=d.next();-1!=e;e=d.next())b.add(e);this.g.mx(b,b.size);b.add(-1);d=this.g.Hd();e=this.g.Hd();this.ae=new g.MC(this.g,this.ra,!this.Yz);this.Nc.Wo(this.ae);var f=new g.ja(0),
h=new g.ja(0),k=0;new g.h;var m=this.g.ud;this.g.wb.rc();for(var n=this.g.wb.Aa[0].o,p,q,r=b.get(k++);-1!=r;){q=m.U(r,0);p=n[2*q];q=n[2*q+1];var t=p,v=q;do{var M=m.U(r,2),W=m.U(r,1);if(-1!=M){var U=m.U(M,0),X=n[2*U];U=n[2*U+1];0>(v<U?-1:v>U?1:t<X?-1:t>X?1:0)&&(h.add(r),h.add(M))}-1!=W&&(U=m.U(W,0),X=n[2*U],U=n[2*U+1],0>(v<U?-1:v>U?1:t<X?-1:t>X?1:0)&&(h.add(W),h.add(W)));X=this.g.Qa(r,d);-1!=X&&(f.add(X),this.g.Sa(r,d,-1));X=this.g.Qa(r,e);-1!=X&&(f.add(X),this.g.Sa(r,e,-1));r=b.get(k++);-1!==r&&(v=
m.U(r,0),t=n[2*v],v=n[2*v+1])}while(-1!=r&&t===p&&v===q);t=1==f.size&&2==h.size;X=v=-1;M=0;for(W=f.size;M<W;M++){U=f.get(M);var ia=this.Nc.xe(U);-1==ia||f.$F(ia)||(v=ia);U=this.Nc.lb(U);-1==U||f.$F(U)||(X=U);if(-1!=v&&-1!=X)break}this.ae.SJ(q,p);M=0;for(W=f.size;M<W;M++)U=f.get(M),this.Nc.wd(U,-1);f.clear(!1);if(!t&&-1!=v&&-1!=X&&this.iO(v,X)){a=!0;this.Oi=this.ae.tm();break}M=0;for(W=h.size;M<W;M+=2){q=h.get(M);p=h.get(M+1);t?(q=this.Nc.Au(v,X,q,!0),t=!1):q=this.Nc.addElement(q,-1);if(this.ae.rg){this.Oi=
this.ae.tm();a=!0;break}-1==this.g.Qa(p,d)?this.g.Sa(p,d,q):this.g.Sa(p,e,q)}if(a)break;h.Ch(0)}this.g.Ud(d);this.g.Ud(e);return a};c.prototype.iO=function(a,b){this.ae.compare(this.Nc,this.Nc.ka(a),b);a=this.ae.rg;this.ae.Lr();return a};c.qE=function(a){for(var b=a.ld;-1!=b;b=a.ve(b))if(g.ba.Ic(a.jc(b)))return!0;return!1};c.YP=function(a,b,d,e){if(!c.qE(a))return!1;b=new c(e);b.g=a;b.ra=d;if(15>a.gd)a=b.fP();else return b.gP();return a};c.W=function(a,b,d){return c.YP(a,a.AF(),b,d)};c.cI=function(a,
b,d,e,f){if(!c.qE(b))return!1;var h=new c(f);h.g=b;h.ra=d;h.Yz=a;if(h.dI())return null!=e&&e.Xt(h.Oi),!0;var k=new g.Ed;k.TB();b.Pc(k);h=new c(f);h.g=b;h.ra=d;h.Yz=a;a=h.dI();k.TB();b.Pc(k);return a?(null!=e&&e.Xt(h.Oi),!0):!1};c.Ol=function(a,b){a=a.I();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*b<1*a*b};c.dP=function(a,b,d,e){if(g.ba.Ic(b.K()))return(new c(e)).eP(a,b,d);throw g.i.ga("crack_A_with_B");};c.prototype.eP=function(a,b,d){var e=new g.l;a.yc(e);var f=new g.l;b.yc(f);f.X(d,
d);if(!f.isIntersecting(e))return a;var h=a.Cb,k=null;null!=h&&(k=h.Gb);c.Ol(a,a.I())&&(k=g.ta.kj(a,f));var m=null!=k?k.getIterator():null,n=b.Ha();b=a.Ha();var p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(f=[];n.ab();)for(;n.Ia();){var q=n.ia();if(null!=k)for(m.Vo(q,d),h=m.next();-1!=h;h=m.next()){if(this.Zq(),b.Wb(k.ka(h),-1),b.Ia()){h=b.ia();var r=h.Fa(q,null,p,null,d);for(h=0;h<r;++h){var t=p[h];if(0!=t&&1!=t){var v=b.xb(),M=new l;M.t=t;M.index=v;f.push(M)}}}}else{var W=new g.l;q.yc(W);W.X(d,d);if(e.isIntersecting(W))for(b.$i();b.ab();)for(;b.Ia();)if(this.Zq(),
h=b.ia(),t=new g.l,h.yc(t),t.isIntersecting(W))for(r=h.Fa(q,null,p,null,d),h=0;h<r;++h)t=p[h],0!=t&&1!=t&&(v=b.xb(),M=new l,M.t=t,M.index=v,f.push(M))}}if(0==f.length)return a;f=f.sort(l.yy);a=a.Ja();for(b.$i();b.ab()&&!b.Ia(););d=b.ia();e=new g.hg;k=-1;h=0;for(m=f.length;h<m;){p=f[h].index;for(n=h+1;n<m&&f[n].index==p;)++n;for(;b.xb()<p;){this.Zq();q=b.Ia();t=b.gb;(W=q||!b.Pn()||b.Qn())&&a.oc(d,k!=t);k=t;if(!q)for(;b.ab()&&!b.Ia(););d=b.ia()}for(p=0;h<n;h++)t=f[h].t,t!=p&&(d.bh(p,t,e),p=t,t=b.gb,
a.oc(e.get(),k!=t),k=t);if(W=(q=b.Ia())||!b.Pn()||b.Qn())d.bh(p,1,e),a.oc(e.get(),!1);if(q)d=b.ia();else{for(;b.ab()&&!b.Ia(););d=b.Ia()?b.ia():null}h=n}null!=d&&(t=b.gb,(W=(q=b.Ia())||!b.Pn()||b.Qn())&&a.oc(d,k!=t),k=t);for(q=b.Ia();;){if(!q){for(;b.ab()&&!(q=b.Ia()););if(!q)break}d=b.ia();t=b.gb;(W=(q=b.Ia())||!b.Pn()||b.Qn())&&a.oc(d,k!=t);k=t}return a};return c}();g.au=u;var l=function(){function c(){}c.yy=function(a,b){return a.index==b.index?a.t>b.t?1:a.t<b.t?-1:0:a.index>b.index?1:-1};return c}()})(L||
(L={}));(function(g){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";a[a.Uncut=4]="Uncut"})(g.CK||(g.CK={}));var u=function(){return function(a,b,d,e,f,h,k,m,n,p,q){this.Y=a;this.bt=b;this.Os=d;this.tg=e;this.Nm=p;this.Cl=q}}();g.iY=u;var l=function(){function a(b,d){this.BH=b;this.Ii=d}a.prototype.iM=function(b,d){var e=new g.h;this.Ii.D(b,e);var f=new g.h;this.Ii.D(d,f);e=e.compare(f);if(0!=e)return e;b=this.Ii.Qa(b,this.BH);d=this.Ii.Qa(d,
this.BH);return b<d?-1:b==d?0:1};return a}(),c=function(){return function(a,b,d,e,f,h,k,m,n){this.tg=a;this.Os=b;this.IA=d;this.MH=e;this.Fi=f;this.Cl=h;this.Nm=k;this.NH=m;this.ET=n}}();g.hY=c;g.DK=function(){function a(){}a.BK=function(b,d,e,f,h,k){if(d.B())b=new u(d,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),h.push(b);else if(e.B())b=new u(d,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),h.push(b);else{var m=new g.hd;m.Ib(d);m.Ib(e);g.Tk.W(m,f,k,!0);if(0==m.gd)b=new u(d.Ja(),4,-1,-1,NaN,4,-1,-1,
NaN,-1,-1,NaN,-1,-1,NaN),h.push(b);else{d=0;e=m.Hd();for(f=m.ld;-1!=f;f=m.ve(f))for(k=m.Ob(f);-1!=k;k=m.Sb(k))for(var n=m.Ya(k),p=0,q=m.Ka(k);p<q;n=m.V(n),p++)m.Sa(n,e,d++);d=a.zM(e,m);a.VL(b,d,m,h)}}};a.zM=function(b,d){for(var e=d.gd,f=new g.ja(0),h=d.ld;-1!=h;h=d.ve(h))for(var k=d.Ob(h);-1!=k;k=d.Sb(k))for(var m=d.Ya(k),n=0,p=d.Ka(k);n<p;m=d.V(m),n++)f.add(m);var q=new l(b,d);f.Wd(0,e,function(za,ya){return q.iM(za,ya)});b=[];var r=[],t=d.Hd(),v=d.Hd();h=d.ld;k=d.ve(h);p=new g.h;var M=new g.h,
W=f.get(0),U=d.cd(W),X=d.Rf(U);d.D(W,p);var ia=1;for(m=0;ia<e-1;){var ja=!1;for(n=ia;n<e;n++)if(n!=m){var ka=f.get(n),sa=d.cd(ka),ta=d.Rf(sa);d.D(ka,M);if(p.rb(M))X==h&&ta==k&&(ja=a.mM(t,v,d,b,r,U,W,sa,ka));else break}if(ja||m==ia-1){ja&&m==ia-1&&ia--;if(++m==e)break;W=f.get(m);U=d.cd(W);X=d.Rf(U);d.D(W,p)}ja||(ia=m+1)}e=[];for(h=d.ld;-1!=h;h=d.ve(h))for(k=d.Ob(h);-1!=k;k=d.Sb(k))for(f=d.Ya(k),n=0,p=d.Ka(k);n<p;f=d.V(f),n++){m=d.Qa(f,v);if(0<=m)for(;m<r.length&&r[m].tg==f;)e.push(r[m++]);m=d.Qa(f,
t);if(0<=m)for(;m<b.length&&b[m].tg==f;)e.push(b[m++])}d.Ud(t);d.Ud(v);return e};a.mM=function(b,d,e,f,h,k,m,n,p){var q=e.sj(k),r=e.sj(n),t=e.Ya(k),v=e.Ya(n),M=e.Na(m),W=e.Na(p),U=!1,X=!1,ia=!1,ja=!1;m!=t&&(p!=v&&(U=a.nM(b,e,f,k,M,n,W)),p!=r&&(X=a.oM(b,e,f,k,M,n,p)));m!=q&&(p!=v&&(ia=a.pM(d,e,h,k,m,n,W,t)),p!=r&&(ja=a.qM(d,e,h,k,m,n,p,t)));U&&X&&ia?(b=f.length-1,2==h[ja?h.length-2:h.length-1].Fi&&(f[b-1]=f[b],--f.length)):U&&X&&ja&&2==h[h.length-1].Fi&&(h=f[f.length-1],--f.length,e.Qa(h.tg,b)==f.length&&
e.Sa(h.tg,b,-1));return U||X||ia||ja};a.nM=function(b,d,e,f,h,k,m){var n=new g.zb,p=new g.zb,q=[0,0],r=[0,0],t=d.cc(h);null==t&&(d.fd(h,n),t=n);n=d.cc(m);null==n&&(d.fd(m,p),n=p);t=t.Fa(n,null,q,r,0);2>t&&(f=new c(h,f,q[0],NaN,t,m,k,r[0],NaN),e.push(f),f=d.Qa(h,b),0>f&&d.Sa(h,b,e.length-1));return!0};a.oM=function(b,d,e,f,h,k,m){var n=new g.zb,p=new g.zb,q=[0,0],r=[0,0],t=d.cc(h);null==t&&(d.fd(h,n),t=n);n=d.cc(m);null==n&&(d.fd(m,p),n=p);t=t.Fa(n,null,q,r,0);return 2>t?(f=new c(h,f,q[0],NaN,t,m,
k,r[0],NaN),e.push(f),f=d.Qa(h,b),0>f&&d.Sa(h,b,e.length-1),!0):!1};a.pM=function(b,d,e,f,h,k,m,n){var p=new g.zb,q=new g.zb,r=[0,0],t=[0,0],v=d.cc(h);null==v&&(d.fd(h,p),v=p);p=d.cc(m);null==p&&(d.fd(m,q),p=q);v=v.Fa(p,null,r,t,0);if(2==v)return f=new c(h,f,r[0],r[1],v,m,k,t[0],t[1]),e.push(f),f=d.Qa(h,b),0>f&&d.Sa(h,b,e.length-1),!0;q=!1;h==n&&(f=new c(h,f,r[0],NaN,v,m,k,t[0],NaN),e.push(f),f=d.Qa(h,b),0>f&&d.Sa(h,b,e.length-1),q=!0);return q};a.qM=function(b,d,e,f,h,k,m,n){var p=new g.zb,q=new g.zb,
r=[0,0],t=[0,0],v=d.cc(h);null==v&&(d.fd(h,p),v=p);p=d.cc(m);null==p&&(d.fd(m,q),p=q);v=v.Fa(p,null,r,t,0);if(2==v)return f=new c(h,f,r[0],r[1],v,m,k,t[0],t[1]),e.push(f),f=d.Qa(h,b),0>f&&d.Sa(h,b,e.length-1),!0;q=!1;h==n&&(f=new c(h,f,r[0],NaN,v,m,k,t[0],NaN),e.push(f),f=d.Qa(h,b),0>f&&d.Sa(h,b,e.length-1),q=!0);return q};a.VL=function(b,d,e,f){var h=[];h[0]=new g.h;h[1]=new g.h;h[2]=new g.h;h[3]=new g.h;var k=new g.h,m=new g.h,n=new g.h,p=new g.h,q=null;null!=f&&(q=new g.hg,q.Pr());var r=0,t=null,
v=new g.zb;new g.zb;for(var M=e.Ob(e.ld);-1!=M;M=e.Sb(M)){for(var W=4,U=-1,X=-1,ia=-1,ja=-1,ka=NaN,sa=!0,ta=!1,za=!0,ya=!0,Ia=!0,Ga=0,Oa=M,Pa=0,Ya=e.Ya(M),ab=e.Ka(M),fb=0;fb<ab;Ya=e.V(Ya),fb++){var db=e.cc(Ya);if(null==db){if(!e.fd(Ya,v))continue;db=v}-1==X&&(X=Ya);for(var Wa=0;r<d.length&&Ya==d[r].tg;){U=d[r].Os;var Za=d[r].tg,Va=d[r].IA,eb=d[r].Nm,cb=d[r].Cl,hb=d[r].NH;if(2==d[r].Fi){if(ta||(Oa=U,X=Za,Pa=Va,ia=eb,ja=cb,ka=hb,W=2,null!=f?t=new g.Ua:Ga=0,Ia=!1,ya=!0),Va=d[r].MH,hb=d[r].ET,null!=f?
(db.bh(Wa,d[r].MH,q),t.oc(q.get(),ya)):Ga++,Wa=Va,ta=!0,ya=sa=!1,r+1==d.length||2!=d[r+1].Fi||d[r+1].tg==Za&&d[r+1].IA!=Wa){if(null!=f){var $a=new u(t,2,U,Za,Va,W,Oa,X,Pa,eb,cb,hb,ia,ja,ka);f.push($a)}else null.add(Ga);Oa=U;X=Za;Pa=Va;ia=eb;ja=cb;ka=hb;W=2;ta=sa=!1;ya=Ia=!0}}else{var gb=e.V(Za);if(r<d.length-1&&d[r+1].tg==gb&&d[r+1].Cl==cb&&2==d[r+1].Fi)Va!=Wa&&(Ia&&(null!=f?t=new g.Ua:Ga=0),sa=0<r&&d[r-1].Os==U?1==W?0:0==W?1:3:3,null!=f?(db.bh(Wa,Va,q),t.oc(q.get(),ya),$a=new u(t,sa,U,Za,Va,W,Oa,
X,Pa,eb,cb,hb,ia,ja,ka),f.push($a)):(Ga++,null.add(Ga)),Wa=Va,Oa=U,X=Za,Pa=Va,ia=eb,ja=cb,ka=hb,W=sa,sa=za=!1,ya=Ia=!0);else if(!a.uM(b,e,d,r,k,m)){a.rM(e,d,r,M,Ya,n,p);var bb=!1;gb=!1;$a=!0;if(!(k.rb(n)||m.rb(n)||k.rb(p)||m.rb(p))){h[0].N(k);h[1].N(m);h[2].N(n);h[3].N(p);h.sort(g.h.ou);var ib=h[0],jb=h[1],kb=h[2],lb=h[3];ib.rb(k)?jb.rb(m)?b?(gb=bb=!0,$a=!1):bb=!1:lb.rb(m)?b?$a=gb=bb=!0:bb=!1:(bb=!0,$a=jb.rb(n)):jb.rb(k)?kb.rb(m)?b?(gb=bb=!0,$a=!1):bb=!1:ib.rb(m)?b?$a=gb=bb=!0:bb=!1:(bb=!0,$a=kb.rb(n)):
kb.rb(k)?lb.rb(m)?b?(gb=bb=!0,$a=!1):bb=!1:jb.rb(m)?b?$a=gb=bb=!0:bb=!1:(bb=!0,$a=lb.rb(n)):ib.rb(m)?b?(gb=bb=!0,$a=!1):bb=!1:kb.rb(m)?b?$a=gb=bb=!0:bb=!1:(bb=!0,$a=ib.rb(n))}if(bb){bb=Ya==Za;if(Va!=Wa||bb&&0==Wa)Ia&&(null!=f?t=new g.Ua:Ga=0),null!=f?(db.bh(Wa,Va,q),t.oc(q.get(),ya)):Ga++;if($a)if(1!=W){if(Va!=Wa||bb&&0==Wa)null!=f?($a=new u(t,1,U,Za,Va,W,Oa,X,Pa,eb,cb,hb,ia,ja,ka),f.push($a)):null.add(Ga);if(!gb)W=1;else if(r>=d.length-2||d[r+2].Os!=U)W=0}else{if(Va!=Wa||bb&&0==Wa)null!=f?($a=new u(t,
3,U,Za,Va,W,Oa,X,Pa,eb,cb,hb,ia,ja,ka),f.push($a)):null.add(Ga);W=1}else if(0!=W){if(Va!=Wa||bb&&0==Wa)null!=f?($a=new u(t,0,U,Za,Va,W,Oa,X,Pa,eb,cb,hb,ia,ja,ka),f.push($a)):null.add(Ga);if(!gb)W=0;else if(r>=d.length-2||d[r+2].Os!=U)W=1}else{if(Va!=Wa||bb&&0==Wa)null!=f?($a=new u(t,3,U,Za,Va,W,Oa,X,Pa,eb,cb,hb,ia,ja,ka),f.push($a)):null.add(Ga);W=0}if(Va!=Wa||bb&&0==Wa)Wa=Va,Oa=U,X=Za,Pa=Va,ia=eb,ja=cb,ka=hb,sa=za=!1,ya=Ia=!0}}}r++}1!=Wa&&(Ia&&(null!=f?t=new g.Ua:Ga=0),null!=f?(db.bh(Wa,1,q),t.oc(q.get(),
ya)):Ga++,ya=Ia=!1,za=!0)}za&&(Va=1,Za=e.sj(M),Za=e.Na(Za),cb=eb=-1,hb=NaN,sa?null!=f?($a=new u(t,4,U,Za,Va,W,Oa,X,Pa,eb,cb,hb,ia,ja,ka),f.push($a)):null.add(Ga):(sa=1==W?0:0==W?1:3,null!=f?($a=new u(t,sa,U,Za,Va,W,Oa,X,Pa,eb,cb,hb,ia,ja,ka),f.push($a)):null.add(Ga)))}};a.uM=function(b,d,e,f,h,k){var m=e[f].NH;if(1==m)return a.sM(b,d,e,f,h,k);if(0==m)return a.tM(b,d,e,f,h,k);throw g.i.Ra();};a.sM=function(b,d,e,f,h,k){var m=new g.zb,n=e[f].tg,p=e[f].Nm,q=e[f].Cl,r=-1,t=-1,v=-1,M=-1;if(!b&&0<f){var W=
e[f-1];r=W.tg;t=W.Nm;v=W.Cl;M=W.Fi}var U=-1,X=-1,ia=-1,ja=-1;f<e.length-1&&(W=e[f+1],U=W.tg,X=W.Nm,ia=W.Cl,ja=W.Fi);var ka=d.V(n);W=d.V(q);if(!b)return 0<f&&r==n&&t==p&&v==W&&2==M||f<e.length-1&&U==ka&&X==p&&ia==W&&2==ja?(b=d.cc(q),null==b&&(d.fd(q,m),b=m),k.N(b.jg()),h.mt(k),k.normalize(),h.normalize(),!1):f<e.length-1&&U==n&&X==p&&ia==W?(b=d.cc(q),null==b&&(d.fd(q,m),b=m),h.N(b.jg()),b=d.cc(W),null==b&&(d.fd(W,m),b=m),k.N(b.jg()),h.Uq(),k.normalize(),h.normalize(),!1):!0;if(f==e.length-1||U!=n||
X!=p||ia!=W||2==ja)return b=d.cc(q),null==b&&(d.fd(q,m),b=m),k.N(b.jg()),h.mt(k),k.normalize(),h.normalize(),!1;b=d.cc(q);null==b&&(d.fd(q,m),b=m);h.N(b.jg());b=d.cc(W);null==b&&(d.fd(W,m),b=m);k.N(b.jg());h.Uq();k.normalize();h.normalize();return!1};a.tM=function(b,d,e,f,h,k){var m=new g.zb,n=e[f].tg,p=e[f].Nm,q=e[f].Cl,r=-1,t=-1,v=-1,M=-1;if(!b&&f<e.length-1){var W=e[f+1];r=W.tg;t=W.Nm;v=W.Cl;M=W.Fi}var U=-1,X=-1,ia=-1;W=-1;0<f&&(W=e[f-1],U=W.tg,X=W.Nm,ia=W.Cl,W=W.Fi);var ja=d.V(n),ka=d.Na(q);return b?
0==f||U!=n||X!=p||ia!=ka||2==W?(b=d.cc(q),null==b&&(d.fd(q,m),b=m),k.N(b.jg()),h.mt(k),k.normalize(),h.normalize(),!1):!0:0<f&&U==n&&X==p&&ia==ka&&2==W||f<e.length-1&&r==ja&&t==p&&v==ka&&2==M?(b=d.cc(q),null==b&&(d.fd(q,m),b=m),k.N(b.jg()),h.mt(k),k.normalize(),h.normalize(),!1):!0};a.rM=function(b,d,e,f,h,k,m){var n=new g.zb,p=b.cc(h);null==p&&(b.fd(h,n),p=n);e=d[e];d=e.tg;e=e.IA;h=b.V(d);if(1==e)k.N(p.jg()),-1!=h&&h!=b.sj(f)?(p=b.cc(h),null==p&&(b.fd(h,n),p=n),m.N(p.jg()),p=b.cc(d),null==p&&b.fd(d,
n)):m.N(k),k.Uq(),m.normalize(),k.normalize();else if(0==e)m.N(p.jg()),k.mt(m),m.normalize(),k.normalize();else throw g.i.Ra();};return a}()})(L||(L={}));(function(g){(function(f){f[f.Linear=0]="Linear";f[f.Angular=1]="Angular";f[f.Area=2]="Area"})(g.UL||(g.UL={}));var u=function(){function f(h,k,m){this.od=k;this.bi=m;this.pA=h}f.prototype.Nb=function(h){return h instanceof f?this.bi===h.bi:!1};f.TF=function(h){return 0!==h.od?null:-1===h.pA?new f(-1,2,h.bi*h.bi):f.$g(d[h.pA])};f.$g=function(h){h=
b[h];return void 0===h?null:h};f.RO=function(h,k,m){var n=null;if(void 0!==m&&null!==m)try{"EPSG"===m.values[0]&&(n=f.$g(parseInt(m.values[1])))}catch(p){}null===n&&(n=new f(-1,h,k));return n};f.prototype.Fc=function(){return this.pA};f.prototype.uF=function(h){if(h.od!=this.od)throw g.i.Hb();return this.bi/h.bi};f.Oh=function(h,k,m){return k.uF(m)*h};f.PE=function(h,k,m,n,p){m=m.uF(n);for(n=0;n<k;n++)p[n]=h[n]*m};return f}();g.Uc=u;for(var l=[109401,1E4,109402,4046.8564224,109403,4046.87260987425,
109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1E6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,
109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,
109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1E-4,109452,1E-6,109453,6.4516E-4,109454,6.451625806477421E-4,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25E8,109461,225E8,109462,.7168473118308245,109463,100,109464,1.244521604938272E-7,109465,1E-12,109466,1E-18],c=[1031,4.84813681109536E-9,9101,1,9102,.0174532925199433,9103,2.908882086657216E-4,9104,4.84813681109536E-6,9105,
.01570796326794897,9106,.01570796326794897,9109,1E-6,9112,1.570796326794897E-4,9113,1.570796326794897E-6,9114,9.817477042468104E-4],a=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1E3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,
9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,
109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,
5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,3.527777777777778E-4,109464,109017,1E-6,109465,109018,1E-9,109466,109030,5E4,109460,109031,15E4,109461],b=[],d=[],e=0;e<l.length;e+=2)b[l[e]]=new u(l[e],2,l[e+1]);l=null;for(e=0;e<c.length;e+=2)b[c[e]]=new u(c[e],1,c[e+1]);c=null;for(e=0;e<a.length;e+=3)b[a[e]]=new u(a[e],0,a[e+1]),d[a[e]]=a[e+2];a=null})(L||(L={}));(function(g){var u=function(){function l(){this.yb=this.pb=
0}l.prototype.set=function(c,a){void 0!==a?(this.pb=c,this.yb=a):"number"===typeof c?(this.pb=c,this.yb=0):(this.pb=c.pb,this.yb=c.yb)};l.prototype.value=function(){return this.pb};l.prototype.add=function(c){var a=this.pb+c.pb;c=this.yb+c.yb+2.220446049250313E-16*Math.abs(a);this.pb=a;this.yb=c};l.prototype.cN=function(){var c=this.pb+1,a=this.yb+2.220446049250313E-16*Math.abs(c);this.pb=c;this.yb=a};l.prototype.WM=function(c,a){this.pb=c.pb+a.pb;this.yb=c.yb+a.yb+2.220446049250313E-16*Math.abs(this.pb)};
l.prototype.sub=function(c){if("number"===typeof c){var a=this.pb-c;c=this.yb+2.220446049250313E-16*Math.abs(a)}else a=this.pb-c.pb,c=this.yb+c.yb+2.220446049250313E-16*Math.abs(a);this.pb=a;this.yb=c};l.prototype.Ag=function(c){var a=this.pb*c.pb;this.yb=this.yb*Math.abs(c.pb)+c.yb*Math.abs(this.pb)+this.yb*c.yb+2.220446049250313E-16*Math.abs(a);this.pb=a};l.prototype.Oo=function(c){var a=this.pb*c;this.yb=this.yb*Math.abs(c)+2.220446049250313E-16*Math.abs(a);this.pb=a};l.prototype.Ml=function(c,
a){var b=Math.abs(c.pb)*Math.abs(a.pb);this.yb=c.yb*Math.abs(a.pb)+a.yb*Math.abs(c.pb)+c.yb*a.yb+2.220446049250313E-16*Math.abs(b);this.pb=b};l.prototype.lm=function(c){var a=Math.abs(c.pb),b=this.pb/c.pb,d=(this.yb+Math.abs(b)*c.yb)/a;c.yb>.01*a&&(c=c.yb/a,d*=1+(1+c)*c);this.pb=b;this.yb=d+2.220446049250313E-16*Math.abs(b)};l.prototype.sqrt=function(){if(0<=this.pb){var c=Math.sqrt(this.pb),a=this.pb>10*this.yb?.5*this.yb/c:this.pb>this.yb?c-Math.sqrt(this.pb-this.yb):Math.max(c,Math.sqrt(this.pb+
this.yb)-c);a+=2.220446049250313E-16*Math.abs(c)}else this.pb<-1*this.yb?a=c=NaN:(c=0,a=Math.sqrt(this.yb));this.pb=c;this.yb=a};l.prototype.sin=function(c){var a=Math.sin(c.pb),b=Math.cos(c.pb);this.pb=a;a=Math.abs(a);this.yb=(Math.abs(b)+.5*a*c.yb)*c.yb+2.220446049250313E-16*a};l.prototype.cos=function(c){var a=Math.sin(c.pb),b=Math.cos(c.pb);this.pb=b;b=Math.abs(b);this.yb=(Math.abs(a)+.5*b*c.yb)*c.yb+2.220446049250313E-16*b};l.prototype.qg=function(){return Math.abs(this.pb)<=this.yb};l.prototype.qs=
function(){return this.qg()&&0!=this.yb};return l}();g.Xb=u})(L||(L={}));var qa=new L.h,va=new L.h,Ca=new L.h,Aa=new L.h,Ma=new L.h;(function(g){var u;(function(c){c[c.closedPath=1]="closedPath";c[c.exteriorPath=2]="exteriorPath";c[c.ringAreaValid=4]="ringAreaValid"})(u||(u={}));var l=function(){function c(a,b,d,e,f,h,k){void 0!==b?(this.ib=a,this.ck=b,this.cl=d,this.ji=e,this.za=h,this.cA=k,this.fw=f):(this.ib=a.ib,this.ck=a.ck,this.cl=a.cl,this.ji=a.ji,this.za=a.za,this.cA=a.cA,this.fw=a.fw);this.UG=
!0}c.prototype.next=function(){return this.UG?(this.UG=!1,this.ji):-1!=this.ji?(this.ji=this.ib.V(this.ji),this.za++,-1!=this.ji&&this.ji!=this.fw?this.ji:this.QT()):-1};c.prototype.QT=function(){this.cl=this.ib.Sb(this.cl);for(this.za=0;-1!=this.ck;){for(;-1!=this.cl;this.cl=this.ib.Sb(this.cl))if(this.fw=this.ji=this.ib.Ya(this.cl),-1!=this.ji)return this.ji;this.ck=this.ib.ve(this.ck);if(-1==this.ck)break;if(!this.cA||g.ba.Ic(this.ib.jc(this.ck)))this.cl=this.ib.Ob(this.ck)}return-1};c.sP=function(a,
b,d,e,f,h,k){return new c(a,b,d,e,f,h,k)};return c}();g.nY=l;u=function(){function c(){this.ko=this.Cm=this.wk=this.dd=this.Ck=this.wo=this.Pi=this.md=this.ci=this.Tg=this.Te=this.Kl=null;this.rw=this.ld=-1;this.gd=0;this.aA=!1;this.ht=this.it=this.wb=null}c.prototype.Th=function(a){return null!=this.Te?this.Te[a]:null};c.prototype.Yg=function(a,b){if(null==this.Te){if(null==b)return;this.Te=[];for(var d=0,e=this.wb.I();d<e;d++)this.Te.push(null)}this.Te[a]=b};c.prototype.cp=function(a,b){this.md.T(a,
1,b)};c.prototype.bp=function(a,b){this.md.T(a,2,b)};c.prototype.OB=function(a,b){this.md.T(a,6,b)};c.prototype.Up=function(a){return this.md.U(a,6)};c.prototype.fx=function(a,b){this.md.T(a,7,b)};c.prototype.rv=function(a){return this.md.U(a,0)};c.prototype.GJ=function(a,b){this.dd.T(a,1,b)};c.prototype.KJ=function(a,b){this.dd.T(a,0,b)};c.prototype.BF=function(a){return this.dd.U(a,7)};c.prototype.$o=function(a,b){this.dd.T(a,3,b)};c.prototype.ap=function(a,b){this.dd.T(a,4,b)};c.prototype.kU=function(a){null==
this.dd&&(this.dd=new g.ad(8));var b=this.dd.De();this.dd.T(b,2,a);this.dd.T(b,5,0);this.dd.T(b,6,0);this.dd.T(b,7,b);return b};c.prototype.GQ=function(a){this.dd.kd(a)};c.prototype.mU=function(a){null==this.md&&(this.md=new g.ad(8),this.ud=new g.ad(5),this.Pi=new g.ce(0),this.wo=new g.ce(0));var b=this.md.De();this.md.T(b,0,b);this.md.T(b,3,0);this.md.T(b,6,0);this.fx(b,a);b>=this.Pi.size&&(a=16>b?16:g.P.truncate(3*b/2),this.Pi.resize(a),this.wo.resize(a));this.Pi.set(b,0);this.wo.set(b,0);return b};
c.prototype.kF=function(a){this.md.kd(a)};c.prototype.Qy=function(a){this.ud.kd(a);this.gd--};c.prototype.gI=function(a){null==this.md&&(this.md=new g.ad(8),this.ud=new g.ad(5),this.Pi=new g.ce(0),this.wo=new g.ce(0));var b=this.ud.De(),d=0<=a?a:b;this.ud.T(b,0,d);if(0>a){if(d>=this.wb.I()){a=16>d?16:g.P.truncate(3*d/2);this.wb.resize(a);if(null!=this.Te)for(var e=0;e<a;e++)this.Te.push(null);null!=this.Tg&&this.Tg.resize(a);this.it=this.wb.vb(0)}this.wb.Db(d,-1E38,-1E38);null!=this.Te&&(this.Te[d]=
null);null!=this.Tg&&this.Tg.write(d,1)}this.ud.T(b,4,2*d);this.gd++;return b};c.prototype.xj=function(a,b,d){var e=-1!=b?this.Na(b):this.sj(a),f=-1!=e?this.V(e):-1,h=this.gI(null==d?this.gd:-1),k=this.Va(h);null!=d&&this.wb.Ht(k,d);this.bj(h,a);this.Cc(h,f);this.Dc(h,e);-1!=f&&this.Dc(f,h);-1!=e&&this.Cc(e,h);d=this.ec(a);e=this.Ya(a);-1==b&&this.Xg(a,h);b==e&&this.Kf(a,h);d&&-1==f&&(this.Cc(h,h),this.Dc(h,h));this.Wj(a,this.Ka(a)+1);a=this.Rf(a);this.Uj(a,this.I(a)+1);return h};c.prototype.pm=function(){null==
this.ko&&(this.ko=new g.Ta(this.wb.description));return this.ko};c.prototype.Zo=function(a,b){this.dd.T(a,2,this.dd.U(a,2)&-134217729||(1==b?134217728:0))};c.prototype.Jn=function(a){return 0!=(this.dd.U(a,2)&134217728)?1:0};c.prototype.$M=function(a){var b=this.Kg(a.K(),a.description);1736==a.K()&&this.Zo(b,a.Jn());this.MD(b,a);return b};c.prototype.aN=function(a){var b=this.Kg(a.K(),a.description);this.ND(b,a);return b};c.prototype.NV=function(a,b){null==this.md&&(this.md=new g.ad(8),this.ud=new g.ad(5),
this.Pi=new g.ce(0),this.wo=new g.ce(0));this.md.Ee(this.md.Jg+a);this.ud.Ee(this.ud.Jg+b);this.Pi.Jb(this.Pi.size+a);this.wo.Jb(this.wo.size+a)};c.prototype.MD=function(a,b){this.NV(b.ea(),b.I());this.Kl.Gd(b,0,b.I());this.it=this.wb.vb(0);for(var d=null!=this.Te&&null!=b.Se,e=0,f=b.ea();e<f;e++)if(!(2>b.Ka(e))){var h=this.wf(a,-1);this.mn(h,b.ec(e));for(var k=b.Ca(e),m=b.Wc(e);k<m;k++){var n=this.xj(h,-1,null);if(d)if(n=this.Va(n),0!=(b.RF(k)&1))this.Yg(n,null);else{var p=new g.hg;b.cc(k,p,!0);
this.Yg(n,p.get())}}}};c.prototype.ND=function(a,b){this.Kl.Gd(b,0,b.I());this.it=this.wb.vb(0);a=this.wf(a,-1);var d=0;for(b=b.I();d<b;d++)this.xj(a,-1,null)};c.prototype.BX=function(a,b,d){var e=this.V(a);if(-1==e)throw g.i.Ra();for(var f=this.pm(),h=this.cd(a),k=0,m=b.ql(d);k<m;k++){var n=this.Va(a),p=this.V(a),q=b.Xp(d,k);0==k&&(q.Uo(f),this.Eh(a,f));322==q.K()?this.Yg(n,null):this.Yg(n,g.ba.ig(q));q.Qo(f);k<m-1?a=this.xj(h,p,f):this.Eh(e,f)}};c.prototype.AX=function(a,b,d){var e=this.V(a);if(-1==
e)throw g.i.Ra();for(var f=this.pm(),h=this.cd(a),k=0,m=b.ql(d);k<m;k++){var n=this.Va(a),p=this.V(a),q=b.Xp(d,m-k-1);0==k&&(q.Qo(f),this.Eh(a,f));322==q.K()?this.Yg(n,null):this.Yg(n,g.ba.ig(q));q.Uo(f);k<m-1?a=this.xj(h,p,f):this.Eh(e,f)}};c.prototype.AF=function(){var a=new g.l;a.Pa();for(var b=this.$q(),d=new g.h,e=!0,f=b.next();-1!=f;f=b.next())this.D(f,d),e?a.$b(d.x,d.y):a.Lk(d.x,d.y),e=!1;return a};c.prototype.Ib=function(a){var b=a.K();if(g.ba.Ic(b))return this.$M(a);if(550==b)return this.aN(a);
throw g.i.Ra();};c.prototype.mN=function(a,b){var d=b.K();if(g.ba.Ic(d))this.MD(a,b);else if(550==d)this.ND(a,b);else throw g.i.Ra();};c.prototype.eN=function(a,b){var d=this.Kg(1736,a.description);if(2>a.Ka(b))return d;this.Kl.Gd(a,a.Ca(b),a.Wc(b));this.it=this.wb.vb(0);var e=this.wf(d,-1);this.mn(e,a.ec(b)||!0);var f=null!=this.Te&&null!=a.Se,h=a.Ca(b);for(b=a.Wc(b);h<b;h++){var k=this.xj(e,-1,null);if(f)if(k=this.Va(k),0!=(a.RF(h)&1))this.Yg(k,null);else{var m=new g.hg;a.cc(h,m,!0);this.Yg(k,m.get())}}return d};
c.prototype.Ke=function(a){var b=this.jc(a),d=g.RK.Kg(b,this.Kl.description),e=this.I(a);if(0==e)return d;if(g.ba.Ic(b)){b=this.ea(a);for(var f=g.Zc.Ph(b+1),h=g.Zc.Nr(b+1,0),k=d.description,m=0,n=k.Ba;m<n;m++){for(var p=k.qd(m),q=g.ua.Wa(p),r=g.Zc.QE(p,e),t=this.wb.vb(p),v=0,M=0,W=0,U=this.Ob(a);-1!=U;U=this.Sb(U)){var X=0;this.ec(U)&&(X|=1);this.OS(U)&&(X|=4);0!=X&&h.rJ(M,X);var ia=this.Ka(U);f.write(M++,W);W+=ia;if(0==p){ia=t;var ja=r,ka=new g.h;for(X=this.Ya(U);v<W;X=this.V(X),v++){var sa=this.Va(X);
ia.uc(2*sa,ka);ja.Ut(2*v,ka)}}else for(X=this.Ya(U);v<W;X=this.V(X),v++)for(sa=this.Va(X),ja=0;ja<q;ja++)ka=t.Bg(sa*q+ja),r.rr(v*q+ja,ka)}d.kn(p,r);f.write(b,e)}d.HJ(h);d.IJ(f);d.Qc(16777215)}else if(550==b){k=d.description;d.resize(e);m=0;for(n=k.Ba;m<n;m++){p=k.qd(m);q=g.ua.Wa(p);r=d.vb(p);t=this.wb.vb(p);v=0;U=this.Ob(a);ia=this.Ka(U);for(X=this.Ya(U);v<ia;X=this.V(X),v++)for(sa=this.Va(X),ja=0;ja<q;ja++)ka=t.Bg(sa*q+ja),r.rr(v*q+ja,ka);d.kn(p,r)}d.Qc(16777215)}return d};c.prototype.vB=function(a){for(var b=
this.Ob(a);-1!=b;b=this.ar(b));b=this.GR(a);var d=this.ve(a);-1!=b?this.GJ(b,d):this.ld=d;-1!=d?this.KJ(d,b):this.rw=b;this.GQ(a)};c.prototype.Kg=function(a,b){return void 0===b?this.SE(a,g.ee.og()):this.SE(a,b)};c.prototype.SE=function(a,b){a=this.kU(a);null==this.wb?this.wb=this.Kl=new g.de(b):this.Kl.Ll(b);this.ht=this.Kl.description;this.aA=1<this.ht.Ba;-1==this.ld?this.ld=a:(this.KJ(a,this.rw),this.GJ(this.rw,a));return this.rw=a};c.prototype.ve=function(a){return this.dd.U(a,1)};c.prototype.GR=
function(a){return this.dd.U(a,0)};c.prototype.jc=function(a){return this.dd.U(a,2)&2147483647};c.prototype.zJ=function(a,b,d){b=this.wk[b];a=this.BF(a);a>=b.size&&b.resize(Math.max(g.P.truncate(1.25*a),16),-1);b.write(a,d)};c.prototype.CF=function(a,b){a=this.BF(a);b=this.wk[b];return a<b.size?b.read(a):-1};c.prototype.TE=function(){null==this.wk&&(this.wk=[]);for(var a=0;a<this.wk.length;a++)if(null==this.wk[a])return this.wk[a]=g.Zc.Ph(0),a;this.wk.push(g.Zc.Ph(0));return this.wk.length-1};c.prototype.nW=
function(a){this.wk[a]=null};c.prototype.Ob=function(a){return this.dd.U(a,3)};c.prototype.lv=function(a){return this.dd.U(a,4)};c.prototype.I=function(a){return this.dd.U(a,5)};c.prototype.ea=function(a){return this.dd.U(a,6)};c.prototype.Ip=function(a,b,d){for(var e=0,f=this.ld;-1!=f;f=this.ve(f)){var h=this.jc(f);if(g.ba.Ic(h)&&(!d||1736==h)){h=1736==this.jc(f);for(var k=this.Ob(f);-1!=k;){for(var m=0,n=this.Ya(k);m<g.P.truncate(this.Ka(k)/2);){var p=this.V(n);if(-1==p)break;var q=this.Va(n),r=
this.Th(q);null!=r?q=r.Rb():(r=this.Va(p),q=this.wb.Ar(q,r));q<=a?(0==q?0==e&&(e=-1):e=1,p!=this.sj(k)&&(this.eC(p,n),this.pd(p,!0))):n=this.V(n);m++}m=this.Ya(k);for(n=this.ec(k)?m:this.sj(k);0<this.Ka(k);)if(p=this.Na(n),-1!=p){var t=this.Va(p);r=this.Th(t);null!=r?q=r.Rb():(q=this.Va(n),q=this.wb.Ar(q,t));if(q<=a)0==q?0==e&&(e=-1):e=1,this.eC(p,n),this.pd(p,!1),m==p&&(m=this.Ya(k));else if(n=this.Na(n),n==m)break}else{this.pd(n,!0);0==e&&(e=-1);break}n=this.Ka(k);b&&(h?3>n:2>n)?(k=this.ar(k),e=
0<n?1:0==e?-1:e):k=this.Sb(k)}}}return e};c.prototype.eC=function(a,b){var d=this.Va(a),e=this.Va(b);null!=this.Tg&&(d=this.Tg.read(d),this.Tg.write(e,d));if(null!=this.ci)for(e=0,d=this.ci.length;e<d;e++)if(null!=this.ci[e]){var f=this.Qa(a,e);-1!=f&&this.Sa(b,e,f)}};c.prototype.Wl=function(a,b,d){var e=0,f=this.V(a);if(-1==f)throw g.i.Ra();for(var h=this.Va(a),k=this.Va(f),m=this.Th(h),n=null==m?this.wb.Ar(h,k):m.Rb(),p=0;p<d;p++){var q=b[p];if(0<q&&1>q){var r=q;null!=m&&(r=0<n?m.Sx(q)/n:0);this.wb.cD(h,
k,r,this.pm());var t=this.xj(this.cd(a),f,this.pm());e++;if(null!=m){var v=m.el(0,q);r=this.Va(this.Na(t));this.Yg(r,v);this.mf(t,v.xc());if(p==d-1||1==b[p+1])q=m.el(q,1),this.Yg(r,q)}}}return e};c.prototype.zX=function(a,b,d){var e=0,f=this.V(a);if(-1==f)throw g.i.ga("internal error");var h=this.Va(a),k=this.Va(f),m=this.Th(h),n=null==m?this.wb.Ar(h,k):m.Rb(),p=0;a=this.cd(a);for(var q=0;q<d;q++){var r=b[q];if(p<r&&1>r){var t=r;null!=m&&(t=0<n?m.Sx(r)/n:0);this.wb.cD(h,k,t,this.pm());t=this.pS(a,
f,this.pm());e++;if(null!=m){p=m.el(p,r);var v=this.Va(this.Na(t));this.Yg(v,p);this.Db(t,p.qa,p.ma);if(q==d-1||1==b[q+1])p=m.el(r,1),t=this.Va(t),this.Yg(t,p)}}p=r}return e};c.prototype.pS=function(a,b,d){var e=-1!=b?this.Na(b):this.sj(a),f=-1!=e?this.V(e):-1,h=this.gI(null==d?this.gd:-1),k=this.Va(h);null!=d&&this.wb.Ht(k,d);this.bj(h,a);this.Cc(h,f);this.Dc(h,e);-1!=f&&this.Dc(f,h);-1!=e&&this.Cc(e,h);d=this.ec(a);e=this.Ya(a);-1==b&&this.Xg(a,h);b==e&&(d&&-1!=e||this.Kf(a,h));d&&-1==f&&(this.Cc(h,
h),this.Dc(h,h));this.Wj(a,this.Ka(a)+1);a=this.Rf(a);this.Uj(a,this.I(a)+1);return h};c.prototype.mE=function(a,b,d){var e=this.Va(b),f=this.Va(d);if(0>e||f>this.gd-1)throw g.i.O("invalid call");if(e>f&&!this.ec(a))throw g.i.O("cannot iterate across an open path");for(a=0;b!=d;b=this.V(b))e=this.Va(b),f=this.Th(e),null!=f?a+=f.Rb():(f=this.Va(this.V(b)),a+=this.wb.Ar(e,f));return a};c.prototype.Eh=function(a,b){var d=this.Va(a);this.wb.Ht(d,b);d=this.Th(d);null!=d&&d.setStart(b);a=this.Na(a);-1!=
a&&(a=this.Va(a),null!=this.Th(a)&&d.setEnd(b))};c.prototype.Wi=function(a,b){a=this.Va(a);this.wb.we(a,b)};c.prototype.mf=function(a,b){this.Db(a,b.x,b.y)};c.prototype.Db=function(a,b,d){var e=this.Va(a);this.wb.Db(e,b,d);e=this.Th(e);null!=e&&e.SB(b,d);a=this.Na(a);-1!=a&&(a=this.Va(a),null!=this.Th(a)&&e.Sl(b,d))};c.prototype.D=function(a,b){this.wb.D(this.ud.U(a,0),b)};c.prototype.Hc=function(a,b){this.wb.Aa[0].uc(2*this.ud.U(a,0),b)};c.prototype.Oa=function(a){var b=new g.h;this.wb.D(this.ud.U(a,
0),b);return b};c.prototype.WF=function(a,b){this.it.uc(2*a,b)};c.prototype.Vc=function(a,b,d){return this.wb.Vc(a,this.Va(b),d)};c.prototype.setAttribute=function(a,b,d,e){this.wb.setAttribute(a,this.Va(b),d,e)};c.prototype.Va=function(a){return this.ud.U(a,0)};c.prototype.jh=function(){var a=new g.h;this.D(void 0,a);return a.y};c.prototype.hq=function(a,b){a=this.Va(a);b=this.Va(b);var d=this.wb.Aa[0].o;return d[2*a]===d[2*b]&&d[2*a+1]===d[2*b+1]};c.prototype.Ev=function(a,b){a=this.Va(a);var d=
this.wb.Aa[0].o;return d[2*a]===b.x&&d[2*a+1]===b.y};c.prototype.jX=function(a,b){1>b&&(b=1);if(null==this.Tg){if(1==b)return;this.Tg=g.Zc.En(this.wb.I(),1)}a=this.Va(a);a>=this.Tg.size&&this.Tg.resize(a+1,1);this.Tg.write(a,b)};c.prototype.VF=function(a){a=this.Va(a);return null==this.Tg||a>=this.Tg.size?1:this.Tg.read(a)};c.prototype.Sa=function(a,b,d){b=this.ci[b];a=this.Va(a);b.size<this.wb.I()&&b.resize(this.wb.I(),-1);b.write(a,d)};c.prototype.Qa=function(a,b){a=this.Va(a);b=this.ci[b];return a<
b.size?b.read(a):-1};c.prototype.Hd=function(){null==this.ci&&(this.ci=[]);for(var a=0;a<this.ci.length;a++)if(null==this.ci[a])return this.ci[a]=g.Zc.Ph(0,-1),a;this.ci.push(g.Zc.Ph(0,-1));return this.ci.length-1};c.prototype.Ud=function(a){this.ci[a]=null};c.prototype.cc=function(a){return null!=this.Te?(a=this.Va(a),this.Te[a]):null};c.prototype.fd=function(a,b){var d=this.ud.U(a,2);if(-1==d)return!1;if(this.aA){var e=new g.Ta;this.Wi(a,e);b.setStart(e);this.Wi(d,e);b.setEnd(e)}else this.wb.Hc(this.ud.U(a,
0),qa),b.gm(0,qa),this.wb.Hc(this.ud.U(d,0),qa),b.gm(1,qa);return!0};c.prototype.cW=function(a,b,d){if(this.aA){var e=new g.Ta;this.Wi(a,e);d.setStart(e);this.Wi(b,e);d.setEnd(e)}else this.wb.Hc(a,qa),d.gm(0,qa),this.wb.Hc(b,qa),d.gm(1,qa)};c.prototype.wf=function(a,b){if(-1!=b){if(a!=this.Rf(b))throw g.i.Ra();var d=this.ds(b)}else d=this.lv(a);var e=this.mU(a);-1!=b&&this.cp(b,e);this.bp(e,b);this.cp(e,d);-1!=d?this.bp(d,e):this.$o(a,e);-1==b&&this.ap(a,e);this.Tl(a,this.ea(a)+1);return e};c.prototype.fG=
function(a,b,d,e){a=this.wf(a,-1);for(var f=0,h=b,k=!1;h==d&&(k=!0),this.bj(h,a),f++,h=this.V(h),h!=b;);this.mn(a,!0);this.Wj(a,f);k&&(b=d);this.Kf(a,b);this.Xg(a,this.Na(b));this.ep(a,!1);null!=e&&(e[0]=k);return a};c.prototype.ar=function(a){var b=this.ds(a),d=this.Sb(a),e=this.Rf(a);-1!=b?this.bp(b,d):this.$o(e,d);-1!=d?this.cp(d,b):this.ap(e,b);this.sO(a);this.Tl(e,this.ea(e)-1);this.kF(a);return d};c.prototype.sO=function(a){var b=this.Ya(a);if(-1!=b){for(var d=0,e=this.Ka(a);d<e;d++){var f=
b;b=this.V(b);this.Qy(f)}b=this.Rf(a);this.Uj(b,this.I(b)-this.Ka(a))}this.Wj(a,0)};c.prototype.Sb=function(a){return this.md.U(a,2)};c.prototype.ds=function(a){return this.md.U(a,1)};c.prototype.Ka=function(a){return this.md.U(a,3)};c.prototype.ec=function(a){return 0!=(this.Up(a)&1)};c.prototype.mn=function(a,b){if(this.ec(a)!=b){if(0<this.Ka(a)){var d=this.Ya(a),e=this.sj(a);b?(this.Cc(e,d),this.Dc(d,e),d=this.Va(e)):(this.Cc(e,-1),this.Dc(d,-1),d=this.Va(e));this.Yg(d,null)}this.OB(a,(this.Up(a)|
1)-1|(b?1:0))}};c.prototype.Rf=function(a){return this.md.U(a,7)};c.prototype.OS=function(a){return 0!=(this.Up(a)&2)};c.prototype.JB=function(a,b){this.OB(a,(this.Up(a)|2)-2|(b?2:0))};c.prototype.qz=function(a){if(this.TS(a))return this.Pi.get(this.rv(a));var b=new g.zb,d=this.Ya(a);if(-1==d)return 0;var e=new g.h;this.D(d,e);for(var f=0,h=0,k=this.Ka(a);h<k;h++,d=this.V(d)){var m=this.cc(d);if(null==m){if(!this.fd(d,b))continue;m=b}f+=m.Rx(e.x,e.y)}this.ep(a,!0);this.Pi.set(this.rv(a),f);return f};
c.prototype.ir=function(a,b,d){b=this.Ck[b];a=this.rv(a);b.size<this.Pi.size&&b.resize(this.Pi.size,-1);b.write(a,d)};c.prototype.tj=function(a,b){a=this.rv(a);b=this.Ck[b];return a<b.size?b.read(a):-1};c.prototype.Ey=function(){null==this.Ck&&(this.Ck=[]);for(var a=0;a<this.Ck.length;a++)if(null==this.Ck[a])return this.Ck[a]=g.Zc.Ph(0),a;this.Ck.push(g.Zc.Ph(0));return this.Ck.length-1};c.prototype.wB=function(a){this.Ck[a]=null};c.prototype.PT=function(a,b,d){if(-1==d)throw g.i.O();if(b!=d){var e=
this.Sb(d),f=this.ds(d),h=this.Rf(d);-1==f?this.$o(h,e):this.bp(f,e);-1==e?this.ap(h,f):this.cp(e,f);this.Uj(h,this.I(h)-this.Ka(d));this.Tl(h,this.ea(h)-1);f=-1==b?this.lv(a):this.ds(b);this.cp(d,f);this.bp(d,b);-1==b?this.ap(a,d):this.cp(b,d);-1==f?this.$o(a,d):this.bp(f,d);this.Uj(a,this.I(a)+this.Ka(d));this.Tl(a,this.ea(a)+1);this.fx(d,a)}};c.prototype.jj=function(a,b){this.wb.we(this.Va(b),this.pm());this.xj(a,-1,this.pm())};c.prototype.pd=function(a,b){var d=this.cd(a),e=this.Na(a),f=this.V(a);
-1!=e&&this.Cc(e,f);var h=this.Ka(d);a==this.Ya(d)&&this.Kf(d,1<h?f:-1);-1!=f&&this.Dc(f,e);a==this.sj(d)&&this.Xg(d,1<h?e:-1);if(-1!=e&&-1!=f){e=this.Va(e);var k=this.Va(f);b?(b=this.Th(e),null!=b&&(e=new g.h,this.wb.D(k,e),b.Rc(e))):(k=this.Va(a),b=this.Th(k),this.Yg(e,b),null!=b&&(e=this.wb.Oa(e),b.Ec(e)))}this.Wj(d,h-1);d=this.Rf(d);this.Uj(d,this.I(d)-1);this.Qy(a);return f};c.prototype.Ya=function(a){return this.md.U(a,4)};c.prototype.sj=function(a){return this.md.U(a,5)};c.prototype.V=function(a){return this.ud.U(a,
2)};c.prototype.Na=function(a){return this.ud.U(a,1)};c.prototype.cd=function(a){return this.ud.U(a,3)};c.prototype.hc=function(a,b){return this.xj(a,-1,b)};c.prototype.$q=function(a){if(void 0===a)return this.$q(!1);if(a instanceof l)return new l(a);var b,d=-1,e=-1,f=-1,h=0,k=!1;for(b=this.ld;-1!=b;b=this.ve(b))if(!a||g.ba.Ic(this.jc(b))){for(d=this.Ob(b);-1!=d;d=this.Sb(d))if(f=e=this.Ya(d),h=0,-1!=e){k=!0;break}if(k)break}return l.sP(this,b,d,e,f,h,a)};c.prototype.Pc=function(a){this.Kl.Pc(a);
if(null!=this.Te)for(var b=0,d=this.Te.length;b<d;b++)null!=this.Te[b]&&this.Te[b].Pc(a)};c.prototype.lr=function(a,b,d,e){e?this.BX(a,b,d):this.AX(a,b,d)};c.prototype.Dc=function(a,b){this.ud.T(a,1,b)};c.prototype.Cc=function(a,b){this.ud.T(a,2,b)};c.prototype.bj=function(a,b){this.ud.T(a,3,b)};c.prototype.Wj=function(a,b){this.md.T(a,3,b)};c.prototype.Kf=function(a,b){this.md.T(a,4,b)};c.prototype.Xg=function(a,b){this.md.T(a,5,b)};c.prototype.Tl=function(a,b){this.dd.T(a,6,b)};c.prototype.Uj=function(a,
b){this.dd.T(a,5,b)};c.prototype.hJ=function(a){var b=a;do{var d=this.V(b);this.Cc(b,this.Na(b));this.Dc(b,d);b=d}while(b!=a)};c.prototype.VB=function(a){this.gd=a};c.prototype.br=function(a){var b=this.ds(a),d=this.Sb(a),e=this.Rf(a);-1!=b?this.bp(b,d):this.$o(e,d);-1!=d?this.cp(d,b):this.ap(e,b);this.Kf(a,-1);this.Xg(a,-1);this.kF(a)};c.prototype.ni=function(a,b){var d=this.Na(a),e=this.V(a);-1!=d&&this.Cc(d,e);-1!=e&&this.Dc(e,d);if(-1!=d&&-1!=e)if(d=this.Va(d),e=this.Va(e),b){if(b=this.Th(d),
null!=b){var f=new g.h;this.wb.D(e,f);b.Rc(f)}}else b=this.Va(a),b=this.Th(b),this.Yg(d,b),null!=b&&(f=new g.h,this.wb.D(d,f),b.Ec(f));this.Qy(a)};c.prototype.TS=function(a){return 0!=(this.Up(a)&4)};c.prototype.ep=function(a,b){this.OB(a,(this.Up(a)|4)-4|(b?4:0))};c.prototype.mx=function(a,b){var d=this.ud.o;this.wb.rc();var e=this.wb.Aa[0].o;a.Wd(0,b,function(f,h){var k=d[5*f];f=d[5*h];h=e[2*k];k=e[2*k+1];var m=e[2*f];f=e[2*f+1];return k<f?-1:k>f?1:h<m?-1:h>m?1:0})};c.prototype.aS=function(){for(var a=
this.ld;-1!=a;a=this.ve(a))if(!g.ba.Ic(this.jc(a)))return!0;return!1};c.prototype.aC=function(a,b){for(var d=this.Ob(a),e=this.Ob(b),f=this.lv(a),h=this.lv(b),k=this.Ob(a);-1!=k;k=this.Sb(k))this.fx(k,b);for(k=this.Ob(b);-1!=k;k=this.Sb(k))this.fx(k,a);this.$o(a,e);this.$o(b,d);this.ap(a,h);this.ap(b,f);d=this.I(a);e=this.ea(a);f=this.ea(b);this.Uj(a,this.I(b));this.Uj(b,d);this.Tl(a,f);this.Tl(b,e);d=this.dd.U(a,2);this.dd.T(a,2,this.dd.U(b,2));this.dd.T(b,2,d)};return c}();g.hd=u})(L||(L={}));(function(g){var u=
function(l){function c(a,b,d,e){var f=l.call(this)||this;f.aa=new g.l;void 0===a?f.ME():"number"===typeof a?f.NO(a,b,d,e):a instanceof g.Ta?void 0!==b?f.Su(a,b,d):f.OO(a):a instanceof g.ua?void 0!==b?f.QO(a,b):f.PO(a):a instanceof g.l?f.MO(a):f.ME();return f}fa(c,l);c.prototype.Su=function(a,b,d){this.description=g.ee.og();this.aa.Pa();a.B()||this.uu(a,b,d)};c.prototype.MO=function(a){this.description=g.ee.og();this.aa.L(a);this.aa.normalize()};c.prototype.PO=function(a){if(null==a)throw g.i.O();
this.description=a;this.aa.Pa()};c.prototype.QO=function(a,b){if(null==a)throw g.i.O();this.description=a;this.aa.L(b);this.aa.normalize()};c.prototype.ME=function(){this.description=g.ee.og();this.aa.Pa()};c.prototype.OO=function(a){this.description=g.ee.og();this.aa.Pa();a.B()||this.uu(a)};c.prototype.NO=function(a,b,d,e){this.description=g.ee.og();this.L(a,b,d,e)};c.prototype.L=function(a,b,d,e){this.wc();if("number"===typeof a)this.aa.L(a,b,d,e);else for(this.Pa(),b=0,d=a.length;b<d;b++)this.$b(a[b])};
c.prototype.Yo=function(a){this.wc();if(!a.WS())throw g.i.O();this.aa.L(a)};c.prototype.Pa=function(){this.wc();this.aa.Pa()};c.prototype.B=function(){return this.aa.B()};c.prototype.S=function(){return this.aa.S()};c.prototype.da=function(){return this.aa.da()};c.prototype.gk=function(){return this.aa.gk()};c.prototype.Lp=function(){return this.aa.Lp()};c.prototype.Kp=function(){return this.aa.tf()};c.prototype.$b=function(a){if(a instanceof g.h)this.wc(),this.aa.$b(a);else if(a instanceof g.l)this.wc(),
this.aa.$b(a);else if(a instanceof g.Ta){if(this.wc(),!a.Bc()){var b=a.description;this.description!=b&&this.Ll(b);if(this.B())this.uu(a);else{this.aa.$b(a.D());for(var d=1,e=b.Ba;d<e;d++)for(var f=b.Fd(d),h=g.ua.Wa(f),k=0;k<h;k++){var m=a.Vc(f,k),n=this.Ug(f,k);n.$b(m);this.setInterval(f,k,n)}}}}else if(a instanceof c&&!a.B())for(b=a.description,b!=this.description&&this.Ll(b),this.aa.$b(a.aa),d=1,e=b.Ba;d<e;d++)for(f=b.qd(d),h=g.ua.Wa(f),k=0;k<h;k++)m=a.Ug(f,k),n=this.Ug(f,k),n.$b(m),this.setInterval(f,
k,n)};c.prototype.uu=function(a,b,d){if(void 0!==b){this.aa.L(a.D(),b,d);b=a.description;d=1;for(var e=b.Ba;d<e;d++)for(var f=b.Fd(d),h=g.ua.Wa(f),k=0;k<h;k++){var m=a.Vc(f,k);this.setInterval(f,k,m,m)}}else for(this.aa.L(a.la[0],a.la[1]),b=a.description,d=1,e=b.Ba;d<e;d++)for(f=b.Fd(d),h=g.ua.Wa(f),k=0;k<h;k++)m=a.Vc(f,k),this.setInterval(f,k,m,m)};c.prototype.setInterval=function(a,b,d,e){d="number"===typeof d?new g.Oc(d,e):d;this.wc();if(0==a)if(0==b)this.aa.v=d.pa,this.aa.C=d.wa;else if(1==b)this.aa.G=
d.pa,this.aa.H=d.wa;else throw g.i.re();else this.nD(0,a,b,d.pa),this.nD(1,a,b,d.wa)};c.prototype.X=function(a,b){this.wc();this.aa.X(a,b)};c.prototype.Pc=function(a){if(a instanceof g.Ed)this.wc(),a.fC(this.aa);else if(this.wc(),!this.aa.B()){var b=new g.GK;this.Ro(b);b.NS()?b.Pa():a.fC(b)}};c.prototype.copyTo=function(a){if(a.K()!=this.K())throw g.i.O();a.wc();a.description=this.description;a.aa.L(this.aa);a.la=null;if(null!=this.la){a.pu();for(var b=0;b<2*(this.description.Be.length-2);b++)a.la[b]=
this.la[b]}};c.prototype.Ja=function(){return new c(this.description)};c.prototype.He=function(){return this.aa.oF()};c.prototype.Rb=function(){return this.aa.qR()};c.prototype.K=function(){return 197};c.prototype.Eb=function(){return 2};c.prototype.dn=function(a){this.copyTo(a)};c.prototype.A=function(a){a.v=this.aa.v;a.G=this.aa.G;a.C=this.aa.C;a.H=this.aa.H};c.prototype.Ro=function(a){a.v=this.aa.v;a.G=this.aa.G;a.C=this.aa.C;a.H=this.aa.H;a.L(this.aa.v,this.aa.G,this.Pd(0,1,0),this.aa.C,this.aa.H,
this.Pd(1,1,0))};c.prototype.Ug=function(a,b){var d=new g.Oc;d.L(this.Pd(0,a,b),this.Pd(1,a,b));return d};c.prototype.If=function(a,b){b.kg(this.description);var d=this.description.Ba-1;switch(a){case 0:for(a=0;a<d;a++)for(var e=this.description.qd(a),f=g.ua.Wa(e),h=0;h<f;h++)b.setAttribute(e,h,this.Pd(0,e,h));b.Db(this.aa.v,this.aa.G);break;case 1:for(a=0;a<d;a++)for(e=this.description.qd(a),f=g.ua.Wa(e),h=0;h<f;h++)b.setAttribute(e,h,this.Pd(1,e,h));b.Db(this.aa.v,this.aa.H);break;case 2:for(a=
0;a<d;a++)for(e=this.description.qd(a),f=g.ua.Wa(e),h=0;h<f;h++)b.setAttribute(e,h,this.Pd(0,e,h));b.Db(this.aa.C,this.aa.H);break;case 3:for(a=0;a<d;a++)for(e=this.description.qd(a),f=g.ua.Wa(e),h=0;h<f;h++)b.setAttribute(e,h,this.Pd(1,e,h));b.Db(this.aa.C,this.aa.G);break;default:throw g.i.re();}};c.prototype.gB=function(a,b){a=this.aa.gB(a);b.na(a.x,a.y)};c.prototype.cR=function(a,b){return b*(a.Qq-2)};c.prototype.pF=function(a,b,d){if(this.aa.B())throw g.i.ga("empty geometry");if(0==b)return 0!=
a?0!=d?this.aa.H:this.aa.C:0!=d?this.aa.G:this.aa.v;if(d>=g.ua.Wa(b))throw g.i.O();var e=this.description.Qf(b);this.pu();return 0<=e?this.la[this.cR(this.description,a)+this.description.CR(e)-2+d]:g.ua.te(b)};c.prototype.pu=function(){this.wc();if(null==this.la&&2<this.description.Be.length){this.la=[];for(var a=c.Ig(this.description,0),b=c.Ig(this.description,1),d=0,e=1,f=this.description.Ba;e<f;e++){var h=this.description.qd(e),k=g.ua.Wa(h);h=g.ua.te(h);for(var m=0;m<k;m++)this.la[a+d]=h,this.la[b+
d]=h,d++}}};c.prototype.un=function(a){if(null!=this.la)if(2<a.Be.length){for(var b=g.ee.Jw(a,this.description),d=[],e=c.Ig(this.description,0),f=c.Ig(this.description,1),h=c.Ig(a,0),k=c.Ig(a,1),m=0,n=1,p=a.Ba;n<p;n++){var q=a.qd(n),r=g.ua.Wa(q);if(-1==b[n]){var t=g.ua.te(q);for(q=0;q<r;q++)d[h+m]=t,d[k+m]=t,m++}else for(t=this.description.$j(b[n])-2,q=0;q<r;q++)d[h+m]=this.la[e+t],d[k+m]=this.la[f+t],m++,t++}this.la=d}else this.la=null;this.description=a};c.prototype.Pd=function(a,b,d){if(this.aa.B())throw g.i.ga("This operation was performed on an Empty Geometry.");
if(0==b)return 0!=a?0!=d?this.aa.H:this.aa.C:0!=d?this.aa.G:this.aa.v;if(d>=g.ua.Wa(b))throw g.i.re();var e=this.description.Qf(b);return 0<=e?(this.pu(),this.la[c.Ig(this.description,a)+this.description.$j(e)-2+d]):g.ua.te(b)};c.prototype.nD=function(a,b,d,e){this.wc();if(0==b)0!=a?0!=d?this.aa.H=e:this.aa.C=e:0!=d?this.aa.G=e:this.aa.v=e;else{if(d>=g.ua.Wa(b))throw g.i.re();if(!this.hasAttribute(b)){if(g.ua.vG(b,e))return;this.se(b)}b=this.description.Qf(b);this.pu();this.la[c.Ig(this.description,
a)+this.description.$j(b)-2+d]=e}};c.Ig=function(a,b){return b*(a.Be.length-2)};c.prototype.Fa=function(a){this.wc();var b=new g.l;a.A(b);return this.aa.Fa(b)};c.prototype.isIntersecting=function(a){return a instanceof g.l?this.aa.isIntersecting(a):this.aa.isIntersecting(a.aa)};c.prototype.Ku=function(a,b){this.wc();a.B()?this.Pa():void 0!==b?this.uu(a,b,void 0):this.aa.Ku(a.Mg(),a.jh())};c.prototype.offset=function(a,b){this.wc();this.aa.offset(a,b)};c.prototype.normalize=function(){this.wc();this.aa.normalize()};
c.prototype.tf=function(a){if(void 0!==a)if(a.kg(this.description),this.B())a.Pa();else{for(var b=this.description.Ba,d=1;d<b;d++)for(var e=this.description.qd(d),f=g.ua.Wa(e),h=0;h<f;h++){var k=.5*(this.pF(0,e,h)+this.pF(1,e,h));a.setAttribute(e,h,k)}a.Db(this.aa.tf())}else{a=new g.Ta(this.description);if(this.B())return a;b=this.description.Ba;for(d=1;d<b;d++)for(e=this.description.Fd(d),f=g.ua.Wa(e),h=0;h<f;h++)k=.5*(this.Pd(0,e,h)+this.Pd(1,e,h)),a.setAttribute(e,h,k);a.Db(this.aa.gk(),this.aa.Lp());
return a}};c.prototype.hz=function(){return new g.Ta(this.aa.hz())};c.prototype.contains=function(a){return a instanceof g.Ta?a.B()?!1:this.aa.contains(a.Mg(),a.jh()):this.aa.contains(a.aa)};c.prototype.WO=function(a){return this.aa.contains(a)};c.prototype.Nb=function(a){if(a==this)return!0;if(!(a instanceof c)||this.description!=a.description)return!1;if(this.B())return a.B()?!0:!1;if(!this.aa.Nb(a.aa))return!1;for(var b=0,d=2*(this.description.Be.length-2);b<d;b++)if(this.la[b]!=a.la[b])return!1;
return!0};c.prototype.dc=function(){var a=this.description.dc();a=g.P.Uh(a,this.aa.dc());if(!this.B()&&null!=this.la)for(var b=0,d=2*(this.description.Be.length-2);b<d;b++)a=g.P.Uh(a,this.la[b]);return a};c.prototype.fs=function(){return this.aa.v};c.prototype.hs=function(){return this.aa.G};c.prototype.es=function(){return this.aa.C};c.prototype.gs=function(){return this.aa.H};c.prototype.mg=function(){return g.ri.im(this,null)};c.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+
this.aa.v+", "+this.aa.G+", "+this.aa.C+", "+this.aa.H+"]"};return c}(g.ba);g.Gh=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b,d){void 0===c?this.Pa():(this.v=c,this.G=a,this.C=b,this.H=d)}l.construct=function(c,a,b,d){var e=new l;e.v=c;e.G=a;e.C=b;e.H=d;return e};l.prototype.L=function(c,a,b,d){"number"===typeof c?void 0!==b?(this.v=c,this.G=a,this.C=b,this.H=d,this.normalize()):(this.v=c,this.G=a,this.C=c,this.H=a):c instanceof g.h?void 0!==a?(this.v=c.x-.5*a,this.C=this.v+a,this.G=
c.y-.5*b,this.H=this.G+b,this.normalize()):(this.v=c.x,this.G=c.y,this.C=c.x,this.H=c.y):c instanceof l?this.L(c.v,c.G,c.C,c.H):c instanceof g.Oc&&(c.B()||a.B()?this.Pa():(this.v=c.pa,this.C=c.wa,this.G=a.pa,this.H=a.wa))};l.prototype.ax=function(c,a){if(void 0!==a)if(0==a)this.Pa();else{this.v=c[0].x;this.G=c[0].y;this.C=this.v;this.H=this.G;for(var b=1;b<a;b++){var d=c[b];d.x<this.v?this.v=d.x:d.x>this.C&&(this.C=d.x);d.y<this.G?this.G=d.y:d.y>this.H&&(this.H=d.y)}}else if(null==c||0==c.length)this.Pa();
else for(d=c[0],this.L(d.x,d.y),b=1;b<c.length;b++)a=c[b],this.Lk(a.x,a.y)};l.prototype.Pa=function(){this.H=this.C=this.G=this.v=NaN};l.prototype.B=function(){return isNaN(this.v)};l.prototype.$b=function(c,a){"number"===typeof c?this.B()?(this.v=c,this.G=a,this.C=c,this.H=a):(this.v>c?this.v=c:this.C<c&&(this.C=c),this.G>a?this.G=a:this.H<a&&(this.H=a)):c instanceof g.h?this.$b(c.x,c.y):c instanceof g.Od?this.$b(c.x,c.y):c instanceof l&&!c.B()&&(this.$b(c.v,c.G),this.$b(c.C,c.H))};l.prototype.Lk=
function(c,a){this.v>c?this.v=c:this.C<c&&(this.C=c);this.G>a?this.G=a:this.H<a&&(this.H=a)};l.prototype.X=function(c,a){this.B()||(this.v-=c,this.C+=c,this.G-=a,this.H+=a,(this.v>this.C||this.G>this.H)&&this.Pa())};l.prototype.scale=function(c){0>c&&this.Pa();this.B()||(this.v*=c,this.C*=c,this.G*=c,this.H*=c)};l.prototype.zoom=function(c,a){this.B()||this.L(this.tf(),c*this.S(),a*this.da())};l.prototype.isIntersecting=function(c){return!this.B()&&!c.B()&&(this.v<=c.v?this.C>=c.v:c.C>=this.v)&&(this.G<=
c.G?this.H>=c.G:c.H>=this.G)};l.prototype.zG=function(c){return(this.v<=c.v?this.C>=c.v:c.C>=this.v)&&(this.G<=c.G?this.H>=c.G:c.H>=this.G)};l.prototype.Fa=function(c){if(this.B()||c.B())return!1;c.v>this.v&&(this.v=c.v);c.C<this.C&&(this.C=c.C);c.G>this.G&&(this.G=c.G);c.H<this.H&&(this.H=c.H);(c=this.v<=this.C&&this.G<=this.H)||this.Pa();return c};l.prototype.gB=function(c){switch(c){case 0:return g.h.construct(this.v,this.G);case 1:return g.h.construct(this.v,this.H);case 2:return g.h.construct(this.C,
this.H);case 3:return g.h.construct(this.C,this.G);default:throw g.i.re();}};l.prototype.hB=function(c){if(null==c||4>c.length)throw g.i.O();null!=c[0]?c[0].na(this.v,this.G):c[0]=g.h.construct(this.v,this.G);null!=c[1]?c[1].na(this.v,this.H):c[1]=g.h.construct(this.v,this.H);null!=c[2]?c[2].na(this.C,this.H):c[2]=g.h.construct(this.C,this.H);null!=c[3]?c[3].na(this.C,this.G):c[3]=g.h.construct(this.C,this.G)};l.prototype.oF=function(){return this.B()?0:this.S()*this.da()};l.prototype.qR=function(){return this.B()?
0:2*(this.S()+this.da())};l.prototype.gk=function(){return(this.C+this.v)/2};l.prototype.Lp=function(){return(this.H+this.G)/2};l.prototype.S=function(){return this.C-this.v};l.prototype.da=function(){return this.H-this.G};l.prototype.move=function(c,a){this.B()||(this.v+=c,this.G+=a,this.C+=c,this.H+=a)};l.prototype.Ku=function(c,a){if(void 0!==a)this.move(c-this.gk(),a-this.Lp());else if(c instanceof g.h)this.Ku(c.x,c.y);else if(c instanceof g.Ta){a=(this.C-this.v)/2;var b=(this.H-this.G)/2;this.v=
c.Mg()-a;this.C=c.Mg()+a;this.G=c.jh()-b;this.H=c.jh()+b}else throw g.i.O();};l.prototype.offset=function(c,a){this.v+=c;this.C+=c;this.G+=a;this.H+=a};l.prototype.normalize=function(){if(!this.B()){var c=Math.min(this.v,this.C),a=Math.max(this.v,this.C);this.v=c;this.C=a;c=Math.min(this.G,this.H);a=Math.max(this.G,this.H);this.G=c;this.H=a}};l.prototype.fn=function(c){c.na(this.v,this.G)};l.prototype.SI=function(c){c.na(this.C,this.G)};l.prototype.VI=function(c){c.na(this.v,this.H)};l.prototype.gn=
function(c){c.na(this.C,this.H)};l.prototype.WS=function(){return this.B()||this.v<=this.C&&this.G<=this.H};l.prototype.tf=function(){return g.h.construct((this.C+this.v)/2,(this.H+this.G)/2)};l.prototype.hz=function(){return g.h.construct(this.v,this.G)};l.prototype.contains=function(c,a){if(void 0!==a)return c>=this.v&&c<=this.C&&a>=this.G&&a<=this.H;if(c instanceof g.Ta)return this.contains(c.Mg(),c.jh());if(c instanceof g.h)return this.contains(c.x,c.y);if(c instanceof l)return c.v>=this.v&&c.C<=
this.C&&c.G>=this.G&&c.H<=this.H;throw g.i.O();};l.prototype.jm=function(c,a){if(void 0!==a)return c>this.v&&c<this.C&&a>this.G&&a<this.H;if(c instanceof g.h)return this.jm(c.x,c.y);if(c instanceof l)return c.v>this.v&&c.C<this.C&&c.G>this.G&&c.H<this.H;throw g.i.O();};l.prototype.Nb=function(c){return c==this?!0:c instanceof l?this.B()&&c.B()?!0:this.v!=c.v||this.G!=c.G||this.C!=c.C||this.H!=c.H?!1:!0:!1};l.prototype.dc=function(){var c=this.v;c=g.P.truncate(c^c>>>32);var a=g.P.Uh(c);c=this.C;c=
g.P.truncate(c^c>>>32);a=g.P.Uh(c,a);c=this.G;c=g.P.truncate(c^c>>>32);a=g.P.Uh(c,a);c=this.H;c=g.P.truncate(c^c>>>32);return a=g.P.Uh(c,a)};l.prototype.zr=function(){return this.B()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)};l.prototype.ty=function(c,a){var b=this.Zj(c),d=this.Zj(a);if(0!=(b&d))return 0;if(0==(b|d))return 4;var e=(0!=b?1:0)|(0!=d?2:0);do{var f=a.x-c.x,h=a.y-c.y;f>h?0!=(b&l.QC)?(0!=(b&l.ku)?(c.y+=h*(this.v-
c.x)/f,c.x=this.v):(c.y+=h*(this.C-c.x)/f,c.x=this.C),b=this.Zj(c)):0!=(d&l.QC)?(0!=(d&l.ku)?(a.y+=h*(this.v-a.x)/f,a.x=this.v):(a.y+=h*(this.C-a.x)/f,a.x=this.C),d=this.Zj(a)):0!=b?(0!=(b&l.lu)?(c.x+=f*(this.G-c.y)/h,c.y=this.G):(c.x+=f*(this.H-c.y)/h,c.y=this.H),b=this.Zj(c)):(0!=(d&l.lu)?(a.x+=f*(this.G-a.y)/h,a.y=this.G):(a.x+=f*(this.H-a.y)/h,a.y=this.H),d=this.Zj(a)):0!=(b&l.RC)?(0!=(b&l.lu)?(c.x+=f*(this.G-c.y)/h,c.y=this.G):(c.x+=f*(this.H-c.y)/h,c.y=this.H),b=this.Zj(c)):0!=(d&l.RC)?(0!=
(d&l.lu)?(a.x+=f*(this.G-a.y)/h,a.y=this.G):(a.x+=f*(this.H-a.y)/h,a.y=this.H),d=this.Zj(a)):0!=b?(0!=(b&l.ku)?(c.y+=h*(this.v-c.x)/f,c.x=this.v):(c.y+=h*(this.C-c.x)/f,c.x=this.C),b=this.Zj(c)):(0!=(d&l.ku)?(a.y+=h*(this.v-a.x)/f,a.x=this.v):(a.y+=h*(this.C-a.x)/f,a.x=this.C),d=this.Zj(a));if(0!=(b&d))return 0}while(0!=(b|d));return e};l.prototype.Zj=function(c){return(c.x<this.v?1:0)|(c.x>this.C?1:0)<<1|(c.y<this.G?1:0)<<2|(c.y>this.H?1:0)<<3};l.prototype.Ci=function(c){return!this.B()&&(this.S()<=
c||this.da()<=c)};l.prototype.ub=function(c){return c instanceof g.h?Math.sqrt(this.aK(c)):Math.sqrt(this.ox(c))};l.prototype.ox=function(c){var a=0,b=0,d=this.v-c.C;d>a&&(a=d);d=this.G-c.H;d>b&&(b=d);d=c.v-this.C;d>a&&(a=d);d=c.G-this.H;d>b&&(b=d);return a*a+b*b};l.prototype.aK=function(c){var a=0,b=0,d=this.v-c.x;d>a&&(a=d);d=this.G-c.y;d>b&&(b=d);d=c.x-this.C;d>a&&(a=d);d=c.y-this.H;d>b&&(b=d);return a*a+b*b};l.prototype.en=function(c){this.B()?c.Pa():c.L(this.v,this.C)};l.ku=1;l.lu=4;l.QC=3;l.RC=
12;return l}();g.l=u})(L||(L={}));(function(g){var u;(function(c){c[c.initialize=0]="initialize";c[c.initializeRed=1]="initializeRed";c[c.initializeBlue=2]="initializeBlue";c[c.initializeRedBlue=3]="initializeRedBlue";c[c.sweep=4]="sweep";c[c.sweepBruteForce=5]="sweepBruteForce";c[c.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";c[c.sweepRedBlue=7]="sweepRedBlue";c[c.sweepRed=8]="sweepRed";c[c.sweepBlue=9]="sweepBlue";c[c.iterate=10]="iterate";c[c.iterateRed=11]="iterateRed";c[c.iterateBlue=12]=
"iterateBlue";c[c.iterateBruteForce=13]="iterateBruteForce";c[c.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";c[c.resetRed=15]="resetRed";c[c.resetBlue=16]="resetBlue"})(u||(u={}));var l=function(){function c(a,b){this.di=a;this.WG=b}c.prototype.qr=function(a,b,d){this.di.xX(d,a,b,this.WG)};c.prototype.bq=function(a){return this.di.Sr(a,this.WG)};return c}();u=function(){function c(){this.pw=this.po=this.ff=this.sd=null;this.yq=new g.l;this.Cm=this.Ij=this.Jj=this.Bd=this.Ff=this.Md=this.dw=
this.ho=this.rd=this.Fb=null;this.Yb=-1;this.ra=0;this.Nk()}c.prototype.mr=function(){this.Nk();this.Qv=!0;null==this.Fb?(this.ho=new g.ja(0),this.Fb=[]):(this.ho.Ch(0),this.Fb.length=0)};c.prototype.bd=function(a,b){if(!this.Qv)throw g.i.Hb();var d=new g.l;d.L(b);this.ho.add(a);this.Fb.push(d)};c.prototype.Hp=function(){if(!this.Qv)throw g.i.Hb();this.Qv=!1;null!=this.Fb&&0<this.Fb.length&&(this.Yb=0,this.Jc=!1)};c.prototype.hK=function(){this.Nk();this.Pv=!0;null==this.Fb?(this.ho=new g.ja(0),this.Fb=
[]):(this.ho.Ch(0),this.Fb.length=0)};c.prototype.AD=function(a,b){if(!this.Pv)throw g.i.Hb();var d=new g.l;d.L(b);this.ho.add(a);this.Fb.push(d)};c.prototype.aF=function(){if(!this.Pv)throw g.i.Hb();this.Pv=!1;null!=this.Fb&&0<this.Fb.length&&null!=this.rd&&0<this.rd.length&&(-1==this.Yb?this.Yb=3:2==this.Yb?this.Yb=3:3!=this.Yb&&(this.Yb=1),this.Jc=!1)};c.prototype.gK=function(){this.Nk();this.Ov=!0;null==this.rd?(this.dw=new g.ja(0),this.rd=[]):(this.dw.Ch(0),this.rd.length=0)};c.prototype.wD=
function(a,b){if(!this.Ov)throw g.i.Hb();var d=new g.l;d.L(b);this.dw.add(a);this.rd.push(d)};c.prototype.$E=function(){if(!this.Ov)throw g.i.Hb();this.Ov=!1;null!=this.Fb&&0<this.Fb.length&&null!=this.rd&&0<this.rd.length&&(-1==this.Yb?this.Yb=3:1==this.Yb?this.Yb=3:3!=this.Yb&&(this.Yb=2),this.Jc=!1)};c.prototype.next=function(){if(this.Jc)return!1;for(var a=!0;a;)switch(this.Yb){case 0:a=this.Bz();break;case 1:a=this.iS();break;case 2:a=this.fS();break;case 3:a=this.hS();break;case 4:a=this.IX();
break;case 5:a=this.EX();break;case 6:a=this.FX();break;case 7:a=this.GX();break;case 8:a=this.sx();break;case 9:a=this.bC();break;case 10:a=this.Pz();break;case 11:a=this.$S();break;case 12:a=this.XS();break;case 13:a=this.YS();break;case 14:a=this.ZS();break;case 15:a=this.cJ();break;case 16:a=this.bJ();break;default:throw g.i.Ra();}return this.Jc?!1:!0};c.prototype.UB=function(a){this.ra=a};c.prototype.oz=function(a){return this.Fb[a]};c.prototype.Wy=function(a){return this.rd[a]};c.prototype.pl=
function(a){return this.ho.read(a)};c.prototype.jl=function(a){return this.dw.read(a)};c.Oz=function(a){return 1==(a&1)};c.gq=function(a){return 0==(a&1)};c.prototype.Nk=function(){this.Qv=this.Ov=this.Pv=!1;this.Df=this.Ef=this.Sg=this.pe=-1;this.Jc=!0};c.prototype.Bz=function(){this.Bf=this.Wf=-1;if(10>this.Fb.length)return this.pe=this.Fb.length,this.Yb=5,!0;null==this.sd&&(this.sd=new g.ur(!0),this.po=this.sd.getIterator(),this.Md=new g.ja(0));this.sd.mr();for(var a=0;a<this.Fb.length;a++){var b=
this.Fb[a];this.sd.Dr(b.v,b.C)}this.sd.Hp();this.Md.Jb(2*this.Fb.length);this.Md.resize(0);for(a=0;a<2*this.Fb.length;a++)this.Md.add(a);this.Lt(this.Md,2*this.Fb.length,!0);this.pe=2*this.Fb.length;this.Yb=4;return!0};c.prototype.iS=function(){this.Bf=this.Wf=-1;if(10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.sd&&(this.sd=new g.ur(!0),this.po=this.sd.getIterator(),this.Md=new g.ja(0));this.sd.mr();for(var a=0;a<this.Fb.length;a++){var b=this.Fb[a];this.sd.Dr(b.v,
b.C)}this.sd.Hp();this.Md.Jb(2*this.Fb.length);this.Md.resize(0);for(a=0;a<2*this.Fb.length;a++)this.Md.add(a);this.Lt(this.Md,this.Md.size,!0);this.pe=this.Md.size;-1!=this.Ef&&(this.Bd.dh(this.Ef),this.Jj.resize(0),this.Ef=-1);this.Yb=7;return this.bJ()};c.prototype.fS=function(){this.Bf=this.Wf=-1;if(10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.ff&&(this.ff=new g.ur(!0),this.pw=this.ff.getIterator(),this.Ff=new g.ja(0));this.ff.mr();for(var a=0;a<this.rd.length;a++){var b=
this.rd[a];this.ff.Dr(b.v,b.C)}this.ff.Hp();this.Ff.Jb(2*this.rd.length);this.Ff.resize(0);for(a=0;a<2*this.rd.length;a++)this.Ff.add(a);this.Lt(this.Ff,this.Ff.size,!1);this.Sg=this.Ff.size;-1!=this.Df&&(this.Bd.dh(this.Df),this.Ij.resize(0),this.Df=-1);this.Yb=7;return this.cJ()};c.prototype.hS=function(){this.Bf=this.Wf=-1;if(10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.sd&&(this.sd=new g.ur(!0),this.po=this.sd.getIterator(),this.Md=new g.ja(0));null==
this.ff&&(this.ff=new g.ur(!0),this.pw=this.ff.getIterator(),this.Ff=new g.ja(0));this.sd.mr();for(var a=0;a<this.Fb.length;a++){var b=this.Fb[a];this.sd.Dr(b.v,b.C)}this.sd.Hp();this.ff.mr();for(a=0;a<this.rd.length;a++)b=this.rd[a],this.ff.Dr(b.v,b.C);this.ff.Hp();this.Md.Jb(2*this.Fb.length);this.Ff.Jb(2*this.rd.length);this.Md.resize(0);this.Ff.resize(0);for(a=0;a<2*this.Fb.length;a++)this.Md.add(a);for(a=0;a<2*this.rd.length;a++)this.Ff.add(a);this.Lt(this.Md,this.Md.size,!0);this.Lt(this.Ff,
this.Ff.size,!1);this.pe=this.Md.size;this.Sg=this.Ff.size;-1!=this.Ef&&(this.Bd.dh(this.Ef),this.Jj.resize(0),this.Ef=-1);-1!=this.Df&&(this.Bd.dh(this.Df),this.Ij.resize(0),this.Df=-1);this.Yb=7;return!0};c.prototype.IX=function(){var a=this.Md.get(--this.pe),b=a>>1;if(c.gq(a))return this.sd.remove(b),0==this.pe?(this.Bf=this.Wf=-1,this.Jc=!0,!1):!0;this.po.yB(this.Fb[b].v,this.Fb[b].C,this.ra);this.Wf=b;this.Yb=10;return!0};c.prototype.EX=function(){if(-1==--this.pe)return this.Bf=this.Wf=-1,this.Jc=
!0,!1;this.Sg=this.Wf=this.pe;this.Yb=13;return!0};c.prototype.FX=function(){if(-1==--this.pe)return this.Bf=this.Wf=-1,this.Jc=!0,!1;this.Wf=this.pe;this.Sg=this.rd.length;this.Yb=14;return!0};c.prototype.GX=function(){var a=this.Md.get(this.pe-1),b=this.Ff.get(this.Sg-1),d=this.Sr(a,!0),e=this.Sr(b,!1);return d>e?this.sx():d<e?this.bC():c.Oz(a)?this.sx():c.Oz(b)?this.bC():this.sx()};c.prototype.sx=function(){var a=this.Md.get(--this.pe),b=a>>1;if(c.gq(a))return-1!=this.Ef&&-1!=this.Jj.get(b)?(this.Bd.kd(this.Ef,
this.Jj.get(b)),this.Jj.set(b,-1)):this.sd.remove(b),0==this.pe?(this.Bf=this.Wf=-1,this.Jc=!0,!1):!0;if(-1!=this.Df&&0<this.Bd.cs(this.Df))for(a=this.Bd.sc(this.Df);-1!=a;){var d=this.Bd.getData(a);this.ff.wj(d);this.Ij.set(d,-1);d=this.Bd.lb(a);this.Bd.kd(this.Df,a);a=d}0<this.ff.size()?(this.pw.yB(this.Fb[b].v,this.Fb[b].C,this.ra),this.Wf=b,this.Yb=12):(-1==this.Ef&&(null==this.Bd&&(this.Bd=new g.kp),this.Jj=new g.ja(0),this.Jj.resize(this.Fb.length,-1),this.Jj.Xj(-1,0,this.Fb.length),this.Ef=
this.Bd.Qh(1)),this.Jj.set(b,this.Bd.addElement(this.Ef,b)),this.Yb=7);return!0};c.prototype.bC=function(){var a=this.Ff.get(--this.Sg),b=a>>1;if(c.gq(a))return-1!=this.Df&&-1!=this.Ij.get(b)?(this.Bd.kd(this.Df,this.Ij.get(b)),this.Ij.set(b,-1)):this.ff.remove(b),0==this.Sg?(this.Bf=this.Wf=-1,this.Jc=!0,!1):!0;if(-1!=this.Ef&&0<this.Bd.cs(this.Ef))for(a=this.Bd.sc(this.Ef);-1!=a;){var d=this.Bd.getData(a);this.sd.wj(d);this.Jj.set(d,-1);d=this.Bd.lb(a);this.Bd.kd(this.Ef,a);a=d}0<this.sd.size()?
(this.po.yB(this.rd[b].v,this.rd[b].C,this.ra),this.Bf=b,this.Yb=11):(-1==this.Df&&(null==this.Bd&&(this.Bd=new g.kp),this.Ij=new g.ja(0),this.Ij.resize(this.rd.length,-1),this.Ij.Xj(-1,0,this.rd.length),this.Df=this.Bd.Qh(0)),this.Ij.set(b,this.Bd.addElement(this.Df,b)),this.Yb=7);return!0};c.prototype.Pz=function(){this.Bf=this.po.next();if(-1!=this.Bf)return!1;var a=this.Md.get(this.pe)>>1;this.sd.wj(a);this.Yb=4;return!0};c.prototype.$S=function(){this.Wf=this.po.next();if(-1!=this.Wf)return!1;
this.Bf=this.Wf=-1;var a=this.Ff.get(this.Sg)>>1;this.ff.wj(a);this.Yb=7;return!0};c.prototype.XS=function(){this.Bf=this.pw.next();if(-1!=this.Bf)return!1;var a=this.Md.get(this.pe)>>1;this.sd.wj(a);this.Yb=7;return!0};c.prototype.YS=function(){if(-1==--this.Sg)return this.Yb=5,!0;this.yq.L(this.Fb[this.pe]);var a=this.Fb[this.Sg];this.yq.X(this.ra,this.ra);return this.yq.isIntersecting(a)?(this.Bf=this.Sg,!1):!0};c.prototype.ZS=function(){if(-1==--this.Sg)return this.Yb=6,!0;this.yq.L(this.Fb[this.pe]);
var a=this.rd[this.Sg];this.yq.X(this.ra,this.ra);return this.yq.isIntersecting(a)?(this.Bf=this.Sg,!1):!0};c.prototype.cJ=function(){if(null==this.sd)return this.Jc=!0,!1;this.pe=this.Md.size;0<this.sd.size()&&this.sd.reset();-1!=this.Ef&&(this.Bd.dh(this.Ef),this.Jj.resize(0),this.Ef=-1);this.Jc=!1;return!0};c.prototype.bJ=function(){if(null==this.ff)return this.Jc=!0,!1;this.Sg=this.Ff.size;0<this.ff.size()&&this.ff.reset();-1!=this.Df&&(this.Bd.dh(this.Df),this.Ij.resize(0),this.Df=-1);this.Jc=
!1;return!0};c.prototype.Lt=function(a,b,d){null==this.Cm&&(this.Cm=new g.Yt);d=new l(this,d);this.Cm.sort(a,0,b,d)};c.prototype.xX=function(a,b,d,e){var f=this;a.Wd(b,d,function(h,k){var m=f.Sr(h,e),n=f.Sr(k,e);return m<n||m==n&&c.gq(h)&&c.Oz(k)?-1:1})};c.prototype.Sr=function(a,b){var d=.5*this.ra;if(b)return b=this.Fb[a>>1],a=c.gq(a)?b.G-d:b.H+d;b=this.rd[a>>1];return a=c.gq(a)?b.G-d:b.H+d};return c}();g.qC=u})(L||(L={}));(function(g){var u=function(){function l(){}l.construct=function(c,a,b,d,
e,f){var h=new l;h.v=c;h.G=a;h.Xe=b;h.C=d;h.H=e;h.Dg=f;return h};l.prototype.Pa=function(){this.Xe=this.v=NaN};l.prototype.B=function(){return isNaN(this.v)};l.prototype.NS=function(){return isNaN(this.Xe)};l.prototype.L=function(c,a,b,d,e,f){void 0!==d?"number"===typeof c?(this.v=c,this.G=a,this.Xe=b,this.C=d,this.H=e,this.Dg=f):(this.v=c.x-.5*a,this.C=this.v+a,this.G=c.y-.5*b,this.H=this.G+b,this.Xe=c.z-.5*d,this.Dg=this.Xe+d):(this.v=c,this.G=a,this.Xe=b,this.C=c,this.H=a,this.Dg=b)};l.prototype.move=
function(c){this.v+=c.x;this.G+=c.y;this.Xe+=c.z;this.C+=c.x;this.H+=c.y;this.Dg+=c.z};l.prototype.copyTo=function(c){c.v=this.v;c.G=this.G;c.C=this.C;c.H=this.H};l.prototype.Lk=function(c,a,b){this.v>c?this.v=c:this.C<c&&(this.C=c);this.G>a?this.G=a:this.H<a&&(this.H=a);0==isNaN(this.Xe)?this.Xe>b?this.Xe=b:this.Dg<b&&(this.Dg=b):this.Dg=this.Xe=b};l.prototype.$b=function(c,a,b){if("number"===typeof c)this.B()?(this.v=c,this.G=a,this.Xe=b,this.C=c,this.H=a,this.Dg=b):this.Lk(c,a,b);else if(c instanceof
g.Od)this.$b(c.x,c.y,c.z);else if(c instanceof l)c.B()||(this.$b(c.v,c.G,c.Xe),this.$b(c.C,c.H,c.Dg));else throw g.i.O();};l.prototype.construct=function(c,a,b){c.B()||a.B()?this.Pa():(this.v=c.pa,this.C=c.wa,this.G=a.pa,this.H=a.wa,this.Xe=b.pa,this.Dg=b.wa)};l.prototype.hB=function(c){if(null==c||8>c.length)throw g.i.O();c[0]=new g.Od(this.v,this.G,this.Xe);c[1]=new g.Od(this.v,this.H,this.Xe);c[2]=new g.Od(this.C,this.H,this.Xe);c[3]=new g.Od(this.C,this.G,this.Xe);c[4]=new g.Od(this.v,this.G,
this.Dg);c[5]=new g.Od(this.v,this.H,this.Dg);c[6]=new g.Od(this.C,this.H,this.Dg);c[7]=new g.Od(this.C,this.G,this.Dg)};l.prototype.ax=function(c){if(null==c||0==c.length)this.Pa();else{var a=c[0];this.L(a.x,a.y,a.z);for(a=1;a<c.length;a++){var b=c[a];this.Lk(b.x,b.y,b.z)}}};return l}();g.GK=u})(L||(L={}));(function(g){(function(u){u.Ra=function(){var l=Error();l.message="Internal Error";return l};u.Fe=function(){var l=Error();l.message="Not Implemented";return l};u.Yk=function(){var l=Error();l.message=
"The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";return l};u.Hb=function(){var l=Error();l.message="Invalid Call";return l};u.O=function(l){var c=Error();c.message="Illegal Argument Exception";void 0!==l&&(c.message+=": "+l);return c};u.gu=function(l){var c=Error();c.message=void 0!==l?"Runtime Exception: "+l:"Runtime Exception.";return c};u.ga=function(l){var c=Error();c.message="Geometry Exception: "+l;return c};u.yK=function(){var l=Error();l.message=
"Assert Failed Exception";return l};u.re=function(){var l=Error();l.message="IndexOutOfBoundsException";return l};u.OC=function(){var l=Error();l.message="UserCancelException";return l}})(g.i||(g.i={}))})(L||(L={}));(function(g){g=g.dm||(g.dm={});g[g.forward=0]="forward";g[g.reverse=1]="reverse"})(L||(L={}));(function(g){var u=function(){function a(b,d){this.Xa=b;this.xH=d;this.DH=-1;this.ul=!1}a.prototype.qe=function(){};a.prototype.next=function(){if(++this.DH==this.xH.I())return null;var b=this.xH.Oa(this.DH);
b.scale(this.Xa.fc);var d=new g.Ea;this.Xa.my(b,this.ul,d);return d};a.prototype.Ma=function(){return 0};return a}(),l=function(){function a(b,d,e){this.Xa=b;this.sw=d;this.Yn=!1;this.eo=e;this.cw=[0];this.sk=[0];this.Oj=[0];this.Hs=[0];this.ul=!1;this.sq=new g.Ea;this.uk=[]}a.prototype.qe=function(){};a.prototype.next=function(){if(this.Yn){this.Yn=!1;this.td.ia();var b=g.ba.ig(this.sq);return b=g.Hg.Mk(b,this.Xa.Cq,!0,!0,this.Xa.Vb)}null==this.td&&(this.td=this.sw.Ha(),this.td.ab(),null!=this.eo&&
this.eo.Zk(null,0));if(!this.td.Ia()){if(!this.td.ab())return null;null!=this.eo&&this.eo.Zk(null,0)}b=null;this.sk[0]=0;this.zA=this.cw[0]=0;this.ei=NaN;this.Yn=!1;for(var d=this.uk.length=0,e=new g.h,f=new g.h,h=[0];this.td.Ia()&&8>this.zA;){var k=this.td.ia();e.N(k.ac());f.N(k.xc());e.scale(this.Xa.fc);f.scale(this.Xa.fc);g.dj.Ou(e,f)?e.x=f.x:g.dj.Mu(e,f)&&(f.x=e.x);this.uk.length=0;g.dj.lF(this.Xa.Ub,this.Xa.lc,this.Xa.Ae,e,f,this.Xa.KA,this.Xa.$s,h,this.Oj,this.Hs,this.uk,this.cw);null!=this.eo&&
(k=this.uk.slice(0),this.eo.iG(this.eo.ea()-1,k,k.length-1));g.dj.Nu(e,f)?(this.sq.Pa(),this.Xa.my(e,this.ul,this.sq),this.Yn=!0):(this.sq.Pa(),this.Yn=this.ry(h[0],this.sq));if(this.Yn){this.td.mi();if(this.td.zz()){this.td.mi();this.td.ia();break}this.td.sW();break}null==b&&(b=new g.Ea,b.Zk(null,0));this.FD(b);d++}this.cw[0]=0;if(0<d){for(h=this.td.xb();0<d;)this.td.mi(),e.N(this.sw.Oa(this.td.xb())),f.N(this.sw.Oa(this.td.ik())),e.scale(this.Xa.fc),f.scale(this.Xa.fc),this.ul&&(g.dj.Ou(e,f)?e.x=
f.x:g.dj.Mu(e,f)&&(f.x=e.x)),this.uk.length=0,g.dj.lF(this.Xa.Ub,this.Xa.lc,this.Xa.Ae,f,e,this.Xa.KA,this.Xa.$s,null,this.Oj,this.Hs,this.uk,this.cw),this.FD(b),d--;e.N(this.sw.Oa(this.td.xb()));e.scale(this.Xa.fc);c.Jr(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,e,this.ei+1.570796326794897,this.ei+4.71238898038469,this.Xa.bo,this.ul,this.sk,b,NaN,NaN);this.td.Wb(h);this.td.ia();d=g.ta.lj(null,b,!0);return b=g.Hg.Mk(b,d,!0,!0,this.Xa.Vb)}this.Yn=!1;this.td.ia();b=g.ba.ig(this.sq);return b=g.Hg.Mk(b,
this.Xa.Cq,!0,!0,this.Xa.Vb)};a.prototype.FD=function(b){var d=this.uk[0],e=this.Oj[0]-1.570796326794897,f=this.Hs[0]+1.570796326794897;if(!isNaN(this.ei)){if(this.ei>=this.Oj[0]){var h=this.ei+1.570796326794897;e=h+3.141592653589793-(this.ei-this.Oj[0])}else h=this.ei+1.570796326794897,e=h+3.141592653589793-(6.283185307179586-(this.Oj[0]-this.ei));var k=this.ei>=this.Oj[0]&&3.141592653589793>=this.ei-this.Oj[0]?!1:this.ei<this.Oj[0]&&3.141592653589793<=this.Oj[0]-this.ei?!1:!0,m=!1;if(Math.abs(e-
h)<=.5*this.Xa.bo)if(k){var n=b.Oa(b.I()-2);n.scale(this.Xa.fc);var p=new g.ha(0);g.kb.Sy(this.Xa.Ub,this.Xa.lc,d.x,d.y,n.x,n.y,p);for(n=p.u;n<=h;)n+=6.283185307179586;for(;n>h;)n-=6.283185307179586;n<e&&(m=!0)}else m=!0;m?(b.xB(0,b.I()-1),this.ul||(d=new g.h,d.N(b.Oa(b.I()-1)),d.scale(this.Xa.fc),-3.141592653589793>d.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<d.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),k||(e=.5*(e+h))):(k?(h=new g.h,h.N(d),h.scale(1/this.Xa.fc),b.xf(0,-1,h)):
c.Jr(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,this.uk[0],h,e,this.Xa.bo,this.ul,this.sk,b,NaN,NaN),this.zA+=1)}c.ly(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,this.Xa.Ae,this.uk,e,f,this.ul,this.sk,b);this.ei=this.Hs[0]};a.prototype.ry=function(b,d){return this.Xa.ry(this.uk,b,this.Oj[0],this.Hs[0],this.ul,d)};a.prototype.Ma=function(){return 0};return a}(),c=function(){function a(){}a.buffer=function(b,d,e,f,h,k){if(null==b)throw g.i.O("Geometry::Geodesic_bufferer::buffer");if(b.B())return new g.Ea(b.description);
var m=new a;m.Rg=d;m.Kc=g.cb.tc(d);var n=g.cb.wv(m.Kc);m.Vb=k;m.Ub=g.cb.fv(m.Kc);m.lc=n*(2-n);m.fc=m.Kc.Id().bi;m.ra=m.Rg.Ln();m.Cq=m.Kc.Ln();m.$s=m.Cq*m.fc;m.Bq=1.570796326794897/m.fc;m.DY=3.141592653589793/m.fc;m.Ks=6.283185307179586/m.fc;m.EY=m.Ks/6;m.FA=0;m.CY=1.5707963267948966*m.Ub/m.FA;4==e?(m.Ae=2,m.Xv=!0):(m.Ae=e,m.Xv=!1);m.La=f;m.sb=Math.abs(f);isNaN(h)||.001>h?m.lX():m.ao=h;e=b.K();g.ba.zd(e)?(e=new g.Ua(b.description),e.oc(b,!0),b=e,e=1607):197==e&&(e=new g.l,b.A(e),e.S()<=m.ra||e.da()<=
m.ra?(e=new g.Ua(b.description),e.bd(b,!1),b=e,e=1607):(e=new g.Ea(b.description),e.bd(b,!1),b=e,e=1736));m.mX();g.ba.Sn(e)||m.nX();if(m.sb<=.5*m.ao)return 1736!=e?new g.Ea(b.description):m.Xv?b:g.dj.Rr(b,m.Rg,m.Ae,m.KA,-1,k);if(0>m.La&&1736!=e)return new g.Ea(b.description);m.Xv&&g.ba.Ic(e)?(d=g.dj.Rr(b,d,4,NaN,m.ao,k),b=g.cb.Ah(d,m.Rg,m.Kc)):b=g.cb.Ah(b,m.Rg,m.Kc);b=g.Ih.mj(b,m.Kc);if(b.B())return new g.Ea(b.description);!m.Xv&&g.ba.Ic(e)&&(b=g.dj.hI(m.fc,b));b=a.yX(b,m.Kc);switch(e){case 1736:d=
m.MN(b);break;case 1607:d=m.NN(b);break;case 550:d=m.KN(b);break;case 33:d=m.LN(b);break;default:throw g.i.ga("corrupted_geometry");}m=g.cb.Ah(d,m.Kc,m.Rg);m.Ll(b.description);return m};a.prototype.MN=function(b){var d=new g.Ea;b=new l(this,b,d);b=g.Hh.local().W(b,this.Kc,this.Vb).next();b=g.jp.oj(b,this.Kc,2);var e=new g.Ed;e.scale(1/this.fc,1/this.fc);d.Pc(e);d=g.jp.oj(d,this.Kc,2);return 0<=this.La?g.Hh.local().W(d,b,this.Kc,this.Vb):g.lp.local().W(d,b,this.Kc,this.Vb)};a.prototype.NN=function(b){b=
new l(this,b,null);b=g.Hh.local().W(b,this.Kc,this.Vb).next();return b=g.jp.oj(b,this.Kc,2)};a.prototype.KN=function(b){b=new u(this,b);b=g.Hh.local().W(b,this.Kc,this.Vb).next();return b=g.jp.oj(b,this.Kc,2)};a.prototype.LN=function(b){b=b.D();b.scale(this.fc);var d=new g.Ea;this.my(b,!1,d);return d=g.jp.oj(d,this.Kc,2)};a.prototype.ry=function(b,d,e,f,h,k){var m=b[0],n=b[b.length-1],p=m.y>n.y?m.y:n.y,q=g.F.q(this.Ub,this.lc,m.y<n.y?m.y:n.y);p=g.F.q(this.Ub,this.lc,p);if(.001<this.FA-(q+d+this.sb)&&
.001<this.FA+(p-d-this.sb))return!1;d=e-1.570796326794897;e=f+1.570796326794897;q=d-3.141592653589793;p=d+3.141592653589793;var r=e+3.141592653589793,t=[NaN],v=[NaN],M=[NaN],W=[NaN];f=!1;a.WI(this.Ub,this.lc,this.sb,m,d,q,n,e,t,v);a.WI(this.Ub,this.lc,this.sb,n,r,e,m,q,M,W);e<t[0]&&t[0]<r?f=!0:e<v[0]&&v[0]<r&&(f=!0);f||(q<M[0]&&M[0]<d?f=!0:q<W[0]&&W[0]<d&&(f=!0));if(!f&&h)return!1;for(var U=[],X=b.length-1;0<=X;X--)U.push(b[X]);k.Pa();k.Zk(null,0);X=[0];a.ly(this.Ub,this.lc,this.fc,this.sb,this.Ae,
b,d,e,h,X,k);a.Jr(this.Ub,this.lc,this.fc,this.sb,n,e,r,this.bo,h,X,k,t[0],v[0]);a.ly(this.Ub,this.lc,this.fc,this.sb,this.Ae,U,r,p,h,X,k);a.Jr(this.Ub,this.lc,this.fc,this.sb,m,q,d,this.bo,h,X,k,M[0],W[0]);b=!1;h||(b=this.AE(this.fc,k));return f||b};a.prototype.my=function(b,d,e){e.Pa();e.Zk(null,0);a.Jr(this.Ub,this.lc,this.fc,this.sb,b,-this.bo,6.283185307179586,this.bo,d,[0],e,NaN,NaN);d||this.AE(this.fc,e)};a.prototype.AE=function(b,d){var e=this.nO(b,d);b=this.oO(b,d);return e||b};a.prototype.nO=
function(b,d){var e=d.I(),f=!1,h=new g.l;d.A(h);if(!g.s.$(h.H*b,1.570796326794897)&&!g.s.$(h.G*b,-1.570796326794897))return!1;var k=new g.h;for(--e;0<=e;e--)d.D(e,k),k.y==h.H&&g.s.$(k.y*b,1.570796326794897)?(f=!0,this.GI(k,e,d)):k.y==h.G&&g.s.$(k.y*b,-1.570796326794897)&&(f=!0,this.GI(k,e,d));return f};a.prototype.oO=function(b,d){var e=d.Oa(0),f=d.Oa(d.I()-1);return 3.141592653589793<Math.abs(e.x-f.x)*b?(this.LV(d),!0):this.mO(d)};a.prototype.mO=function(b){return 0>b.He()?(this.KV(b),!0):!1};a.prototype.GI=
function(b,d,e){var f=e.I(),h=0<d?d-1:f-1;f=e.Oa(d<f-1?d+1:0);h=e.Oa(h);if(!g.s.$(f.y,b.y)&&!g.s.$(f.x,b.x)){var k=new g.h;k.na(f.x,b.y);e.Db(d,k)}g.s.$(h.y,b.y)||g.s.$(h.x,b.x)||(f=new g.h,f.na(h.x,b.y),e.xf(0,d,f))};a.prototype.LV=function(b){var d=new g.Ea,e=new g.Ea,f=new g.Ed,h=b.Oa(0),k=b.Oa(b.I()-1),m=new g.h;h.x>k.x?(k=this.Bq,f.gg(-this.Ks,0)):(k=-this.Bq,f.gg(this.Ks,0));d.add(b,!1);b.Pa();e.add(d,!1);e.Pc(f);h=new g.l;e.A(h);h.X((this.Ks-h.S())/2,0);h.G=-this.Bq;h.H=this.Bq;for(var n=0;n<
e.I();n++)e.D(n,m),d.xf(0,-1,m);e.Pc(f);for(n=0;n<e.I();n++)e.D(n,m),d.xf(0,-1,m);e=d.Oa(0);f=d.Oa(d.I()-1);m.na(f.x,k);d.xf(0,-1,m);m.na(.5*(f.x+e.x),k);d.xf(0,-1,m);m.na(e.x,k);d.xf(0,-1,m);d=g.Ih.ls(d,this.Kc,2,!0,h.v);d=g.Ih.ls(d,this.Kc,2,!0,h.C);d=g.Vd.clip(d,h,this.Cq,NaN);b.add(d,!1)};a.prototype.KV=function(b){var d=new g.l;b.A(d);d.X((this.Ks-d.S())/2,0);d.G=-this.Bq;d.H=this.Bq;b.Zk(null,0);var e=new g.h;e.na(d.v,d.G);b.xf(1,-1,e);e.na(d.v,d.H);b.xf(1,-1,e);e.na(.5*(d.v+d.C),d.H);b.xf(1,
-1,e);e.na(d.C,d.H);b.xf(1,-1,e);e.na(d.C,d.G);b.xf(1,-1,e);e.na(.5*(d.v+d.C),d.G);b.xf(1,-1,e)};a.ly=function(b,d,e,f,h,k,m,n,p,q,r){var t=null;p||(t=new g.h,t.Sc(),0<r.I()&&(t.N(r.Oa(r.I()-1)),t.scale(e)));var v=new g.ha(0),M=new g.ha(0),W=new g.ha(0),U=new g.h,X=new g.h,ia=k[k.length-1];e=1/e;for(var ja=0;ja<k.length;ja++){var ka=k[ja];if(0==ja)var sa=m;else ja==k.length-1?sa=n:(g.kb.xd(b,d,ia.x,ia.y,ka.x,ka.y,null,null,v,h),sa=v.u-1.570796326794897);g.kb.zi(b,d,ka.x,ka.y,f,sa,M,W);p?X.na(M.u,
W.u):(U.na(M.u,W.u),a.ZI(ka.x,U.x,t.x,q),X.na(q[0]+U.x,U.y),t.N(X));X.scale(e);r.xf(0,-1,X)}};a.Jr=function(b,d,e,f,h,k,m,n,p,q,r,t,v){if(!(m-k<n)){var M=new g.ha(0),W=new g.ha(0),U=new g.h,X=new g.h,ia=null;p||(ia=new g.h,ia.Sc(),0<r.I()&&(ia.N(r.Oa(r.I()-1)),ia.scale(e)));var ja=g.P.truncate(Math.ceil(k/n)),ka=ja++*n;ka==k&&(ka=ja++*n);for(e=1/e;ka<m+n;){k<t&&t<ka?(ka=t,ja--):k<v&&v<ka&&(ka=v,ja--);if(ka>=m)break;g.kb.zi(b,d,h.x,h.y,f,ka,M,W);p?X.na(M.u,W.u):(U.na(M.u,W.u),a.ZI(h.x,U.x,ia.x,q),
X.na(q[0]+U.x,U.y),ia.N(X));X.scale(e);r.xf(0,-1,X);k=ka;ka=ja++*n}}};a.WI=function(b,d,e,f,h,k,m,n,p,q){var r=new g.h,t=new g.h,v=new g.ha(0),M=new g.ha(0);g.kb.zi(b,d,f.x,f.y,e,h,v,M);r.na(v.u,M.u);g.kb.zi(b,d,f.x,f.y,e,k,v,M);t.na(v.u,M.u);e=new g.ha(0);g.kb.Sy(b,d,m.x,m.y,r.x,r.y,e);p[0]=e.u;g.kb.Sy(b,d,m.x,m.y,t.x,t.y,e);for(q[0]=e.u;p[0]<=q[0];)p[0]+=6.283185307179586;for(;p[0]>q[0];)p[0]-=6.283185307179586;for(;p[0]>=n;)p[0]-=6.283185307179586,q[0]-=6.283185307179586;for(;p[0]<n;)p[0]+=6.283185307179586,
q[0]+=6.283185307179586};a.ZI=function(b,d,e,f){if(isNaN(e)){for(;3.141592653589793<f[0]+d-b;)f[0]-=6.283185307179586;for(;3.141592653589793<b-(f[0]+d);)f[0]+=6.283185307179586}else 3.141592653589793<f[0]+d-e?f[0]-=6.283185307179586:3.141592653589793<e-(f[0]+d)&&(f[0]+=6.283185307179586)};a.yX=function(b,d){var e=b.K(),f=g.ba.Ic(e)?b.ea():550==e?b.I():1;if(1==f)return b;var h=new g.ja(0);h.resize(f);for(var k=[],m=new g.l,n=0;n<f;n++){h.write(n,n);if(g.ba.Ic(e)){b.Sj(n,m);var p=m.tf()}else p=b.Oa(n);
p=g.PK.OX(d,p);k[n]=p}h.Wd(0,h.size,function(q,r){return k[q]<k[r]?-1:k[q]>k[r]?1:0});d=b.Ja();for(n=0;n<f;n++)m=h.read(n),g.ba.Ic(e)?d.addPath(b,m,!0):d.Gd(b,m,m+1);return d};a.prototype.mX=function(){var b=Math.min(3.141592653589793*this.Ub-this.sb,this.sb);b=Math.min(b,.39269908169872414*this.Ub);var d=new g.h;d.na(0,10*this.fc);var e=45*this.fc,f=new g.ha(0),h=new g.ha(0),k=new g.ha(0),m=new g.ha(0),n=new g.ha(0),p=new g.ha(0),q=new g.ha(0),r=new g.ha(0),t=new g.h,v=new g.h,M=new g.h,W=new g.h;
g.kb.zi(this.Ub,this.lc,d.x,d.y,b,0,f,h);t.na(f.u,h.u);g.kb.zi(this.Ub,this.lc,d.x,d.y,b,e,k,m);v.na(k.u,m.u);f=new g.ha(0);h=new g.ha(0);for(var U=new g.ha(0);;){g.kb.zi(this.Ub,this.lc,d.x,d.y,b,.5*(0+e),n,p);M.na(n.u,p.u);g.kb.xd(this.Ub,this.lc,t.x,t.y,v.x,v.y,f,h,null,2);g.kb.pj(this.Ub,this.lc,t.x,t.y,.5*f.u,h.u,q,r,2);W.na(q.u,r.u);g.kb.xd(this.Ub,this.lc,M.x,M.y,W.x,W.y,U,null,null,2);if(U.u<=this.ao)break;e*=.9;g.kb.zi(this.Ub,this.lc,d.x,d.y,b,e,k,m);v.na(k.u,m.u)}this.bo=6.283185307179586/
Math.ceil(6.283185307179586/(e-0))};a.prototype.nX=function(){var b=Math.min(3.141592653589793*this.Ub-this.sb,this.sb);b=Math.min(b,.39269908169872414*this.Ub);var d=new g.h,e=new g.h;d.na(0,10*this.fc);e.na(10*this.fc,10*this.fc);var f=new g.ha(0),h=new g.ha(0),k=new g.ha(0);g.kb.xd(this.Ub,this.lc,d.x,d.y,e.x,e.y,k,f,h,this.Ae);var m=new g.ha(0),n=new g.ha(0),p=new g.ha(0),q=new g.ha(0),r=new g.h,t=new g.ha(0),v=new g.ha(0),M=new g.ha(0),W=new g.ha(0),U=new g.ha(0),X=new g.ha(0),ia=new g.ha(0),
ja=new g.ha(0),ka=new g.ha(0),sa=new g.h,ta=new g.h,za=new g.h,ya=new g.h,Ia=1;f=f.u;h=h.u+1.570796326794897;k=k.u;g.kb.zi(this.Ub,this.lc,d.x,d.y,b,f-1.570796326794897,v,M);sa.na(v.u,M.u);g.kb.zi(this.Ub,this.lc,e.x,e.y,b,h,W,U);ta.na(W.u,U.u);v=new g.ha(0);M=new g.ha(0);h=new g.ha(0);for(var Ga=new g.ha(0);;){g.kb.pj(this.Ub,this.lc,d.x,d.y,.5*(0+Ia)*k,f,m,n,this.Ae);r.na(m.u,n.u);g.kb.xd(this.Ub,this.lc,d.x,d.y,r.x,r.y,null,null,t,this.Ae);g.kb.zi(this.Ub,this.lc,r.x,r.y,b,t.u+1.570796326794897,
X,ia);za.na(X.u,ia.u);g.kb.xd(this.Ub,this.lc,sa.x,sa.y,ta.x,ta.y,v,M,null,2);g.kb.pj(this.Ub,this.lc,sa.x,sa.y,.5*v.u,M.u,ja,ka,2);ya.na(ja.u,ka.u);g.kb.xd(this.Ub,this.lc,za.x,za.y,ya.x,ya.y,h,null,null,2);if(h.u<=this.ao)break;Ia*=.9;g.kb.pj(this.Ub,this.lc,d.x,d.y,Ia*k,f,p,q,this.Ae);e.na(p.u,q.u);g.kb.xd(this.Ub,this.lc,d.x,d.y,e.x,e.y,null,null,Ga,this.Ae);g.kb.zi(this.Ub,this.lc,e.x,e.y,b,Ga.u+1.570796326794897,W,U);ta.na(W.u,U.u)}b=Ia*k;1E5<b&&(b=1E5);this.KA=b};a.prototype.lX=function(){var b=
5E4<this.sb?100:1E4<this.sb?10:1;500>this.sb/b&&(b=this.sb/500);.01>b&&(b=.01);this.ao=b};return a}();g.NK=c})(L||(L={}));(function(g){var u=function(){function l(){}l.Of=function(c,a){var b=new g.h;b.N(a);c.push(b)};l.wp=function(c,a){c.add(a.x);c.add(a.y)};l.bB=function(c){c.Ch(c.size-2)};l.iB=function(c,a){a.na(c.get(c.size-2),c.get(c.size-1))};l.Rr=function(c,a,b,d,e,f){if(null==c)throw g.i.O();var h=c.K();if(c.B()||g.ba.Sn(h))return c;var k=new l;k.Rg=a;k.Kc=g.cb.tc(a);var m=g.cb.wv(k.Kc);k.Vb=
f;k.Ub=g.cb.fv(k.Kc);k.lc=m*(2-m);k.fc=k.Kc.Id().bi;k.Cq=k.Kc.Ln();k.$s=k.Cq*k.fc;k.uA=d;k.tA=e;k.Ae=b;197==h?(b=new g.Ea(c.description),b.bd(c,!1)):g.ba.zd(h)?(b=new g.Ua(c.description),b.oc(c,!0)):b=c;if(4!=k.Ae){a=0==k.Rg.Nb(k.Kc)?g.cb.Ah(b,k.Rg,k.Kc):g.Ih.mj(b,k.Kc);if(a.B())return a;a=l.hI(k.fc,a);a=k.Uy(a);a=g.jp.oj(a,k.Kc,k.Ae);k=g.cb.Ah(a,k.Kc,k.Rg)}else{2==g.Gg.Tb(a)?(c=g.cb.ol(),a=g.Wk.local().W(b,c,a,f),a==c&&(a=new g.Ea,c.copyTo(a))):a=g.Ih.mj(b,k.Kc);if(a.B())return a;k=k.qX(a)}return k};
l.hI=function(c,a){var b=new g.l;a.yc(b);if(3.141592653589793>b.S()*c)return a;var d=!1;b=a.Ha();for(var e=new g.h,f=new g.h;b.ab();)for(;b.Ia();){var h=b.ia();e.N(h.ac());f.N(h.xc());e.scale(c);f.scale(c);if(3.141592653589793<Math.abs(e.x-f.x)){var k=l.Nu(e,f);if(!k){d=!0;break}if(6.283185307179586<Math.abs(e.x-f.x)){d=!0;break}}}if(!d)return a;d=a.Ja();var m=1<a.description.Ba,n=new g.h,p=new g.h,q=new g.h,r=new g.h,t=new g.Ta;for(b.$i();b.ab();)for(var v=NaN,M=[0];b.Ia();){h=b.ia();e.N(h.ac());
f.N(h.xc());e.scale(c);f.scale(c);isNaN(v)?(l.Xi(e.x,NaN,M),p.N(e)):p.N(q);v=p.x;if(k=l.Nu(e,f)){if(6.283185307179586<f.x-e.x)for(;6.283185307179586<f.x-e.x;)f.x-=6.283185307179586;if(-6.283185307179586>f.x-e.x)for(;-6.283185307179586>f.x-e.x;)f.x+=6.283185307179586;l.Xi(f.x,NaN,M);q.N(f)}else n.N(f),l.qU(n),l.Xi(n.x,v,M),q.na(M[0]+n.x,n.y);.5>Math.abs(q.x-f.x)&&q.N(f);m?(h.Uw(0,t),r.N(p),r.scale(1/c),t.Db(r),(k=b.xm())?d.nf(t):d.lineTo(t),b.Rn()&&!a.ec(b.gb)&&(h.Uw(1,t),r.N(q),r.scale(1/c),t.Db(r),
d.lineTo(t))):((k=b.xm())&&d.Cz(null,0),h=d.ea()-1,r.N(p),r.scale(1/c),d.xf(h,-1,r),b.Rn()&&!a.ec(b.gb)&&(r.N(q),r.scale(1/c),d.xf(h,-1,r)))}return d};l.lF=function(c,a,b,d,e,f,h,k,m,n,p,q){var r=new g.h,t=new g.h,v=0<d.compare(e);l.YI(v,d,e,r,t);l.mF(c,a,b,r,t,f,NaN,h,k,m,n,null,p,q);v&&l.ZB(m,n,null,p)};l.prototype.Uy=function(c){var a=c.Ja(),b=c.Ha(),d=[],e=null,f=null,h=1<c.description.Ba;h&&(e=new g.ce(0),f=new g.hg);for(var k=[0],m=new g.h,n=new g.h,p=new g.h,q=new g.h;b.ab();)for(k[0]=0;b.Ia();){var r=
b.ia();m.N(r.ac());n.N(r.xc());m.scale(this.fc);n.scale(this.fc);var t=0<m.compare(n);l.YI(t,m,n,p,q);d.length=0;null!=e&&e.Ch(0);0<this.uA?l.mF(this.Ub,this.lc,this.Ae,p,q,this.uA,this.tA,this.$s,null,null,null,h?e:null,d,k):l.TQ(this.Ub,this.lc,this.Ae,p,q,this.tA,this.$s,h?e:null,d,k);t&&l.ZB(null,null,h?e:null,d);d[0].N(r.ac());d[d.length-1].N(r.xc());for(var v=1;v<d.length-1;v++)d[v].scale(1/this.fc);h?(t=l.XI(t,r,f),l.LD(b.xm(),b.Rn()&&!c.ec(b.gb),r,t,e,d,a)):l.KD(b.xm(),b.Rn()&&!c.ec(b.gb),
d,a)}return a};l.prototype.qX=function(c){var a=c.Ja(),b=c.Ha(),d=[],e=null,f=new g.hg,h=1<c.description.Ba;for(h&&(e=new g.ce(0));b.ab();)for(;b.Ia();){var k=b.ia(),m=k.ac(),n=k.xc();m=0<m.compare(n);n=l.XI(m,k,f);d.length=0;null!=e&&e.Ch(0);l.pX(this.Ub,this.lc,this.fc,n,this.Rg,this.uA,this.tA,h?e:null,d);m&&l.ZB(null,null,h?e:null,d);h?l.LD(b.xm(),b.Rn()&&!c.ec(b.gb),k,n,e,d,a):l.KD(b.xm(),b.Rn()&&!c.ec(b.gb),d,a)}return a};l.KD=function(c,a,b,d){c&&d.Cz(null,0);c=d.ea()-1;var e=b.slice(0);d.iG(c,
e,e.length-1);a&&d.xf(c,-1,b[b.length-1])};l.LD=function(c,a,b,d,e,f,h){var k=new g.Ta;b.Uo(k);c?h.nf(k):h.lineTo(k);if(2<f.length){c=d.Rb();for(var m=1;m<f.length-1;m++){var n=d.FG(e.get(m)*c);d.Uw(n,k);k.Db(f[m]);h.lineTo(k)}}a&&(b.Qo(k),h.lineTo(k))};l.mF=function(c,a,b,d,e,f,h,k,m,n,p,q,r,t){var v=new g.ha(0),M=new g.ha(0),W=new g.ha(0);g.kb.xd(c,a,d.x,d.y,e.x,e.y,W,v,M,b);W=W.u;var U=v=v.u;M=M.u;0>U&&(U+=6.283185307179586);0>M&&(M+=6.283185307179586);null!=m&&(m[0]=W);null!=n&&(n[0]=U);null!=
p&&(p[0]=M);n=m=NaN;null!=q&&(n=g.F.Bh(c,a),p=g.F.q(c,a,d.y),m=(n-p)/W,n=(n+p)/W);p=l.Ou(d,e);M=l.Mu(d,e);U=p||M;var X=l.xE(d,e,k),ia=new g.ha(0),ja=new g.ha(0),ka=new g.h,sa=new g.h,ta=new g.h;l.Xi(d.x,NaN,t);var za=[t[0]];if(W<=f)l.Of(r,d),l.Xi(e.x,NaN,t),null!=q&&q.add(0),U?(p&&l.eB(d,e,q,r),M&&l.cB(d,e,q,r)):X?l.dB(d,e,v,m,n,q,r):0<h&&(sa.na(d.x-za[0],d.y),ka.na(e.x-t[0],e.y),l.Ty(c,a,b,d,W,v,sa,ka,0,1,h,q,r,za)),l.Of(r,e);else{f=1+g.P.truncate(Math.ceil(W/f));var ya=W/(f-1),Ia=new g.h,Ga=0;l.Of(r,
d);Ia.N(d);sa.na(d.x-t[0],d.y);null!=q&&q.add(0);for(var Oa=1;Oa<f;Oa++){if(Oa<f-1){g.kb.pj(c,a,d.x,d.y,Oa*ya,v,ia,ja,b);ka.na(ia.u,ja.u);l.Xi(ka.x,Ia.x,t);ta.na(t[0]+ka.x,ka.y);var Pa=Oa/(f-1)}else l.Xi(e.x,NaN,t),ka.na(e.x-t[0],e.y),ta.N(e),Pa=1;U?(1==Oa&&p&&l.eB(d,ta,q,r),Oa==f-1&&M&&l.cB(Ia,e,q,r)):X?l.wE(Ia,ta,k)&&(d.x<e.x?Ia.x>ta.x&&(t[0]+=6.283185307179586,ta.na(t[0]+ka.x,ka.y)):Ia.x<ta.x&&(t[0]-=6.283185307179586,ta.na(t[0]+ka.x,ka.y)),l.dB(Ia,ta,v,m,n,q,r)):0<h&&l.Ty(c,a,b,d,W,v,sa,ka,Ga,
Pa,h,q,r,za);l.Of(r,ta);null!=q&&q.add(Pa);Ia.N(ta);sa.N(ka);za[0]=t[0];Ga=Pa}}};l.TQ=function(c,a,b,d,e,f,h,k,m,n){var p=new g.ha(0),q=new g.ha(0),r=new g.ha(0);g.kb.xd(c,a,d.x,d.y,e.x,e.y,r,p,q,b);q=r.u;p=p.u;var t=r=NaN;if(null!=k){t=g.F.Bh(c,a);var v=g.F.q(c,a,d.y);r=(t-v)/q;t=(t+v)/q}v=l.Ou(d,e);var M=l.Mu(d,e),W=v||M;h=l.xE(d,e,h);var U=l.Nu(d,e);U=W||h||U;l.Xi(d.x,NaN,n);var X=new g.h;l.Of(m,d);X.N(d);null!=k&&k.add(0);U?(W?(v&&l.eB(d,e,k,m),M&&l.cB(d,e,k,m)):h&&l.dB(d,e,p,r,t,k,m),l.Xi(e.x,
NaN,n),l.Of(m,e)):q<=f?(l.Xi(e.x,NaN,n),l.Of(m,e)):(r=new g.h,h=new g.h,r.N(d),h.N(e),r.x-=n[0],h.x-=n[0],-3.141592653589793>h.x?h.x+=6.283185307179586:3.141592653589793<h.x&&(h.x-=6.283185307179586),l.Ty(c,a,b,d,q,p,r,h,0,1,f,k,m,n),l.Of(m,e),l.Xi(e.x,NaN,n));null!=k&&k.add(1)};l.Ty=function(c,a,b,d,e,f,h,k,m,n,p,q,r,t){var v=new g.h,M=new g.h;v.na(h.x+t[0],h.y);new g.ha(0);new g.ha(0);new g.ha(0);new g.ha(0);var W=new g.ha(0),U=new g.ha(0),X=new g.ha(0),ia=new g.h,ja=new g.h,ka=new g.h,sa=new g.h;
ia.N(h);ja.N(k);h=new g.ce(0);k=new g.ce(0);l.wp(h,ja);k.add(n);var ta=new g.h,za=new g.zb,ya=[];for(l.QJ(4,ya);0<h.size;){for(var Ia=!1,Ga,Oa=NaN,Pa=0;3>Pa;Pa++)if(Ga=ya[Pa]*n+(1-ya[Pa])*m,g.kb.pj(c,a,d.x,d.y,Ga*e,f,W,U,b),ka.na(W.u,U.u),0==Pa&&(Oa=Ga,sa.N(ka)),l.JW(ia,ka,ja,za),za.ic(za.fe(ka,!0),ta),g.kb.xd(c,a,ka.x,ka.y,ta.x,ta.y,X,null,null,2),X.u>p){Ia=!0;break}Ia?(ja.N(sa),n=Oa,l.wp(h,ja),k.add(n)):(l.bB(h),k.Fn(k.size-1,1,k.size-1),0<h.size&&(l.Xi(ja.x,v.x,t),M.na(t[0]+ja.x,ja.y),l.Of(r,M),
v.N(M),null!=q&&q.add(n),ia.N(ja),m=n,l.iB(h,ja),n=k.get(k.size-1)))}};l.pX=function(c,a,b,d,e,f,h,k,m){var n=new g.h,p=new g.h,q=new g.h,r=new g.h,t=new g.h,v=new g.h,M=new g.h,W=new g.h,U=new g.h,X=new g.h,ia=new g.ha(0),ja=new g.ha(0),ka=new g.h,sa=[[],[]],ta=1==g.Gg.Tb(e);e=e.Yd(0);var za=d.ac(),ya=d.xc();ta?(v.na(za.x*b,za.y*b),M.na(ya.x*b,ya.y*b)):(sa[0][0]=za.x,sa[0][1]=za.y,sa[1][0]=ya.x,sa[1][1]=ya.y,g.cb.vt(),v.x=sa[0][0]*b,v.y=sa[0][1]*b,M.x=sa[1][0]*b,M.y=sa[1][1]*b);var Ia=0,Ga=0,Oa=
1,Pa=d.Qn();n.N(za);p.N(ya);ya=new g.ce(0);var Ya=new g.ce(0),ab=new g.ce(0);l.wp(ya,p);l.wp(Ya,M);ab.add(Oa);l.Of(m,n);null!=k&&k.add(Ga);var fb=[],db=0<h?Pa?5:3:Pa?5:1;l.QJ(db,fb);for(var Wa=new g.ha(0),Za=new g.ha(0),Va=new g.ha(0),eb=new g.ha(0),cb=new g.ha(0),hb=new g.ha(0),$a=new g.ha(0);0<Ya.size;){var gb=!1,bb=NaN;g.kb.xd(c,a,v.x,v.y,M.x,M.y,Wa,Za,null,2);for(za=0;za<db;za++){if(0==za){if(!Pa&&0>=h&&Wa.u<=f&&3.141592653589793>Math.abs(v.x-M.x))break;if(d.Sx(Ga,Oa)<=e)break}var ib=fb[za]*Oa+
(1-fb[za])*Ga;d.ic(ib,q);ta?W.na(q.x*b,q.y*b):(sa[0][0]=q.x,sa[0][1]=q.y,g.cb.vt(),W.x=sa[0][0]*b,W.y=sa[0][1]*b);if(0==za&&(bb=ib,t.N(q),X.N(W),0<f&&(Wa.u>f||3.141592653589793<=Math.abs(v.x-M.x)))){gb=!0;break}if(Pa&&0<f){if(g.kb.xd(c,a,v.x,v.y,W.x,W.y,Va,null,null,2),Va.u>f||3.141592653589793<=Math.abs(v.x-W.x)){gb=!0;break}}else if(0<h)if(Pa?(r.ES(n,p,fb[za]),ta?U.na(r.x*b,r.y*b):(sa[0][0]=r.x,sa[0][1]=r.y,g.cb.vt(),U.x=sa[0][0]*b,U.y=sa[0][1]*b)):(r.N(q),U.N(W)),g.kb.xd(c,a,v.x,v.y,U.x,U.y,eb,
null,null,2),eb.u<=Wa.u){g.kb.pj(c,a,v.x,v.y,eb.u,Za.u,ia,ja,2);ka.na(ia.u,ja.u);g.kb.xd(c,a,ka.x,ka.y,W.x,W.y,cb,null,null,2);if(cb.u>h){gb=!0;break}if(Pa){g.kb.xd(c,a,ka.x,ka.y,U.x,U.y,hb,null,null,2);if(hb.u>h){gb=!0;break}g.kb.xd(c,a,U.x,U.y,W.x,W.y,$a,null,null,2);if($a.u>h){gb=!0;break}}}else{gb=!0;break}}gb?(p.N(t),M.N(X),Oa=bb,l.wp(ya,p),l.wp(Ya,M),ab.add(Oa)):(l.bB(ya),l.bB(Ya),ab.Fn(ab.size-1,1,ab.size-1),l.Of(m,p),Ia+=Wa.u,null!=k&&k.add(Ia),0<Ya.size&&(n.N(p),v.N(M),Ga=Oa,l.iB(ya,p),l.iB(Ya,
M),Oa=ab.get(ab.size-1)))}if(null!=k)for(c=1/Ia,za=0;za<k.size;za++)k.write(za,k.read(za)*c)};l.ZB=function(c,a,b,d){d.reverse();null!=b&&b.oi(0,b.size,1);b=null!=c?c[0]:NaN;d=null!=a?a[0]:NaN;null!=c&&(c[0]=d);null!=a&&(a[0]=b)};l.YI=function(c,a,b,d,e){c?(d.N(b),e.N(a)):(d.N(a),e.N(b))};l.XI=function(c,a,b){if(!c)return a;b.create(a.K());a.copyTo(b.get());b.get().reverse();return b.get()};l.Xi=function(c,a,b){if(isNaN(a)){for(;3.141592653589793<b[0]-c;)b[0]-=6.283185307179586;for(;3.141592653589793<
c-b[0];)b[0]+=6.283185307179586}else 3.141592653589793<b[0]+c-a?b[0]-=6.283185307179586:3.141592653589793<a-(b[0]+c)&&(b[0]+=6.283185307179586)};l.JW=function(c,a,b,d){3.141592653589793>Math.abs(a.x-c.x)?(d.Ec(c),3.141592653589793<=b.x-c.x?d.Sl(b.x-6.283185307179586,b.y):3.141592653589793<=c.x-b.x?d.Sl(b.x+6.283185307179586,b.y):d.Sl(b.x,b.y)):(d.Ec(b),3.141592653589793<=c.x-b.x?d.Sl(c.x-6.283185307179586,c.y):3.141592653589793<=b.x-c.x?d.Sl(c.x+6.283185307179586,c.y):d.Sl(c.x,c.y))};l.QJ=function(c,
a){for(var b=0;b<c;b++){var d=Math.ceil(b/2)/(c+1);0!=b%2&&(d=-d);a[b]=.5+d}};l.Ou=function(c,a){return g.s.$(c.y,1.570796326794897)&&!g.s.$(a.y,1.570796326794897)||g.s.$(c.y,-1.570796326794897)&&!g.s.$(a.y,-1.570796326794897)?!0:!1};l.Mu=function(c,a){return g.s.$(a.y,1.570796326794897)&&!g.s.$(c.y,1.570796326794897)||g.s.$(a.y,-1.570796326794897)&&!g.s.$(c.y,-1.570796326794897)?!0:!1};l.xE=function(c,a,b){return!l.wE(c,a,b)||g.s.$(c.y,1.570796326794897)||g.s.$(c.y,-1.570796326794897)||g.s.$(a.y,
1.570796326794897)||g.s.$(a.y,-1.570796326794897)?!1:!0};l.wE=function(c,a,b){return Math.abs(Math.abs(c.x-a.x)-3.141592653589793)<=b?!0:!1};l.Nu=function(c,a){return g.s.$(c.y,1.570796326794897)&&g.s.$(a.y,1.570796326794897)||g.s.$(c.y,-1.570796326794897)&&g.s.$(a.y,-1.570796326794897)?!0:!1};l.eB=function(c,a,b,d){if(0<c.y){var e=new g.h;e.na(a.x,1.570796326794897)}else e=new g.h,e.na(a.x,-1.570796326794897);g.s.$(c.x,e.x)||g.s.$(a.y,e.y)||(l.Of(d,e),null!=b&&b.add(0))};l.cB=function(c,a,b,d){if(0<
a.y){var e=new g.h;e.na(c.x,1.570796326794897)}else e=new g.h,e.na(c.x,-1.570796326794897);g.s.$(a.x,e.x)||g.s.$(c.y,e.y)||(l.Of(d,e),null!=b&&b.add(1))};l.dB=function(c,a,b,d,e,f,h){g.s.Dd(b)?(0<1.570796326794897-c.y&&(b=new g.h,b.na(c.x,1.570796326794897),l.Of(h,b),null!=f&&f.add(d)),0<1.570796326794897-a.y&&(b=new g.h,b.na(a.x,1.570796326794897),l.Of(h,b),null!=f&&f.add(d))):(0<1.570796326794897+c.y&&(b=new g.h,b.na(c.x,-1.570796326794897),l.Of(h,b),null!=f&&f.add(e)),0<1.570796326794897+a.y&&
(b=new g.h,b.na(a.x,-1.570796326794897),l.Of(h,b),null!=f&&f.add(e)))};l.qU=function(c){if(-3.141592653589793>c.x)for(;-3.141592653589793>c.x;)c.x+=6.283185307179586;if(3.141592653589793<c.x)for(;3.141592653589793<c.x;)c.x-=6.283185307179586};return l}();g.dj=u})(L||(L={}));(function(g){g.jp=function(){function u(){}u.oj=function(l,c,a){if(null==l||null==c||!g.cb.Xc(c))throw g.i.O();if(l.B())return l;var b=l,d=b.K();if(g.ba.Ic(d)){b=g.Ih.mj(l,c);l=new g.l;b.A(l);d=g.ta.Xd(c,l,!1);for(var e=g.cb.hh(c),
f=Math.floor((l.v-e.v)/e.S())*e.S()+e.v;f<l.C;)f>l.v+d&&f<l.C-d&&(b=g.Ih.ls(b,c,a,!0,f)),f+=e.S()}else{if(197==d)return l=new g.Ea(b.description),l.bd(b,!1),u.oj(l,c,a);if(g.ba.zd(d))return l=new g.Ua(b.description),l.oc(b,!0),u.oj(l,c,a)}return u.Py(b,c)};u.Py=function(l,c){if(null==l||null==c||!g.cb.Xc(c))throw g.i.O();if(l.B())return l;var a=l.K();197==a?(a=new g.Ea(l.description),a.bd(l,!1)):g.ba.zd(a)?(a=new g.Ua(l.description),a.oc(l,!0)):a=l;a=g.Ih.mj(a,c);return a.B()?a:1==g.Gg.Tb(c)?g.Ih.Gn(a,
c,0,a!=l,0):u.FQ(a,c,a!=l)};u.FQ=function(l,c,a){if(!g.cb.Xc(c))throw g.i.O();if(l.B())return l;var b=g.cb.bf(c),d=-(180*b);b*=360;2==g.Gg.Tb(c)&&(d=g.cb.hh(c),b=d.C,d=d.v,b-=d);return g.Ih.Jp(l,d,b,c,a,0,!0)};return u}()})(L||(L={}));(function(g){g.qY=function(){function u(){}u.R=function(l){return 0>l?-l:l};u.Mb=function(l,c){return 0<=c?u.R(l):-u.R(l)};u.$=function(l,c){return l==c||u.R(l-c)<=u.BC*(1+(u.R(l)+u.R(c))/2)};u.Dd=function(l){return 0==l||u.R(l)<=u.BC};u.Bh=function(l,c){c=Math.sqrt(1-
c);c=(1-c)/(1+c);var a=c*c;return l/(1+c)*(1+a*(.25+a*(.015625+1/256*a)))*u.wL};u.wL=1.5707963267948966;u.BC=3.552713678800501E-15;return u}()})(L||(L={}));(function(g){var u=function(){return function(c){this.Xf=c;this.Kk=this.Xf.getCode();0>this.Kk&&(this.Kk=0)}}();g.sY=u;var l=function(){function c(a){void 0===a&&(a=null);this.Dj=null;this.Vn=!1;null!==a&&(this.Dj=new u(a))}c.prototype.Fc=function(){return null!=this.Dj?this.Dj.Kk:0};c.prototype.Pf=function(){var a=new c;this.copyTo(a);return a};
c.prototype.copyTo=function(a){a.Dj=this.Dj;a.Vn=this.Vn};c.prototype.Lz=function(){this.Vn=!this.Vn};c.prototype.sm=function(){return null!=this.Dj?this.Dj.Xf:null};c.prototype.DJ=function(a){if(0>=a)throw g.i.O();if(a!=this.Fc()){a=g.qf.geogtran(a);if(null==a)throw g.i.O("Geogtran not found.");this.Dj=new u(a)}};c.prototype.wz=function(){return null==this.Dj?null:this.Dj.Xf.toString()};c.prototype.hX=function(a){if(null==a)throw g.i.O();var b=null;try{b=g.qf.fromString(g.Tc.PE_TYPE_GEOGTRAN,a)}catch(d){throw g.i.O();
}this.Dj=new u(b)};c.prototype.Nb=function(a){return a==this?!0:a instanceof c&&(!(0>=this.Fc()||this.Fc()!=a.Fc())||this.sm().isEqual(a.sm()))?this.Vn==a.Vn:!1};c.prototype.toString=function(){var a="GeographicTransformation: "+this.wz();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};c.create=function(a,b){var d=new c;d.DJ(a);b&&d.Lz();return d};c.mP=function(a,b){var d=new c;d.hX(a);b&&d.Lz();return d};return c}();g.Bx=l})(L||(L={}));(function(g){var u=function(){function c(){}
c.construct=function(a,b,d,e){var f=new c;f.iw=a;f.jw=b;f.FY=d;f.GY=e;return f};c.yy=function(a,b){return a.iw==b.iw?a.jw==b.jw?0:a.jw<b.jw?-1:1:a.iw<b.iw?-1:1};return c}(),l=function(){function c(){this.nT=[];this.oT=[];this.rp()}c.fz=function(){null==c.bK&&(c.bK=new c);return c.bK};c.prototype.rp=function(){this.aD(this.nT);this.aD(this.oT)};c.prototype.aD=function(a){try{var b=[];b=b.sort(u.yy);for(var d=0;d<b.length;d++)a.push(b[d])}catch(e){}};return c}();g.rY=l})(L||(L={}));(function(g){var u=
function(){function l(){}l.prototype.qD=function(c){this.Fk=c};l.prototype.OM=function(c){this.Gb=c};l.prototype.pD=function(c){this.Ao=c};l.uE=function(c){return c.B()||1607!=c.K()&&1736!=c.K()?!1:!0};l.sE=function(c){return c.B()||1607!=c.K()&&1736!=c.K()||20>c.I()?!1:!0};l.tE=function(c){return c.B()||1607!=c.K()&&1736!=c.K()||20>c.I()?!1:!0};return l}();g.Uk=u})(L||(L={}));(function(g){g.bc=function(){function u(){}u.JT=function(l){var c=new g.Ea;c.qx(l.fs(),l.hs());c.zj(l.fs(),l.gs());c.zj(l.es(),
l.gs());c.zj(l.es(),l.hs());return c};u.Ah=function(l,c){return null===l?null:g.Fx.local().W(l,c,null)};u.YX=function(l,c){var a=g.Hh.local();l=new g.$c(l);return a.W(l,c,null).next()};u.km=function(l,c,a){return g.lp.local().W(l,c,a,null)};u.fp=function(l,c,a){return g.Ix.local().W(l,c,a,null)};u.JX=function(l,c,a){var b=g.Ix.local();l=new g.$c(l);c=new g.$c(c);a=b.W(l,c,a,null);for(b=[];null!=(c=a.next());)b.push(c);return b};u.Nb=function(l,c,a){return g.ej.local().W(3,l,c,a,null)};u.LP=function(l,
c,a){return g.ej.local().W(4,l,c,a,null)};u.HS=function(l,c,a){var b=g.Wk.local();l=new g.$c(l);c=new g.$c(c);a=b.W(l,c,a,null);for(b=[];null!=(c=a.next());)b.push(c);return b};u.IP=function(l,c,a){var b=g.lp.local();l=new g.$c(l);c=new g.$c(c);a=b.W(l,c,a,null);for(b=[];null!=(c=a.next());)b.push(c);return b};u.Fa=function(l,c,a){return g.Wk.local().W(l,c,a,null)};u.eY=function(l,c,a){return g.ej.local().W(2,l,c,a,null)};u.contains=function(l,c,a){return g.ej.local().W(1,l,c,a,null)};u.tP=function(l,
c,a){return g.ej.local().W(16,l,c,a,null)};u.touches=function(l,c,a){return g.ej.local().W(8,l,c,a,null)};u.tU=function(l,c,a){return g.ej.local().W(32,l,c,a,null)};u.JS=function(l,c,a){return g.ej.local().W(1073741824,l,c,a,null)};u.sB=function(l,c,a,b){return g.rL.local().W(l,c,a,b,null)};u.ub=function(l,c,a,b){var d=null;if(null!=a){if(d=a.Id(),null!=b&&d.Fc()!=b.Fc()&&d.od!=b.od)throw g.i.Yk();}else if(null!=b)throw g.i.O();l=g.iL.local().W(l,c,null);null!==d&&null!==b&&(l=g.Uc.Oh(l,d,b));return l};
u.clip=function(l,c,a){return g.cL.local().W(l,g.l.construct(c.fs(),c.hs(),c.es(),c.gs()),a,null)};u.el=function(l,c,a){if(null==l||null==c)return null;l=g.eL.local().W(!0,l,c,a,null);for(c=[];null!=(a=l.next());)a.B()||c.push(a);return c.slice(0)};u.EN=function(l,c,a,b,d,e,f,h){if(!0===d)return u.FN(l,c,a,b,e,f,h);d=a;if(null!=c){if(f=c.Id(),null!=b&&f.Fc()!=b.Fc()){if(f.od!=b.od)throw g.i.Yk();d=[];g.Uc.PE(a,a.length,b,f,d)}}else if(null!=b)throw g.i.O();a=g.sC.local();if(e){l=new g.$c(l);c=a.W(l,
c,d,e,null);for(l=[];null!=(e=c.next());)l.push(e);e=l.slice(0)}else for(e=[],b=0;b<l.length;b++)e[b]=a.W(l[b],c,d[b],null);return e};u.FN=function(l,c,a,b,d,e,f){if(null===c)throw g.i.O();if(null===b||void 0===b)b=4326!==c.Fc()?c.Id():g.Uc.$g(9001);if(0!==b.od)throw g.i.O();g.Uc.PE(a,a.length,b,g.Uc.$g(9001),a);b=g.xC.local();if(d){l=new g.$c(l);c=b.W(l,c,e,a,f,!1,d,null);for(a=[];null!=(e=c.next());)a.push(e);d=a.slice(0)}else{d=[];for(var h=0;h<l.length;h++)d[h]=b.W(l[h],c,e,a[h],f,!1,null)}return d};
u.buffer=function(l,c,a,b,d,e,f){var h=a;if(!1===d){if(null!=c){if(d=c.Id(),null!=b&&d.Fc()!=b.Fc()){if(d.od!=b.od)throw g.i.Yk();h=g.Uc.Oh(a,b,d)}}else if(null!=b)throw g.i.O();l=g.sC.local().W(l,c,h,null)}else{if(null===c)throw g.i.O();if(null===b||void 0===b)b=4326!==c.Fc()?c.Id():g.Uc.$g(9001);if(0!==b.od)throw g.i.O();h=g.Uc.Oh(a,b,g.Uc.$g(9001));l=g.xC.local().W(l,c,e,h,f,!1,null)}return l};u.rU=function(l,c,a,b,d,e,f){if(null!=c){var h=c.Id();if(null!=f&&h.Fc()!=f.Fc()){if(h.od!=f.od)throw g.i.Yk();
a=g.Uc.Oh(a,f,h)}}else if(null!=f)throw g.i.O();l=new g.$c(l);c=g.AC.local().W(l,c,a,b,d,e,null);for(a=[];null!=(b=c.next());)a.push(b);return a.slice(0)};u.offset=function(l,c,a,b,d,e,f){if(null!=c){var h=c.Id();if(null!=f&&h.Fc()!=f.Fc()){if(h.od!=f.od)throw g.i.Yk();a=g.Uc.Oh(a,f,h)}}else if(null!=f)throw g.i.O();return g.AC.local().W(l,c,a,b,d,e,null)};u.aP=function(l){return g.uC.local().W(l,null)};u.bP=function(l,c){var a=g.uC.local();l=new g.$c(l);c=a.W(l,c,null);for(a=[];null!=(l=c.next());)a.push(l);
return a};u.iz=function(l,c,a){return g.Gx.local().iz(l,c,a)};u.jz=function(l,c){return g.Gx.local().jz(l,c)};u.kz=function(l,c,a,b){return g.Gx.local().kz(l,c,a,b)};u.YB=function(l,c){return g.$l.local().W(l,c,!1,null)};u.US=function(l,c){return g.$l.local().ss(l,c,null)};u.IQ=function(l,c,a,b,d){var e=g.wC.local();if(null!=c){if(c=c.Id(),null!=d&&c.Fc()!=d.Fc()){if(c.od!=d.od)throw g.i.Yk();a=g.Uc.Oh(a,d,c)}}else if(null!=d)throw g.i.O();return e.W(l,a,b,null)};u.Rr=function(l,c,a,b){var d=g.Zl.local();
if(null!=c){if(c=c.Id(),null!=b&&c.Fc()!=b.Fc()){if(c.od!=b.od)throw g.i.Yk();a=g.Uc.Oh(a,b,c)}}else if(null!=b)throw g.i.O();return d.W(l,a,null)};u.Ry=function(l,c,a,b,d){void 0===d&&(d=0);var e=g.kL.local();if(4==d)throw g.i.Fe();if(0!==d)throw g.i.Fe();if(null!==b){if(0!==b.od)throw g.i.O("Unit must be a linear unit type");a=g.Uc.Oh(a,b,g.Uc.$g(9001))}return e.W(l,a,c,d,null)};u.OQ=function(l,c,a,b){if(null===l)return 0;if(4==b)throw g.i.Fe();if(0!==b)throw g.i.Fe();if(197==l.K())l=u.JT(l);else if(1736!=
l.K())return 0;b=g.cb.tc(c);l=g.cb.Ah(l,c,b);l=g.MK.PQ([l])[0];if(null!==a){if(2!==a.od)throw g.i.O("Unit must be a area unit type");l=g.Uc.Oh(l,g.Uc.$g(109404),a)}return l};u.RQ=function(l,c,a,b){l=g.mL.local().W(l,c,b,null);if(null!==a){if(0!==a.od)throw g.i.O("Unit must be a linear unit type");l=g.Uc.Oh(l,g.Uc.$g(9001),a)}return l};u.zU=function(l,c,a){if(null===l)return 0;var b=null;if(null!=c){b=c.Id();if(0==b.od&&(b=g.Uc.TF(b),null==b&&null!==a))throw g.i.O();if(null!=a&&b.Fc()!=a.Fc()&&b.od!=
a.od)throw g.i.Yk();}else if(null!=a)throw g.i.O();return 1736==l.K()||197==l.K()?(l=l.He(),null!==a?g.Uc.Oh(l,b,a):l):0};u.AU=function(l,c,a){if(null===l||l.B()||1>l.Eb())return 0;var b=null;if(null!=c){if(b=c.Id(),null!=a&&b.Fc()!=a.Fc()&&b.od!=a.od)throw g.i.Yk();}else if(null!=a)throw g.i.O();1736==l.K()||197==l.K()?c=l.mg():g.ba.zd(l.K())?(c=new g.Ua(l.description),c.oc(l,!0)):c=l;l=0;c=c.Ha();for(var d=new g.h,e=new g.h;c.ab();)for(;c.Ia();){var f=c.ia();f.$p(d);f.Ur(e);l+=g.h.ub(d,e)}null!==
b&&null!==a&&(l=g.Uc.Oh(l,b,a));return l};u.YO=function(l){return void 0!==l.points?u.dS(l,void 0===l.hasZ?!1:l.hasZ,void 0===l.hasM?!1:l.hasM):void 0!==l.rings?u.dG(l.rings,void 0===l.hasZ?!1:l.hasZ,void 0===l.hasM?!1:l.hasM,"P"):void 0!==l.paths?u.dG(l.paths,void 0===l.hasZ?!1:l.hasZ,void 0===l.hasM?!1:l.hasM,"L"):void 0!==l.x?u.eS(l):void 0!==l.xmin?u.cS(l):null};u.eS=function(l){if(null==l.x||"NaN"==l.x)return new g.Ta;var c=new g.Ta(l.x,l.y);void 0!==l.z&&null!==l.z&&c.kX(l.z);void 0!==l.m&&
null!==l.m&&c.VW(l.m);return c};u.cS=function(l){if(null==l.xmin||"NaN"==l.xmin)return new g.Gh;var c=new g.Gh(l.xmin,l.ymin,l.xmax,l.ymax);void 0!==l.zmin&&null!==l.zmin&&c.setInterval(1,0,l.zmin,l.zmax);void 0!==l.mmin&&null!==l.mmin&&c.setInterval(2,0,l.mmin,l.mmax);return c};u.dS=function(l,c,a){var b=0,d=new g.de,e=3*l.points.length;0!=e%2&&e++;2>e&&(e=2);var f=g.P.truncate(3*l.points.length/2);4>f?f=4:16>f&&(f=16);e=g.Zc.En(e,0);var h=g.Zc.En(f);f=g.Zc.En(f);for(var k=0;k<l.points.length;k++)e.write(2*
k,l.points[k][0]),e.write(2*k+1,l.points[k][1]),h.write(k,c||a?l.points[k][2]:NaN),f.write(k,a&&c?l.points[k][3]:NaN),b++;0!=b&&(d.resize(b),d.kn(0,e));c&&(d.se(1),d.kn(1,h));a&&(d.se(2),d.kn(2,0==c?h:f));d.Qc(16777215);return d};u.dG=function(l,c,a,b){var d=0,e=2;if("P"==b){var f=new g.Ea;d=1;e=3}else f=new g.Ua;for(var h=g.Zc.Ph(0),k=g.Zc.Nr(0),m=0,n=0,p=[],q=[],r=0;r<l.length;r++){var t=l[r].length;p[r]=!1;if("P"===b&&l[r][0][0]===l[r][l[r].length-1][0]&&l[r][0][1]===l[r][l[r].length-1][1]){var v=
0==a?!0:l[r][0][3]===l[r][l[r].length-1][3]||void 0===l[r][0][3]&&void 0===l[r][l[r].length-1][3];(0==c||l[r][0][2]===l[r][l[r].length-1][2]||void 0===l[r][0][2]&&void 0===l[r][l[r].length-1][2])&&v&&(p[r]=!0,--t)}t>=e?(q[r]=!1,n+=1,h.add(m),k.add(d),m+=t):q[r]=!0}b=3*m;0!=b%2&&b++;2>b&&(b=2);r=g.P.truncate(3*m/2);4>r?r=4:16>r&&(r=16);b=g.Zc.En(b,0);d=g.Zc.En(r);e=g.Zc.En(r);for(r=t=0;r<l.length;r++)if(!1===q[r])for(v=0;v<l[r].length;v++){var M=!1;v===l[r].length-1&&!0===p[r]&&(M=!0);M||(b.write(2*
t,l[r][v][0]),b.write(2*t+1,l[r][v][1]),d.write(t,c||a?l[r][v][2]:NaN),e.write(t,a&&c?l[r][v][3]:NaN),t++)}0!=m&&(l=f,h.resize(n),k.resize(n),0<m&&(h.add(m),k.add(0)),l.kn(0,b),l.HJ(k),l.IJ(h));c&&(f.se(1),f.kn(1,d));a&&(f.se(2),f.kn(2,0==c?d:e));f.Qc(16777215);return f};return u}()})(L||(L={}));(function(g){g.Cx=function(){function u(){}u.dr=function(l){var c=0,a,b=l.length,d=l[0];for(a=0;a<b-1;a++){var e=l[a+1];c+=(e[0]-d[0])*(e[1]+d[1]);d=e}return 0<=c};u.rotate=function(l,c,a){c=c*Math.PI/180;
var b=Math.cos(c),d=Math.sin(c);if(void 0!==l.paths){c={paths:[]};for(var e=0;e<l.paths.length;e++){for(var f=l.paths[e],h=[],k=0;k<f.length;k++){var m=f[k].slice(0);h.push(m);var n=b*(f[k][0]-a.x)-d*(f[k][1]-a.y)+a.x,p=d*(f[k][0]-a.x)+b*(f[k][1]-a.y)+a.y;m[0]=n;m[1]=p}c.paths.push(h)}return c}if(void 0!==l.rings){c={rings:[]};for(e=0;e<l.rings.length;e++){f=l.rings[e];h=[];var q=u.dr(f);for(k=0;k<f.length;k++)m=f[k].slice(0),h.push(m),n=b*(f[k][0]-a.x)-d*(f[k][1]-a.y)+a.x,p=d*(f[k][0]-a.x)+b*(f[k][1]-
a.y)+a.y,m[0]=n,m[1]=p;u.dr(h)!==q&&h.reverse();c.rings.push(h)}return c}if(void 0!==l.x)return c={x:b*(l.x-a.x)-d*(l.y-a.y)+a.x,y:d*(l.x-a.x)+b*(l.y-a.y)+a.y},void 0!==l.z&&(c.z=l.z),void 0!==l.m&&(c.m=l.m),c;if(void 0!==l.points){c={points:[]};l=l.points;for(k=0;k<l.length;k++)e=l[k].slice(0),e[0]=b*(l[k][0]-a.x)-d*(l[k][1]-a.y)+a.x,e[1]=d*(l[k][0]-a.x)+b*(l[k][1]-a.y)+a.y,c.points.push(e);return c}return null};u.BQ=function(l,c){if(void 0!==l.paths){for(var a={paths:[]},b=0;b<l.paths.length;b++){for(var d=
l.paths[b],e=[],f=0;f<d.length;f++){var h=d[f].slice(0);e.push(h);var k=c.x-d[f][0];h[0]=d[f][0]+2*k}a.paths.push(e)}return a}if(void 0!==l.rings){a={rings:[]};for(b=0;b<l.rings.length;b++){d=l.rings[b];var m=u.dr(d);e=[];for(f=0;f<d.length;f++)h=d[f].slice(0),e.push(h),k=c.x-d[f][0],h[0]=d[f][0]+2*k;u.dr(e)!==m&&e.reverse();a.rings.push(e)}return a}if(void 0!==l.x)return k=c.x-l.x,a={x:l.x+2*k,y:l.y},void 0!==l.z&&(a.z=l.z),void 0!==l.m&&(a.m=l.m),a;if(void 0!==l.points){a={points:[]};l=l.points;
for(f=0;f<l.length;f++)b=l[f].slice(0),k=c.x-b[0],b[0]+=2*k,a.points.push(b);return a}return void 0!==l.xmin?(a={v:l.xmin,G:l.ymin,C:l.xmax,H:l.ymax},void 0!==l.zmin&&(a.zmin=l.zmin,a.zmax=l.zmax),void 0!==l.mmin&&(a.mmin=l.mmin,a.mmax=l.mmax),k=c.x-l.xmin,a.xmax=l.xmin+2*k,k=c.x-l.xmax,a.xmin=l.xmax+2*k,a):null};u.CQ=function(l,c){if(void 0!==l.paths){for(var a={paths:[]},b=0;b<l.paths.length;b++){for(var d=l.paths[b],e=[],f=0;f<d.length;f++){var h=d[f].slice(0);e.push(h);var k=c.y-d[f][1];h[1]=
d[f][1]+2*k}a.paths.push(e)}return a}if(void 0!==l.rings){a={rings:[]};for(b=0;b<l.rings.length;b++){d=l.rings[b];var m=u.dr(d);e=[];for(f=0;f<d.length;f++)h=d[f].slice(0),e.push(h),k=c.y-d[f][1],h[1]=d[f][1]+2*k;u.dr(e)!==m&&e.reverse();a.rings.push(e)}return a}if(void 0!==l.x)return k=c.y-l.y,a={y:l.y+2*k,x:l.x},void 0!==l.z&&(a.z=l.z),void 0!==l.m&&(a.m=l.m),a;if(void 0!==l.points){a={points:[]};l=l.points;for(f=0;f<l.length;f++)b=l[f].slice(0),k=c.y-b[1],b[1]+=2*k,a.points.push(b);return a}return void 0!==
l.xmin?(a={v:l.xmin,G:l.ymin,C:l.xmax,H:l.ymax},void 0!==l.zmin&&(a.zmin=l.zmin,a.zmax=l.zmax),void 0!==l.mmin&&(a.mmin=l.mmin,a.mmax=l.mmax),k=c.y-l.ymin,a.ymax=l.ymin+2*k,k=c.y-l.ymax,a.ymin=l.ymax+2*k,a):null};return u}()})(L||(L={}));(function(g){g.RK=function(){function u(){}u.Kg=function(l,c){null==c&&(c=g.ee.og());switch(l){case 33:return new g.Ta(c);case 322:return new g.zb(c);case 197:return new g.Gh(c);case 550:return new g.de(c);case 1607:return new g.Ua(c);case 1736:return new g.Ea(c);
default:throw g.i.ga("invalid argument.");}};return u}()})(L||(L={}));(function(g){var u=function(){function l(c,a){this.Qe=g.ja.rf(c,-1);this.va=new g.bu;this.yl=a}l.prototype.qW=function(c){this.va.At(Math.min(this.Qe.size,c));this.va.hn(c)};l.prototype.addElement=function(c,a){if(void 0===a)return this.XM(c);a=g.P.truncate(a%this.Qe.size);var b=this.Qe.get(a);-1==b&&(b=this.va.Qh(),this.Qe.set(a,b));return this.va.addElement(b,c)};l.prototype.XM=function(c){var a=this.yl.ez(c);a=g.P.truncate(a%
this.Qe.size);var b=this.Qe.get(a);-1==b&&(b=this.va.Qh(),this.Qe.set(a,b));return this.va.addElement(b,c)};l.prototype.kd=function(c,a){if(void 0===a)this.CP(c);else{a=g.P.truncate(a%this.Qe.size);var b=this.Qe.get(a);if(-1==b)throw g.i.O();for(var d=this.va.sc(b),e=-1;-1!=d;){var f=this.va.lb(d);this.va.ka(d)==c?(this.va.kd(b,e,d),-1==this.va.sc(b)&&(this.va.dh(b),this.Qe.set(a,-1))):e=d;d=f}}};l.prototype.CP=function(c){var a=this.yl.ez(c);a=g.P.truncate(a%this.Qe.size);var b=this.Qe.get(a);if(-1==
b)throw g.i.O();for(var d=this.va.sc(b),e=-1;-1!=d;){var f=this.va.lb(d);this.va.ka(d)==c?(this.va.kd(b,e,d),-1==this.va.sc(b)&&(this.va.dh(b),this.Qe.set(a,-1))):e=d;d=f}};l.prototype.iR=function(c){c=g.P.truncate(c%this.Qe.size);c=this.Qe.get(c);return-1==c?-1:this.va.sc(c)};l.prototype.wR=function(c){return this.va.lb(c)};l.prototype.wd=function(c){var a=this.yl.ez(this.ka(c));a=g.P.truncate(a%this.Qe.size);var b=this.Qe.get(a);if(-1==b)throw g.i.O();for(var d=this.va.sc(b),e=-1;-1!=d;){if(d==
c){this.va.kd(b,e,d);-1==this.va.sc(b)&&(this.va.dh(b),this.Qe.set(a,-1));return}e=d;d=this.va.lb(d)}throw g.i.O();};l.prototype.ka=function(c){return this.va.ka(c)};l.prototype.clear=function(){this.Qe=g.ja.rf(this.Qe.size,-1);this.va.clear()};l.prototype.size=function(){return this.va.LF()};return l}();g.WK=u})(L||(L={}));(function(g){var u=function(){function l(){this.Mi=new g.ad(3);this.va=new g.ad(6);this.hT=!1;this.je=-1}l.prototype.hl=function(c){this.Mi.kd(c)};l.prototype.Qw=function(){return this.Mi.De()};
l.prototype.cv=function(c){this.va.kd(c)};l.prototype.UA=function(){return this.va.De()};l.prototype.PB=function(c,a){this.Mi.T(c,1,a)};l.prototype.ex=function(c,a){this.Mi.T(c,2,a)};l.prototype.UW=function(c,a){this.Mi.T(c,3,a)};l.prototype.NB=function(c,a){this.va.T(c,4,a)};l.prototype.XW=function(c,a){this.va.T(c,3,a)};l.prototype.LJ=function(c,a){this.va.T(c,2,a)};l.prototype.Qh=function(c){var a=this.UA();this.va.T(a,3,this.je);this.va.T(a,4,0);this.va.T(a,5,c);-1!=this.je&&this.LJ(this.je,a);
return this.je=a};l.prototype.dh=function(c){this.DE(c);var a=this.va.U(c,2),b=this.va.U(c,3);-1!=a?this.XW(a,b):this.je=b;-1!=b&&this.LJ(b,a);this.cv(c);return b};l.prototype.At=function(c){this.va.Ee(c)};l.prototype.HF=function(c){return this.va.U(c,5)};l.prototype.TW=function(c,a){this.va.T(c,5,a)};l.prototype.addElement=function(c,a){return this.kS(c,a)};l.prototype.kS=function(c,a){var b=this.Qw();this.ex(b,-1);-1==this.va.U(c,0)&&this.va.T(c,0,b);var d=this.va.U(c,1);this.PB(b,d);-1!=d&&this.ex(d,
b);this.va.T(c,1,b);this.setData(b,a);this.NB(c,this.cs(c)+1);this.hT&&this.UW(b,c);return b};l.prototype.kd=function(c,a){var b=this.xe(a),d=this.lb(a);-1!=b?this.ex(b,d):this.va.T(c,0,d);-1!=d?this.PB(d,b):this.va.T(c,1,b);this.hl(a);this.NB(c,this.cs(c)-1);return d};l.prototype.hn=function(c){this.Mi.Ee(c)};l.prototype.getData=function(c){return this.Mi.U(c,0)};l.prototype.setData=function(c,a){this.Mi.T(c,0,a)};l.prototype.lb=function(c){return this.Mi.U(c,2)};l.prototype.xe=function(c){return this.Mi.U(c,
1)};l.prototype.sc=function(c){return this.va.U(c,0)};l.prototype.Gc=function(c){return this.va.U(c,1)};l.prototype.clear=function(){for(var c=this.je;-1!=c;)c=this.dh(c)};l.prototype.DE=function(c){for(var a=this.Gc(c);-1!=a;){var b=a;a=this.xe(b);this.hl(b)}this.va.T(c,0,-1);this.va.T(c,1,-1);this.NB(c,0)};l.prototype.B=function(){return 0==this.Mi.size};l.prototype.LF=function(){return this.Mi.size};l.prototype.cs=function(c){return this.va.U(c,4)};l.prototype.lz=function(c){return this.va.U(c,
3)};return l}();g.kp=u})(L||(L={}));(function(g){var u=function(){function l(c){void 0===c?(this.ug=new g.ad(2),this.va=new g.ad(4),this.je=-1,this.Rv=!0):(this.ug=new g.ad(2),this.va=new g.ad(c?4:2),this.je=-1,this.Rv=c)}l.prototype.hl=function(c){this.ug.kd(c)};l.prototype.Qw=function(){return this.ug.De()};l.prototype.cv=function(c){this.va.kd(c)};l.prototype.UA=function(){return this.va.De()};l.prototype.Qh=function(){var c=this.UA();this.Rv&&(this.va.T(c,3,this.je),-1!=this.je&&this.va.T(this.je,
2,c),this.je=c);return c};l.prototype.dh=function(c){for(var a=this.sc(c);-1!=a;){var b=a;a=this.lb(a);this.hl(b)}this.Rv&&(a=this.va.U(c,2),b=this.va.U(c,3),-1!=a?this.va.T(a,3,b):this.je=b,-1!=b&&this.va.T(b,2,a));this.cv(c)};l.prototype.At=function(c){this.va.Ee(c)};l.prototype.addElement=function(c,a){var b=this.va.U(c,1),d=this.Qw();-1!=b?this.ug.T(b,1,d):this.va.T(c,0,d);this.va.T(c,1,d);this.ug.T(d,0,a);return d};l.prototype.hn=function(c){this.ug.Ee(c)};l.prototype.kd=function(c,a,b){-1!=
a?(this.ug.T(a,1,this.ug.U(b,1)),this.va.U(c,1)==b&&this.va.T(c,1,a)):(this.va.T(c,0,this.ug.U(b,1)),this.va.U(c,1)==b&&this.va.T(c,1,-1));this.hl(b)};l.prototype.By=function(c,a){var b=this.va.U(c,1),d=this.va.U(a,0);-1!=d&&(-1!=b?this.ug.T(b,1,d):this.va.T(c,0,d),this.va.T(c,1,this.va.U(a,1)));this.Rv&&(c=this.va.U(a,2),b=this.va.U(a,3),-1!=c?this.va.T(c,3,b):this.je=b,-1!=b&&this.va.T(b,2,c));this.cv(a)};l.prototype.ka=function(c){return this.ug.U(c,0)};l.prototype.Tj=function(c,a){this.ug.T(c,
0,a)};l.prototype.lb=function(c){return this.ug.U(c,1)};l.prototype.sc=function(c){return this.va.U(c,0)};l.prototype.Kn=function(c){return this.ka(this.sc(c))};l.prototype.clear=function(){this.ug.nj(!0);this.va.nj(!0);this.je=-1};l.prototype.B=function(){return 0==this.ug.size};l.prototype.LF=function(){return this.ug.size};l.prototype.lz=function(c){return this.va.U(c,3)};return l}();g.bu=u})(L||(L={}));(function(g){g.ta=function(){function u(){}u.Xd=function(l,c,a){c=c.zr();l=null!=l&&void 0!==
l.Yd?l.Yd(0):0;a&&(c*=4,l*=1.1);return Math.max(l,c)};u.Gr=function(l){return 2*Math.sqrt(2)*l};u.jN=function(l){return Math.sqrt(2)*l};u.lj=function(l,c,a){var b=new g.l;c.A(b);return u.Xd(l,b,a)};u.oE=function(l,c,a){c=c.Ug(1,0).zr();l=null!=l?l.Yd(1):0;a&&(c*=4,l*=1.1);return Math.max(l,c)};u.nv=function(l,c){var a=new g.l;l.yc(a);l=new g.l;c.yc(l);a.$b(l);return a};u.QN=function(l){var c=new g.l;l.yc(c);if(c.B())return null;var a=new g.eu(c,8),b=-1,d=new g.l,e=!1;do for(var f=0,h=l.ea();f<h;f++)if(l.Sj(f,
d),b=a.Ez(f,d,b),-1==b){if(e)throw g.i.ga("internal error");l.Ap(c,!1);e=!0;a.reset(c,8);break}else e=!1;while(e);return a};u.fE=function(l){var c=new g.l;l.yc(c);for(var a=new g.eu(c,8),b=-1,d=l.Ha(),e=new g.l,f=!1;d.ab();)for(;d.Ia();){var h=d.ia(),k=d.xb();h.A(e);b=a.Ez(k,e,b);if(-1==b){if(f)throw g.i.Ra();l.Ap(c,!1);f=!0;a.reset(c,8);d.$i();break}}return a};u.kj=function(l,c){var a=new g.l;l.yc(a);for(var b=new g.eu(a,8),d=-1,e=new g.l,f=l.Ha(),h=!1;f.ab();)for(;f.Ia();){var k=f.ia(),m=f.xb();
k.A(e);if(e.isIntersecting(c)&&(d=b.Ez(m,e,d),-1==d)){if(h)throw g.i.ga("internal error.");l.Ap(a,!1);h=!0;b.reset(a,8);f.$i();break}}return b};u.gE=function(l,c){for(var a=new g.eu(c,8),b=new g.h,d=!1,e=new g.l,f=0;f<l.I();f++)if(l.D(f,b),c.contains(b)&&(e.L(b),-1==a.wj(f,e))){if(d)throw g.i.Ra();d=!0;f=new g.l;l.Ap(f,!1);a.reset(f,8);f=-1}return a};u.dR=function(l,c,a){var b=new g.l,d=new g.l;l.yc(b);c.yc(d);b.X(a,a);d.X(a,a);var e=new g.l;e.L(b);e.Fa(d);l=l.Ha();c=c.Ha();var f=new g.qC;f.UB(a);
var h=!1;for(f.hK();l.ab();)for(;l.Ia();)l.ia().A(b),b.isIntersecting(e)&&(h=!0,a=new g.l,a.L(b),f.AD(l.xb(),a));f.aF();if(!h)return null;b=!1;for(f.gK();c.ab();)for(;c.Ia();)c.ia().A(d),d.isIntersecting(e)&&(b=!0,a=new g.l,a.L(d),f.wD(c.xb(),a));f.$E();return b?f:null};u.eR=function(l,c,a,b,d){var e=l.K(),f=c.K(),h=new g.l,k=new g.l;l.yc(h);c.yc(k);h.X(a,a);k.X(a,a);var m=new g.l;m.L(h);m.Fa(k);var n=new g.qC;n.UB(a);var p=!1;n.hK();var q=0;for(a=l.ea();q<a;q++)if(!b||1736!=e||l.Fv(q))l.Sj(q,h),
h.isIntersecting(m)&&(p=!0,n.AD(q,h));n.aF();if(!p)return null;l=!1;n.gK();b=0;for(a=c.ea();b<a;b++)if(!d||1736!=f||c.Fv(b))c.Sj(b,k),k.isIntersecting(m)&&(l=!0,n.wD(b,k));n.$E();return l?n:null};u.Tu=function(l,c,a){if(l!=c)for(var b=0;b<a;b++)null==l[b]?l[b]=g.h.bl(c[b]):l[b].N(c[b])};u.Dy=function(l,c,a,b){var d=0;for(b+=0;d<b;a++,d++)null==l[d]&&(l[d]=[0,0]),l[d][0]=c[a].x,l[d][1]=c[a].y};u.Cy=function(l,c,a,b){var d=c,e=0;for(c=b+c;d<c;e++,d++)null==l[d]?l[d]=g.h.construct(a[e][0],a[e][1]):l[d].na(a[e][0],
a[e][1])};u.cP=function(l,c,a){if(l!=c)for(var b=0;b<a;b++)null==l[b]?l[b]=new g.Ta(c[b]):c[b].copyTo(l[b])};u.nE=function(l,c,a,b){var d=0;null!=l&&(d=l.Yd(0),b&&!a||null==l||(d+=1.01*l.pz(0)));a&&(c*=4,d*=1.01);return Math.max(d,c)};u.ny=function(l,c,a){return u.nE(l,c.zr(),a,!1)};u.ZN=function(l,c){var a=new g.l;c.A(a);return u.ny(l,a,!0)};u.oy=function(l,c){return u.nE(l,c.zr(),!1,!0)};u.Iu=function(l,c){var a=new g.l;c.A(a);return u.oy(l,a)};u.sG=function(l,c,a,b){b*=b;var d=new g.h;d.vc(l,c);
l=new g.h;l.vc(a,c);c=d.Sk();a=l.Sk();if(c<=b&&a<=b)return!0;var e=g.mc.nx(d.xi(l));return e<=b*c||e<=b*a?0<=d.Rh(l):!1};u.WJ=function(l,c,a,b){for(var d=0;d<c;d++){var e=l[d].y,f=g.P.Rk(e,a,b);f!=e&&(l[d].y=f)}};return u}()})(L||(L={}));(function(g){var u=function(){function d(e){this.Za=e}d.prototype.compare=function(e,f,h){e=e.ka(h);h=this.Za.nk(f);var k=this.Za.nk(e);return h<k?-1:h==k?b.iq(f)&&b.Hv(e)?-1:b.iq(e)&&b.Hv(f)?1:0:1};return d}(),l=function(){function d(e){this.Za=e}d.prototype.qr=
function(e,f,h){this.Za.uX(h,e,f)};d.prototype.bq=function(e){return this.Za.nk(e)};return d}(),c;(function(d){d[d.initialize=0]="initialize";d[d.pIn=1]="pIn";d[d.pL=2]="pL";d[d.pR=3]="pR";d[d.pT=4]="pT";d[d.right=5]="right";d[d.left=6]="left";d[d.all=7]="all"})(c||(c={}));var a=function(){function d(){this.Za=null;this.Ri=new g.Oc;this.ii=new g.ja(0);this.sg=[0,0]}d.prototype.Yi=function(e,f){this.Ri.pa=e.pa-f;this.Ri.wa=e.wa+f;this.ii.resize(0);this.he=0;this.sg[0]=0};d.prototype.yB=function(e,
f,h){if(e>f)throw g.i.O();this.Ri.pa=e-h;this.Ri.wa=f+h;this.ii.resize(0);this.he=0;this.sg[0]=0};d.prototype.Vo=function(e,f){this.Ri.pa=e-f;this.Ri.wa=e+f;this.ii.resize(0);this.he=0;this.sg[0]=0};d.prototype.next=function(){if(!this.Za.nq)throw g.i.Hb();if(0>this.he)return-1;for(var e=!0;e;)switch(this.sg[this.he]){case 1:e=this.vU();break;case 2:e=this.wU();break;case 3:e=this.xU();break;case 4:e=this.yU();break;case 5:e=this.vW();break;case 6:e=this.aT();break;case 7:e=this.lN();break;case 0:e=
this.Bz();break;default:throw g.i.Ra();}return-1!=this.Pg?this.Op()>>1:-1};d.construct=function(e){var f=new d;f.Za=e;f.ii.Jb(20);f.he=-1;return f};d.prototype.Bz=function(){this.Pg=this.nH=this.Ni=this.Mc=-1;if(null!=this.Za.me&&0<this.Za.me.size)return this.sg[0]=1,this.Ni=this.Za.kf,!0;this.he=-1;return!1};d.prototype.vU=function(){this.Mc=this.Ni;if(-1==this.Mc)return this.Pg=this.he=-1,!1;var e=this.Za.Pp(this.Mc);if(this.Ri.wa<e)return e=this.Za.mk(this.Mc),this.Ni=this.Za.rj(this.Mc),-1!=e&&
(this.fi=this.Za.ml(e),this.sg[++this.he]=6),!0;if(e<this.Ri.pa)return e=this.Za.mk(this.Mc),this.Ni=this.Za.lk(this.Mc),-1!=e&&(this.fi=this.Za.$r(e),this.sg[++this.he]=5),!0;this.sg[this.he]=2;this.nH=this.Mc;e=this.Za.mk(this.Mc);this.Ni=this.Za.rj(this.Mc);-1!=e&&(this.fi=this.Za.ml(e),this.sg[++this.he]=7);return!0};d.prototype.wU=function(){this.Mc=this.Ni;if(-1==this.Mc)return this.sg[this.he]=3,this.Ni=this.Za.lk(this.nH),!0;if(this.Za.Pp(this.Mc)<this.Ri.pa){var e=this.Za.mk(this.Mc);this.Ni=
this.Za.lk(this.Mc);-1!=e&&(this.fi=this.Za.$r(e),this.sg[++this.he]=5);return!0}e=this.Za.mk(this.Mc);this.Ni=this.Za.rj(this.Mc);-1!=e&&(this.fi=this.Za.ml(e),this.sg[++this.he]=7);e=this.Za.lk(this.Mc);-1!=e&&this.ii.add(e);return!0};d.prototype.xU=function(){this.Mc=this.Ni;if(-1==this.Mc)return this.sg[this.he]=4,!0;if(this.Ri.wa<this.Za.Pp(this.Mc)){var e=this.Za.mk(this.Mc);this.Ni=this.Za.rj(this.Mc);-1!=e&&(this.fi=this.Za.ml(e),this.sg[++this.he]=6);return!0}e=this.Za.mk(this.Mc);this.Ni=
this.Za.lk(this.Mc);-1!=e&&(this.fi=this.Za.ml(e),this.sg[++this.he]=7);e=this.Za.rj(this.Mc);-1!=e&&this.ii.add(e);return!0};d.prototype.yU=function(){if(0==this.ii.size)return this.Pg=this.he=-1,!1;this.Mc=this.ii.get(this.ii.size-1);this.ii.resize(this.ii.size-1);var e=this.Za.mk(this.Mc);-1!=e&&(this.fi=this.Za.ml(e),this.sg[++this.he]=7);-1!=this.Za.rj(this.Mc)&&this.ii.add(this.Za.rj(this.Mc));-1!=this.Za.lk(this.Mc)&&this.ii.add(this.Za.lk(this.Mc));return!0};d.prototype.aT=function(){this.Pg=
this.fi;if(-1!=this.Pg&&b.iq(this.Op())&&this.Za.nk(this.Op())<=this.Ri.wa)return this.fi=this.KF(),!1;this.he--;return!0};d.prototype.vW=function(){this.Pg=this.fi;if(-1!=this.Pg&&b.Hv(this.Op())&&this.Za.nk(this.Op())>=this.Ri.pa)return this.fi=this.HR(),!1;this.he--;return!0};d.prototype.lN=function(){this.Pg=this.fi;if(-1!=this.Pg&&b.iq(this.Op()))return this.fi=this.KF(),!1;this.he--;return!0};d.prototype.KF=function(){return this.Za.Tf?this.Za.ag.lb(this.Pg):this.Za.Ui.lb(this.Pg)};d.prototype.HR=
function(){return this.Za.Tf?this.Za.ag.xe(this.Pg):this.Za.Ui.xe(this.Pg)};d.prototype.Op=function(){return this.Za.Tf?this.Za.ag.ka(this.Pg):this.Za.Ui.getData(this.Pg)};return d}();g.tY=a;var b=function(){function d(e){this.Cm=this.ai=this.ag=this.Ui=this.Mm=this.Fj=this.me=this.Gj=null;this.Tf=e;this.nq=this.Tv=!1}d.prototype.mr=function(){this.Nk(!0)};d.prototype.Dr=function(e,f){if(!this.Tv)throw g.i.Hb();this.Gj.push(new g.Oc(e,f))};d.prototype.Hp=function(){if(!this.Tv)throw g.i.ga("invalid call");
this.Tv=!1;this.nq=!0;this.Tf||(this.mS(),this.$v=this.Gj.length)};d.prototype.wj=function(e){if(!this.Tf||!this.nq)throw g.i.O("invalid call");if(-1==this.kf){var f=this.Gj.length;if(this.dA){var h=new g.ja(0);h.Jb(2*f);this.UI(h);this.ai.Jb(2*f);this.ai.resize(0);this.TI(h);this.Mm.resize(f,-1);this.Mm.Xj(-1,0,f);this.dA=!1}else this.Mm.Xj(-1,0,f);this.kf=this.Vu()}f=this.hG(e<<1,this.kf);h=this.ag.addElement((e<<1)+1,this.rz(f));this.NJ(f,h);this.Mm.set(e,f);this.$v++};d.prototype.remove=function(e){if(!this.Tf||
!this.nq)throw g.i.ga("invalid call");var f=this.Mm.get(e);if(-1==f)throw g.i.O("the interval does not exist in the interval tree");this.Mm.set(e,-1);this.$v--;var h=this.rz(f),k=this.ag.QR(h);this.ag.wd(this.nR(f),h);this.ag.wd(this.KR(f),h);e=this.ag.size(h);0==e&&(this.ag.EP(h),this.RJ(k,-1));this.Fj.kd(f);h=this.MF(k);var m=this.rj(k),n=this.lk(k);for(f=0;!(0<e||k==this.kf||-1!=m&&-1!=n);)k==this.rj(h)?-1!=m?(this.Ok(h,m),this.Vj(m,h),this.Ok(k,-1)):-1!=n?(this.Ok(h,n),this.Vj(n,h),this.Qk(k,
-1)):this.Ok(h,-1):-1!=m?(this.Qk(h,m),this.Vj(m,h),this.Ok(k,-1)):-1!=n?(this.Qk(h,n),this.Vj(n,h),this.Qk(k,-1)):this.Qk(h,-1),this.Vj(k,-1),f++,k=h,h=this.mk(k),e=-1!=h?this.ag.size(h):0,m=this.rj(k),n=this.lk(k),h=this.MF(k)};d.prototype.reset=function(){if(!this.Tf||!this.nq)throw g.i.O("invalid call");this.Nk(!1)};d.prototype.size=function(){return this.$v};d.prototype.getIterator=function(){return a.construct(this)};d.prototype.UI=function(e){for(var f=this.Gj.length,h=0;h<2*f;h++)e.add(h);
this.vX(e,2*f)};d.prototype.TI=function(e){for(var f=NaN,h=0;h<e.size;h++){var k=e.get(h),m=this.nk(k);m!=f&&(this.ai.add(k),f=m)}};d.prototype.mS=function(){var e=this.Gj.length,f=new g.ja(0);f.Jb(2*e);this.UI(f);this.ai.Jb(2*e);this.ai.resize(0);this.TI(f);this.Fj.Ee(e);this.Ui.hn(2*e);var h=g.Zc.Ph(e);h.Xj(-1,0,e);this.kf=this.Vu();for(e=0;e<f.size;e++){var k=f.get(e),m=h.get(k>>1);-1!=m?this.NJ(m,this.Ui.addElement(this.rz(m),k)):(m=this.hG(k,this.kf),h.set(k>>1,m))}};d.prototype.hG=function(e,
f){var h=f,k=f,m=-1,n=0,p=this.ai.size-1,q=0,r=e>>1,t=NaN,v=NaN,M=!0,W=this.vR(r);for(r=this.sR(r);M;){n<p?(q=n+g.P.truncate((p-n)/2),-1==this.bz(h)&&this.xJ(h,this.ai.get(q),this.ai.get(q+1))):-1==this.bz(h)&&this.xJ(h,this.ai.get(n),this.ai.get(n));var U=this.Pp(h);if(r<U)-1!=f&&(f==h?(k=h,t=U,f=this.rj(h),v=-1!=f?this.Pp(f):NaN):v>U&&(U<t?this.Ok(k,h):this.Qk(k,h),this.Qk(h,f),this.Tf&&(this.Vj(h,k),this.Vj(f,h)),k=h,t=U,f=-1,v=NaN)),p=this.oR(h),-1==p&&(p=this.Vu(),this.RW(h,p)),h=p,p=q;else if(W>
U)-1!=f&&(f==h?(k=h,t=U,f=this.lk(h),v=-1!=f?this.Pp(f):NaN):v<U&&(U<t?this.Ok(k,h):this.Qk(k,h),this.Ok(h,f),this.Tf&&(this.Vj(h,k),this.Vj(f,h)),k=h,t=U,f=-1,v=NaN)),n=this.LR(h),-1==n&&(n=this.Vu(),this.bX(h,n)),h=n,n=q+1;else{M=this.mk(h);-1==M&&(M=this.rP(h),this.RJ(h,M));var X=this.YM(M,e);m=this.pP();this.eX(m,M);this.QW(m,X);h!=f&&(U<t?this.Ok(k,h):this.Qk(k,h),this.Tf&&this.Vj(h,k),-1!=f&&(v<U?this.Ok(h,f):this.Qk(h,f),this.Tf&&this.Vj(f,h)));M=!1}}return m};d.prototype.Vu=function(){return this.me.De()};
d.prototype.rP=function(e){return this.Tf?this.ag.Qr(e):this.Ui.Qh(e)};d.prototype.pP=function(){return this.Fj.De()};d.prototype.Nk=function(e){e?(this.Tv=this.dA=!0,this.nq=!1,null==this.ai?this.ai=g.Zc.Ph(0):this.ai.resize(0),null==this.Gj?this.Gj=[]:this.Gj.length=0):this.dA=!1;this.Tf?null==this.Mm?(this.Mm=g.Zc.Ph(0),this.ag=new g.Yj,this.ag.Wo(new u(this))):this.ag.clear():null==this.Ui?this.Ui=new g.kp:this.Ui.clear();null==this.me?(this.Fj=new g.ad(3),this.me=new g.ad(this.Tf?8:7)):(this.Fj.nj(!1),
this.me.nj(!1));this.kf=-1;this.$v=0};d.prototype.xJ=function(e,f,h){this.KW(e,f);this.LW(e,h)};d.prototype.Pp=function(e){var f=this.bz(e);if(-1==f)return NaN;f=this.nk(f);e=this.nk(this.ZQ(e));return f==e?f:.5*(f+e)};d.prototype.KW=function(e,f){this.me.T(e,0,f)};d.prototype.LW=function(e,f){this.me.T(e,1,f)};d.prototype.RW=function(e,f){this.me.T(e,3,f)};d.prototype.bX=function(e,f){this.me.T(e,4,f)};d.prototype.RJ=function(e,f){this.me.T(e,2,f)};d.prototype.Ok=function(e,f){this.me.T(e,5,f)};
d.prototype.Qk=function(e,f){this.me.T(e,6,f)};d.prototype.Vj=function(e,f){this.me.T(e,7,f)};d.prototype.eX=function(e,f){this.Fj.T(e,0,f)};d.prototype.YM=function(e,f){return this.Tf?this.ag.addElement(f,e):this.Ui.addElement(e,f)};d.prototype.QW=function(e,f){this.Fj.T(e,1,f)};d.prototype.NJ=function(e,f){this.Fj.T(e,2,f)};d.prototype.ml=function(e){return this.Tf?this.ag.sc(e):this.Ui.sc(e)};d.prototype.$r=function(e){return this.Tf?this.ag.Gc(e):this.Ui.Gc(e)};d.iq=function(e){return 0==(e&1)};
d.Hv=function(e){return 1==(e&1)};d.prototype.bz=function(e){return this.me.U(e,0)};d.prototype.ZQ=function(e){return this.me.U(e,1)};d.prototype.mk=function(e){return this.me.U(e,2)};d.prototype.oR=function(e){return this.me.U(e,3)};d.prototype.LR=function(e){return this.me.U(e,4)};d.prototype.rj=function(e){return this.me.U(e,5)};d.prototype.lk=function(e){return this.me.U(e,6)};d.prototype.MF=function(e){return this.me.U(e,7)};d.prototype.rz=function(e){return this.Fj.U(e,0)};d.prototype.nR=function(e){return this.Fj.U(e,
1)};d.prototype.KR=function(e){return this.Fj.U(e,2)};d.prototype.vR=function(e){return this.Gj[e].pa};d.prototype.sR=function(e){return this.Gj[e].wa};d.prototype.vX=function(e,f){null==this.Cm&&(this.Cm=new g.Yt);var h=new l(this);this.Cm.sort(e,0,f,h)};d.prototype.uX=function(e,f,h){var k=this;e.Wd(f,h,function(m,n){var p=k.nk(m),q=k.nk(n);return p<q||p==q&&d.iq(m)&&d.Hv(n)?-1:1})};d.prototype.nk=function(e){var f=this.Gj[e>>1];return d.iq(e)?f.pa:f.wa};return d}();g.ur=b})(L||(L={}));(function(g){var u=
function(){function l(c){if(null==c)throw g.i.ga("Invalid arguement");this.hf=c;var a=c.fR();a.ZR()?c.ef.AG()?this.mo=g.ti.PannableFold:this.mo=g.ti.Clip:this.mo=g.ti.DontClip;a.$R()?c.Zf.AG()?this.Sm=g.ti.PannableFold:this.Sm=g.ti.Clip:this.Sm=g.ti.DontClip;this.Dm=a.Lu;this.eH=a.Gy;c=this.hf.kH;this.TG=c.js(2147483648);this.Vv=c.js(1073741824)}l.Ah=function(c,a,b){return a.xw.Ah(c,b)};l.St=function(c,a,b,d){return c.xw.St(a,b,d)};l.Rt=function(c,a,b,d){b=0>b?a.length:b;c=c.xw.St(a,b,d);if(c==b)return c;
for(var e=a=0;e<b;e++){var f=d[e];f.isNaN()||(a<e&&d[a].N(f),a++)}for(;a<b;a++)d[a].Sc();return c};l.transform=function(c,a,b,d,e){if(c.isIdentity())return g.ta.cP(d,a,b),b;for(var f=[],h=0,k=0;k<b;){for(var m=Math.min(f.length,b-k),n=k,p=0;n<m;n++,p++)null==f[p]?f[p]=a[n].D():a[n].D(f[p]);var q=e?l.Rt(c,f,m,f):l.St(c,f,m,f);for(p=n=0;n<q;n++,p++)null==d[k]&&(d[k]=new g.Ta(a[k])),d[k].Db(f[p]);k+=m;h+=q}return h};l.prototype.St=function(c,a,b){if(this.hf.isIdentity())return c!=b&&g.ta.Tu(b,c,a),a;
var d=this.hf.ef,e=this.hf.Zf,f=d.Tb(),h=e.Tb();if(0==f&&f===h){var k=d.Sp();e=e.Sp();e=k/e;k=new g.Ed;k.It(e,e);k.TX(c,a,b);return a}k=g.P.Gu(Math.min(a,64));if(3==f){var m=d.Ki;d=m.fk();f=d.Tb();b!=c&&g.ta.Tu(b,c,a);g.Ab.al(m,b,a,!0);m.Rt(g.dm.forward,b,a);g.Ab.$k(m,b,a,!0)}if(3==f||3===h)throw g.i.ga("image: transform_in_place_");if(2==f)this.mo==g.ti.Clip?(b!=c&&g.ta.Tu(b,c,a),c=d.ol(),g.Ab.FS(c,d,b,a)):(b!=c&&g.ta.Tu(b,c,a),d.Xc()&&(f=d.Yd(0),m=d.Le(),g.Ab.sX(b,a,m,f),g.Ab.iF(b,a,d,0))),g.Ab.AL(d,
b,a,k);else for(f=d.Yd(0),m=d.Le(),d=0;d<a;d++)g.Ab.tX(c[d],m,f,b[d]);g.Ab.yL(this.hf,b,a,k);c=0;(h=2==h)?c=e.Ai():isNaN(this.Dm)||(c=this.Dm);h&&this.Sm!=g.ti.Clip||g.Ab.iF(b,a,e.tc(),c);h&&(g.Ab.qG(b,a,e,this.Sm),g.Ab.zL(e,b,a,k));c=a;for(d=0;d<a;++d)b[d].isNaN()&&c--;return c};l.prototype.Ah=function(c,a){if(this.hf.isIdentity()||c.B())return c;if(33==c.K())return this.OI(c);var b=this.hf.ef,d=this.hf.Zf,e=b.Tb(),f=d.Tb();if(0==e&&e==f)return a=b.Sp(),d=d.Sp(),a/=d,d=new g.Ed,d.It(a,a),c=g.ba.ig(c),
c.Pc(d),c;switch(c.K()){case 1607:case 1736:c=this.MI(c,a);break;case 550:c=this.WV(c,a);break;case 197:c=this.VV(c,a);break;default:throw g.i.ga("");}return c};l.prototype.OI=function(c){var a=c.D(),b=[];b[0]=a;this.St(b,1,b);c=new g.Ta(c);c.Db(b[0]);return c};l.prototype.MI=function(c,a){if(c.vm())throw g.i.ga("curves not supported");var b=c.K();if(1736==b)return this.XV(c,a);if(1607==b)return this.YV(c,a);throw g.i.ga("projectMultiPath");};l.prototype.XV=function(c,a){var b=this.hf.ef,d=this.hf.Zf,
e=b.Tb(),f=d.Tb(),h=g.P.Gu(Math.min(c.I(),64)),k=g.Ea.ig(c);3==e&&(c=b.Ki,b=c.fk(),e=b.Tb(),k=c.al(k,!0),this.yp(c,g.dm.forward,k),k=c.$k(k,!0));c=null;3==f&&(c=d.Ki,d=c.fk(),f=d.Tb());var m=2==e,n=2==f,p=n?d.tc():d,q=!n&&!this.Vv;f=!1;var r=k;if(m){if(r=g.Ab.LI(r,b,this.mo,a),r.B())return r}else{k=new g.l;r.yc(k);e=b.Le();if(k.G<e.G||k.H>e.H){var t=g.l.construct(k.v-1,e.G,k.C+1,e.H);r=g.si.Pu(r,t,b,NaN,0,a);if(r.B())return r}k.S()>2*e.S()&&(r=g.Ab.Jp(r,-2*e.S(),2*e.S(),b,!0,0,!0,a))}k=this.eH;(e=
!isNaN(k))&&(r=g.Zl.local().W(r,k,a));t=n?d.kk():null;var v=NaN;m&&(v=b.Ai());var M=null!=d.Xr();if(this.TG)m&&(g.Ab.wr(b,v,r,h),e&&(m=b.ih(),v=b.tc().ih(),k*=v/m)),g.Ab.vr(this.hf,r,q,h),e&&(m=b.tc().ih(),v=d.tc().ih(),k*=v/m),b=r;else{var W=new g.Ua(r.description);W.vD(r);m&&(g.Ab.wr(b,v,W,h),e&&(m=b.ih(),v=b.tc().ih(),k*=v/m));g.Ab.vr(this.hf,W,q,h);e&&(m=b.tc().rm(),v=d.tc().rm(),k*=v/m);q=NaN;n?(t=d.kk(),q=d.Ai()):isNaN(this.Dm)||(q=this.Dm);m=l.uv(b)|l.uv(d);v=10*p.Yd(0);this.Vv&&(m=3,v=0);
b=g.Ab.MQ(r,b,W,p,q,a,m,v)}M&&(b=g.Ab.PD(b,d,a));n&&(f||(n=p.Le().S(),b.Ug(0,0).S()>=n-p.Yd(0)&&(p=t.getNorthPoleLocation(),n=t.getSouthPoleLocation(),r=t.getNorthPoleGeometry(),t=t.getSouthPoleGeometry(),q=0,r==g.Eg.PE_POLE_POINT&&p!=g.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(q=1),t==g.Eg.PE_POLE_POINT&&n!=g.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(q|=2),0!==q&&(f=!0))),b=g.Ab.Hz(b,d,this.Sm,a),e&&(b=g.Zl.local().W(b,k,a)),g.Ab.Jx(d,b,h));if(b.B())return b;f&&(b=g.$l.local().W(b,d,!1,a));null!=c&&(b=c.$k(b,!1),this.yp(c,
g.dm.reverse,b),b=c.al(b,!1));return b};l.uv=function(c){if(2!=c.Tb())return 0;var a=0,b=c.kk();c=b.getNorthPoleLocation();var d=b.getSouthPoleLocation(),e=b.getNorthPoleGeometry();b=b.getSouthPoleGeometry();e==g.Eg.PE_POLE_POINT&&c!=g.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(a=1);b==g.Eg.PE_POLE_POINT&&d!=g.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2);return a};l.prototype.YV=function(c,a){var b=this.hf.ef,d=this.hf.Zf,e=b.Tb(),f=d.Tb(),h=g.P.Gu(Math.min(c.I(),64)),k=g.Ua.ig(c);3==e&&(c=b.Ki,b=c.fk(),e=b.Tb(),k=c.al(k,
!0),this.yp(c,g.dm.forward,k),k=c.$k(k,!0));c=null;3==f&&(c=d.Ki,d=c.fk(),f=d.Tb());var m=2==e;e=(f=2==f)?d.tc():d;var n=!f&&!this.Vv;if(m){if(k=g.Ab.LI(k,b,this.mo,a),k.B())return k}else{var p=new g.l;k.yc(p);var q=b.Le();if(p.G<q.G||p.H>q.H)if(p=g.l.construct(p.v-1,q.G,p.C+1,q.H),k=g.si.Pu(k,p,b,NaN,0,a),k.B())return k}var r=NaN;m&&(r=b.Ai());p=null!=d.Xr();q=this.eH;var t=!isNaN(q);t&&(k=g.Zl.local().W(k,q,a));if(this.TG)m&&g.Ab.wr(b,r,k,h),t&&(m=b.ih(),r=b.tc().ih(),q*=r/m),g.Ab.vr(this.hf,k,
n,h),t&&(m=b.tc().ih(),r=d.tc().ih(),q*=r/m),b=k;else{var v=new g.Ua(k.description);v.vD(k);m&&(g.Ab.wr(b,r,v,h),t&&(m=b.ih(),r=b.tc().ih(),q*=r/m));g.Ab.vr(this.hf,v,n,h);t&&(m=b.tc().ih(),r=d.tc().ih(),q*=r/m);n=NaN;f?n=d.Ai():isNaN(this.Dm)||(n=this.Dm);m=l.uv(b)|l.uv(d);r=10*e.Yd(0);this.Vv&&(m=3,r=0);b=g.Ab.NQ(k,b,v,e,n,a,m,r)}p&&(b=g.Ab.PD(b,d,a));f&&(b=g.Ab.Hz(b,d,this.Sm,a),t&&(b=g.Zl.local().W(b,q,a)),g.Ab.Jx(d,b,h));if(b.B())return b;null!=c&&(b=c.$k(b,!1),this.yp(c,g.dm.reverse,b),b=c.al(b,
!1));return b};l.prototype.VV=function(c,a){var b=(c.da()+c.S())/400;0!=b?(b=g.Zl.local().W(c,b,a),b=this.MI(b,a),a=c.Ja(),b.dn(a)):(a=new g.Ta(c.Kp()),b=this.OI(a),a=c.Ja(),b.B()?a.Pa():(c.copyTo(a),c=b.D(),a.L(c.x,c.y,c.x,c.y)));return a};l.prototype.WV=function(c,a){c=g.ba.ig(c);var b=this.hf.ef,d=this.hf.Zf,e=b.Tb(),f=d.Tb(),h=g.P.Gu(Math.min(c.I(),64));if(3==e){var k=b.Ki;b=k.fk();e=b.Tb();c=k.$k(c,!0);this.yp(k,g.dm.forward,c);c=k.al(c,!0)}if(2==e){this.mo==g.ti.Clip?c=g.Wk.local().W(c,b.ol(),
b,a):b.Xc()&&(e=new g.l,c.yc(e),b.Le().contains(e)||(this.mo==g.ti.PannableFold&&(c=g.Ab.mj(c,b)),g.Ab.Kt(c,b.Le(),b.Yd(0),!0),c=g.Ab.Gn(c,b,0,!0,0,a)));if(c.B())return c;g.Ab.wr(b,0,c,h)}else g.Ab.Kt(c,b.Le(),b.Yd(0),!0);g.Ab.vr(this.hf,c,!1,h);b=0;e=!1;k=null;3==f&&(e=!0,k=d.Ki,d=k.fk(),f=d.Tb());(f=2==f)?b=d.Ai():isNaN(this.Dm)||(b=this.Dm);f&&this.Sm!=g.ti.Clip||(c=g.Ab.Gn(c,d.tc(),b,!1,0,a));if(f&&(c=g.Ab.Hz(c,d,this.Sm,a),g.Ab.Jx(d,c,h),c.B()))return c;e&&(c=k.$k(c,!0),this.yp(k,g.dm.reverse,
c),c=k.al(c,!0));return c};l.prototype.yp=function(c,a,b){var d=b.I();if(0!=d){for(var e=b.vb(0),f=g.P.lg(200,0),h=[],k=0;k<d;){var m=Math.min(100,d-k);e.Ww(2*k,2*m,f,2,!0);for(var n=0;n<m;++n)h[n]=g.h.construct(f[2*k],f[2*k+1]);c.Rt(a,h,m);k+=m}b.Qc(1993)}};l.Py=function(c,a,b){if(null==c||null==a||!a.Xc())throw g.i.ga("Invalid Arguement");if(c.B())return c;var d=c.K();197==d?(d=new g.Ea(c.description),d.bd(c,!1)):g.ba.zd(d)?(d=new g.Ua(c.description),d.oc(c,!0)):d=c;d=g.Ab.mj(d,a);return d.B()?
d:g.Ab.Gn(d,a,0,d!=c,0,b)};l.oj=function(c,a,b,d){if(null==c||null==a||!a.Xc())throw g.i.ga("Invalid Arguement");if(c.B())return c;var e=c.K();if(g.ba.Ic(e)){c=g.Ab.mj(c,a);e=new g.l;c.A(e);for(var f=g.ta.ny(a,e,!1),h=a.hh(),k=Math.floor((e.v-h.v)/h.S())*h.S()+h.v;k<e.C;)k>e.v+f&&k<e.C-f&&(c=g.Ab.lS(c,a,b,k)),k+=h.S()}else{if(197==e)return e=new g.Ea(c.description),e.bd(c,!1),l.oj(e,a,b,d);if(g.ba.zd(e))return e=new g.Ua(c.description),e.oc(c,!0),l.oj(e,a,b,d)}return l.Py(c,a,d)};return l}();g.cu=
u})(L||(L={}));(function(g){var u=function(l){function c(a,b,d,e){var f=l.call(this)||this;void 0===a?f.description=g.ee.og():void 0===d?f.description=a:(f.description=g.ee.og(),f.SB(a,b),f.Sl(d,e));return f}fa(c,l);c.prototype.K=function(){return 322};c.prototype.Rb=function(){var a=this.sa-this.qa,b=this.oa-this.ma;return Math.sqrt(a*a+b*b)};c.prototype.Ci=function(a){var b=this.sa-this.qa,d=this.oa-this.ma;return Math.sqrt(b*b+d*d)<=a};c.prototype.Qn=function(){return!1};c.prototype.jg=function(){var a=
new g.h;a.vc(this.xc(),this.ac());return a};c.VO=function(a,b){return new c(a.x,a.y,b.x,b.y)};c.prototype.dn=function(a){a.Pa();a.kg(this.description);var b=new g.l;this.A(b);a.Yo(b);b=1;for(var d=this.description.Ba;b<d;b++)for(var e=this.description.qd(b),f=g.ua.Wa(e);b<f;b++){var h=this.Ug(e,0);a.setInterval(e,0,h)}};c.prototype.A=function(a){a.L(this.sa,this.oa,this.qa,this.ma);a.normalize()};c.prototype.Ro=function(a){a.Pa();a.$b(this.sa,this.oa,this.Pd(0,1,0));a.$b(this.qa,this.ma,this.Pd(1,
1,0))};c.prototype.Pc=function(a){if(a instanceof g.Ed){this.wc();var b=new g.h;b.x=this.sa;b.y=this.oa;a.Fh(b,b);this.sa=b.x;this.oa=b.y;b.x=this.qa;b.y=this.ma;a.Fh(b,b);this.qa=b.x;this.ma=b.y}else this.wc(),b=new g.Od,b.x=this.sa,b.y=this.oa,b.z=this.Pd(0,1,0),b=a.gp(b),this.sa=b.x,this.oa=b.y,this.vn(0,1,0,b.z),b.x=this.qa,b.y=this.ma,b.z=this.Pd(1,1,0),b=a.gp(b),this.qa=b.x,this.ma=b.y,this.vn(1,1,0,b.z)};c.prototype.Ja=function(){return new c(this.description)};c.prototype.Rx=function(a,b){return(this.qa-
a-(this.sa-a))*(this.ma-b+(this.oa-b))*.5};c.prototype.tx=function(a){return a*this.Rb()};c.prototype.FG=function(a){return a/this.Rb()};c.prototype.vF=function(a){return g.mc.jq(this.sa,this.qa,a)};c.prototype.YQ=function(a){return g.mc.jq(this.oa,this.ma,a)};c.prototype.el=function(a,b){var d=new g.hg;this.bh(a,b,d);return d.get()};c.prototype.bh=function(a,b,d){if(null==d)throw g.i.O();d.Pr();d=d.get();d.kg(this.description);var e=new g.h;this.ic(a,e);d.SB(e.x,e.y);this.ic(b,e);d.Sl(e.x,e.y);e=
1;for(var f=this.description.Ba;e<f;e++)for(var h=this.description.Fd(e),k=g.ua.Wa(h),m=0;m<k;m++){var n=this.Vc(a,h,m);d.RB(h,m,n);n=this.Vc(b,h,m);d.IB(h,m,n)}};c.prototype.Vc=function(a,b,d){if(0==b)return 0==d?this.ic(a).x:this.ic(a).y;switch(g.ua.gz(b)){case 0:return.5>a?this.xv(b,d):this.hv(b,d);case 1:var e=this.xv(b,d);b=this.hv(b,d);return g.mc.jq(e,b,a);case 2:throw g.i.ga("not implemented");}throw g.i.Ra();};c.prototype.fe=function(a,b){var d=this.qa-this.sa,e=this.ma-this.oa,f=d*d+e*e;
if(0==f)return.5;a=((a.x-this.sa)*d+(a.y-this.oa)*e)/f;b||(0>a?a=0:1<a&&(a=1));return a};c.prototype.fq=function(a,b,d,e){if(a){a=this.ma-this.oa;if(0==a)return b==this.ma?-1:0;b=(b-this.oa)/a;if(0>b||1<b)return 0;null!=d&&(d[0]=this.vF(b))}else{a=this.qa-this.sa;if(0==a)return b==this.qa?-1:0;b=(b-this.sa)/a;if(0>b||1<b)return 0;null!=d&&(d[0]=this.YQ(b))}null!=e&&(e[0]=b);return 1};c.prototype.Me=function(a,b){var d=this.ma-this.oa;if(0==d)return a==this.ma?b:NaN;a=(a-this.oa)/d;b=this.vF(a);1==
a&&(b=this.qa);return b};c.prototype.su=function(a,b,d){return 0<=this.sp(a.x,a.y,b,d)};c.prototype.wi=function(a,b,d){return 0<=this.sp(a,b,d,!0)};c.prototype.rs=function(a,b){return this.su(a,b,!1)};c.prototype.jI=function(){if(this.ma<this.oa||this.ma==this.oa&&this.qa<this.sa){var a=this.sa;this.sa=this.qa;this.qa=a;a=this.oa;this.oa=this.ma;this.ma=a;a=0;for(var b=this.description.Qq-2;a<b;a++){var d=this.la[a];this.la[a]=this.la[a+b];this.la[a+b]=d}}};c.prototype.vu=function(a,b){b=g.h.construct(a,
b);b.sub(this.ac());var d=new g.h;d.vc(this.xc(),this.ac());a=d.xi(b);b=8.881784197001252E-16*(Math.abs(d.x*b.y)+Math.abs(d.y*b.x));return a>b?-1:a<-b?1:0};c.prototype.sp=function(a,b,d,e){var f=this.sa,h=this.oa,k=a-f,m=b-h;k=Math.sqrt(k*k+m*m);if(k<=Math.max(d,6.661338147750939E-16*k))return e&&0==k?NaN:0;k=a-this.qa;m=b-this.ma;k=Math.sqrt(k*k+m*m);if(k<=Math.max(d,6.661338147750939E-16*k))return e&&0==k?NaN:1;k=this.qa-this.sa;m=this.ma-this.oa;e=Math.sqrt(k*k+m*m);if(0<e){var n=1/e;k*=n;m*=n;
var p=a-f,q=b-h,r=p*k+q*m,t=1.7763568394002505E-15*(Math.abs(p*k)+Math.abs(q*m)),v=k;k=-m;m=v;t=Math.max(d,t);if(r<-t||r>e+t)return NaN;if(Math.abs(p*k+q*m)<=Math.max(d,1.7763568394002505E-15*(Math.abs(p*k)+Math.abs(q*m)))&&(k=g.P.Rk(r*n,0,1),.5>=k?(m=this.sa+(this.qa-this.sa)*k,e=this.oa+(this.ma-this.oa)*k):(m=this.qa-(this.qa-this.sa)*(1-k),e=this.ma-(this.ma-this.oa)*(1-k)),g.h.Jy(m,e,a,b)<=d)){if(.5>k){if(g.h.Jy(m,e,f,h)<=d)return 0}else if(g.h.Jy(m,e,this.qa,this.ma)<=d)return 1;return k}}return NaN};
c.prototype.Nb=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.xM(a)};c.prototype.jD=function(a,b,d){var e=d?this.sa:this.qa;d=d?this.oa:this.ma;var f=new g.h;f.x=a.qa-e;f.y=a.ma-d;return b.Rh(f)>6.661338147750939E-16*b.YC(f)?(f.x=a.sa-e,f.y=a.oa-d,b.Rh(f)<=6.661338147750939E-16*b.YC(f)):!0};c.prototype.iD=function(a){var b=new g.h;b.x=this.qa-this.sa;b.y=this.ma-this.oa;if(!this.jD(a,b,!1))return!1;b.Uq();return this.jD(a,b,!0)?!0:!1};c.FM=function(a,b){var d=a.vu(b.sa,
b.oa),e=a.vu(b.qa,b.ma);if(0>d&&0>e||0<d&&0<e)return!1;d=b.vu(a.sa,a.oa);e=b.vu(a.qa,a.ma);if(0>d&&0>e||0<d&&0<e)return!1;d=a.Rb();e=b.Rb();return d>e?a.iD(b):b.iD(a)};c.DM=function(a,b,d){var e=g.h.construct(NaN,NaN),f=a.qa-a.sa,h=a.ma-a.oa,k=b.qa-b.sa,m=b.ma-b.oa,n=k*h-f*m;if(0==n)return e;var p=8.881784197001252E-16*(Math.abs(k*h)+Math.abs(f*m)),q=b.sa-a.sa,r=b.oa-a.oa,t=k*r-q*m,v=t/n,M=Math.abs(n);k=(8.881784197001252E-16*(Math.abs(k*r)+Math.abs(q*m))*M+p*Math.abs(t))/(n*n)+2.220446049250313E-16*
Math.abs(v);if(v<-k||v>1+k)return e;m=f*r-q*h;k=m/n;f=(8.881784197001252E-16*(Math.abs(f*r)+Math.abs(q*h))*M+p*Math.abs(m))/(n*n)+2.220446049250313E-16*Math.abs(k);if(k<-f||k>1+f)return e;v=g.P.Rk(v,0,1);f=g.P.Rk(k,0,1);h=a.ic(v);n=b.ic(f);p=new g.h;p.vc(h,n);if(p.length()>d&&(p.add(h,n),p.scale(.5),v=a.fe(p,!1),f=b.fe(p,!1),a=a.ic(v),b=b.ic(f),a.sub(b),a.length()>d))return e;e.na(v,f);return e};c.GM=function(a,b,d,e){var f=0;if(a.sa==b.sa&&a.oa==b.oa||a.sa==b.qa&&a.oa==b.ma)if(f++,!e)return 1;if(a.qa==
b.sa&&a.ma==b.oa||a.qa==b.qa&&a.ma==b.ma){f++;if(2==f)return 2;if(!e)return 1}return b.wi(a.sa,a.oa,d)||b.wi(a.qa,a.ma,d)||a.wi(b.sa,b.oa,d)||a.wi(b.qa,b.ma,d)?1:e&&0!=f?0:0==c.FM(a,b)?0:1};c.Xx=function(a,b,d,e,f,h){var k=0,m=a.sp(b.sa,b.oa,h,!1),n=a.sp(b.qa,b.ma,h,!1),p=b.sp(a.sa,a.oa,h,!1),q=b.sp(a.qa,a.ma,h,!1);isNaN(m)||(null!=e&&(e[k]=m),null!=f&&(f[k]=0),null!=d&&(d[k]=g.h.construct(b.sa,b.oa)),k++);isNaN(n)||(null!=e&&(e[k]=n),null!=f&&(f[k]=1),null!=d&&(d[k]=g.h.construct(b.qa,b.ma)),k++);
2==k||isNaN(p)||0==m&&0==p||0==n&&1==p||(null!=e&&(e[k]=0),null!=f&&(f[k]=p),null!=d&&(d[k]=g.h.construct(a.sa,a.oa)),k++);2==k||isNaN(q)||1==m&&0==q||1==n&&1==q||(null!=e&&(e[k]=1),null!=f&&(f[k]=q),null!=d&&(d[k]=g.h.construct(b.qa,b.ma)),k++);if(0<k)return 2==k&&null!=e&&e[0]>e[1]&&(a=e[0],e[0]=e[1],e[1]=a,null!=f&&(e=f[0],f[0]=f[1],f[1]=e),null!=d&&(f=g.h.construct(d[0].x,d[0].y),d[0]=d[1],d[1]=f)),k;k=c.DM(a,b,h);if(isNaN(k.x))return 0;null!=d&&(d[0]=a.ic(k.x));null!=e&&(e[0]=k.x);null!=f&&(f[0]=
k.y);return 1};c.prototype.XF=function(){return 0};c.prototype.pp=function(){};c.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.oa.toString()+", "+this.qa.toString()+", "+this.ma.toString()+"]"};return c}(g.KC);g.zb=u})(L||(L={}));(function(g){var u=function(){function l(){this.Lm=[];this.za=-1}l.prototype.Ma=function(){return this.za};l.prototype.next=function(){if(null!=this.Lm&&0!=this.Lm.length){this.za++;var c=this.Lm[0];this.Lm=1>=this.Lm.length?[]:this.Lm.slice(1);
return c}return this.Lm=null};l.prototype.NX=function(c){this.Lm.push(c)};l.prototype.qe=function(){};return l}();g.ZK=u})(L||(L={}));(function(g){(function(l){l[l.enumFillRuleOddEven=0]="enumFillRuleOddEven";l[l.enumFillRuleWinding=1]="enumFillRuleWinding"})(g.KL||(g.KL={}));var u=function(l){function c(a,b){var d=l.call(this)||this;d.yf=!1;d.Gq=null;d.uq=0;d.tq=0;d.Bj=null;d.Ng=!1;d.nb=null;d.mb=null;d.Se=null;d.Mj=null;d.Td=null;d.vq=0;d.gb=0;d.zq=0;if(void 0===b)d.yf=a,d.Ng=!1,d.vq=0,d.uq=0,d.tq=
0,d.xa=0,d.description=g.ee.og();else{if(null==b)throw g.i.O();d.yf=a;d.Ng=!1;d.vq=0;d.uq=0;d.tq=0;d.xa=0;d.description=b}d.Bj=null;d.gb=0;return d}fa(c,l);c.prototype.vm=function(){return 0<this.vq};c.prototype.Wx=function(){this.wc();null==this.Gq?this.Gq=new g.Ta(this.description):this.Gq.kg(this.description)};c.prototype.qx=function(a,b){var d=new g.h;d.x=a;d.y=b;this.Mt(d)};c.prototype.Mt=function(a){this.Wx();this.Gq.Db(a);this.Ng=!0};c.prototype.nf=function(a){if(a.B())throw g.i.O();this.Ll(a.description);
this.Wx();a.copyTo(this.Gq);this.Ng=!0};c.prototype.Qx=function(){var a=1;this.Ng&&(this.Wx(),null==this.nb?(this.nb=g.Zc.Ph(2),this.nb.write(0,0),this.mb=g.Zc.Nr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.yf&&this.mb.write(this.mb.size-2,1),a++);var b=this.xa;this.nb.write(this.nb.size-1,this.xa+a);this.fm(b+a);this.mb.write(this.nb.size-1,0);this.Ng&&(this.Ht(b,this.Gq),this.Ng=!1)};c.prototype.zj=function(a,b){this.Qx();this.Db(this.xa-1,a,b)};c.prototype.Di=
function(a){this.Qx();this.Db(this.xa-1,a)};c.prototype.lineTo=function(a){this.Qx();this.Ht(this.xa-1,a)};c.prototype.sU=function(a){this.wc();if(this.yf)throw g.i.Ra();var b=this.ea();if(a>b)throw g.i.Ra();if(this.ec(a)){if(null==this.mb)throw g.i.Ra();var d=this.xa,e=this.Ca(a),f=this.Wc(a);this.fm(this.xa+1);this.rc();for(var h=0,k=this.description.Ba;h<k;h++)if(null!=this.Aa[h]){var m=g.ua.Wa(this.description.Fd(h));this.Aa[h].Nn(m*f,this.Aa[h],m*e,m,!0,1,m*d)}for(;b>a;b--)d=this.nb.read(b),
this.nb.write(b,d+1);this.mb.CE(a,1)}};c.prototype.Cp=function(){this.ux();if(void 0===a){this.Ng=!1;var a=this.ea()-1}var b=this.mb.read(a);this.mb.write(a,b|1);null!=this.Se&&(a=this.Wc(a)-1,this.Se.write(a,1),this.Mj.write(a,-1))};c.prototype.ec=function(a){return 0!=(this.mb.read(a)&1)};c.prototype.On=function(a){if(this.ec(a))return!0;var b=this.Ca(a);a=this.Wc(a)-1;if(b>a)return!1;b=this.Oa(b);a=this.Oa(a);return b.rb(a)};c.prototype.zv=function(a){return 0!=(this.mb.read(a)&2)};c.prototype.oc=
function(a,b){this.Ll(a.description);if(322==a.K()){var d=new g.Ta;if(b||this.B())a.Uo(d),this.nf(d);a.Qo(d);this.lineTo(d)}else throw g.i.Ra();};c.prototype.vp=function(a){var b=0==this.xa;this.qx(a.v,a.G);this.zj(a.v,a.H);this.zj(a.C,a.H);this.zj(a.C,a.G);this.Cp();this.Ng=!1;b&&this.Nf(256,!1)};c.prototype.bd=function(a,b){if(!a.B()){for(var d=0==this.xa,e=new g.Ta(this.description),f=0;4>f;f++)a.If(b?4-f-1:f,e),0==f?this.nf(e):this.lineTo(e);this.Cp();this.Ng=!1;d&&!b&&this.Nf(256,!1)}};c.prototype.add=
function(a,b){for(var d=0;d<a.ea();d++)this.addPath(a,d,!b)};c.prototype.addPath=function(a,b,d){this.wf(-1,a,b,d)};c.prototype.Zk=function(a,b){this.Cz(a,b)};c.prototype.Fr=function(a,b,d,e,f){f||0!=this.ea()||(f=!0);0>b&&(b=a.ea()-1);if(b>=a.ea()||0>d||0>e||e>a.sv(b))throw g.i.ga("index out of bounds");if(0!=e){var h=a.ec(b)&&d+e==a.sv(b);if(!h||1!=e){this.Ng=!1;this.Ll(a.description);d=a.Ca(b)+d+1;f&&(e++,d--);h&&e--;h=this.xa;this.fm(this.xa+e);this.rc();if(f){if(0==e)return;this.nb.add(this.xa);
f=a.mb.read(b);f&=-5;this.yf&&(f|=1);this.mb.write(this.mb.size-1,f);this.mb.add(0)}else this.nb.write(this.mb.size-1,this.xa);f=0;for(var k=this.description.Ba;f<k;f++){var m=this.description.qd(f),n=g.ua.Wa(m),p=a.description.Qf(m);0>p||null==a.Aa[p]?this.Aa[f].Mn(n*h,g.ua.te(m),e*n,n*h):this.Aa[f].Nn(n*h,a.Aa[p],n*d,e*n,!0,n,n*h)}if(this.vm())throw g.i.Ra();if(a.zv(b))throw g.i.Ra();this.Qc(1993)}}};c.prototype.gJ=function(){for(var a=0,b=this.ea();a<b;a++)this.uW(a)};c.prototype.uW=function(a){this.rc();
if(a>=this.ea())throw g.i.O();var b=this.Ca(a),d=this.Ka(a);a=this.ec(a)?1:0;for(var e=0,f=this.description.Ba;e<f;e++)if(null!=this.Aa[e]){var h=g.ua.Wa(this.description.Fd(e));this.Aa[e].oi(h*(b+a),h*(d-a),h)}this.Qc(1993)};c.prototype.ar=function(a){this.rc();var b=this.ea();0>a&&(a=b-1);if(a>=b)throw g.i.O();for(var d=this.Ca(a),e=this.Ka(a),f=0,h=this.description.Ba;f<h;f++)if(null!=this.Aa[f]){var k=g.ua.Wa(this.description.Fd(f));this.Aa[f].Fn(k*d,k*e,k*this.xa)}for(d=a+1;d<=b;d++)f=this.nb.read(d),
this.nb.write(d-1,f-e);if(null==this.mb)for(d=a+1;d<=b;d++)a=this.mb.read(d),this.mb.write(d-1,a);this.nb.resize(b);this.mb.resize(b);this.xa-=e;this.Qg-=e;this.Qc(1993)};c.prototype.wf=function(a,b,d,e){if(b==this)throw g.i.O();if(d>=b.ea())throw g.i.O();var f=this.ea();if(a>f)throw g.i.O();0>a&&(a=f);0>d&&(d=b.ea()-1);this.Ng=!1;this.Ll(b.description);b.rc();var h=b.Ca(d),k=b.Ka(d),m=this.xa,n=b.ec(d)&&!e?1:0;this.fm(this.xa+k);this.rc();for(var p=a<f?this.Ca(a):m,q=0,r=this.description.Ba;q<r;q++){var t=
this.description.Fd(q),v=b.description.Qf(t),M=g.ua.Wa(t);0<=v&&null!=b.Aa[v]?(0!=n&&this.Aa[q].Nn(p*M,b.Aa[v],M*h,M,!0,M,M*m),this.Aa[q].Nn((p+n)*M,b.Aa[v],M*(h+n),M*(k-n),e,M,M*(m+n))):this.Aa[q].Mn(p*M,g.ua.te(t),M*k,M*m)}this.nb.add(m+k);for(e=f;e>=a+1;e--)h=this.nb.read(e-1),this.nb.write(e,h+k);b.zv(d);this.mb.add(0);for(e=f-1;e>=a+1;e--)f=this.mb.read(e),f&=-5,this.mb.write(e+1,f);f=b.BR().read(d);f&=-5;this.yf&&(f|=1);this.mb.write(a,f)};c.prototype.Cz=function(a,b){var d=-1,e=this.ea();if(d>
e)throw g.i.O();0>d&&(d=e);this.Ng=!1;var f=this.xa;this.fm(this.xa+b);this.rc();var h=d<e?this.Ca(d):f;if(null!=a)this.Aa[0].Dz(2*h,a,0,b,!0,2*f);else{var k=g.ua.te(0);this.Aa[0].Mn(2*h,k,2*b,2*f)}a=1;for(var m=this.description.Ba;a<m;a++){k=this.description.qd(a);var n=g.ua.Wa(k);k=g.ua.te(k);this.Aa[a].Mn(h*n,k,n*b,n*f)}this.nb.add(this.xa);for(f=e;f>=d+1;f--)h=this.nb.read(f-1),this.nb.write(f,h+b);this.mb.add(0);for(f=e-1;f>=d+1;f--)b=this.mb.read(f),b&=-5,this.mb.write(f+1,b);this.yf&&this.mb.write(d,
1)};c.prototype.iG=function(a,b,d){var e=-1;0>a&&(a=this.ea());if(a>this.ea()||e>this.Ka(a)||d>b.length)throw g.i.ga("index out of bounds");if(0!=d){a==this.ea()&&(this.nb.add(this.xa),this.yf?this.mb.add(1):this.mb.add(0));0>e&&(e=this.Ka(a));this.rc();var f=this.xa;this.fm(this.xa+d);this.rc();for(var h=0,k=this.description.Ba;h<k;h++){var m=this.description.Fd(h),n=g.ua.Wa(m);this.Aa[h].Vt(n*(this.Ca(a)+e+d),(f-this.Ca(a)-e)*n,this.Aa[h],n*(this.Ca(a)+e),!0,n);0==h?this.Aa[h].oC(n*(this.Ca(a)+
e),d,b,0,!0):this.Aa[h].Xj(g.ua.te(m),(this.Ca(a)+e)*n,d*n)}this.vm()&&(this.Se.Vt(this.Ca(a)+e+d,f-this.Ca(a)-e,this.Se,this.Ca(a)+e,!0,1),this.Mj.Vt(this.Ca(a)+e+d,f-this.Ca(a)-e,this.Mj,this.Ca(a)+e,!0,1),this.Se.Xj(1,this.Ca(a)+e,d),this.Mj.Xj(-1,this.Ca(a)+e,d));a+=1;for(b=this.ea();a<=b;a++)this.nb.write(a,this.nb.read(a)+d)}};c.prototype.xf=function(a,b,d){var e=this.ea();0>a&&(a=this.ea());if(a>=e||b>this.Ka(a))throw g.i.ga("index out of bounds");a==this.ea()&&(this.nb.add(this.xa),this.yf?
this.mb.add(1):this.mb.add(0));0>b&&(b=this.Ka(a));var f=this.xa;this.fm(this.xa+1);this.rc();var h=this.Ca(a);this.Aa[0].wj(2*(h+b),d,2*f);d=1;for(var k=this.description.Ba;d<k;d++){var m=this.description.Fd(d),n=g.ua.Wa(m);this.Aa[d].Mn(n*(h+b),g.ua.te(m),n,n*f)}for(a+=1;a<=e;a++)this.nb.write(a,this.nb.read(a)+1)};c.prototype.xB=function(a,b){var d=this.ea();0>a&&(a=d-1);if(a>=d||b>=this.Ka(a))throw g.i.ga("index out of bounds");this.rc();var e=this.Ca(a);0>b&&(b=this.Ka(a)-1);b=e+b;e=0;for(var f=
this.description.Ba;e<f;e++)if(null!=this.Aa[e]){var h=g.ua.Wa(this.description.Fd(e));this.Aa[e].Fn(h*b,h,h*this.xa)}for(;d>=a+1;d--)b=this.nb.read(d),this.nb.write(d,b-1);this.xa--;this.Qg--;this.Qc(1993)};c.prototype.mE=function(a,b,d,e){a=this.Ca(a)+b;d=this.Ca(d)+e;if(d<a||0>a||d>this.I()-1)throw g.i.O();e=this.Ha();b=0;e.Wb(a);do{for(;e.Ia();){a=e.ia();if(e.xb()==d)break;a=a.Rb();b+=a}if(e.xb()==d)break}while(e.ab());return b};c.prototype.YN=function(a,b,d){b=this.Ca(a)+b;d=this.Ca(a)+d;if(0>
b||d>this.I()-1)throw g.i.O();var e=this.Ha();if(b>d){if(!this.ec(a))throw g.i.O("cannot iterate across an open path");e.DB()}var f=a=0;e.Wb(b);do f+=a,a=e.ia().Rb();while(e.xb()!=d);return f};c.prototype.mg=function(){return g.ri.im(this,null)};c.prototype.BS=function(a,b,d){for(var e=a;e<d-1;e++)if(this.ec(e))throw g.i.O("cannot interpolate across closed paths");e=this.description.Ba;if(1!=e){var f=this.mE(a,b,d,void 0);if(0!=f)for(var h=1;h<e;h++){var k=this.description.qd(h);if(2!=g.ua.gz(k))for(var m=
g.ua.Wa(k),n=0;n<m;n++)this.DS(k,a,b,d,f,n)}}};c.prototype.AS=function(a,b,d){var e=this.description.Ba;if(1!=e){var f=this.YN(a,b,d);if(0!=f)for(var h=1;h<e;h++){var k=this.description.qd(h);if(2!=g.ua.gz(k))for(var m=g.ua.Wa(k),n=0;n<m;n++)this.CS(k,a,b,d,f,n)}}};c.prototype.DS=function(a,b,d,e,f,h){var k=this.Ha(),m=this.Ca(b)+d;e=this.Ca(e)+void 0;b=this.Vc(a,m,h);d=this.Vc(a,e,h);var n=b,p=0;k.Wb(m);do if(k.Ia()){k.ia();if(k.xb()==e)break;this.setAttribute(a,k.xb(),h,n);k.mi();do{m=k.ia();if(k.ik()==
e)return;m=m.Rb();p+=m;n=g.mc.jq(b,d,p/f);k.Pn()||this.setAttribute(a,k.ik(),h,n)}while(k.Ia())}while(k.ab())};c.prototype.CS=function(a,b,d,e,f,h){var k=this.Ha(),m=this.Ca(b)+d;b=this.Ca(b)+e;if(b!=m){e=this.Vc(a,m,h);d=this.Vc(a,b,h);var n=0;k.Wb(m);k.DB();m=e;do{var p=k.ia();this.setAttribute(a,k.xb(),h,m);m=p.Rb();n+=m;m=g.mc.jq(e,d,n/f)}while(k.ik()!=b)}};c.prototype.Pa=function(){this.vq=0;this.Ng=!1;this.Td=this.Se=this.Mj=this.mb=this.nb=null;this.oD()};c.prototype.Pc=function(a){a instanceof
g.Ed?this.QD(a,-1):this.oN(a)};c.prototype.QD=function(a,b){if(!this.B()&&!a.isIdentity()){this.rc();var d=this.Aa[0],e=new g.h,f=new g.h;if(0>b){var h=this.vm(),k=0;b=this.xa}else h=this.zv(b),k=this.Ca(b),b=this.Wc(b);for(;k<b;k++){e.x=d.read(2*k);e.y=d.read(2*k+1);if(h){var m=this.Mj.read(k);if(0<=m)switch(this.Se.read(k)&7){case 2:f.x=this.Td.read(m);f.y=this.Td.read(m+1);a.Fh(f,f);this.Td.write(m,f.x);this.Td.write(m+1,f.y);f.x=this.Td.read(m+3);f.y=this.Td.read(m+4);a.Fh(f,f);this.Td.write(m+
3,f.x);this.Td.write(m+4,f.y);break;case 4:throw g.i.Ra();}}a.Fh(e,e);d.write(2*k,e.x);d.write(2*k+1,e.y)}this.Qc(1993)}};c.prototype.oN=function(a){if(!this.B()){this.se(1);this.rc();for(var b=this.Aa[0],d=this.Aa[1],e=new g.Od,f=new g.Od,h=this.vm(),k=0;k<this.xa;k++){e.x=b.read(2*k);e.y=b.read(2*k+1);e.z=d.read(k);if(h){var m=this.Mj.read(k);if(0<=m)switch(this.Se.read(k)&7){case 2:f.x=this.Td.read(m);f.y=this.Td.read(m+1);f.z=this.Td.read(m+2);f=a.gp(f);this.Td.write(m,f.x);this.Td.write(m+1,
f.y);this.Td.write(m+1,f.z);f.x=this.Td.read(m+3);f.y=this.Td.read(m+4);f.z=this.Td.read(m+5);f=a.gp(f);this.Td.write(m+3,f.x);this.Td.write(m+4,f.y);this.Td.write(m+5,f.z);break;case 4:throw g.i.Ra();}}e=a.gp(e);b.write(2*k,e.x);b.write(2*k+1,e.y);d.write(k,e.z)}this.Qc(1993)}};c.prototype.dy=function(){null==this.nb&&(this.nb=g.Zc.Ph(1,0),this.mb=g.Zc.Nr(1,0));null!=this.Se&&(this.Se.resize(this.Qg,1),this.Mj.resize(this.Qg,-1))};c.prototype.pp=function(a){a.Ng=!1;a.vq=this.vq;a.zq=this.zq;a.nb=
null!=this.nb?g.ja.Cn(this.nb):null;a.mb=null!=this.mb?g.rn.Cn(this.mb):null;a.Mj=null!=this.Mj?g.ja.Cn(this.Mj):null;a.Se=null!=this.Se?g.rn.Cn(this.Se):null;a.Td=null!=this.Td?g.ce.Cn(this.Td):null;a.uq=this.uq;a.tq=this.tq;a.Bj=this.ak(1024)?null:this.Bj};c.prototype.Rb=function(){if(!this.ak(512))return this.uq;for(var a=this.Ha(),b=new g.Dx(0);a.ab();)for(;a.Ia();)b.add(a.ia().Rb());this.uq=b.tm();this.Nf(512,!1);return b.tm()};c.prototype.Nb=function(a){if(a==this)return!0;if(!(a instanceof
c&&l.prototype.Nb.call(this,a)))return!1;var b=this.ea();return b!=a.ea()||null!=this.nb&&!this.nb.Nb(a.nb,0,b+1)||this.zq!=a.zq||null!=this.mb&&!this.mb.Nb(a.mb,0,b)?!1:l.prototype.Nb.call(this,a)};c.prototype.Ha=function(){return new g.QL(this)};c.prototype.cy=function(a){l.prototype.cy.call(this,a);if(this.vm())for(a=this.Ha();a.ab();)for(;a.Ia();)break};c.prototype.Ap=function(a,b){l.prototype.Ap.call(this,a,b);if(this.vm())for(a=this.Ha();a.ab();)for(;a.Ia();)break};c.prototype.Yx=function(){this.xa=
null==this.nb||0==this.nb.size?0:this.nb.read(this.nb.size-1)};c.prototype.He=function(){if(!this.yf)return 0;this.yu();return this.tq};c.prototype.Fv=function(a){if(!this.yf)return!1;if(!this.ak(8))return 0!=(this.mb.read(a)&4);this.yu();return 0<this.Bj.read(a)};c.prototype.Kr=function(a){if(!this.yf)return 0;this.yu();return this.Bj.read(a)};c.prototype.yu=function(){if(this.ak(1024)){var a=this.ea();null==this.Bj?this.Bj=new g.ce(a):this.Bj.size!=a&&this.Bj.resize(a);a=new g.Dx(0);for(var b=new g.Dx(0),
d=new g.h,e=0,f=this.Ha();f.ab();){b.reset();for(this.D(this.Ca(f.gb),d);f.Ia();)b.add(f.ia().Rx(d.x,d.y));a.add(b.tm());var h=e++;this.Bj.write(h,b.tm())}this.tq=a.tm();this.Nf(1024,!1)}};c.prototype.xR=function(){if(this.yf){this.hm();for(var a=0,b=this.ea(),d=0;d<b;d++)0!=(this.mb.read(d)&4)&&a++}};c.prototype.hm=function(){if(this.ak(8)){this.yu();var a=this.ea();if(null==this.mb||this.mb.size<a)this.mb=g.Zc.Nr(a+1);for(var b=1,d=0;d<a;d++){var e=this.Bj.read(d);0==d&&(b=0<e?1:-1);0<e*b?this.mb.rJ(d,
4):this.mb.CE(d,4)}this.Nf(8,!1)}};c.prototype.nz=function(a){var b=this.gb,d=this.ea();if(0<=b&&b<d){if(a<this.Wc(b)){if(a>=this.Ca(b))return b;b--}else b++;if(0<=b&&b<d&&a>=this.Ca(b)&&a<this.Wc(b))return this.gb=b}if(5>d){for(b=0;b<d;b++)if(a<this.Wc(b))return this.gb=b;throw g.i.ga("corrupted geometry");}b=0;for(--d;d>b;){var e=b+(d-b>>1),f=this.Ca(e);if(a<f)d=e-1;else if(b=this.Wc(e),a>=b)b=e+1;else return this.gb=e}return this.gb=b};c.prototype.sz=function(){var a=this.I();if(!this.yf){a-=this.ea();
for(var b=0,d=this.ea();b<d;b++)this.ec(b)&&a++}return a};c.prototype.sv=function(a){var b=this.Ka(a);this.ec(a)||b--;return b};c.prototype.Ja=function(){return new c(this.yf,this.description)};c.prototype.Eb=function(){return this.yf?2:1};c.prototype.K=function(){return this.yf?1736:1607};c.prototype.IJ=function(a){this.nb=a;this.Qc(16777215)};c.prototype.MR=function(){this.ux();return this.Se};c.prototype.BR=function(){this.ux();return this.mb};c.prototype.HJ=function(a){this.mb=a;this.Qc(16777215)};
c.prototype.ea=function(){return null!=this.nb?this.nb.size-1:0};c.prototype.Wc=function(a){return this.nb.read(a+1)};c.prototype.Ka=function(a){return this.nb.read(a+1)-this.nb.read(a)};c.prototype.Ca=function(a){return this.nb.read(a)};c.prototype.mu=function(a,b){null==this.Cb&&(this.Cb=new g.Uk);b=g.Lx.fW(b);var d=this.Cb.Fk;if(null!=d)if(d.Ik<a||b>d.IR())this.Cb.qD(null);else return!0;d=g.Lx.create(this,a,b);this.Cb.qD(d);return!0};c.prototype.dc=function(){var a=l.prototype.dc.call(this);if(!this.Bc()){var b=
this.ea();null!=this.nb&&this.nb.Bn(a,0,b+1);null!=this.mb&&this.mb.Bn(a,0,b)}return a};c.prototype.RF=function(a){return null!=this.Se?this.Se.read(a):1};c.prototype.cc=function(a,b,d){var e=this.nz(a);if(a==this.Wc(e)-1&&!this.ec(e))throw g.i.ga("index out of bounds");this.rc();var f=this.Se,h=1;null!=f&&(h=f.read(a)&7);switch(h){case 1:b.Pr();break;case 2:throw g.i.Ra();case 4:throw g.i.Ra();default:throw g.i.Ra();}b=b.get();d?b.kg(g.ee.og()):b.kg(this.description);e=a==this.Wc(e)-1&&this.ec(e)?
this.Ca(e):a+1;f=new g.h;this.D(a,f);b.Ec(f);this.D(e,f);b.Rc(f);if(!d)for(d=1,f=this.description.Ba;d<f;d++){h=this.description.Fd(d);for(var k=g.ua.Wa(h),m=0;m<k;m++){var n=this.Vc(h,a,m);b.RB(h,m,n);n=this.Vc(h,e,m);b.IB(h,m,n)}}};c.prototype.Sj=function(a,b){if(a>=this.ea())throw g.i.O();if(this.B())b.Pa();else{if(this.zv(a))throw g.i.ga("not implemented");var d=this.vb(0),e=new g.h,f=new g.l;f.Pa();var h=this.Ca(a);for(a=this.Wc(a);h<a;h++)d.uc(2*h,e),f.$b(e);b.L(f)}};c.prototype.gj=function(a){null==
this.Cb&&(this.Cb=new g.Uk);if(0==a||16>this.I())return!1;a=g.ta.fE(this);this.Cb.OM(a);return!0};c.prototype.$L=function(){null==this.Cb&&(this.Cb=new g.Uk);if(null==this.Cb.Ao){this.Cb.pD(null);var a=g.ta.QN(this);this.Cb.pD(a)}};c.prototype.Zo=function(a){this.zq=a};c.prototype.Jn=function(){return this.zq};c.prototype.vD=function(a){if(this==a)throw g.i.ga("MultiPathImpl.add");for(var b=this.ea(),d=0;d<a.ea();d++)this.addPath(a,d,!0),this.sU(b),b++};c.prototype.cO=function(a){var b=this.nz(a),
d=this.Ca(b);if(d!=a){b=this.Wc(b);if(a>=b||a<d)throw g.i.ga("change_ring_start_point");for(var e=0,f=this.description.Ba;e<f;e++){var h=this.description.qd(e);h=g.ua.Wa(h);this.Aa[e].rotate(d*h,a*h,b*h)}}};return c}(g.Ex);g.Vk=u})(L||(L={}));(function(g){var u=function(l){function c(a){var b=l.call(this)||this;if(void 0!==a){if(null==a)throw g.i.O();b.description=a}else b.description=g.ee.og();b.xa=0;return b}fa(c,l);c.prototype.Ja=function(){return new c(this.description)};c.prototype.add=function(a){this.resize(this.xa+
1);this.Eh(this.xa-1,a)};c.prototype.Cu=function(a,b){this.resize(this.xa+1);var d=new g.h;d.na(a,b);this.Db(this.xa-1,d)};c.prototype.Gd=function(a,b,d){d=0>d?a.I():d;if(0>b||b>a.I()||d<b)throw g.i.O();if(b!=d){this.Ll(a.description);d-=b;var e=this.xa;this.resize(this.xa+d);this.rc();for(var f=0,h=a.description.Ba;f<h;f++){var k=a.description.Fd(f),m=g.ua.Wa(k),n=this.vb(k);k=a.vb(k);n.Nn(e*m,k,b*m,d*m,!0,1,e*m)}}};c.prototype.zD=function(a,b){var d=a.length;b=0>b?d:b;if(0>d||0>b)throw g.i.O();
if(0!=b){d=b-0;b=this.xa;this.resize(this.xa+d);for(var e=0;e<d;e++)this.Db(b+e,a[0+e])}};c.prototype.xB=function(a){if(0>a||a>=this.I())throw g.i.ga("index out of bounds");this.rc();for(var b=0,d=this.description.Ba;b<d;b++)if(null!=this.Aa[b]){var e=g.ua.Wa(this.description.Fd(b));this.Aa[b].Fn(e*a,e,e*this.xa)}this.xa--;this.Qg--;this.Qc(1993)};c.prototype.resize=function(a){this.fm(a)};c.prototype.pp=function(){};c.prototype.Pa=function(){l.prototype.oD.call(this)};c.prototype.Pc=function(a){if(a instanceof
g.Ed){if(this.B())return;this.rc();for(var b=this.Aa[0],d=new g.h,e=0;e<this.xa;e++)d.x=b.read(2*e),d.y=b.read(2*e+1),a.Fh(d,d),b.write(2*e,d.x),b.write(2*e+1,d.y)}else{if(this.B())return;this.rc();this.se(1);this.rc();b=this.Aa[0];d=this.Aa[1];var f=new g.Od;for(e=0;e<this.xa;e++){f.x=b.read(2*e);f.y=b.read(2*e+1);f.z=d.read(e);var h=a.gp(f);b.write(2*e,h.x);b.write(2*e+1,h.y);d.write(e,h.z)}}this.Qc(1993)};c.prototype.Eb=function(){return 0};c.prototype.K=function(){return 550};c.prototype.He=function(){return 0};
c.prototype.Rb=function(){return 0};c.prototype.Nb=function(a){return a==this?!0:a instanceof c?l.prototype.Nb.call(this,a):!1};c.prototype.bW=function(a,b){var d=this.xa;d=Math.min(d,b+1E3);if(0>b||b>=this.xa||d<b||1E3!=a.length)throw g.i.O();var e=this.vb(0),f=d-b,h=[];e.Ww(2*b,2*f,h,0,!0);for(b=0;b<f;b++)a[b]=g.h.construct(h[2*b],h[2*b+1]);return d};c.prototype.Yx=function(){};c.prototype.dy=function(){};c.prototype.mu=function(){return!1};c.prototype.gj=function(){return!1};c.prototype.mg=function(){return null};
return c}(g.Ex);g.de=u})(L||(L={}));(function(g){(function(l){l[l.NotDetermined=0]="NotDetermined";l[l.Structure=1]="Structure";l[l.DegenerateSegments=2]="DegenerateSegments";l[l.Clustering=3]="Clustering";l[l.Cracking=4]="Cracking";l[l.CrossOver=5]="CrossOver";l[l.RingOrientation=6]="RingOrientation";l[l.RingOrder=7]="RingOrder";l[l.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";l[l.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";l[l.OGCDisconnectedInterior=10]="OGCDisconnectedInterior"})(g.aL||
(g.aL={}));var u=function(){function l(c,a,b){void 0===c?(this.Kj=0,this.Lo=this.Ko=-1):(this.Kj=c,this.Ko=a,this.Lo=b)}l.prototype.Xt=function(c){this.Kj=c.Kj;this.Ko=c.Ko;this.Lo=c.Lo};return l}();g.Nd=u})(L||(L={}));(function(g){g.P=function(){function u(){}u.assert=function(l){if(!1===l)throw g.i.yK();};u.UJ=function(l){return isNaN(l)?NaN:0===l?l:0<l?1:-1};u.Gu=function(l){var c;void 0===c&&(c=0);for(var a=[],b=0;b<l;b++)a[b]=u.lg(2,c);return a};u.lg=function(l,c){void 0===c&&(c=0);for(var a=
[],b=0;b<l;b++)a[b]=c;return a};u.av=function(l,c){var a,b;void 0===a&&(a=0);for(void 0===b&&(b=l.length-1);a<=b;a++)l[a]=c};u.Rk=function(l,c,a){return l<c?c:l>a?a:l};u.Uh=function(l,c){var a=5381;a=void 0!==c?(c<<5)+c+(l&255):(a<<5)+a+(l&255);a=(a<<5)+a+(l>>8&255);a=(a<<5)+a+(l>>16&255);return(a<<5)+a+(l>>24&255)&2147483647};u.vj=function(){throw Error("Not Implemented");};u.WA=function(l){return u.RT(l)+12345&2147483647};u.OG=function(l){var c=32,a=l%u.Ox|0,b=l/u.Ox|0;if(0===(c&=63))return l;32>
c?(l=a>>>c|b<<32-c,c=b>>c):(l=b>>c-32,c=0<=b?0:-1);return c*u.Ox+(l>>>0)};u.RT=function(l){l|=0;return(1103495168*l|0)+(20077*l|0)|0};u.truncate=function(l){return 0>l?-1*Math.floor(Math.abs(l)):Math.floor(l)};u.MAX_SAFE_INTEGER=Math.pow(2,53)-1;u.MIN_SAFE_INTEGER=-u.MAX_SAFE_INTEGER;u.NC=65536;u.Ox=u.NC*u.NC;return u}()})(L||(L={}));(function(g){(function(l){l[l.Project=0]="Project";l[l.Union=1]="Union";l[l.Difference=2]="Difference";l[l.Proximity2D=3]="Proximity2D";l[l.Relate=4]="Relate";l[l.Equals=
5]="Equals";l[l.Disjoint=6]="Disjoint";l[l.Intersects=7]="Intersects";l[l.Within=8]="Within";l[l.Contains=9]="Contains";l[l.Crosses=10]="Crosses";l[l.Touches=11]="Touches";l[l.Overlaps=12]="Overlaps";l[l.Buffer=13]="Buffer";l[l.Distance=14]="Distance";l[l.Intersection=15]="Intersection";l[l.Clip=16]="Clip";l[l.Cut=17]="Cut";l[l.DensifyByLength=18]="DensifyByLength";l[l.DensifyByAngle=19]="DensifyByAngle";l[l.LabelPoint=20]="LabelPoint";l[l.GeodesicBuffer=21]="GeodesicBuffer";l[l.GeodeticDensifyByLength=
22]="GeodeticDensifyByLength";l[l.ShapePreservingDensify=23]="ShapePreservingDensify";l[l.GeodeticLength=24]="GeodeticLength";l[l.GeodeticArea=25]="GeodeticArea";l[l.Simplify=26]="Simplify";l[l.SimplifyOGC=27]="SimplifyOGC";l[l.Offset=28]="Offset";l[l.Generalize=29]="Generalize";l[l.SymmetricDifference=30]="SymmetricDifference";l[l.ConvexHull=31]="ConvexHull";l[l.Boundary=32]="Boundary";l[l.SimpleRelation=33]="SimpleRelation"})(g.uL||(g.uL={}));var u=function(){function l(){}l.prototype.K=function(){return null};
l.prototype.xn=function(){};l.prototype.Ju=function(){return!1};return l}();g.Ge=u})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 13};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e,f){return a instanceof g.ba?(f=new g.$c(a),this.W(f,b,[d],!1,e).next()):!0===e?(d=new g.tC(a,b,d,!1,f),g.Hh.local().W(d,b,f)):new g.tC(a,b,d,!1,f)};c.instance=null;
return c}(g.Ge);g.sC=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b,d,e){this.za=-1;this.Sd=c;this.Vz=a;this.Ds=b;this.iT=new g.l;this.iT.Pa();this.fo=-1;this.Vb=e}l.prototype.next=function(){for(var c;null!=(c=this.Sd.next());)return this.za=this.Sd.Ma(),this.fo+1<this.Ds.length&&this.fo++,this.buffer(c,this.Ds[this.fo]);return null};l.prototype.Ma=function(){return this.za};l.prototype.buffer=function(c,a){return g.zK.buffer(c,a,this.Vz,NaN,96,this.Vb)};l.prototype.qe=function(){};
return l}();g.tC=u})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 16};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e){return a instanceof g.ba?(a=new g.$c(a),this.W(a,b,d,e).next()):new g.dL(a,b,d,e)};c.instance=null;return c}(g.Ge);g.cL=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b){this.za=-1;if(null==c)throw g.i.O();this.aa=
a;this.yk=c;this.ra=g.ta.Xd(b,a,!1)}l.prototype.next=function(){var c;return null!=(c=this.yk.next())?(this.za=this.yk.Ma(),g.Vd.clip(c,this.aa,this.ra,0)):null};l.prototype.Ma=function(){return this.za};l.prototype.qe=function(){};return l}();g.dL=u})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 31};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,
d){return a instanceof g.ba?g.vC.jE(a):new g.vC(b,a,d)};c.instance=null;return c}(g.Ge);g.uC=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b){this.oA=new g.$t;this.za=-1;if(null==a)throw g.i.O();this.VG=c;this.Jc=!1;this.yk=a;this.Vb=b}l.prototype.next=function(){if(this.VG){if(!this.Jc){var c=this.WN(this.yk);this.Jc=!0;return c}return null}if(!this.Jc){c=this.yk.next();if(null!=c)return this.za=this.yk.Ma(),l.jE(c);this.Jc=!0}return null};l.prototype.Ma=function(){return this.za};
l.prototype.WN=function(c){for(var a;null!=(a=c.next());)this.oA.Ib(a);return this.oA.VQ()};l.prototype.qe=function(){if(!this.Jc){if(!this.VG)throw g.i.ga("Invalid call for non merging convex hull.");var c=this.yk.next();if(null!=c)this.oA.Ib(c);else throw g.i.ga("Expects a non-null geometry.");}};l.jE=function(c){if(l.LS(c))return c;var a=c.K();if(g.Vk.zd(a))return a=new g.Ua(c.description),a.oc(c,!0),a;if(550==a&&2==c.I()){var b=new g.Ta;a=new g.Ua(c.description);c.we(0,b);a.nf(b);c.we(1,b);a.lineTo(b);
return a}return g.$t.JO(c)};l.LS=function(c){if(c.B())return!0;var a=c.K();return 33==a||197==a?!0:g.Vk.zd(a)?!1:550==a?1==c.I()?!0:!1:1607==a?1==c.ea()&&2>=c.I()?!0:!1:1!=c.ea()?!1:2>=c.I()?!0:g.$t.BG(c,0)};return l}();g.vC=u})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 17};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e,f){return new g.fL(a,
b,d,e,f)};c.instance=null;return c}(g.Ge);g.eL=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b,d,e){this.Uf=null;if(null==a||null==b)throw g.i.ga("invalid argument");this.fT=c;this.hA=a;this.dH=b;c=g.ta.nv(a,b);this.ra=g.ta.Xd(d,c,!0);this.cH=-1;this.nd=e}l.prototype.Ma=function(){return 0};l.prototype.next=function(){this.JQ();return++this.cH<this.Uf.length?this.Uf[this.cH]:null};l.prototype.JQ=function(){if(null==this.Uf)switch(this.Uf=[],this.hA.K()){case 1607:this.LQ();break;case 1736:this.KQ()}};
l.prototype.LQ=function(){var c=new g.Ua,a=new g.Ua,b=new g.Ua;this.Uf.push(c);this.Uf.push(a);var d=[];g.DK.BK(this.fT,this.hA,this.dH,this.ra,d,this.nd);for(var e=0;e<d.length;e++){var f=d[e];if(0==f.bt)c.add(f.Y,!1);else if(1==f.bt||2==f.bt)a.add(f.Y,!1);else if(3==f.bt)this.Uf.push(f.Y);else if(4==f.bt)b.add(f.Y,!1);else throw g.i.ga("internal");}b.B()||c.B()&&a.B()&&!(3<=this.Uf.length)||this.Uf.push(b);c.B()&&a.B()&&3>this.Uf.length&&(this.Uf.length=0)};l.prototype.KQ=function(){var c=new g.ja(0),
a=new g.hd,b=a.TE(),d=a.Ib(this.hA),e=a.Ib(this.dH),f=new g.Hg;try{f.Ft(a,this.ra,this.nd);f.el(b,d,e,c);var h=a.Ke(d),k=new g.Ea,m=new g.Ea;this.Uf.length=0;this.Uf.push(k);this.Uf.push(m);for(d=0;d<c.size;d++){var n=new g.hd,p=n.Ib(h),q=n.Ib(a.Ke(c.get(d)));f.fr(n,this.nd);var r=f.Bv(p,q),t=n.Ke(r);if(!t.B()){var v=a.CF(c.get(d),b);2==v?k.add(t,!1):1==v?m.add(t,!1):this.Uf.push(t);var M=new g.hd;p=M.Ib(h);q=M.Ib(a.Ke(c.get(d)));f.fr(M,this.nd);h=M.Ke(f.km(p,q))}}!h.B()&&0<c.size&&this.Uf.push(h);
k.B()&&m.B()&&(this.Uf.length=0)}finally{f.Vg()}};l.prototype.qe=function(){};return l}();g.fL=u})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 18};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d){if(a instanceof g.ba)return a=new g.$c(a),this.W(a,b,d).next();if(0>=b)throw g.i.O();return new g.gL(a,b,d)};c.instance=null;return c}(g.Ge);g.Zl=u})(L||
(L={}));(function(g){var u=function(){function l(c,a){this.za=-1;this.Sd=c;this.Qs=a}l.prototype.Ma=function(){return this.za};l.prototype.next=function(){var c;return null!=(c=this.Sd.next())?(this.za=this.Sd.Ma(),this.FP(c)):null};l.prototype.FP=function(c){if(c.B()||1>c.Eb())return c;var a=c.K();if(1736==a||1607==a)return this.Iy(c);if(g.ba.zd(a))return this.HP(c);if(197==a)return this.GP(c);throw g.i.Ra();};l.prototype.HP=function(c){if(c.Rb()<=this.Qs)return c;var a=new g.Ua(c.description);a.oc(c,
!0);return this.Iy(a)};l.prototype.GP=function(c){var a=new g.Ea(c.description);a.bd(c,!1);var b=new g.l;c.A(b);c=b.da();return b.S()<=this.Qs&&c<=this.Qs?a:this.Iy(a)};l.prototype.Iy=function(c){for(var a=c.Ja(),b=c.Ha();b.ab();)for(var d=!0;b.Ia();){var e=b.ia();if(322!=e.K())throw g.i.ga("not implemented");var f=b.Pn(),h=e.Rb();if(h>this.Qs){var k=Math.ceil(h/this.Qs);h=new g.Ta(c.description);d&&(e.Uo(h),a.nf(h));var m=d=1/k,n=0;for(--k;n<k;n++)e.Uw(m,h),a.lineTo(h),m+=d;f?a.Cp():(e.Qo(h),a.lineTo(h))}else f?
a.Cp():a.oc(e,d);d=!1}return a};l.prototype.qe=function(){};return l}();g.gL=u})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.K=function(){return 2};c.prototype.W=function(a,b,d,e){return a instanceof g.ba?(a=new g.$c(a),b=new g.$c(b),this.W(a,b,d,e).next()):new g.hL(a,b,d,e)};c.km=function(a,b,d,e){if(a.B()||b.B())return a;var f=a.Eb(),h=b.Eb();
if(f>h)return a;var k=a.K(),m=b.K(),n=new g.l,p=new g.l,q=new g.l;a.A(n);b.A(p);q.L(n);q.$b(p);q=g.ta.Xd(d,q,!0);var r=q*Math.sqrt(2)*1.00001,t=new g.l;t.L(n);t.X(r,r);if(!t.isIntersecting(p))return a;if(1==f&&2==h)return c.AV(a,b,m,d,e);if(33==k)switch(g.Vk.zd(m)?(d=new g.Ua(b.description),d.oc(b,!0)):d=b,m){case 1736:return c.NU(a,d,q);case 1607:return c.OU(a,d,q);case 550:return c.LU(a,d,q);case 197:return c.KU(a,d,q);case 33:return c.MU(a,d,q);default:throw g.i.O();}else if(550==k)switch(m){case 1736:return c.dU(a,
b,q);case 197:return c.bU(a,b,q);case 33:return c.cU(a,b,q)}return g.Hg.km(a,b,d,e)};c.NU=function(a,b,d){return 0==g.jd.CG(b,a,d)?a:a.Ja()};c.OU=function(a,b,d){var e=a.D();b=b.Ha();for(var f=d*Math.sqrt(2)*1.00001,h=f*f,k=new g.l;b.ab();)for(;b.Ia();){var m=b.ia();m.A(k);k.X(f,f);if(k.contains(e)){if(m.rs(e,d))return a.Ja();var n=m.ac();if(g.h.zc(e,n)<=h)return a.Ja();n=m.xc();if(g.h.zc(e,n)<=h)return a.Ja()}}return a};c.LU=function(a,b,d){var e=b.vb(0);b=b.I();var f=a.D(),h=new g.h;d=d*Math.sqrt(2)*
1.00001;d*=d;for(var k=0;k<b;k++)if(e.uc(2*k,h),g.h.zc(h,f)<=d)return a.Ja();return a};c.KU=function(a,b,d){var e=new g.l;b.A(e);e.X(d,d);b=a.D();return e.contains(b)?a.Ja():a};c.MU=function(a,b,d){d=d*Math.sqrt(2)*1.00001;d*=d;var e=a.D();b=b.D();return g.h.zc(e,b)<=d?a.Ja():a};c.dU=function(a,b,d){var e=new g.l;b.A(e);e.X(d,d);for(var f=a.I(),h=!1,k=[],m=0;m<f;m++)k[m]=!1;var n=new g.h;for(m=0;m<f;m++)a.D(m,n),e.contains(n)&&0!=g.jd.Zd(b,n,d)&&(h=!0,k[m]=!0);if(!h)return a;b=a.Ja();for(m=0;m<f;m++)k[m]||
b.Gd(a,m,m+1);return b};c.bU=function(a,b,d){var e=new g.l;b.A(e);e.X(d,d);b=a.I();var f=!1;d=[];for(var h=0;h<b;h++)d[h]=!1;var k=new g.h;for(h=0;h<b;h++)a.D(h,k),e.contains(k)&&(f=!0,d[h]=!0);if(!f)return a;e=a.Ja();for(h=0;h<b;h++)d[h]||e.Gd(a,h,h+1);return e};c.cU=function(a,b,d){var e=a.vb(0),f=a.I(),h=b.D(),k=new g.h,m=!1;b=[];for(var n=0;n<f;n++)b[n]=!1;n=d*Math.sqrt(2)*1.00001;d=n*n;for(n=0;n<f;n++)e.uc(2*n,k),g.h.zc(k,h)<=d&&(m=!0,b[n]=!0);if(!m)return a;e=a.Ja();for(n=0;n<f;n++)b[n]||e.Gd(a,
n,n+1);return e};c.AV=function(a,b,d,e,f){var h=new g.Gh;a.dn(h);var k=new g.l;b.A(k);h.$b(k);h.X(.1*h.S(),.1*h.da());k=new g.Ea;k.bd(h,!1);1736==d?k.add(b,!0):k.bd(b,!0);return g.Wk.local().W(a,k,e,f)};c.instance=null;return c}(g.Ge);g.lp=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b,d){this.us=null==a;this.za=-1;this.Sd=c;this.Vz=b;this.lT=a.next();this.Vb=d}l.prototype.next=function(){if(this.us)return null;var c;return null!=(c=this.Sd.next())?(this.za=this.Sd.Ma(),g.lp.km(c,this.lT,
this.Vz,this.Vb)):null};l.prototype.Ma=function(){return this.za};l.prototype.qe=function(){};return l}();g.hL=u})(L||(L={}));(function(g){var u=function(){function c(a){this.nd=a;this.Cj=new g.l;this.Cj.Pa();this.ph=new g.l;this.ph.Pa()}c.prototype.Ot=function(){var a=this.Cj.v;this.Cj.v=this.ph.v;this.ph.v=a;a=this.Cj.C;this.Cj.C=this.ph.C;this.ph.C=a;a=this.Cj.G;this.Cj.G=this.ph.G;this.ph.G=a;a=this.Cj.H;this.Cj.H=this.ph.H;this.ph.H=a};c.prototype.XP=function(a,b){if(null!=this.nd&&!this.nd.progress(-1,
-1))throw g.i.gu("user_canceled");var d=!this.Cj.isIntersecting(this.ph);if(g.ba.Ic(a.K())&&g.ba.Ic(b.K())){if(a.I()>b.I())return this.ZD(a,b,d);this.Ot();a=this.ZD(b,a,d);this.Ot();return a}if(550==a.K()&&g.ba.Ic(b.K()))return a=this.$D(b,a,d),this.Ot(),a;if(550==b.K()&&g.ba.Ic(a.K()))return this.$D(a,b,d);if(550==a.K()&&550==b.K()){if(a.I()>b.I())return this.aE(a,b);this.Ot();a=this.aE(b,a);this.Ot();return a}return 0};c.prototype.ZD=function(a,b,d){var e=a.Ha(),f=b.Ha(),h=new g.l,k=new g.l,m=1.7976931348623157E308;
if(!d&&this.dY(a,b,e,f))return 0;for(;e.ab();)for(;e.Ia();)if(a=e.ia(),a.A(h),!(h.ox(this.ph)>m)){for(;f.ab();)for(;f.Ia();)if(b=f.ia(),b.A(k),h.ox(k)<m&&(b=a.ub(b,d),b*=b,b<m)){if(0==b)return 0;m=b}f.$i()}return Math.sqrt(m)};c.prototype.$D=function(a,b,d){var e=a.Ha(),f=new g.l,h=1.7976931348623157E308,k=new g.h,m=b.I();for(d=!d&&1736==a.K();e.ab();)for(;e.Ia();){var n=e.ia();n.A(f);if(!(1<m&&f.ox(this.ph)>h)){for(var p=0;p<m;p++){b.D(p,k);if(d&&0!=g.jd.Zd(a,k,0))return 0;var q=n.fe(k,!1);k.sub(n.ic(q));
q=k.Sk();if(q<h){if(0==q)return 0;h=q}}d=!1}}return Math.sqrt(h)};c.prototype.aE=function(a,b){for(var d=1.7976931348623157E308,e=new g.h,f=new g.h,h,k=a.I(),m=b.I(),n=0;n<k;n++)if(a.D(n,e),!(1<m&&this.ph.aK(e)>d))for(var p=0;p<m;p++)if(b.D(p,f),h=g.h.zc(e,f),h<d){if(0==h)return 0;d=h}return Math.sqrt(d)};c.prototype.dY=function(a,b,d,e){if(1736==a.K()){for(;e.ab();)if(e.Ia()){var f=e.ia();if(0!=g.jd.Zd(a,f.xc(),0))return!0}e.$i()}if(1736==b.K()){for(;d.ab();)if(d.Ia()&&(a=d.ia(),0!=g.jd.Zd(b,a.xc(),
0)))return!0;d.$i()}return!1};c.prototype.im=function(a,b){if(a.B()||b.B())return NaN;a.A(this.Cj);b.A(this.ph);return this.XP(a,b)};return c}(),l=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}fa(a,c);a.prototype.W=function(b,d,e){if(null==b||null==d)throw g.i.O();if(b.B()||d.B())return NaN;var f=b.K(),h=d.K();if(33==f){if(33==h)return g.h.ub(b.D(),d.D());if(197==h)return e=new g.l,d.A(e),e.ub(b.D());f=new g.de;f.add(b);b=f}else if(197==f){if(197==h)return h=new g.l,b.A(h),
e=new g.l,d.A(e),e.ub(h);f=new g.Ea;f.bd(b,!1);b=f}33==h?(h=new g.de,h.add(d),d=h):197==h&&(h=new g.Ea,h.bd(d,!1),d=h);return(new u(e)).im(b,d)};a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.K=function(){return 14};a.instance=null;return a}(g.Ge);g.iL=l})(L||(L={}));(function(g){var u=function(){function l(c,a,b,d){this.rH=c;this.vH=a;this.nd=d;this.SG=b}l.prototype.next=function(){var c=this.rH.next();return null==c?null:this.rC(c)};l.prototype.Ma=function(){return this.rH.Ma()};
l.prototype.rC=function(c){var a=c.K();if(g.ba.Sn(a))return c;if(197==a)return a=new g.Ea(c.description),a.bd(c,!1),this.rC(a);if(c.B())return c;if(null==c)throw g.i.Ra();a=c.Ja();for(var b=new g.zb,d=0,e=c.ea();d<e;d++)this.LK(c,d,a,b);return a};l.prototype.LK=function(c,a,b,d){if(!(2>c.Ka(a))){var e=c.Ca(a),f=c.Wc(a)-1,h=c.vb(0),k=c.ec(a),m=new g.ja(0);m.Jb(c.Ka(a)+1);var n=new g.ja(0);n.Jb(c.Ka(a)+1);m.add(k?e:f);m.add(e);for(e=new g.h;1<m.size;){var p=m.Gc();m.Jf();var q=m.Gc();c.D(p,e);d.Ec(e);
c.D(q,e);d.Rc(e);q=this.KK(d,e,h,p,q,f);0<=q?(m.add(q),m.add(p)):n.add(p)}k||n.add(m.get(0));if(n.size==m.size)b.addPath(c,a,!0);else if(2<=n.size&&(!this.SG||2!=n.size||!(k||g.h.ub(c.Oa(n.get(0)),c.Oa(n.get(1)))<=this.vH))){a=new g.Ta;d=0;for(f=n.size;d<f;d++)c.we(n.get(d),a),0==d?b.nf(a):b.lineTo(a);k&&(this.SG||2!=n.size||b.lineTo(a),b.Cp())}}};l.prototype.KK=function(c,a,b,d,e,f){var h=e-1;e<=d&&(h=f);f=e=-1;for(d+=1;d<=h;d++){b.uc(2*d,a);var k=a.x,m=a.y;c.ic(c.fe(a,!1),a);a.x-=k;a.y-=m;k=a.length();
k>this.vH&&k>f&&(e=d,f=k)}return e};l.prototype.qe=function(){};return l}();g.jL=u})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 29};c.prototype.W=function(a,b,d,e){return a instanceof g.ba?(a=new g.$c(a),this.W(a,b,d,e).next()):new g.jL(a,b,d,e)};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.instance=null;return c}(g.Ge);g.wC=u})(L||(L={}));(function(g){var u=function(l){function c(){return null!==
l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 21};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e,f,h,k,m){return a instanceof g.ba?(m=new g.$c(a),this.W(m,b,d,[e],f,h,!1,k).next()):!0===k?(d=new g.yC(a,b,d,e,f,!1,!1,m),g.Hh.local().W(d,b,m)):new g.yC(a,b,d,e,f,!1,!1,m)};c.instance=null;return c}(g.Ge);g.xC=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b,d,e,f,h,k){if(f)throw g.i.Fe();if(null==a)throw g.i.O();
this.za=-1;this.Ns=c;this.vg=a;this.Ae=b;this.Ds=d;this.ao=e;this.fo=-1;this.Vb=k;this.jT=new g.l;this.jT.Pa()}l.prototype.next=function(){for(var c;null!=(c=this.Ns.next());)return this.za=this.Ns.Ma(),this.fo+1<this.Ds.length&&this.fo++,this.SQ(c,this.Ds[this.fo]);return null};l.prototype.Ma=function(){return this.za};l.prototype.SQ=function(c,a){return g.NK.buffer(c,this.vg,this.Ae,a,this.ao,this.Vb)};l.prototype.qe=function(){};return l}();g.yC=u})(L||(L={}));(function(g){var u=function(l){function c(){return null!==
l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 24};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d){if(null==b)throw g.i.O();if(a.B()||1>a.Eb())return 0;if(4==d)throw g.i.Fe();var e=g.cb.tc(b),f=g.cb.wv(e),h=g.cb.fv(e);f*=2-f;var k=e.Id().bi,m=a.K();if(1736==m||197==m)var n=a.mg();else g.ba.zd(m)?(n=new g.Ua(a.description),n.oc(a,!0)):n=a;if(0==e.Nb(b)){if(g.cb.Xc(b)){n=g.Ih.mj(n,b);1607==m&&n==a&&(n=g.ba.ig(a));a=
new g.Oc;g.cb.hh(b).en(a);m=0;for(var p=n.I();m<p;m++){var q=n.Oa(m);q.x=g.Ih.an(q.x,a);n.Db(m,q)}}a=n.Ja();n=g.Ih.NI(b,e,n,a)?a:g.cb.Ah(n,b,e)}return this.$P(n,d,h,f,k)};c.prototype.$P=function(a,b,d,e,f){var h=new g.ha(0),k=0;for(a=a.Ha();a.ab();)for(;a.Ia();){var m=a.ia(),n=m.ac();m=m.xc();n.scale(f);m.scale(f);g.kb.xd(d,e,n.x,n.y,m.x,m.y,h,null,null,b);k+=h.u}return k};c.instance=null;return c}(g.Ge);g.mL=u})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,
arguments)||this}fa(c,l);c.prototype.K=function(){return 18};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e,f){return a instanceof g.ba?(a=new g.$c(a),this.W(a,b,d,e,f).next()):new g.lL(a,d,e,b,-1,-1,f)};c.instance=null;return c}(g.Ge);g.kL=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b,d,e,f){if(0<f)throw g.i.Fe();if(4!=b&&0<e)throw g.i.Fe();if(null==a)throw g.i.O();this.za=-1;this.Ns=c;this.vg=a;this.Ae=b;this.tT=d;this.sT=
e}l.prototype.next=function(){for(var c;null!=(c=this.Ns.next());)return this.za=this.Ns.Ma(),this.Uy(c);return null};l.prototype.Ma=function(){return this.za};l.prototype.Uy=function(c){return g.dj.Rr(c,this.vg,this.Ae,this.tT,this.sT,this.Vb)};l.prototype.qe=function(){};return l}();g.lL=u})(L||(L={}));(function(g){(function(u){u[u.Unknown=0]="Unknown";u[u.Contains=1]="Contains";u[u.Within=2]="Within";u[u.Equals=3]="Equals";u[u.Disjoint=4]="Disjoint";u[u.Touches=8]="Touches";u[u.Crosses=16]="Crosses";
u[u.Overlaps=32]="Overlaps";u[u.NoThisRelation=64]="NoThisRelation";u[u.Intersects=1073741824]="Intersects";u[u.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(g.VK||(g.VK={}));g.nL=function(){function u(){}u.dW=function(l,c){var a=l.K(),b=c.K();if(g.ba.yj(a)){var d=l.Cb;if(null!=d&&(d=d.Fk,null!=d)){if(33==b){var e=c.D();d=d.To(e.x,e.y)}else e=new g.l,c.A(e),d=d.So(e);if(1==d)return 1;if(0==d)return 4}}if(g.ba.yj(b)&&(d=c.Cb,null!=d&&(d=d.Fk,null!=d))){33==a?(l=l.D(),d=d.To(l.x,l.y)):(c=
new g.l,l.A(c),d=d.So(c));if(1==d)return 2;if(0==d)return 4}return 0};return u}()})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.K=function(){return 15};c.prototype.W=function(a,b,d,e,f){return a instanceof g.ba?(a=new g.$c(a),b=new g.$c(b),this.W(a,b,d,e,f).next()):void 0===f?new g.zC(a,b,d,e,-1):new g.zC(a,b,d,e,f)};c.prototype.xn=function(a,b,
d){this.Ju(a)&&(b=g.ta.lj(b,a,!1),a.gj(d)||a.mu(b,d))};c.prototype.Ju=function(a){return g.Lx.rE(a)};c.instance=null;return c}(g.Ge);g.Wk=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b,d,e){this.us=null==a;this.za=-1;this.Sd=c;this.vg=b;this.Pe=a.next();this.Ej=this.Pe.K();this.Vb=d;this.Gi=e;if(-1!=this.Gi&&(0>=this.Gi||7<this.Gi))throw g.i.O("bad dimension mask");}l.prototype.next=function(){if(this.us)return null;if(null!=this.Aw){var c=this.Aw.next();if(null!=c)return c;this.Aw=
null}for(;null!=(c=this.Sd.next());)return this.za=this.Sd.Ma(),-1==this.Gi?c=this.Fa(c):(this.Aw=this.GS(c),c=this.Aw.next()),c;return null};l.prototype.Ma=function(){return this.za};l.prototype.Fa=function(c){var a=this.rK(c);if(null!=a)return a;a=g.ta.nv(this.Pe,c);var b=g.ta.Xd(this.vg,a,!0);a=new g.l;this.Pe.A(a);var d=new g.l;c.A(d);a.X(2*b,2*b);a.Fa(d);a.X(100*b,100*b);b=g.Vd.clip(this.Pe,a,0,0);c=g.Vd.clip(c,a,0,0);return g.Hg.Bv(c,b,this.vg,this.Vb)};l.prototype.HI=function(c,a,b){var d=
0;if(0!=(a&1))null==b[0]&&(b[0]=new g.de(c)),d++;else for(var e=0;e<b.length-1;e++)b[e]=b[e+1];if(0!=(a&2))null==b[d]&&(b[d]=new g.Ua(c)),d++;else for(e=d;e<b.length-1;e++)b[e]=b[e+1];if(0!=(a&4))null==b[d]&&(b[d]=new g.Ea(c)),d++;else for(e=d;e<b.length-1;e++)b[e]=b[e+1];if(3!=d){c=[];for(e=0;e<d;e++)c[e]=b[e];return new g.$c(c)}return new g.$c(b)};l.prototype.GS=function(c){var a=this.rK(c);if(null!=a){var b=[null,null,null];b[a.Eb()]=a;return this.HI(c.description,this.Gi,b)}a=g.ta.nv(this.Pe,
c);b=g.ta.Xd(this.vg,a,!0);a=new g.l;this.Pe.A(a);a.X(2*b,2*b);var d=new g.l;c.A(d);a.Fa(d);a.X(100*b,100*b);b=g.Vd.clip(this.Pe,a,0,0);a=g.Vd.clip(c,a,0,0);b=g.Hg.Kz(a,b,this.vg,this.Vb);return this.HI(c.description,this.Gi,b)};l.prototype.rK=function(c){var a=g.ta.nv(c,this.Pe),b=g.ta.Xd(this.vg,a,!0);a=c.K();var d=c.B(),e=this.Pe.B();e=d||e;if(!e){e=new g.l;c.A(e);var f=new g.l;this.Pe.A(f);f.X(2*b,2*b);e=!e.isIntersecting(f)}if(!e)if(f=g.nL.dW(this.Pe,c),4==f)e=!0;else{if(0!=(f&2))return this.Pe;
if(0!=(f&1))return c}if(e)return b=g.ba.uf(a),e=g.ba.uf(this.Ej),b<e?l.BB(c,d):b>e?this.fJ():0==b?550==a&&33==this.Ej?this.fJ():l.BB(c,d):l.BB(c,d);if((-1==this.Gi||4==this.Gi)&&197==a&&197==this.Ej)return b=this.Pe,a=new g.l,c.A(a),d=new g.l,b.A(d),a.Fa(d),b=new g.Gh,c.copyTo(b),b.Yo(a),b;if(197==a&&0==g.ba.uf(this.Ej)||197==this.Ej&&0==g.ba.uf(a))return d=197==a?c:this.Pe,c=197==a?this.Pe:c,a=new g.l,d.A(a),g.Vd.clip(c,a,b,0);if(0==g.ba.uf(a)&&0<g.ba.uf(this.Ej)||0<g.ba.uf(a)&&0==g.ba.uf(this.Ej)){b=
g.ta.lj(this.vg,c,!1);if(550==a||33==a)return g.Hg.rG(c,this.Pe,b);if(550==this.Ej||33==this.Ej)return g.Hg.rG(this.Pe,c,b);throw g.i.Ra();}return-1!=this.Gi&&2!=this.Gi||1607!=a||1736!=this.Ej?-1!=this.Gi&&2!=this.Gi||1736!=a||1607!=this.Ej?null:this.oK(this.Pe,c):this.oK(c,this.Pe)};l.prototype.oK=function(c,a){var b=c,d=a,e=g.ta.lj(this.vg,a,!1),f=new g.l;d.A(f);var h=new g.l;b.A(h);h.X(2*e,2*e);f.Fa(h);f.X(10*e,10*e);b=c=g.Vd.clip(c,f,0,0);h=new g.ja(0);var k=-1,m=d.Cb;if(null!=m){var n=m.Fk;
if(null!=n){k=0;h.Jb(b.I()+b.ea());for(var p=new g.l,q=b.Ha();q.ab();)for(;q.Ia();){q.ia().A(p);var r=n.So(p);1==r?h.add(1):0==r?h.add(0):(h.add(-1),k++)}}}5<a.I()&&(d=a=g.Vd.clip(a,f,0,0),m=d.Cb);0>k&&(k=b.sz());f=b.I()+d.I();if(k*d.I()>Math.log(f)*f*4)return null;f=null;k=d.Ha();null!=m&&null!=m.Gb&&(f=m.Gb);null==f&&20<d.I()&&(f=g.ta.fE(d));c=c.Ja();d=null;m=b.Ha();n=[0,0,0,0,0,0,0,0,0];p=new g.ce(0);q=new g.hg;r=-1;for(var t=0,v=0,M=0<h.size,W=-1;m.ab();){W=m.gb;var U=0;r=-1;for(t=0;m.Ia();){var X=
M?g.P.truncate(h.get(v)):-1;v++;var ia=m.ia();if(0>X){if(null!=f)for(null==d?d=f.mR(ia,e):d.Vo(ia,e),X=d.next();-1!=X;X=d.next()){k.Wb(f.ka(X));X=k.ia();var ja=ia.Fa(X,null,n,null,e);for(X=0;X<ja;X++)p.add(n[X])}else for(k.$i();k.ab();)for(;k.Ia();)for(X=k.ia(),ja=ia.Fa(X,null,n,null,e),X=0;X<ja;X++)p.add(n[X]);if(0<p.size){p.Wd(0,p.size,function(ya,Ia){return ya-Ia});var ka=0;p.add(1);ja=-1;X=0;for(var sa=p.size;X<sa;X++){var ta=p.get(X);if(ta!=ka){var za=!1;0!=ka||1!=ta?(ia.bh(ka,ta,q),ka=q.get()):
(ka=ia,za=!0);if(2<=U){c.Fr(b,W,r,t,3==U);if(1!=this.HD(a,ka.ac(),e)&&1!=this.JD(a,ka,e))return null;c.oc(ka,!1);U=1;t=0}else switch(ja=this.JD(a,ka,e),ja){case 1:za?2>U?(r=m.xb()-b.Ca(W),t=1,U=0==U?3:2):t++:(c.oc(ka,0==U),U=1);break;case 0:U=0;r=-1;t=0;break;default:return null}ka=ta}}}else{X=this.HD(a,ia.ac(),e);if(0>X)return null;1==X?(2>U&&(r=m.xb()-b.Ca(W),U=0==U?3:2),t++):(r=-1,t=0)}p.clear(!1)}else 0!=X&&1==X&&(0==U?(U=3,r=m.xb()-b.Ca(W)):1==U?(U=2,r=m.xb()-b.Ca(W)):t++)}2<=U&&(c.Fr(b,W,r,
t,3==U),r=-1)}return c};l.prototype.HD=function(c,a,b){return g.Fg.ym(c,a,b)};l.prototype.JD=function(c,a,b){var d=a.ac();a=a.xc();var e=g.Fg.ym(c,d,b),f=g.Fg.ym(c,a,b);if(1==e&&0==f||0==e&&1==f)return-1;if(0==e||0==f)return 0;if(1==e||1==f)return 1;e=new g.h;e.add(d,a);e.scale(.5);c=g.Fg.ym(c,e,b);return 0==c?0:1==c?1:-1};l.BB=function(c,a){return a?c:c.Ja()};l.prototype.fJ=function(){null==this.qH&&(this.qH=this.Pe.Ja());return this.qH};l.prototype.qe=function(){};return l}();g.zC=u})(L||(L={}));
(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 28};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e,f,h,k){return a instanceof g.ba?(a=new g.$c(a),this.W(a,b,d,e,f,h,k).next()):new g.oL(a,b,d,e,f,h,k)};c.instance=null;return c}(g.Ge);g.AC=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b,d,e,f,h){this.za=-1;this.Sd=c;this.Nj=a;this.La=b;this.Li=
d;this.wA=e;this.mH=f;this.nd=h}l.prototype.next=function(){var c=this.Sd.next();return null!=c?(this.za=this.Sd.Ma(),this.bL(c)):null};l.prototype.Ma=function(){return this.za};l.prototype.bL=function(c){var a=0>=this.mH?g.ta.lj(this.Nj,c,!1):this.mH;return g.AK.W(c,this.La,this.Li,this.wA,a,this.nd)};l.prototype.qe=function(){};return l}();g.oL=u})(L||(L={}));(function(g){(function(l){l[l.clipToDomainOnly=1]="clipToDomainOnly";l[l.clipWithHorizon=2]="clipWithHorizon";l[l.foldAndClipWithHorizon=
3]="foldAndClipWithHorizon"})(g.FK||(g.FK={}));var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 0};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d){return a instanceof g.ba?(a=new g.$c(a),this.W(a,b,d).next()):new g.qL(a,b,d)};c.prototype.transform=function(a,b,d,e){return g.cu.transform(a,b,d,e,!0)};c.prototype.Rt=function(a,b,d,e){return g.cu.Rt(a,b,d,e)};c.instance=null;
return c}(g.Ge);g.Fx=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b){this.za=-1;this.Sd=c;this.CT=a;this.nd=b}l.prototype.next=function(){var c=this.Sd.next();return null!=c?(this.za=this.Sd.Ma(),g.cu.Ah(c,this.CT,this.nd)):null};l.prototype.Ma=function(){return this.za};l.prototype.qe=function(){};return l}();g.qL=u})(L||(L={}));(function(g){var u=function(){function c(){}c.prototype.reset=function(){this.qh=this.xk=-1;this.vs=this.mq=!1};c.prototype.sQ=function(a,b,d){for(a.Wb(b,
d);a.Ia();){var e=a.ia();e=e.Rb();if(0!=e)return a.xb()}for(a.Wb(b,d);a.zz();)if(e=a.mi(),e=e.Rb(),0!=e)return a.xb();return-1};c.prototype.tQ=function(a,b){for(a.Wb(b,-1);a.zz();)if(0!=a.mi().Rb())return a.xb();return-1};c.prototype.rQ=function(a,b){a.Wb(b,-1);for(a.ia();a.Ia();)if(0!=a.ia().Rb())return a.xb();return-1};c.prototype.qQ=function(a,b,d,e){this.xk=this.sQ(b,d,e);if(-1!=this.xk){b.Wb(this.xk,-1);var f=b.ia(),h=f.ic(f.fe(a,!1));d=g.h.zc(h,a);e=new g.h;e.N(h);e.sub(f.ac());h=new g.h;h.N(a);
h.sub(f.ac());this.mq=0>e.xi(h);this.qh=this.rQ(b,this.xk);if(-1!=this.qh){b.Wb(this.qh,-1);f=b.ia();var k=f.fe(a,!1);k=f.ic(k);var m=g.h.zc(k,a);m>d?this.qh=-1:(e.N(k),e.sub(f.ac()),h.N(a),h.sub(f.ac()),this.vs=0>e.xi(h))}-1==this.qh&&(this.qh=this.tQ(b,this.xk),-1!=this.qh&&(b.Wb(this.qh,-1),f=b.ia(),k=f.fe(a,!1),k=f.ic(k),m=g.h.zc(k,a),m>d?this.qh=-1:(e.N(k),e.sub(f.ac()),h.N(a),h.sub(f.ac()),this.vs=0>e.xi(h),a=this.xk,this.xk=this.qh,this.qh=a,a=this.mq,this.mq=this.vs,this.vs=a)))}};c.prototype.VN=
function(a,b,d,e,f){d=d.Ha();this.qQ(a,d,e,f);if(-1!=this.xk&&-1==this.qh)return this.mq;if(-1!=this.xk&&-1!=this.qh){if(this.mq==this.vs)return this.mq;d.Wb(this.xk,-1);a=d.ia().jg();d.Wb(this.qh,-1);b=d.ia().jg();return 0<=a.xi(b)?!0:!1}return b};return c}(),l=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}fa(a,c);a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.K=function(){return 3};a.prototype.iz=function(b,d,e){var f;void 0===f&&
(f=!1);if(b.B())return new g.bm;d=d.D();var h=b,k=b.K();197==k&&(h=new g.Ea,h.bd(b,!1),k=1736);switch(k){case 33:return this.pI(h,d);case 550:return this.bI(h,d);case 1607:case 1736:return this.ST(h,d,e,f);default:throw g.i.ga("not implemented");}};a.prototype.jz=function(b,d){if(b.B())return new g.bm;d=d.D();var e=b,f=b.K();197==f&&(e=new g.Ea,e.bd(b,!1),f=1736);switch(f){case 33:return this.pI(e,d);case 550:case 1607:case 1736:return this.bI(e,d);default:throw g.i.ga("not implemented");}};a.prototype.kz=
function(b,d,e,f){if(0>f)throw g.i.O();if(b.B())return[];d=d.D();var h=b,k=b.K();197==k&&(h=new g.Ea,h.bd(b,!1),k=1736);switch(k){case 33:return this.JU(h,d,e,f);case 550:case 1607:case 1736:return this.jU(h,d,e,f);default:throw g.i.ga("not implemented");}};a.prototype.ST=function(b,d,e,f){if(1736==b.K()&&e&&(e=new g.l,b.A(e),e=g.ta.Xd(null,e,!1),0!=(f?g.jd.Zd(b,d,0):g.jd.Zd(b,d,e)))){var h=new g.bm(d,0,0);f&&h.OJ(!0);return h}var k=b.Ha();h=new g.h;for(var m=e=-1,n=1.7976931348623157E308,p=0;k.ab();)for(;k.Ia();){var q=
k.ia();q=q.ic(q.fe(d,!1));var r=g.h.zc(q,d);r<n?(p=1,h=q,e=k.xb(),m=k.gb,n=r):r==n&&p++}h=new g.bm(h,e,Math.sqrt(n));f&&(k.Wb(e,m),q=k.ia(),f=0>g.h.Wq(d,q.ac(),q.xc()),1<p&&(p=new u,p.reset(),f=p.VN(d,f,b,e,m)),h.OJ(f));return h};a.prototype.pI=function(b,d){b=b.D();d=g.h.ub(b,d);return new g.bm(b,0,d)};a.prototype.bI=function(b,d){for(var e=b.vb(0),f=b.I(),h=b=0,k=0,m=1.7976931348623157E308,n=0;n<f;n++){var p=new g.h;e.uc(2*n,p);var q=g.h.zc(p,d);q<m&&(h=p.x,k=p.y,b=n,m=q)}d=new g.bm;d.ay(h,k,b,
Math.sqrt(m));return d};a.prototype.JU=function(b,d,e,f){if(0==f)return e=[];e*=e;b=b.D();d=g.h.zc(b,d);d<=e?(e=[],f=new g.bm,f.ay(b.x,b.y,0,Math.sqrt(d)),e[0]=f):e=[];return e};a.prototype.jU=function(b,d,e,f){if(0==f)return f=[];var h=b.vb(0),k=b.I();b=[];e*=e;for(var m=0;m<k;m++){var n=h.read(2*m),p=h.read(2*m+1),q=d.x-n,r=d.y-p;q=q*q+r*r;q<=e&&(r=new g.bm,r.ay(n,p,m,Math.sqrt(q)),b.push(r))}d=b.length;b.sort(function(t,v){return t.La<v.La?-1:t.La==v.La?0:1});if(f>=d)return b.slice(0);b.length=
f;return b.slice(0)};a.instance=null;return a}(g.Ge);g.Gx=l})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 4};c.prototype.W=function(a,b,d,e,f){return g.cm.sB(a,b,d,e,f)};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.Ju=function(a){return g.Wt.qy(a)};c.prototype.xn=function(a,b,d){g.Wt.uD(a,b,d)};c.instance=null;return c}(g.Ge);g.rL=u})(L||(L={}));(function(g){var u=
function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 33};c.prototype.W=function(a,b,d,e,f){return 1073741824===a?!g.vd.tB(b,d,e,4,f):g.vd.tB(b,d,e,a,f)};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.Ju=function(a){return g.Wt.qy(a)};c.prototype.xn=function(a,b,d){g.Wt.uD(a,b,d)};c.instance=null;return c}(g.Ge);g.ej=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b,d){this.nd=d;this.gT=
b;this.za=-1;if(null==c)throw g.i.O();this.yk=c;this.Nj=a}l.prototype.next=function(){var c;if(null!=(c=this.yk.next())){this.za=this.yk.Ma();if(null!=this.nd&&!this.nd.progress(-1,-1))throw g.i.gu("user_canceled");return this.YB(c)}return null};l.prototype.Ma=function(){return this.za};l.prototype.YB=function(c){if(null==c)throw g.i.O();return g.Hx.VJ(c,this.Nj,this.gT,this.nd)};l.prototype.qe=function(){};return l}();g.sL=u})(L||(L={}));(function(g){var u=function(l){function c(){return null!==
l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 26};c.prototype.W=function(a,b,d,e){return a instanceof g.ba?(a=new g.$c(a),this.W(a,b,d,e).next()):new g.sL(a,b,d,e)};c.prototype.ss=function(a,b,d,e,f){return 0<(void 0!==e?g.Hx.ss(a,b,d,e,f):g.Hx.ss(a,b,!1,null,d))};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.instance=null;return c}(g.Ge);g.$l=u})(L||(L={}));(function(g){var u=function(){function f(){this.Aq=0}f.prototype.aX=function(h){this.Aq&=
-2;this.Aq|=h?1:0};f.prototype.Yp=function(){return 0!=(this.Aq&1)};f.prototype.PF=function(){return this.Yp()?0:1};return f}();g.lY=u;var l=function(){return function(){}}(),c=function(){return function(f,h,k,m){this.x=f;this.y=h;this.Bi=k;this.zm=m}}(),a=function(){function f(h){this.Ce=h}f.prototype.compare=function(h,k,m){h=h.ka(m);k=this.Ce.lf.read(2*k);h=this.Ce.lf.read(2*h);k-=h;return 0>k?-1:0<k?1:0};return f}(),b=function(){function f(h){this.Ce=h}f.prototype.compare=function(h,k,m){k=this.Ce.hb[k];
h=this.Ce.hb[h.ka(m)];var n=k.Yp(),p=h.Yp();m=k.ne.Me(this.Ce.No,0);var q=h.ne.Me(this.Ce.No,0);m==q&&(m=Math.min(n?k.ne.oa:k.ne.ma,p?h.ne.oa:h.ne.ma),n=.5*(m-this.Ce.No)+this.Ce.No,n==this.Ce.No&&(n=m),m=k.ne.Me(n,0),q=h.ne.Me(n,0));return m<q?-1:m>q?1:0};return f}(),d=function(){function f(h,k){this.QI=new g.h;this.parent=h;this.VR=k}f.prototype.qr=function(h,k,m){var n=this.parent,p=this.VR;m.Wd(h,k,function(q,r){return n.Nh(q,r,p)})};f.prototype.bq=function(h){h=this.parent.hi.get(h);this.parent.lf.uc(2*
(h>>1),this.QI);return this.QI.y+(0!=(h&1)?this.parent.Pj:-this.parent.Pj)};return f}(),e=function(){function f(h,k,m,n,p){this.fH=h.description;this.Y=h;this.Rg=k;this.Pj=g.ta.lj(this.Rg,h,!1);this.Co=g.ta.lj(this.Rg,h,!0);this.rA=m;this.eT=this.fH.Ba;this.hb=[];this.qo=[];this.nh=new g.kp;this.fb=new g.Yj;this.ke=new g.Nd;this.QG=this.sl=p}f.prototype.VS=function(){this.QG=!0;return(!g.ba.Ic(this.Y.K())||this.yE()&&this.vE(!1))&&this.eO()?g.ba.Ic(this.Y.K())?this.hO()?1607==this.Y.K()?this.jO()?
2:0:this.kO()?this.lO():0:0:2:0};f.prototype.dC=function(h,k){var m=this.lf.read(2*h);h=this.lf.read(2*h+1);var n=this.lf.read(2*k);k=this.lf.read(2*k+1);var p=!g.Zt.Dv(m,h,n,k,this.Pj*this.Pj);return p?p:0==this.Y.Eb()?!1:m==n&&h==k};f.prototype.yE=function(){for(var h=this.Y,k=h.yf?3:2,m=0,n=h.ea();m<n;m++)if(h.Ka(m)<k)return this.ke=new g.Nd(1,m,0),!1;return!0};f.prototype.vE=function(h){var k=this.Y,m=k.Ha(),n=k.hasAttribute(1);for(k=n?g.ta.oE(this.Rg,k,!1):0;m.ab();)for(;m.Ia();){var p=m.ia();
if(!(p.Rb()>this.Pj)){if(h&&n){var q=p.xv(1,0);p=p.xv(1,0);if(Math.abs(p-q)>k)continue}this.ke=new g.Nd(2,m.xb(),-1);return!1}}return!0};f.prototype.eO=function(){var h=this.Y,k=null;g.ba.Ic(this.Y.K())&&(k=this.Y);var m=(this.QG||this.sl)&&null!=k,n=h.I();this.lf=h.vb(0);this.hi=new g.ja(0);this.hi.Jb(2*n);this.gi=new g.ja(0);this.gi.Jb(2*n);m&&(null==this.Hl&&(this.Hl=new g.ja(0)),this.Hl.Jb(n));for(var p=h=0;p<n;p++)if(this.hi.add(2*p),this.hi.add(2*p+1),this.gi.add(2*p),this.gi.add(2*p+1),m){for(;p>=
k.Wc(h);)h++;this.Hl.add(h)}(new g.Yt).sort(this.gi,0,2*n,new d(this,m));this.fb.clear();this.fb.Wo(new a(this));this.fb.Ee(n);k=0;for(n*=2;k<n;k++)if(m=this.gi.get(k),h=this.hi.get(m),m=h>>1,0==(h&1)){h=this.fb.addElement(m,-1);p=this.fb.xe(h);if(-1!=p&&!this.dC(this.fb.ka(p),m))return this.ke=new g.Nd(3,m,this.fb.ka(p)),!1;var q=this.fb.lb(h);if(-1!=q&&!this.dC(this.fb.ka(q),m))return this.ke=new g.Nd(3,m,this.fb.ka(q)),!1}else if(h=this.fb.search(m,-1),p=this.fb.xe(h),q=this.fb.lb(h),this.fb.wd(h,
-1),-1!=p&&-1!=q&&!this.dC(this.fb.ka(p),this.fb.ka(q)))return this.ke=new g.Nd(3,this.fb.ka(p),this.fb.ka(q)),!1;return!0};f.prototype.hO=function(){return 10>this.Y.I()?this.fO():this.gO()};f.prototype.gO=function(){var h=new g.hd;h.Ib(this.Y);var k=new g.Nd;return g.au.cI(!1,h,this.Pj,k,this.nd)?(k.Ko=h.Va(k.Ko),k.Lo=h.Va(k.Lo),this.ke.Xt(k),!1):!0};f.prototype.fO=function(){var h=this.Y,k=h.Ha();for(h=h.Ha();k.ab();)for(;k.Ia();){var m=k.ia();if(!k.Rn()||!k.QS()){h.rW(k);do for(;h.Ia();){var n=
h.ia();n=m.Br(n,this.Pj,!0);if(0!=n)return this.ke=new g.Nd(2==n?5:4,k.xb(),h.xb()),!1}while(h.ab())}}return!0};f.prototype.kO=function(){var h=this.Y;this.hb.length=0;this.qo.length=0;this.$f=h.Ha();this.$f.DB();var k=new g.ja(0);k.Jb(10);var m=NaN,n=0,p=0;for(h=2*h.I();p<h;p++){var q=this.gi.get(p);q=this.hi.get(q);if(0==(q&1)){q>>=1;var r=this.lf.read(2*q),t=this.lf.read(2*q+1);if(0!=k.size&&(r!=m||t!=n)){if(!this.II(k))return!1;null!=k&&k.clear(!1)}k.add(q);m=r;n=t}}return this.II(k)?!0:!1};f.prototype.jO=
function(){for(var h=this.Y,k=Array(h.ea()),m=0,n=h.ea();m<n;m++)k[m]=h.On(m);n=new l;var p=new g.h;m=this.gi.get(0);m=this.hi.get(m);var q=m>>1;this.lf.uc(2*q,p);m=this.Hl.get(q);var r=k[m],t=h.Ca(m),v=h.Wc(m)-1;n.fl=q==t||q==v;n.iy=this.sl?!r&&n.fl:n.fl;n.Bi=m;n.x=p.x;n.y=p.y;n.zm=q;for(var M=new l,W=1,U=this.gi.size;W<U;W++)if(m=this.gi.get(W),m=this.hi.get(m),0==(m&1)){q=m>>1;this.lf.uc(2*q,p);m=this.Hl.get(q);m!=n.Bi&&(r=k[m],t=h.Ca(m),v=h.Wc(m)-1);var X=q==t||q==v,ia=this.sl?!r&&n.fl:n.fl;M.x=
p.x;M.y=p.y;M.Bi=m;M.zm=q;M.iy=ia;M.fl=X;if(M.x==n.x&&M.y==n.y)if(this.sl){if(!M.iy||!n.iy)if(M.Bi!=n.Bi||!M.fl&&!n.fl)return this.ke=new g.Nd(8,M.zm,n.zm),!1}else if(!M.fl||!n.fl)return this.ke=new g.Nd(5,M.zm,n.zm),!1;m=n;n=M;M=m}return!0};f.prototype.BE=function(){for(var h=this.Y,k=[],m=-1,n=!1,p=0,q=h.ea();p<q;p++)h.Fv(p)&&(n=!1,m++,p<q-1&&(h.Fv(p+1)||(n=!0))),k[p]=n?m:-1;n=new g.h;p=this.gi.get(0);p=this.hi.get(p);var r=p>>1;this.lf.uc(2*r,n);p=this.Hl.get(r);m=new c(n.x,n.y,p,r,k[p]);h=[];
var t=1;for(q=this.gi.size;t<q;t++)if(p=this.gi.get(t),p=this.hi.get(p),0==(p&1)){r=p>>1;this.lf.uc(2*r,n);p=this.Hl.get(r);p=new c(n.x,n.y,p,r,k[p]);if(p.x==m.x&&p.y==m.y){if(p.Bi==m.Bi)return this.ke=new g.Nd(9,p.zm,m.zm),!1;0<=k[p.Bi]&&k[p.Bi]==k[m.Bi]&&(0!=h.length&&h[h.length-1]==m||h.push(m),h.push(p))}m=p}if(0==h.length)return!0;p=new g.kp(!0);g.P.av(k,-1);n=-1;t=new g.h;t.Sc();m=0;for(q=h.length;m<q;m++){r=h[m];if(r.x!=t.x||r.y!=t.y)n=p.Qh(0),t.x=r.x,t.y=r.y;var v=k[r.Bi];-1==v&&(v=p.Qh(2),
k[r.Bi]=v);p.addElement(v,n);p.addElement(n,v)}q=new g.ja(0);q.Jb(10);for(m=p.je;-1!=m;m=p.lz(m))if(h=p.HF(m),0==(h&1)&&0!=(h&2)){h=-1;q.add(m);for(q.add(-1);0<q.size;){n=q.Gc();q.Jf();t=q.Gc();q.Jf();r=p.HF(t);if(0!=(r&1)){h=0==(r&2)?n:t;break}p.TW(t,r|1);for(r=p.sc(t);-1!=r;r=p.lb(r))v=p.getData(r),v!=n&&(q.add(v),q.add(t))}if(-1!=h){p=-1;m=0;for(q=k.length;m<q;m++)if(k[m]==h){p=m;break}this.ke=new g.Nd(10,p,-1);return!1}}return!0};f.prototype.lO=function(){var h=this.Y;if(0>=h.He())return this.ke=
new g.Nd(6,1==h.ea()?1:-1,-1),0;if(1==h.ea())return this.sl&&!this.BE()?0:2;this.uo=g.ja.rf(h.ea(),0);this.DA=g.ja.rf(h.ea(),-1);for(var k=-1,m=0,n=0,p=h.ea();n<p;n++){var q=h.Kr(n);this.uo.write(n,0>q?0:256);if(0<q)k=n,m=q;else{if(0==q)return this.ke=new g.Nd(6,n,-1),0;if(0>k||m<Math.abs(q))if(this.ke=new g.Nd(7,n,-1),this.sl)return 0;this.DA.write(n,k)}}this.dt=h.ea();this.Qm=new g.ja(0);this.Qm.Jb(10);p=h.I();this.No=NaN;h=new g.ja(0);h.Jb(10);this.Sq=g.ja.rf(p,-1);this.Iw=g.ja.rf(p,-1);null!=
this.Aj?this.Aj.clear(!1):this.Aj=new g.ja(0);this.Aj.Jb(10);this.fb.clear();this.fb.Wo(new b(this));k=0;for(p*=2;0<this.dt&&k<p;k++)if(m=this.gi.get(k),m=this.hi.get(m),0==(m&1)){m>>=1;n=this.lf.read(2*m+1);if(n!=this.No&&0!=h.size){if(!this.ut(h))return 0;null!=h&&h.clear(!1)}h.add(m);this.No=n}return 0<this.dt&&!this.ut(h)?0:this.sl?0==this.ke.Kj&&this.BE()?2:0:0==this.ke.Kj?2:1};f.prototype.II=function(h){if(1==h.size)return!0;for(var k=0,m=h.size;k<m;k++){var n=h.get(k);this.$f.Wb(n);var p=this.$f.mi();
this.hb.push(this.Uu(p,n,this.$f.gb,!0));this.$f.ia();p=this.$f.ia();this.hb.push(this.Uu(p,n,this.$f.gb,!1))}var q=this;this.hb.sort(function(v,M){return q.PP(v,M)});n=this.nh.je;-1==n&&(n=this.nh.Qh(0));this.nh.hn(this.hb.length);k=0;for(m=this.hb.length;k<m;k++)this.nh.addElement(n,k);k=!0;for(var r=m=-1;k;){k=!1;p=this.nh.sc(n);if(-1==p)break;for(var t=this.nh.lb(p);-1!=t;){m=this.nh.getData(p);r=this.nh.getData(t);m=this.hb[m].Jo;r=this.hb[r].Jo;if(m==r)if(k=!0,this.nh.kd(n,p),p=this.nh.xe(t),
t=this.nh.kd(n,t),-1==t||-1==p)break;else continue;p=t;t=this.nh.lb(p)}}k=this.nh.cs(n);this.nh.DE(n);if(0<k)return this.ke=new g.Nd(5,m,r),!1;k=0;for(m=h.size;k<m;k++)this.pB(this.hb[k]);this.hb.length=0;return!0};f.prototype.ut=function(h){for(var k=0,m=h.size;k<m;k++){var n=h.get(k),p=this.Sq.read(n);if(-1!=p){var q=this.fb.ka(p);this.Aj.add(q);this.fb.wd(p,-1);this.pB(this.hb[q]);this.hb[q]=null;this.Sq.write(n,-1)}p=this.Iw.read(n);-1!=p&&(q=this.fb.ka(p),this.Aj.add(q),this.fb.wd(p,-1),this.pB(this.hb[q]),
this.hb[q]=null,this.Iw.write(n,-1))}k=0;for(m=h.size;k<m;k++){n=h.get(k);this.$f.Wb(n);p=this.$f.mi();if(p.oa>p.ma){var r=this.$f.xb(),t=this.Uu(p,n,this.$f.gb,!0);0<this.Aj.size?(q=this.Aj.Gc(),this.Aj.Jf(),this.hb[q]=t):(q=this.hb.length,this.hb.push(t));p=this.fb.addElement(q,-1);-1==this.Sq.read(r)?this.Sq.write(r,p):this.Iw.write(r,p);0==(this.uo.read(this.$f.gb)&3)&&this.Qm.add(p)}this.$f.ia();p=this.$f.ia();p.oa<p.ma&&(r=this.$f.ik(),t=this.Uu(p,n,this.$f.gb,!1),0<this.Aj.size?(q=this.Aj.Gc(),
this.Aj.Jf(),this.hb[q]=t):(q=this.hb.length,this.hb.push(t)),p=this.fb.addElement(q,-1),-1==this.Sq.read(r)?this.Sq.write(r,p):this.Iw.write(r,p),0==(this.uo.read(this.$f.gb)&3)&&this.Qm.add(p))}k=0;for(m=this.Qm.size;k<m&&0<this.dt;k++)if(p=this.Qm.get(k),0==(this.uo.read(this.hb[this.fb.ka(p)].CA)&3)){h=-1;n=this.fb.xe(p);var v=p;t=null;q=-1;for(var M=0;-1!=n;){q=this.fb.ka(n);t=this.hb[q];q=t.CA;M=this.uo.read(q);if(0!=(M&3))break;v=n;n=this.fb.xe(n)}-1==n?(r=1,n=v):(h=1==(M&3)?q:this.DA.read(q),
r=0!=t.PF()?0:1,n=this.fb.lb(n));do{q=this.fb.ka(n);t=this.hb[q];q=t.CA;v=this.uo.read(q);if(0==(v&3)){if(r!=t.PF())return this.ke=new g.Nd(6,q,-1),!1;M=0==r||t.Yp()?2:1;v=v&252|M;this.uo.write(q,M);if(2==M&&0==this.ke.Kj&&this.DA.read(q)!=h&&(this.ke=new g.Nd(7,q,-1),this.sl))return!1;this.dt--;if(0==this.dt)return!0}1==(v&3)&&(h=q);v=n;n=this.fb.lb(n);r=0!=r?0:1}while(v!=p)}null!=this.Qm?this.Qm.clear(!1):this.Qm=new g.ja(0);return!0};f.prototype.Uu=function(h,k,m,n){if(322==h.K())h=this.kP(h);
else throw g.i.Ra();h.Jo=k;h.CA=m;h.Aq=0;h.aX(n);return h};f.prototype.kP=function(h){if(0<this.qo.length){var k=this.qo[this.qo.length-1];--this.qo.length;h.copyTo(k.ne)}else k=new u,k.ne=g.KC.ig(h);return k};f.prototype.pB=function(h){322==h.ne.K()&&this.qo.push(h)};f.prototype.aU=function(){for(var h=this.Y.I(),k=new g.ja(0),m=0;m<h;m++)k.add(m);var n=this;k.Wd(0,h,function(p,q){return n.Qu(p,q)});for(m=1;m<h;m++)if(0==this.Qu(k.get(m-1),k.get(m)))return this.ke=new g.Nd(3,k.get(m-1),k.get(m)),
0;return 2};f.prototype.zV=function(){return this.yE()?this.vE(!0)?2:0:0};f.prototype.eV=function(){return this.VS()};f.prototype.fU=function(){for(var h=this.Y.I(),k=new g.ja(0),m=0;m<h;m++)k.add(m);var n=this;k.Wd(0,h,function(v,M){return n.HO(v,M)});var p=Array(h);g.P.av(p,!1);p[k.get(0)]=!0;for(m=1;m<h;m++){var q=k.get(m-1),r=k.get(m);0==this.Qu(q,r)?p[r]=!1:p[r]=!0}k=this.Y.Ja();q=this.Y;r=0;var t=1;for(m=0;m<h;m++)p[m]?t=m+1:(r<t&&k.Gd(q,r,t),r=m+1);r<t&&k.Gd(q,r,t);k.Dh(2,this.Co);return k};
f.prototype.DV=function(){var h=this.Y,k=h.Ha(),m=h.Ha(),n=this.Y.Ja(),p=this.Y,q=h.hasAttribute(1),r=q?g.ta.oE(this.Rg,h,!0):0,t=new g.ja(0),v=new g.ja(0);t.Jb(g.P.truncate(h.I()/2+1));for(v.Jb(g.P.truncate(h.I()/2+1));k.ab();)if(m.ab(),!(2>h.Ka(k.gb))){m.tW();for(var M,W,U=!0;k.Ia();){var X=k.ia(),ia=m.mi();if(k.xb()>m.xb())break;U&&(t.add(k.xb()),v.add(m.ik()),U=!1);W=t.Gc();var ja=k.ik();if(1<ja-W){var ka=new g.h;ka.vc(h.Oa(W),h.Oa(ja));M=ka.length()}else M=X.Rb();W=v.Gc();ja=m.xb();1<ja-W?(ka=
new g.h,ka.vc(h.Oa(W),h.Oa(ja)),W=ka.length()):W=ia.Rb();M>this.Co?t.add(k.ik()):q&&(M=h.Vc(1,t.Gc(),0),X=X.hv(1,0),Math.abs(X-M)>r&&t.add(k.ik()));W>this.Co?v.add(m.xb()):q&&(M=h.Vc(1,v.Gc(),0),X=ia.hv(1,0),Math.abs(X-M)>r&&v.add(m.xb()))}t.Gc()<v.Gc()?t.size>v.size?t.Jf():v.Jf():(t.Gc()!=v.Gc()&&v.Jf(),v.Jf());if(2<=v.size+t.size){U=new g.Ta;ia=0;for(X=t.size;ia<X;ia++)p.we(t.get(ia),U),0==ia?n.nf(U):n.lineTo(U);for(ia=v.size-1;0<ia;ia--)p.we(v.get(ia),U),n.lineTo(U);p.ec(k.gb)?n.Cp():0<v.size&&
(p.we(v.get(0),U),n.lineTo(U))}null!=t&&t.clear(!1);null!=v&&v.clear(!1)}n.Dh(2,this.Co);return n};f.prototype.hV=function(){return this.rX()};f.prototype.rX=function(){if(1736==this.Y.K()&&1==this.Y.Jn())return g.Hg.Mk(this.Y,this.Co,!0,!1,this.nd);this.Ii=new g.hd;this.Ii.Ib(this.Y);0!=this.Ii.gd&&(1!=this.rA&&g.Tk.W(this.Ii,this.Co,this.nd,!0),1736==this.Y.K()&&g.tn.W(this.Ii,this.Ii.ld,this.rA,!1,this.nd));this.Y=this.Ii.Ke(this.Ii.ld);1736==this.Y.K()&&(this.Y.hm(),this.Y.Zo(0));this.Y.Dh(2,
this.Co);return this.Y};f.ss=function(h,k,m,n,p){null!=n&&(n.Kj=0,n.Ko=-1,n.Lo=-1);if(h.B())return 1;var q=h.K();if(33==q)return 1;var r=g.ta.lj(k,h,!1);if(197==q)return k=new g.l,h.A(k),k.Ci(r)?(null!=n&&(n.Kj=2,n.Ko=-1,n.Lo=-1),0):1;if(g.ba.zd(q))return r=new g.Ua(h.description),r.oc(h,!0),f.ss(r,k,m,n,p);var t=h.qm(r);m=m?-1:t;if(-1!=m)return m;k=new f(h,k,m,p,!1);if(550==q)m=k.aU();else if(1607==q)m=k.zV();else if(1736==q)m=k.eV();else throw g.i.Ra();h.Dh(m,r);null!=n&&0==m&&n.Xt(k.ke);return m};
f.VJ=function(h,k,m,n){if(h.B())return h;var p=h.K();if(33==p)return h;var q=g.ta.lj(k,h,!1);if(197==p)return k=new g.l,h.A(k),k.Ci(q)?h.Ja():h;if(g.ba.zd(p))return p=new g.Ua(h.description),p.oc(h,!0),f.VJ(p,k,m,n);q=h.qm(q);m=m?-1:q;if(2==m)return h;h=new f(h,k,m,n,!1);if(550==p)h=h.fU();else if(1607==p)h=h.DV();else if(1736==p)h=h.hV();else throw g.i.Ra();return h};f.prototype.Nh=function(h,k,m){if(h==k)return 0;h=this.hi.get(h);var n=this.hi.get(k);k=h>>1;var p=n>>1,q=new g.h,r=new g.h;this.lf.uc(2*
k,q);q.y+=0!=(h&1)?this.Pj:-this.Pj;this.lf.uc(2*p,r);r.y+=0!=(n&1)?this.Pj:-this.Pj;h=q.compare(r);return 0==h&&m?(m=this.Hl.get(k)-this.Hl.get(p),0>m?-1:0<m?1:0):h};f.prototype.Qu=function(h,k){if(h==k)return 0;var m=this.Y,n=m.Oa(h),p=m.Oa(k);if(n.x<p.x)return-1;if(n.x>p.x)return 1;if(n.y<p.y)return-1;if(n.y>p.y)return 1;for(n=1;n<this.eT;n++){p=this.fH.qd(n);for(var q=g.ua.Wa(p),r=0;r<q;r++){var t=m.Vc(p,h,r),v=m.Vc(p,k,r);if(t<v)return-1;if(t>v)return 1}}return 0};f.prototype.HO=function(h,k){var m=
this.Qu(h,k);return 0==m?h<k?-1:1:m};f.prototype.PP=function(h,k){if(h===k)return 0;var m=h.ne.jg();h.Yp()&&m.Uq();h=k.ne.jg();k.Yp()&&h.Uq();k=m.ru();var n=h.ru();return n==k?(k=m.xi(h),Math.abs(k)<=8.881784197001252E-16*(Math.abs(h.x*m.y)+Math.abs(h.y*m.x))&&(k--,k++),0>k?1:0<k?-1:0):k<n?-1:1};return f}();g.Hx=e})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 30};c.local=function(){null===c.instance&&
(c.instance=new c);return c.instance};c.prototype.W=function(a,b,d,e){return a instanceof g.ba?(a=new g.$c(a),b=new g.$c(b),this.W(a,b,d,e).next()):new g.tL(a,b,d,e)};c.fp=function(a,b,d,e){var f=a.Eb(),h=b.Eb();if(a.B()&&b.B())return f>h?a:b;if(a.B())return b;if(b.B())return a;var k=new g.l,m=new g.l,n=new g.l;a.A(k);b.A(m);n.L(k);n.$b(m);k=g.ta.Xd(d,n,!0);m=a.K();n=b.K();return 33==m&&33==n?c.RU(a,b,k):m!=n?0<f||0<h?f>h?a:b:550==m?c.aI(a,b,k):c.aI(b,a,k):g.Hg.fp(a,b,d,e)};c.RU=function(a,b,d){d=
d*Math.sqrt(2)*1.00001;d*=d;var e=a.D(),f=b.D(),h=new g.de(a.description);g.h.zc(e,f)>d&&(h.add(a),h.add(b));return h};c.aI=function(a,b,d){var e=a.vb(0),f=a.I(),h=b.D(),k=a.Ja();d=d*Math.sqrt(2)*1.00001;var m=new g.l;a.A(m);m.X(d,d);if(m.contains(h)){d*=d;m=!1;for(var n=[],p=0;p<f;p++)n[p]=!1;for(p=0;p<f;p++){var q=e.read(2*p),r=e.read(2*p+1);q-=h.x;r-=h.y;q*q+r*r<=d&&(m=!0,n[p]=!0)}if(m)for(p=0;p<f;p++)n[p]||k.Gd(a,p,p+1);else k.Gd(a,0,f),k.add(b)}else k.Gd(a,0,f),k.add(b);return k};c.instance=
null;return c}(g.Ge);g.Ix=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b,d){this.us=null==a;this.za=-1;this.Sd=c;this.vg=b;this.DT=a.next();this.Vb=d}l.prototype.next=function(){if(this.us)return null;var c;return null!=(c=this.Sd.next())?(this.za=this.Sd.Ma(),g.Ix.fp(c,this.DT,this.vg,this.Vb)):null};l.prototype.Ma=function(){return this.za};l.prototype.qe=function(){};return l}();g.tL=u})(L||(L={}));(function(g){var u=function(){function a(){}a.prototype.Az=function(){this.Vy=null;
this.yx=-1;this.sK=!1};return a}(),l=function(){function a(){this.Ir=0;this.qj=[]}a.prototype.hN=function(b){this.Ir+=b.yx;this.qj.push(b)};a.prototype.JV=function(){this.Ir-=this.qj[this.qj.length-1].yx;--this.qj.length};a.prototype.hy=function(){return this.qj[this.qj.length-1]};a.prototype.Nb=function(b){return b===this};return a}(),c=function(){function a(b,d,e){this.za=-1;this.Jc=!1;this.sH=[!1,!1,!1,!1];this.wq=[0,0,0,0];this.eA=!1;this.zk=-1;this.kq=0;this.co=-1;this.Eo=[];this.Sd=b;this.vg=
d;this.Vb=e}a.WD=function(b){var d=[],e=0;for(b=Object.keys(b);e<b.length;e++)d.push(Number(b[e]));d.sort(function(f,h){return f-h});return d};a.prototype.YF=function(b){var d=this.Eo[b],e=a.WD(d)[0],f=d[e],h=f.hy().Vy;f=f.hy().sK;delete d[e];f&&(h=g.$l.local().W(h,this.vg,!1,this.Vb),0==b&&33==h.K()&&(b=new g.de(h.description),h.B()||b.add(h),h=b));return h};a.prototype.next=function(){if(this.Jc&&this.co==this.zk)return null;for(;!this.iK(););if(-1==this.zk)return null;if(this.eA){for(this.co++;;){if(this.co>
this.zk||0>this.co)throw g.i.Ra();if(this.sH[this.co])break}this.za++;return this.YF(this.co)}this.za=0;this.co=this.zk;return this.YF(this.zk)};a.prototype.Ma=function(){return this.za};a.prototype.iK=function(){if(this.Jc)return!0;var b=null;null!=this.Sd&&(b=this.Sd.next(),null==b&&(this.Jc=!0,this.Sd=null));g.np.Bp(this.Vb);if(null!=b){var d=b.Eb();this.sH[d]=!0;d>=this.zk&&!this.eA&&(this.ED(d,!1,b),d>this.zk&&!this.eA&&this.pW(d))}if(0<this.kq)for(d=0;d<=this.zk;d++)for(;1<this.wq[d];)if(b=
this.xO(d),0!=b.length)b=g.Hg.NP(b,this.vg,this.Vb),this.ED(d,!0,b);else break;return this.Jc};a.prototype.xO=function(b){for(var d=[],e=[],f=this.Eo[b],h=a.WD(f),k=0;k<h.length;k++){var m=h[k],n=f[m];if(this.Jc||1E4<n.Ir&&1<n.qj.length){this.wq[b]-=n.qj.length;for(this.kq-=n.qj.length;0<n.qj.length;)d.push(n.hy().Vy),n.JV();e.push(m)}}for(k=0;k<e.length;k++)delete f[e[k]];return d};a.prototype.pW=function(b){for(var d=0;d<b;d++)this.Eo[d]=[],this.kq-=this.wq[d],this.wq[d]=0};a.prototype.ED=function(b,
d,e){var f=new u;f.Az();f.Vy=e;e=a.WR(e);f.yx=e;e=a.UR(e);if(b+1>this.Eo.length)for(var h=0,k=Math.max(2,b+1);h<k;h++)this.Eo.push([]);h=this.Eo[b][e];void 0===h&&(h=new l,this.Eo[b][e]=h);f.sK=d;h.hN(f);this.wq[b]++;this.kq++;this.zk=Math.max(this.zk,b)};a.UR=function(b){return 0<b?g.P.truncate(Math.log(b)/Math.log(4)+.5):0};a.WR=function(b){var d=b.K();if(g.ba.yj(d))return b.I();if(33==d)return 1;if(197==d)return 4;if(g.ba.zd(d))return 2;throw g.i.Ra();};a.prototype.qe=function(){this.iK()};return a}();
g.vL=c})(L||(L={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}fa(c,l);c.prototype.K=function(){return 1};c.prototype.W=function(a,b,d,e){return void 0===e?new g.vL(a,b,d):this.ZP(a,b,d,e)};c.prototype.ZP=function(a,b,d,e){a=new g.$c([a,b]);return this.W(a,d,e).next()};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.instance=null;return c}(g.Ge);g.Hh=u})(L||(L={}));(function(g){var u;(function(l){l[l.nextPath=0]="nextPath";
l[l.nextSegment=1]="nextSegment";l[l.iterate=2]="iterate"})(u||(u={}));u=function(){function l(c,a,b,d){this.Us=new g.l;this.wT=c;this.xT=a;this.oq=d;this.vo=-1;this.tl=!1;var e=c.Cb;null!=e&&(e=d?e.Ao:e.Gb,null!=e&&(this.Jc=!1,this.ra=b,this.Gb=e,this.yw=this.Gb.getIterator(),this.pq=this.tl=!0,this.Yb=0,d?this.vo=a.ea():this.td=a.Ha()));this.tl||(e=a.Cb,null!=e&&(e=d?e.Ao:e.Gb,null!=e&&(this.Jc=!1,this.ra=b,this.Gb=e,this.yw=this.Gb.getIterator(),this.tl=!0,this.pq=!1,this.Yb=0,d?this.vo=c.ea():
this.td=c.Ha())));this.tl||(this.di=d?g.ta.eR(c,a,b,1<=c.qm(0),1<=a.qm(0)):g.ta.dR(c,a,b))}l.prototype.next=function(){if(this.tl){if(this.Jc)return!1;for(var c=!0;c;)switch(this.Yb){case 0:c=this.nU();break;case 1:c=this.oU();break;case 2:c=this.Pz();break;default:throw g.i.ga("internal error");}return this.Jc?!1:!0}return null==this.di?!1:this.di.next()};l.prototype.pl=function(){return this.tl?this.pq?this.Gb.ka(this.Gs):this.oq?this.vo:this.td.xb():this.di.pl(this.di.Wf)};l.prototype.jl=function(){return this.tl?
this.pq?this.oq?this.vo:this.td.xb():this.Gb.ka(this.Gs):this.di.jl(this.di.Bf)};l.prototype.oz=function(){if(!this.oq)throw g.i.ga("internal error");return this.tl?this.pq?this.Gb.yF(this.Gs):this.Us:this.di.oz(this.di.Wf)};l.prototype.Wy=function(){if(!this.oq)throw g.i.ga("internal error");return this.tl?this.pq?this.Us:this.Gb.yF(this.Gs):this.di.Wy(this.di.Bf)};l.prototype.nU=function(){if(!this.oq){if(!this.td.ab())return this.Jc=!0,!1;this.Yb=1;return!0}if(-1==--this.vo)return this.Jc=!0,!1;
this.pq?this.xT.Sj(this.vo,this.Us):this.wT.Sj(this.vo,this.Us);this.yw.Yi(this.Us,this.ra);this.Yb=2;return!0};l.prototype.oU=function(){if(!this.td.Ia())return this.Yb=0,!0;var c=this.td.ia();this.yw.Vo(c,this.ra);this.Yb=2;return!0};l.prototype.Pz=function(){this.Gs=this.yw.next();return-1==this.Gs?(this.Yb=this.oq?0:1,!0):!1};return l}();g.am=u})(L||(L={}));(function(g){g=g.GL||(g.GL={});g[g.enumClosed=1]="enumClosed";g[g.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";g[g.enumOGCStartPolygon=
4]="enumOGCStartPolygon";g[g.enumCalcMask=4]="enumCalcMask"})(L||(L={}));(function(g){g.IC=function(){function u(){}u.ub=function(l,c,a,b,d,e,f,h,k){var m=[0,0,0],n=[0,0,0],p=[0,0,0],q=[0,0,0,0],r=new g.ha(0),t=new g.ha(0),v=new g.ha(0);if(null!=f||null!=h||null!=k)if(g.s.ui(c))g.Zg.ub(l,a,b,d,e,f,h,k);else{d=g.F.ca(d);a=g.F.ca(a);var M=g.F.ca(d-a);if(g.s.$(b,e)&&(g.s.$(a,d)||g.s.$(g.s.R(b),1.570796326794897)))null!=f&&(f.u=0),null!=h&&(h.u=0),null!=k&&(k.u=0);else{if(g.s.$(b,-e)){if(g.s.$(g.s.R(b),
1.570796326794897)){null!=f&&(f.u=2*g.F.Bh(l,c));null!=h&&(h.u=0<b?g.F.ca(3.141592653589793-g.F.ca(d)):g.F.ca(d));null!=k&&(k.u=0<b?g.F.ca(d):g.F.ca(3.141592653589793-g.F.ca(d)));return}g.s.$(g.s.R(M),3.141592653589793)&&(null!=f&&(f.u=2*g.F.Bh(l,c)),null!=h&&(h.u=0),null!=k&&(k.u=0))}else{if(g.s.$(g.s.R(b),1.570796326794897)||g.s.$(g.s.R(e),1.570796326794897)){g.Xk.ub(l,c,a,b,d,e,f,h,k);return}if(g.s.$(a,d)||g.s.$(g.s.R(M),3.141592653589793)){g.Xk.ub(l,c,a,b,d,e,f,h,k);return}if(g.s.Dd(b)){g.Xk.ub(l,
c,a,b,d,e,f,h,k);return}}var W=Math.sqrt(1-c);d=g.F.ca(d-a);a=0;g.F.dl(1,c,b,a,0,r,t,v);m[0]=r.u;m[1]=t.u;m[2]=v.u;g.F.dl(1,c,e,d,0,r,t,v);n[0]=r.u;n[1]=t.u;n[2]=v.u;p[0]=0;p[1]=0;p[2]=-1*c*g.F.n(1,c,b)*Math.sin(b);0>d?g.F.Yq(p,n,m,q,0):g.F.Yq(p,m,n,q,0);t=[0,0,0];v=[0,0,0];var U=[0,0,0];m=[0,0,0];r=[0,0,0];var X=Math.acos(q[2]/1),ia=1-c,ja=Math.tan(X),ka=1+ja*ja/ia,sa=2*p[2]*ja/ia;ja=Math.sqrt(sa*sa-4*ka*(p[2]*p[2]/ia-1));ka*=2;ia=(-sa+ja)/ka;sa=(-sa-ja)/ka;ja=Math.tan(X);ka=ja*ia+p[2];X=(ia+sa)/
2;p=(ka+(ja*sa+p[2]))/2;ja=g.F.hp(ia-X,ka-p);ia=p/W*1.570796326794897;for(sa=0;100>sa;sa++){ka=g.F.w(c,ia);ka=ka*ka/Math.cos(ia)*(Math.sin(ia)-p*ka/(1-c));if(g.s.Dd(ka))break;ia-=ka}p=g.F.n(1,c,ia)*Math.cos(ia);p=Math.sqrt((p-X)*(p+X));ja=1-ja/p;ja*=2-ja;ka=g.F.qn(t);X=g.F.qn(v);ia=g.F.qn(U);var ta=g.F.Tt(U,t);sa=g.F.Tt(U,v);g.F.xx(U,t,m);g.F.xx(U,v,r);t=Math.acos(ta/(ia*ka));v=Math.acos(sa/(ia*X));v*=g.s.Mb(1,g.F.Tt(m,r));if(1.570796326794897<=g.s.R(t)&&1.570796326794897<=g.s.R(v)||3.141592653589793<
g.s.R(t-v))t=(3.141592653589793-g.s.R(t))*g.s.Mb(1,t),v=(3.141592653589793-g.s.R(v))*g.s.Mb(1,v);m=g.F.Rj(ja,v);r=g.F.q(p,ja,g.F.Rj(ja,t));m=g.F.q(p,ja,m);m=g.s.R(m-r)*l;t=new g.ha(0);v=new g.ha(0);U=q[1]/1;U*=-g.s.Mb(1,M);r=Math.acos(U)*g.s.Mb(1,M);u.sf(l,c,a,b,m,r,t,v);g.s.$(d,t.u)&&g.s.$(e,v.u)||(ja=g.F.hp(g.F.ca(d-t.u),e-v.u),u.sf(l,c,a,b,m,g.F.ca(r+3.141592653589793),t,v),ka=g.F.hp(g.F.ca(d-t.u),e-v.u),ka<ja&&(r=g.F.ca(r+3.141592653589793)));t=[0,0,0,0];v=[0,0,0,0];p=[0,0,0];ja=[0,0,0];l=[0,
0,0];a=[0,0,0];b=[0,0,0];U=[0,0,0];p[0]=0;p[1]=0;p[2]=W;ja[0]=0;ja[1]=0;ja[2]=0;g.F.Yq(ja,p,n,t,0);g.s.Dd(e)?(l[0]=n[0],l[1]=n[1],l[2]=1,a[0]=1*Math.cos(d)-1*Math.sin(d),a[1]=1*Math.sin(d)+1*Math.cos(d)):(c=g.F.n(1,c,e)*Math.cos(e),l[0]=0,l[1]=0,n[2]+=Math.tan(1.570796326794897-g.s.R(e))*c*g.s.Mb(1,e),a[0]=c*Math.cos(d)-c*Math.sin(d),a[1]=c*Math.sin(d)+c*Math.cos(d));a[2]=n[2];g.F.Yq(n,a,l,v,1);g.F.xx(v,t,b);g.F.xx(v,q,U);U=g.F.Tt(b,U)/(g.F.qn(b)*g.F.qn(U));U*=g.s.Mb(1,M);d=Math.acos(U)*-g.s.Mb(1,
M);0<r&&0<d?d=g.F.ca(d+3.141592653589793):0>r&&0>d&&(d=g.F.ca(d+3.141592653589793));null!=f&&(f.u=m);null!=h&&(h.u=r);null!=k&&(k.u=d)}}};u.sf=function(l,c,a,b,d,e,f,h){var k=[0,0,0],m=[0,0,0],n=[0,0,0],p=[0,0,0],q=[0,0,0],r=[0,0,0],t=[0,0,0],v=[0,0,0,0],M=new g.ha(0),W=new g.ha(0),U=new g.ha(0),X=new g.ha(0),ia=new g.ha(0),ja=new g.ha(0);if(null!=f&&null!=h)if(g.s.ui(c))g.Zg.sf(l,a,b,d,e,f,h);else if(g.s.Dd(d))null!=f&&(f.u=a),null!=h&&(h.u=b);else if(e=g.F.ca(e),0>d&&(d=g.s.R(d),e=g.F.ca(e+3.141592653589793)),
a=g.F.ca(a),b=g.F.ca(b),1.570796326794897<g.s.R(b)&&(a=g.F.ca(a+3.141592653589793),b=g.s.Mb(3.141592653589793,b)-b),g.s.$(g.s.R(b),1.570796326794897)||g.s.Dd(b)||g.s.Dd(e)||g.s.$(g.s.R(e),3.141592653589793))g.Xk.sf(l,c,a,b,d,e,f,h);else{var ka=Math.sqrt(1-c);l=d/l;g.F.dl(1,c,b,0,0,X,ia,ja);k[0]=X.u;k[1]=ia.u;k[2]=ia.u;t[0]=0;t[1]=0;t[2]=-1*c*g.F.n(1,c,b)*Math.sin(b);X=g.F.n(1,c,b);ia=g.F.ca(1.570796326794897-e);ja=Math.sin(ia);d=Math.cos(b);b=Math.sin(b);q[0]=X*d-b*ja;q[1]=Math.cos(ia);q[2]=(1-c)*
X*b+d*ja;0>e?g.F.Yq(t,q,k,v,0):g.F.Yq(t,k,q,v,0);k=Math.acos(v[2]/1);v=Math.atan2(-v[1],-v[0]);b=1-c;q=Math.tan(k);ia=1+q*q/b;X=2*t[2]*q/b;q=Math.sqrt(X*X-4*ia*(t[2]*t[2]/b-1));ia*=2;b=(-X+q)/ia;X=(-X-q)/ia;q=Math.tan(k);ia=q*b+t[2];k=(b+X)/2;t=(ia+(q*X+t[2]))/2;q=g.F.hp(b-k,ia-t);ka=t/ka*1.570796326794897;for(b=0;100>b;b++){X=g.F.w(c,ka);X=X*X/Math.cos(ka)*(Math.sin(ka)-t*X/(1-c));if(g.s.Dd(X))break;ka-=X}ka=g.F.n(1,c,ka)*Math.cos(ka);ka=Math.sqrt((ka-k)*(ka+k));t=1-q/ka;t*=2-t;r=Math.acos(g.F.Tt(r,
m)/(g.F.qn(r)*g.F.qn(m)));r*=g.s.Mb(1,m[0]);e=(g.F.q(ka,t,g.F.Rj(t,r))+l*g.s.Mb(1,e))/g.F.Bh(ka,t);e=g.F.ca(1.570796326794897*e);e=g.F.Tq(t,e);g.F.n(ka,t,e);q=g.F.ca(v+a);a=Math.cos(q);e=Math.sin(q);n[0]=p[0]*a+p[1]*-e;n[1]=p[0]*e+p[1]*a;n[2]=p[2];g.F.bO(c,n[0],n[1],n[2],U,W,M);null!=f&&(f.u=W.u);null!=h&&(h.u=U.u)}};return u}()})(L||(L={}));(function(g){var u=function(){function d(e){this.Za=null;this.wt=new g.h;this.xt=new g.h;this.g=e}d.prototype.compare=function(e,f,h){this.g.Hc(f,this.wt);this.g.Hc(e.ka(h),
this.xt);return this.wt.compare(this.xt)};return d}(),l=function(){function d(e){this.Cf=new g.h;this.Dk=new g.h;this.g=e}d.prototype.Eh=function(e){this.Cf.N(e)};d.prototype.compare=function(e,f){this.g.Hc(e.ka(f),this.Dk);return this.Cf.compare(this.Dk)};return d}(),c=function(d){function e(f){var h=d.call(this,f.g,f.ra,!1)||this;h.ib=f;return h}fa(e,d);e.prototype.compare=function(f,h,k){if(this.rg)return-1;var m=this.ib.Rd.Kn(this.ib.Sh(h));f=f.ka(k);var n=this.ib.Rd.Kn(this.ib.Sh(f));this.Fm=
k;return this.JE(h,m,f,n)};return e}(g.MC),a=function(d){function e(f){var h=d.call(this,f.g,f.ra)||this;h.ib=f;return h}fa(e,d);e.prototype.compare=function(f,h){if(this.rg)return-1;f=this.ib.Rd.Kn(this.ib.Sh(f.ka(h)));this.Fm=h;return this.KE(h,f)};return e}(g.TL),b=function(){function d(){this.Nc=this.df=this.ko=this.Rd=this.mh=this.Ad=this.hb=this.g=null;this.Og=!1;this.wh=this.Pm=this.ie=this.Gk=this.oh=this.Ak=this.Gf=this.ae=null;this.yh=this.Lq=this.OA=this.ra=0;this.Yv=this.Xn=!1;this.zo=
new g.h;this.Qi=new g.h;this.hb=new g.ad(8);this.Ad=new g.ad(5);this.mh=new g.bu;this.Rd=new g.bu;this.Og=!1;this.wh=new g.h;this.wh.na(0,0);this.ra=0;this.yh=-1;this.Xn=!1;this.g=null;this.df=new g.Yj;this.Nc=new g.Yj;this.oh=new g.ja(0);this.Gk=new g.LC;this.Gf=new g.ja(0);this.Ak=new g.ja(0);this.ko=new g.Ta}d.prototype.DX=function(e,f){var h=new g.Ed;h.TB();e.Pc(h);this.gr(e);this.Xn=!1;this.ra=f;this.OA=f*f;f=this.cC();e.Pc(h);f||(this.iQ(),f||this.cC());-1!=this.yh&&(this.g.Ud(this.yh),this.yh=
-1);this.g=null;return this.Xn};d.prototype.HX=function(e,f){this.gr(e);this.Xn=!1;this.ra=f;this.OA=f*f;this.Og=!1;this.cC();this.Og||(this.Og=1==e.Ip(f,!0,!1));-1!=this.yh&&(this.g.Ud(this.yh),this.yh=-1);this.g=null};d.prototype.pg=function(e,f){return this.hb.U(e,0+f)};d.prototype.FB=function(e,f,h){this.hb.T(e,0+f,h)};d.prototype.Sh=function(e){return this.hb.U(e,2)};d.prototype.MW=function(e,f){this.hb.T(e,2,f)};d.prototype.JF=function(e,f){return this.hb.U(e,3+f)};d.prototype.Rp=function(e){return this.hb.U(e,
7)};d.prototype.Rl=function(e,f){this.hb.T(e,7,f)};d.prototype.Tp=function(e,f){return this.hb.U(e,3+this.Qp(e,f))};d.prototype.hr=function(e,f,h){this.hb.T(e,3+this.Qp(e,f),h)};d.prototype.ER=function(e,f){return this.hb.U(e,5+this.Qp(e,f))};d.prototype.jr=function(e,f,h){this.hb.T(e,5+this.Qp(e,f),h)};d.prototype.Tr=function(e){return this.Ad.U(e,0)};d.prototype.IW=function(e,f){this.Ad.T(e,0,f)};d.prototype.$y=function(e){return this.Ad.U(e,4)};d.prototype.er=function(e,f){this.Ad.T(e,4,f)};d.prototype.kl=
function(e){return this.Ad.U(e,1)};d.prototype.nn=function(e,f){this.Ad.T(e,1,f)};d.prototype.Zy=function(e){return this.Ad.U(e,3)};d.prototype.Et=function(e,f){this.Ad.T(e,3,f)};d.prototype.$m=function(e){var f=this.Ad.De(),h=this.mh.Qh();this.IW(f,h);-1!=e?(this.mh.addElement(h,e),this.g.Sa(e,this.yh,f),this.er(f,this.g.Va(e))):this.er(f,-1);return f};d.prototype.zP=function(e){this.Ad.kd(e)};d.prototype.CD=function(e,f){this.mh.addElement(this.Tr(e),f);this.g.Sa(f,this.yh,e)};d.prototype.nt=function(e){var f=
this.hb.De(),h=this.Rd.Qh();this.MW(f,h);-1!=e&&this.Rd.addElement(h,e);return f};d.prototype.DD=function(e,f){this.Rd.addElement(this.Sh(e),f)};d.prototype.Wu=function(e){this.hb.kd(e);e=this.oh.dF(e);0<=e&&this.oh.IV(e)};d.prototype.ij=function(e,f){if(-1==this.pg(e,0))this.FB(e,0,f);else if(-1==this.pg(e,1))this.FB(e,1,f);else throw g.i.Ra();this.fy(e,f)};d.prototype.fy=function(e,f){var h=this.kl(f);if(-1!=h){var k=this.Tp(h,f);this.jr(k,f,e);this.hr(e,f,k);this.hr(h,f,e);this.jr(e,f,h)}else this.jr(e,
f,e),this.hr(e,f,e),this.nn(f,e)};d.prototype.Qp=function(e,f){return this.pg(e,0)==f?0:1};d.prototype.Zm=function(e,f){var h=this.Zy(f);-1!=h&&(this.df.wd(h,-1),this.Et(f,-1));var k;h=this.kl(f);if(-1!=h){var m=k=h;do{var n=!1,p=this.Qp(k,f),q=this.JF(k,p);if(this.pg(k,p+1&1)==e){this.Yu(k);this.Rd.dh(this.Sh(k));this.Wu(k);if(k==q){h=-1;break}h==k&&(h=this.kl(f),m=q,n=!0)}k=q}while(k!=m||n);if(-1!=h){do p=this.Qp(k,f),q=this.JF(k,p),this.FB(k,p,e),k=q;while(k!=m);k=this.kl(e);-1!=k?(m=this.Tp(k,
e),n=this.Tp(h,e),m==k?(this.nn(e,h),this.fy(k,e),this.nn(e,k)):n==h&&this.fy(h,e),this.hr(h,e,m),this.jr(m,e,h),this.hr(k,e,n),this.jr(n,e,k)):this.nn(e,h)}}h=this.Tr(e);k=this.Tr(f);for(m=this.mh.sc(k);-1!=m;m=this.mh.lb(m))this.g.Sa(this.mh.ka(m),this.yh,e);this.mh.By(h,k);this.zP(f)};d.prototype.KT=function(e,f){var h=this.pg(e,0),k=this.pg(e,1),m=this.pg(f,0),n=this.pg(f,1);this.Rd.By(this.Sh(e),this.Sh(f));f==this.kl(h)&&this.nn(h,e);f==this.kl(k)&&this.nn(k,e);this.Yu(f);this.Wu(f);h==m&&k==
n||k==m&&h==n||(this.In(h,this.zo),this.In(m,this.Qi),this.zo.rb(this.Qi)?(h!=m&&this.Zm(h,m),k!=n&&this.Zm(k,n)):(k!=m&&this.Zm(k,m),h!=n&&this.Zm(h,n)))};d.prototype.Yu=function(e){var f=this.pg(e,1);this.WE(e,this.pg(e,0));this.WE(e,f)};d.prototype.WE=function(e,f){var h=this.Tp(e,f),k=this.ER(e,f),m=this.kl(f);h!=e?(this.hr(k,f,h),this.jr(h,f,k),m==e&&this.nn(f,h)):this.nn(f,-1)};d.prototype.OD=function(e,f,h){var k=this.Rd.sc(e),m=this.Rd.ka(k);e=this.Ie(m);var n=this.Ie(this.g.V(m));this.g.lr(m,
f,h,!0);for(k=this.Rd.lb(k);-1!=k;k=this.Rd.lb(k)){m=this.Rd.ka(k);var p=this.Ie(m)==e;this.g.lr(m,f,h,p)}k=f.Xp(h,0).ac();f=f.Xp(h,f.ql(h)-1).xc();this.tK(e,k);this.tK(n,f)};d.prototype.RE=function(e,f,h){var k=this.Sh(e),m=this.pg(e,0),n=this.pg(e,1),p=this.nt(-1);this.oh.add(p);this.Rl(p,-3);this.Gf.add(p);this.ij(p,m);e=1;for(f=f.ql(h);e<f;e++)h=this.$m(-1),this.Ak.add(h),this.Gf.add(h),this.ij(p,h),p=this.nt(-1),this.oh.add(p),this.Rl(p,-3),this.Gf.add(p),this.ij(p,h);this.ij(p,n);for(k=this.Rd.sc(k);-1!=
k;k=this.Rd.lb(k))if(n=this.Rd.ka(k),this.Ie(n)==m){e=0;do 0<e&&(p=this.Gf.get(e-1),this.CD(p,n),-1==this.$y(p)&&this.er(p,this.g.Va(n))),p=this.Gf.get(e),e+=2,this.DD(p,n),n=this.g.V(n);while(e<this.Gf.size)}else{e=this.Gf.size-1;do e<this.Gf.size-2&&(p=this.Gf.get(e+1),this.CD(p,n),0>this.$y(p)&&this.er(p,this.g.Va(n))),p=this.Gf.get(e),e-=2,this.DD(p,n),n=this.g.V(n);while(0<=e)}this.Gf.clear(!1)};d.prototype.Ie=function(e){return this.g.Qa(e,this.yh)};d.prototype.KI=function(e,f,h){var k=this.pg(f,
0),m=new g.h;this.In(k,m);var n=new g.h,p=this.pg(f,1);this.In(p,n);var q=h.ql(e),r=h.Xp(e,0),t=new g.h;r.$p(t);if(!m.rb(t)){if(!this.Og){var v=m.compare(this.wh);t=t.compare(this.wh);0>v*t&&(this.Og=!0)}this.nF(k,this.Gf);this.Ak.add(k)}!this.Og&&1<q&&(v=m.compare(n),r=r.xc(),m.compare(r)!=v||r.compare(n)!=v?this.Og=!0:0>r.compare(this.wh)&&(this.Og=!0));r=h.Xp(e,q-1);e=r.xc();n.rb(e)||(this.Og||(v=n.compare(this.wh),t=e.compare(this.wh),0>v*t&&(this.Og=!0)),this.nF(p,this.Gf),this.Ak.add(p));this.Gf.add(f);
n=0;for(p=this.Gf.size;n<p;n++)e=this.Gf.get(n),h=this.Rp(e),g.ad.DG(h)&&(this.Nc.wd(h,-1),this.Rl(e,-1)),e!=f&&-3!=this.Rp(e)&&(this.oh.add(e),this.Rl(e,-3));this.Gf.clear(!1)};d.prototype.dO=function(e,f){this.ae.compare(this.Nc,this.Nc.ka(e),f);this.ae.rg&&(this.ae.Lr(),this.gF(e,f))};d.prototype.gF=function(e,f){this.Xn=!0;e=this.Nc.ka(e);f=this.Nc.ka(f);var h=this.Rd.Kn(this.Sh(e)),k=this.Rd.Kn(this.Sh(f)),m=this.g.cc(h);null==m&&(null==this.ie&&(this.ie=new g.zb),this.g.fd(h,this.ie),m=this.ie);
h=this.g.cc(k);null==h&&(null==this.Pm&&(this.Pm=new g.zb),this.g.fd(k,this.Pm),h=this.Pm);this.Gk.Po(m);this.Gk.Po(h);this.Gk.Fa(this.ra,!0)&&(this.Og=!0);this.$J(e,f,-1,this.Gk);this.Gk.clear()};d.prototype.yQ=function(e,f){this.Xn=!0;f=this.Nc.ka(f);var h=this.Rd.Kn(this.Sh(f)),k=this.g.cc(h);null==k&&(null==this.ie&&(this.ie=new g.zb),this.g.fd(h,this.ie),k=this.ie);h=this.tF(e);this.Gk.Po(k);this.g.Wi(h,this.ko);this.Gk.Fz(this.ra,this.ko,!0);this.$J(f,-1,e,this.Gk);this.Gk.clear()};d.prototype.oS=
function(){if(0!=this.oh.size)for(;0!=this.oh.size;){if(this.oh.size>Math.max(100,this.g.gd)){this.oh.clear(!1);this.Og=!0;break}var e=this.oh.Gc();this.oh.Jf();this.Rl(e,-1);-1!=this.MS(e)&&this.nS(e);this.Wn=!1}};d.prototype.nS=function(e){if(this.Wn){var f=this.Nc.Au(this.EH,this.yH,e,!0);this.Wn=!1}else f=this.Nc.BD(e);-1==f?this.KT(this.Nc.ka(this.Nc.xF()),e):(this.Rl(e,f),this.ae.rg&&(this.ae.Lr(),this.gF(this.ae.Fm,f)))};d.prototype.MS=function(e){var f=this.pg(e,0);e=this.pg(e,1);this.In(f,
this.zo);this.In(e,this.Qi);if(g.h.zc(this.zo,this.Qi)<=this.OA)return this.Og=!0,-1;var h=this.zo.compare(this.wh),k=this.Qi.compare(this.wh);return 0>=h&&0<k?e:0>=k&&0<h?f:-1};d.prototype.gQ=function(){var e=new g.ja(0);e.Jb(this.g.gd);for(var f=this.g.$q(),h=f.next();-1!=h;h=f.next())-1!=this.g.Qa(h,this.yh)&&e.add(h);this.g.mx(e,e.size);this.hQ(e)};d.prototype.hQ=function(e){this.df.clear();this.df.Ee(e.size);this.df.Wo(new u(this.g));var f=new g.h;f.Sc();for(var h=-1,k=new g.h,m=0,n=e.size;m<
n;m++){var p=e.get(m);this.g.Hc(p,k);k.rb(f)?(p=this.g.Qa(p,this.yh),this.Zm(h,p)):(h=this.Ie(p),this.g.Hc(p,f),p=this.df.yn(p),this.Et(h,p))}};d.prototype.iQ=function(){var e=new g.ja(0);e.Jb(this.g.gd);for(var f=this.df.sc(-1);-1!=f;f=this.df.lb(f))e.add(this.df.ka(f));this.df.clear();this.g.mx(e,e.size);f=0;for(var h=e.size;f<h;f++){var k=e.get(f),m=this.Ie(k);k=this.df.yn(k);this.Et(m,k)}};d.prototype.nF=function(e,f){var h=this.kl(e);if(-1!=h){var k=h;do g.ad.DG(this.Rp(k))&&f.add(k),k=this.Tp(k,
e);while(k!=h)}};d.prototype.tK=function(e,f){for(e=this.mh.sc(this.Tr(e));-1!=e;e=this.mh.lb(e))this.g.mf(this.mh.ka(e),f)};d.prototype.$J=function(e,f,h,k){this.Yu(e);-1!=f&&this.Yu(f);this.KI(0,e,k);-1!=f&&this.KI(1,f,k);-1!=h&&(k.Cf.D(this.zo),this.In(h,this.Qi),this.Qi.rb(this.zo)||this.Ak.add(h));h=0;for(var m=this.Ak.size;h<m;h++){var n=this.Ak.get(h),p=this.Zy(n);-1!=p&&(this.df.wd(p,-1),this.Et(n,-1))}h=this.Sh(e);m=-1!=f?this.Sh(f):-1;this.OD(h,k,0);-1!=f&&this.OD(m,k,1);this.RE(e,k,0);
-1!=f&&this.RE(f,k,1);this.Rd.dh(h);this.Wu(e);-1!=f&&(this.Rd.dh(m),this.Wu(f));h=0;for(m=this.Ak.size;h<m;h++)n=this.Ak.get(h),n==this.Lq&&(this.Yv=!0),p=this.Zy(n),-1==p&&(p=this.df.BD(this.tF(n)),-1==p?(e=this.Ie(this.df.ka(this.df.xF())),this.Zm(e,n)):this.Et(n,p));this.Ak.clear(!1)};d.prototype.In=function(e,f){this.g.WF(this.$y(e),f)};d.prototype.tF=function(e){return this.mh.Kn(this.Tr(e))};d.prototype.cC=function(){this.Yv=!1;this.Lq=-1;null==this.ae&&(this.Nc.Sv=!1,this.ae=new c(this),this.Nc.$n=
this.ae);var e=new g.ja(0),f=null,h=null;this.yH=this.EH=-1;this.Wn=!1;for(var k=this.df.sc(-1);-1!=k;){this.Wn=!1;var m=this.df.ka(k);this.Lq=this.Ie(m);this.g.Hc(m,this.wh);this.ae.SJ(this.wh.y,this.wh.x);var n=this.kl(this.Lq),p=-1==n;if(!p){m=n;do{var q=this.Rp(m);-1==q?(this.oh.add(m),this.Rl(m,-3)):-3!=q&&e.add(q);m=this.Tp(m,this.Lq)}while(m!=n)}if(0<e.size){this.Wn=1==e.size&&1==this.oh.size;p=0;for(n=e.size;p<n;p++)m=this.Nc.ka(e.get(p)),this.Rl(m,-2);var r=-2,t=-2;p=0;for(n=e.size;p<n;p++){q=
e.get(p);if(-2==r){var v=this.Nc.xe(q);-1!=v?(m=this.Nc.ka(v),m=this.Rp(m),-2!=m&&(r=v)):r=-1}-2==t&&(q=this.Nc.lb(q),-1!=q?(m=this.Nc.ka(q),m=this.Rp(m),-2!=m&&(t=q)):t=-1);if(-2!=r&&-2!=t)break}p=0;for(n=e.size;p<n;p++)q=e.get(p),m=this.Nc.ka(q),this.Nc.wd(q,-1),this.Rl(m,-1);e.clear(!1);this.EH=-1!=r?r:-1;this.yH=-1!=t?t:-1;-1!=r&&-1!=t?this.Wn||this.dO(r,t):-1==r&&-1==t&&(this.Wn=!1)}else p&&(null==f&&(f=new a(this)),f.Eh(this.wh),this.Nc.mJ(f),f.rg&&(f.Lr(),this.yQ(this.Lq,f.Fm)));this.oS();
this.Yv?(this.Yv=!1,null==h&&(h=new l(this.g)),h.Eh(this.wh),k=this.df.mJ(h)):k=this.df.lb(k)}return this.Xn};d.prototype.gr=function(e){this.g=e;this.yh=this.g.Hd();this.hb.Ee(e.gd+32);this.Ad.Ee(e.gd);this.mh.At(e.gd);this.mh.hn(e.gd);this.Rd.At(e.gd+32);this.Rd.hn(e.gd+32);for(e=this.g.ld;-1!=e;e=this.g.ve(e))if(g.ba.Ic(this.g.jc(e)))for(q=this.g.Ob(e);-1!=q;q=this.g.Sb(q)){var f=this.g.Ka(q),h=this.g.Ya(q),k=this.$m(h),m=this.nt(h);this.ij(m,k);r=this.g.V(h);h=0;for(f-=2;h<f;h++){var n=this.g.V(r),
p=this.$m(r);this.ij(m,p);m=this.nt(r);this.ij(m,p);r=n}this.g.ec(q)?(p=this.$m(r),this.ij(m,p),m=this.nt(r),this.ij(m,p),this.ij(m,k)):(p=this.$m(r),this.ij(m,p))}else for(var q=this.g.Ob(e);-1!=q;q=this.g.Sb(q)){var r=this.g.Ya(q);k=0;for(f=this.g.Ka(q);k<f;k++)this.$m(r),r=this.g.V(r)}this.gQ()};return d}();g.JC=b})(L||(L={}));(function(g){var u=function(l){function c(a,b,d){var e=l.call(this)||this;if(void 0!==a)if(void 0!==d){e.description=g.ee.og();var f=new g.Od;f.L(a,b,d);e.XB(f)}else if(void 0!==
b)e.description=g.ee.og(),e.Db(a,b);else if(a instanceof g.ua)e.description=a;else if(a instanceof g.h)e.description=g.ee.og(),e.Db(a);else if(a instanceof c)e.description=a.description,e.Db(a.Mg(),a.jh()),null!==a.la&&(e.la=a.la.slice(0));else throw g.i.O();else e.description=g.ee.og();return e}fa(c,l);c.prototype.D=function(a){if(void 0!==a){if(this.Bc())throw g.i.ga("This operation should not be performed on an empty geometry.");a.na(this.la[0],this.la[1])}else{if(this.Bc())throw g.i.ga("This operation should not be performed on an empty geometry.");
a=new g.h;a.na(this.la[0],this.la[1]);return a}};c.prototype.Db=function(a,b){"number"===typeof a?(this.wc(),null==this.la&&this.up(),this.la[0]=a,this.la[1]=b):(this.wc(),this.Db(a.x,a.y))};c.prototype.xz=function(){if(this.Bc())throw g.i.ga("This operation should not be performed on an empty geometry.");var a=new g.Od;a.x=this.la[0];a.y=this.la[1];a.z=this.description.aG()?this.la[2]:g.ua.te(1);return a};c.prototype.XB=function(a){this.wc();var b=this.hasAttribute(1);b||g.ua.vG(1,a.z)||(this.se(1),
b=!0);null==this.la&&this.up();this.la[0]=a.x;this.la[1]=a.y;b&&(this.la[2]=a.z)};c.prototype.Mg=function(){if(this.Bc())throw g.i.ga("This operation should not be performed on an empty geometry.");return this.la[0]};c.prototype.WB=function(a){this.setAttribute(0,0,a)};c.prototype.jh=function(){if(this.Bc())throw g.i.ga("This operation should not be performed on an empty geometry.");return this.la[1]};c.prototype.TJ=function(a){this.setAttribute(0,1,a)};c.prototype.TR=function(){return this.Vc(1,
0)};c.prototype.kX=function(a){this.setAttribute(1,0,a)};c.prototype.rR=function(){return this.Vc(2,0)};c.prototype.VW=function(a){this.setAttribute(2,0,a)};c.prototype.Fc=function(){return this.qF(3,0)};c.prototype.DJ=function(a){this.setAttribute(3,0,a)};c.prototype.Vc=function(a,b){var d=this.description.Qf(a);return 0<=d?this.la[this.description.$j(d)+b]:g.ua.te(a)};c.prototype.qF=function(a,b){var d=this.description.Qf(a);return 0<=d?this.la[this.description.$j(d)+b]:g.ua.te(a)};c.prototype.setAttribute=
function(a,b,d){this.wc();var e=this.description.Qf(a);0>e&&(this.se(a),e=this.description.Qf(a));null==this.la&&this.up();this.la[this.description.$j(e)+b]=d};c.prototype.K=function(){return 33};c.prototype.Eb=function(){return 0};c.prototype.Pa=function(){this.wc();null!=this.la&&(this.la[0]=NaN,this.la[1]=NaN)};c.prototype.un=function(a){if(null!=this.la){for(var b=g.ee.Jw(a,this.description),d=[],e=0,f=0,h=a.Ba;f<h;f++){var k=a.qd(f),m=g.ua.Wa(k);if(-1==b[f]){var n=g.ua.te(k);for(k=0;k<m;k++)d[e]=
n,e++}else for(n=this.description.$j(b[f]),k=0;k<m;k++)d[e]=this.la[n],e++,n++}this.la=d}this.description=a};c.prototype.up=function(){this.dJ(this.description.Be.length);c.VD(this.description.Be,this.la,this.description.Be.length);this.la[0]=NaN;this.la[1]=NaN};c.prototype.Pc=function(a){if(a instanceof g.Ed){if(!this.Bc()){var b=this.D();a.Fh(b,b);this.Db(b)}}else this.Bc()||(this.se(1),b=this.xz(),this.XB(a.gp(b)))};c.prototype.copyTo=function(a){if(33!=a.K())throw g.i.O();a.wc();null==this.la?
(a.Pa(),a.la=null,a.kg(this.description)):(a.kg(this.description),a.dJ(this.description.Be.length),c.VD(this.la,a.la,this.description.Be.length))};c.prototype.Ja=function(){return new c(this.description)};c.prototype.B=function(){return this.Bc()};c.prototype.Bc=function(){return null==this.la||isNaN(this.la[0])||isNaN(this.la[1])};c.prototype.dn=function(a){a.Pa();this.description!=a.description&&a.kg(this.description);a.$b(this)};c.prototype.A=function(a){this.Bc()?a.Pa():(a.v=this.la[0],a.G=this.la[1],
a.C=this.la[0],a.H=this.la[1])};c.prototype.Ro=function(a){if(this.Bc())a.Pa();else{var b=this.xz();a.v=b.x;a.G=b.y;a.Xe=b.z;a.C=b.x;a.H=b.y;a.Dg=b.z}};c.prototype.Ug=function(a,b){var d=new g.Oc;if(this.Bc())return d.Pa(),d;a=this.Vc(a,b);d.pa=a;d.wa=a;return d};c.prototype.dJ=function(a){if(null==this.la)this.la=g.P.lg(a);else if(this.la.length<a){for(var b=this.la.slice(0),d=this.la.length;d<a;d++)b[d]=0;this.la=b}};c.VD=function(a,b,d){if(0<d)for(d=0;d<a.length;d++)b[d]=a[d]};c.prototype.Nb=function(a){if(a==
this)return!0;if(!(a instanceof c)||this.description!=a.description)return!1;if(this.Bc())return a.Bc()?!0:!1;for(var b=0,d=this.description.Be.length;b<d;b++)if(this.la[b]!=a.la[b])return!1;return!0};c.prototype.dc=function(){var a=this.description.dc();if(!this.Bc())for(var b=0,d=this.description.Be.length;b<d;b++){var e=this.la[b];e=g.P.truncate(e^e>>>32);a=g.P.Uh(e,a)}return a};c.prototype.mg=function(){return null};return c}(g.ba);g.Ta=u})(L||(L={}));(function(g){var u=function(){function l(c,
a,b){void 0!==c&&(this.x=c,this.y=a,this.z=b)}l.construct=function(c,a,b){var d=new l;d.x=c;d.y=a;d.z=b;return d};l.prototype.L=function(c,a,b){this.x=c;this.y=a;this.z=b};l.prototype.kx=function(){this.z=this.y=this.x=0};l.prototype.normalize=function(){var c=this.length();0==c&&(this.x/=c,this.y/=c,this.z/=c)};l.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};l.prototype.sub=function(c){return new l(this.x-c.x,this.y-c.y,this.z-c.z)};l.prototype.Ag=function(c){new l(this.x*
c,this.y*c,this.z*c)};l.prototype.Rh=function(c){return this.x*c.x+this.y*c.y+this.z*c.z};return l}();g.Od=u})(L||(L={}));(function(g){var u=function(){function l(c,a,b){this.Hw=this.xA=null;this.Yf=a;this.vT=a.y-b;this.uT=a.y+b;this.Fw=0;this.Zz=c;this.ra=b;this.HT=b*b;this.$z=0!=b;this.Mv=!1}l.prototype.result=function(){return 0!=this.Fw?1:0};l.prototype.RM=function(c){c=c.ic(c.fe(this.Yf,!1));return g.h.zc(c,this.Yf)<=this.HT?!0:!1};l.prototype.YE=function(c){if(!this.$z&&(this.Zz&&this.Yf.rb(c.ac())||
this.Yf.rb(c.xc())))this.Mv=!0;else if(c.oa==this.Yf.y&&c.oa==c.ma){if(this.Zz&&!this.$z){var a=Math.max(c.sa,c.qa);this.Yf.x>Math.min(c.sa,c.qa)&&this.Yf.x<a&&(this.Mv=!0)}}else{var b=!1;a=Math.max(c.sa,c.qa);this.Yf.x>a?b=!0:this.Yf.x>=Math.min(c.sa,c.qa)&&(b=0<c.fq(!0,this.Yf.y,this.Hw,null)&&this.Hw[0]<=this.Yf.x);if(b){if(this.Yf.y==c.ac().y){if(this.Yf.y<c.xc().y)return}else if(this.Yf.y==c.xc().y&&this.Yf.y<c.ac().y)return;this.Fw=this.Zz?this.Fw^1:this.Fw+(c.ac().y>c.xc().y?1:-1)}}};l.prototype.JI=
function(c){var a=c.Ug(0,1);if(a.pa>this.uT||a.wa<this.vT)return!1;if(this.$z&&this.RM(c))return!0;if(a.pa>this.Yf.y||a.wa<this.Yf.y)return!1;null==this.xA&&(this.xA=[null,null,null,null,null]);null==this.Hw&&(this.Hw=[0,0,0]);a=c.XF();if(0<a)for(c=0;c<a;c++){var b=this.xA[c].get();this.YE(b);if(this.Mv)return!0}else if(this.YE(c),this.Mv)return!0;return!1};l.HM=function(c,a,b){a=new l(0==c.Jn(),a,b);for(c=c.Ha();c.ab();)for(;c.Ia();)if(b=c.ia(),a.JI(b))return-1;return a.result()};l.IM=function(c,
a,b,d){var e=new g.l;c.yc(e);e.X(d,d);var f=new l(0==c.Jn(),b,d);c=c.Ha();var h=new g.l;h.L(e);h.C=b.x+d;h.G=b.y-d;h.H=b.y+d;b=a.EF(h,d);for(d=b.next();-1!=d;d=b.next())if(c.Wb(a.ka(d)),c.Ia()&&(d=c.ia(),f.JI(d)))return-1;return f.result()};l.ym=function(c,a,b){if(c.B())return 0;var d=new g.l;c.yc(d);d.X(b,b);if(!d.contains(a))return 0;d=c.Cb;if(null!=d){var e=d.Fk;if(null!=e){e=e.To(a.x,a.y);if(1==e)return 1;if(0==e)return 0}d=d.Gb;if(null!=d)return l.IM(c,d,a,b)}return l.HM(c,a,b)};l.SS=function(c,
a,b){return a.B()?0:l.ym(c,a.D(),b)};l.Ol=function(c,a){c=c.I();return 16>c?!1:2*c+Math.log(c)/Math.log(2)*a<1*c*a};return l}();g.Fg=u})(L||(L={}));(function(g){var u=function(l){function c(a){return l.call(this,!0,a)||this}fa(c,l);c.prototype.Ja=function(){return new c(this.description)};c.prototype.Eb=function(){return 2};c.prototype.K=function(){return 1736};c.prototype.pG=function(a,b,d){this.AS(a,b,d)};c.prototype.hR=function(){this.xR()};return c}(g.Vk);g.Ea=u})(L||(L={}));(function(g){(function(u){u[u.PiPOutside=
0]="PiPOutside";u[u.PiPInside=1]="PiPInside";u[u.PiPBoundary=2]="PiPBoundary"})(g.JL||(g.JL={}));g.jd=function(){function u(){}u.CG=function(l,c,a){l=g.Fg.SS(l,c,a);return 0==l?0:1==l?1:2};u.Zd=function(l,c,a){l=g.Fg.ym(l,c,a);return 0==l?0:1==l?1:2};u.KX=function(l,c,a,b,d){if(c.length<a||d.length<a)throw g.i.O();for(var e=0;e<a;e++)d[e]=u.Zd(l,c[e],b)};u.kK=function(l,c,a,b,d){if(1736==l.K())u.KX(l,c,a,b,d);else if(197==l.K()){var e=new g.l;l.A(e);u.SM(e,c,a,b,d)}else throw g.i.ga("invalid_call");
};u.SM=function(l,c,a,b,d){if(c.length<a||d.length<a)throw g.i.O();if(l.B())for(b=0;b<a;b++)d[b]=0;else for(l.X(.5*-b,.5*-b),l.X(.5*b,.5*b),b=0;b<a;b++)l.contains(c[b])?d[b]=1:l.contains(c[b])?d[b]=2:d[b]=0};u.MX=function(l,c,a,b,d){for(var e=0;e<a;e++)d[e]=l.rs(c[e],b)?2:0};u.LX=function(l,c,a,b,d){var e=l.Cb,f=null;null!=e&&(f=e.Fk);e=a;for(var h=0;h<a;h++)if(d[h]=1,null!=f){var k=c[h];0==f.To(k.x,k.y)&&(d[h]=0,e--)}if(0!=e)for(l=l.Ha();l.ab()&&0!=e;)for(;l.Ia()&&0!=e;)for(f=l.ia(),h=0;h<a&&0!=
e;h++)1==d[h]&&f.rs(c[h],b)&&(d[h]=2,e--);for(h=0;h<a;h++)1==d[h]&&(d[h]=0)};u.lK=function(l,c,a,b,d){var e=l.K();if(1607==e)u.LX(l,c,a,b,d);else if(g.ba.zd(e))u.MX(l,c,a,b,d);else throw g.i.ga("Invalid call.");};return u}()})(L||(L={}));(function(g){var u=function(l){function c(a,b){if(2==arguments.length){var d=l.call(this,!1,a.description)||this;d.nf(a);d.lineTo(b)}else d=l.call(this,!1,a)||this;return d}fa(c,l);c.prototype.Ja=function(){return new c(this.description)};c.prototype.Eb=function(){return 1};
c.prototype.K=function(){return 1607};c.prototype.pG=function(a,b,d){this.BS(a,b,d)};return c}(g.Vk);g.Ua=u})(L||(L={}));(function(g){var u=function(){function l(){}l.prototype.progress=function(){return!0};l.Bp=function(c){if(null!=c&&!c.progress(-1,-1))throw g.i.OC();};return l}();g.np=u})(L||(L={}));(function(g){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(g.HK||(g.HK={}));var u=function(){function a(){this.gl=3;this.Gy=
this.Lu=NaN}a.prototype.ZR=function(){return this.js(1)};a.prototype.$R=function(){return this.js(2)};a.prototype.js=function(b){return 0!=(this.gl&b)};a.prototype.Pf=function(){var b=new a;b.Lu=this.Lu;b.Gy=this.Gy;b.gl=this.gl;return b};return a}();g.oY=u;(function(a){a[a.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(g.IK||(g.IK={}));var l=function(){function a(){this.gl=0}a.prototype.js=function(b){return 0!=(this.gl&
b)};a.ig=function(b){var d=new a;d.gl=b.gl;return d};a.prototype.eM=function(b){this.gl=b.gl};return a}();g.pY=l;var c=function(){function a(b,d,e){this.ef=b;this.Zf=d;this.Vf=new g.l;this.Vf.L(e);this.qT=b.dc()+d.dc()+this.Vf.dc().toString()}a.prototype.dc=function(){return this.qT};a.prototype.Nb=function(b){return this==b||this.ef.Nb(b.ef)&&this.Zf.Nb(b.Zf)&&this.Vf.Nb(b.Vf)};return a}();g.uY=c;c=function(){function a(){this.Zf=this.ef=null;this.jH=new u;this.kH=new l;this.xw=this.Xf=null;this.nw=
this.Un=!0}a.Or=function(b,d,e,f){var h;void 0===f&&(f=null);void 0===h&&(h=null);var k=new a;k.rp(b,d,e,f,h);return k};a.prototype.rp=function(b,d,e,f,h){if(null==b||null==d)throw g.i.ga("invalidArgument");this.ef=b;this.Zf=d;this.nw=this.Un=!1;null!=f&&(this.jH=f.Pf());null!=h&&this.kH.eM(h);h=!1;1==d.Tb()&&null!=f&&(f=f.Lu,isNaN(f)||0==f||(h=!0));if(b==d)this.Un=!h,this.nw=!0;else{f=b.Tb();var k=d.Tb();if(0==f||0==k){if(null!=e)throw g.i.O();null!=b.Id()&&null!=d.Id()&&(this.Un=b.Id().Nb(d.Id()))}else 3==
f||3==k?this.Un=b.Nb(d):this.ef.bS(this.Zf)?this.Un=!h:this.Un=!1,this.Xf=e,null!=this.Xf&&this.Xf.hx(),this.nw=(null==this.Xf||0==this.Xf.count())&&this.ef.tc().Nb(this.Zf.tc())}this.cY()};a.prototype.isIdentity=function(){return this.Un};a.prototype.fR=function(){return this.jH.Pf()};a.prototype.Nb=function(b){return b==this?!0:b instanceof a&&this.ef.Nb(b.ef)&&this.Zf.Nb(b.Zf)?this.Xf==b.Xf?!0:null!=this.Xf&&null!=b.Xf&&this.Xf.Nb(b.Xf)?!0:!1:!1};a.prototype.cY=function(){this.xw=new g.cu(this)};
return a}();g.xr=c})(L||(L={}));(function(g){var u=function(){function l(){}l.Ep=function(c){return c*l.eW};l.lx=function(c,a){return l.ZO(a-c)};l.$O=function(c){if(-360<=c&&720>c)return 0>c?c+=360:360<=c&&(c-=360),c;c=g.mc.JK(c);0>c&&(c+=360);return c};l.ZO=function(c){c=l.$O(c);180<c&&(c-=360);return c};l.eW=57.29577951308232;return l}();g.sr=u;g.Ih=function(){function l(){}l.mj=function(c,a){var b=new g.l;c.A(b);var d=g.cb.hh(a),e=new g.l;e.L(d);e.v=b.v;e.C=b.C;e.X(.01*e.da(),0);a=g.ta.Xd(a,b,
!1);return e.contains(b)?c:g.Vd.clip(c,e,a,0)};l.ls=function(c,a,b,d,e){if(!g.cb.Xc(a))throw g.i.O();var f=g.ta.lj(a,c,!1),h=g.cb.hh(a),k=g.cb.tc(a),m=k.Id().bi,n=g.cb.wv(k);k=g.cb.fv(k);n*=2-n;var p=new g.Oc;h.en(p);var q=[[0,0],[0,0]];2==g.Gg.Tb(a)?d?(q[0][0]=l.an(e,p),q[0][1]=h.Lp(),g.cb.vt(),h=q[0][0]*m):(q[0][0]=h.gk(),q[0][1]=e,g.cb.vt(),h=q[0][1]*m):h=e*m;if(!d&&0!=h)throw g.i.O();var r=new g.ha,t=new g.hd;c=t.Ib(c);for(var v=[0],M=new g.h,W=new g.h,U=new g.h,X=new g.h,ia=new g.h,ja=new g.h,
ka=t.Ob(c);-1!=ka;ka=t.Sb(ka)){var sa=t.Ya(ka);t.D(sa,U);for(var ta=!1,za=sa=t.V(sa);-1!=za;za=t.V(za)){if(za==sa){if(ta)break;ta=!0}t.D(za,X);if(d&&f<e-U.x&&X.x-e>f||f<e-X.x&&U.x-e>f||!d&&f<-U.y&&X.y>f||f<-X.y&&U.y>f){do if(!(Math.abs(U.x-X.x)>=.5*p.S())){2==g.Gg.Tb(a)?(q[0][0]=l.an(U.x,p),q[0][1]=U.y,q[1][0]=l.an(X.x,p),q[1][1]=X.y,g.cb.UV(),ia.x=q[0][0]*m,ia.y=q[0][1]*m,ja.x=q[1][0]*m,ja.y=q[1][1]*m):(ia.x=U.x*m,ia.y=U.y*m,ja.x=X.x*m,ja.y=X.y*m);ja.x=6.283185307179586*(X.x-U.x)/p.S()+ia.x;if(d){if(W.x=
h,W.y=l.Iz(k,n,ia,ja,h,b),isNaN(W.y))break}else{W.x=l.Gz(k,n,ia,ja,b);if(isNaN(W.x))break;W.y=0}g.kb.xd(k,n,ia.x,ia.y,ja.x,ja.y,r,null,null,b);var ya=r.u;g.kb.xd(k,n,ia.x,ia.y,W.x,W.y,r,null,null,b);var Ia=r.u;2==g.Gg.Tb(a)?(q[0][0]=W.x/m,q[0][1]=W.y/m,g.cb.UQ(),d?(M.y=q[0][1],M.x=e):(M.x=l.ps(q[0][0],U.x,X.x,p),M.y=e)):d?(M.x=e,M.y=W.y/m):(M.x=l.ps(W.x/m,U.x,X.x,p),M.y=e);v[0]=0<ya?g.P.Rk(Ia/ya,0,1):.5;0!=v[0]&&1!=v[0]&&(ya=t.Na(za),t.Wl(ya,v,1),t.Db(t.V(ya),M.x,M.y))}while(0)}U.N(X)}}return t.Ke(c)};
l.Gn=function(c,a,b,d,e){if(c.B())return c;var f=g.cb.bf(a);return l.Jp(c,b-180*f,360*f,a,d,e,!0)};l.Iz=function(c,a,b,d,e,f){if(3.141592653589793<=Math.abs(b.x-d.x)||!l.Tn(b.x,d.x,e))return NaN;if(b.x>d.x)var h=d;else h=b,b=d;d=new g.ha(0);var k=new g.ha(0),m=new g.ha(0);g.kb.xd(c,a,h.x,h.y,b.x,b.y,k,d,null,f);var n=k.u,p=0,q=1,r=new g.h;for(r.N(h);n*(q-p)>1E-12*c;){var t=.5*(p+q);g.kb.pj(c,a,h.x,h.y,n*t,d.u,k,m,f);r.x=k.u;r.y=m.u;if(r.x==e)break;if(l.Tn(h.x,r.x,e))q=t;else if(l.Tn(b.x,r.x,e))p=
t;else return NaN}return r.y};l.Tn=function(c,a,b){c=u.Ep(c);a=u.lx(c,u.Ep(a));b=u.lx(c,u.Ep(b));return 0==b||0<a&&0<b&&b<=a||0>a&&0>b&&b>=a?!0:!1};l.an=function(c,a){var b=a.wa-a.pa;return a.Jt(c-Math.floor((c-a.pa)/b)*b)};l.ps=function(c,a,b,d){var e=new g.Oc;e.L(a,b);b=d.S();c=Math.floor((c-a)/b)*b+c;for(e=e.tf();Math.abs(c-e)>Math.abs(c+b-e);)c+=b;return c};l.Gz=function(c,a,b,d,e){if(b.y>d.y)var f=d;else f=b,b=d;d=new g.Oc;d.L(f.y,b.y);if(!d.contains(0)||3.141592653589793<=Math.abs(f.x-b.x))return NaN;
if(f.x==b.x)return f.x;var h=new g.ha(0),k=new g.ha(0),m=new g.ha(0);g.kb.xd(c,a,f.x,f.y,b.x,b.y,k,h,null,e);var n=k.u,p=0,q=1,r=new g.h;for(r.N(f);n*(q-p)>1E-12*c;){var t=.5*(p+q);g.kb.pj(c,a,f.x,f.y,n*t,h.u,k,m,e);r.x=k.u;r.y=m.u;d.L(f.y,r.y);if(0==r.y)break;if(d.contains(0))q=t;else if(d.L(b.y,r.y),d.contains(0))p=t;else return NaN}return r.x};l.Jp=function(c,a,b,d,e,f,h){var k=new g.l;c.A(k);if(k.B())return c;var m=new g.Oc;k.en(m);var n=new g.Oc;n.L(a,a+b);if(n.contains(m)&&n.wa!=m.wa)return c;
var p=new g.l;p.L(k);var q=c.K();if(33==q){p=e?c:c.Pf();k=p.Mg();if(k<n.pa||k>=n.wa||h&&k==n.wa)k+=Math.ceil((n.pa-k)/b)*b,k=n.Jt(k),p.WB(k);return p}if(550==q){p=e?c:c.Pf();d=p.vb(0);q=2*p.I();c=!1;for(e=0;e<q;e+=2)if(k=d.read(e),k<n.pa||k>=n.wa||h&&k==n.wa)c=!0,k+=Math.ceil((n.pa-k)/b)*b,k=n.Jt(k),d.write(e,k);c&&p.Qc(1993);return p}if(n.contains(m))return c;if(197==q)return b=e?c:c.Pf(),k.Fa(p),b.Yo(k),b;var r=.1*Math.max(k.da(),k.S());p.X(0,r);h=c;n=d.Yd(0);c=g.Hh.local();for(e=new g.Ed;;){var t=
Math.floor((m.pa-a)/b),v=Math.ceil((m.wa-a)/b);if(3<v-t){t=Math.floor(.5*(v+t));p.v=k.v-r;p.C=a+b*t;var M=g.Vd.clip(h,p,n,f);p.v=p.C;p.C=k.C+r;var W=g.Vd.clip(h,p,n,f);e.gg((t-v)*b,0);W.Pc(e);1736==q?h=c.W(M,W,d,null):(h=M,h.add(W,!1));h.A(k);k.en(m)}else break}p.v=a;p.C=a+b;a=new g.l;a.L(p);a.X(n,0);a=Math.floor((k.v-p.v)/b)*b;0!=a?(p.move(a,0),e.gg(-a,0)):e.KB();a=1607==q?new g.Ua(h.description):new g.Ea(h.description);f=new g.l;for(m=new g.l;k.C>p.v;){r=g.Vd.clip(h,p,n,0);r.A(m);if(1607==q?!r.B()&&
(m.S()>n||m.da()>n):!r.B()&&(1736!=q||m.S()>n))r.Pc(e),r.A(m),a.A(f),f.X(n,n),f.isIntersecting(m)&&1736==q?a=c.W(a,r,d,null):a.add(r,!1);p.move(b,0);e.shift(-b,0)}return a};l.NI=function(c,a,b,d){var e=new g.de(b.description);e.Gd(b,0,-1);e=g.cb.Ah(e,c,a);var f=b.I();d.Pa();if(!g.cb.Xc(c)||f!=e.I())return!1;var h=new g.l;b.A(h);var k=new g.l;e.A(k);h=h.S();k=k.S();if(0!=h&&0!=k){if(k/=h,c=g.cb.hh(a).S()/g.cb.hh(c).S(),1E-10<Math.abs(k/c-1))return!1}else if(0!=h||0!=k)return!1;d.add(b,!1);for(b=0;b<
f;b++)c=e.Oa(b),d.Db(b,c);return!0};l.Jz=function(){throw g.i.Fe();};return l}()})(L||(L={}));(function(g){var u;(function(c){c[c.Clip=0]="Clip";c[c.DontClip=1]="DontClip";c[c.PannableFold=2]="PannableFold"})(u=g.ti||(g.ti={}));var l;(function(c){c[c.Geodesic=0]="Geodesic";c[c.Loxodrome=1]="Loxodrome";c[c.GreatElliptic=2]="GreatElliptic";c[c.NormalSection=3]="NormalSection";c[c.ShapePreserving=4]="ShapePreserving"})(l=g.OK||(g.OK={}));g.Ab=function(){function c(){}c.yv=function(a,b,d){if(d||0<b){a=
a.toString(g.Tc.PE_STR_NAME_CANON|g.Tc.PE_STR_AUTH_NONE);b=[];for(d=0;d<a.length;d++)b[d]="a"<=a[d]&&"z">=a[d]?b[d]=a[d].toUpperCase():a[d];return b.join()}return a.toString(g.Tc.PE_STR_AUTH_TOP)};c.wr=function(a,b,d,e){var f=e.length,h=d.I();if(0!=h){var k=d.vb(0),m=Math.min(h,f),n=0,p=a.fh();isNaN(b)&&(b=0);var q=a.Xc();a=q?a.tc().Le().S():0;for(var r=179*a/360;0<h;){k.oB(n<<1,m,e);g.fj.projToGeogCenter(p,m,e,b);if(q)for(var t=0;t<m;t++){var v=e[t][0]-b,M=g.mc.sign(v),W=k.read(2*(n+t));0>M*g.mc.sign(W)&&
Math.abs(v)>r&&(e[t][0]+=-M*a)}k.nC(n<<1,m,e);n+=m;h-=m;m=Math.min(h,f)}d.Qc(1993)}};c.AL=function(a,b,d,e){var f=0,h=a.fh();isNaN(f)&&(f=0);var k=a.Xc(),m=a.bf();a=360*m;m*=179;for(var n=e.length,p=0;p<d;){for(var q=p;q<d&&b[q].isNaN();++q)p++;var r=Math.min(n,d-p);if(0<r){q=1;for(var t=p+1;q<r;++q,++t)if(b[t].isNaN()){r=q;break}g.ta.Dy(e,b,p,r);g.fj.projToGeogCenter(h,r,e,f);if(k)for(q=0,t=p;q<r;++q,++t){var v=b[t].x,M=e[q][0]-f,W=g.mc.sign(M);0>W*g.mc.sign(v)&&Math.abs(M)>m&&(e[q][0]-=W*a)}g.ta.Cy(b,
p,e,r);p+=r}}};c.Jx=function(a,b,d){var e=d.length,f=b.I();if(!(1>f)){var h=b.vb(0),k=Math.min(f,e),m=0,n=a.fh(),p=a.Xc(),q=p?a.Le().S():0,r=179*q/360,t=0;for(p&&(t=a.Ai());0<f;){h.oB(m<<1,k,d);g.fj.geogToProj(n,k,d);if(p)for(a=0;a<k;a++){var v=d[a][0],M=g.mc.sign(v),W=h.read(2*(m+a))-t;0>M*g.mc.sign(W)&&Math.abs(v)>r&&(d[a][0]+=-M*q)}h.nC(m<<1,k,d);m+=k;f-=k;k=Math.min(f,e)}b.Qc(1993)}};c.zL=function(a,b,d,e){if(0!=d){var f=a.fh(),h=a.Xc(),k=h?a.Le().S():0,m=179*k/360,n=0;h&&(n=a.Ai());for(a=0;a<
d;){for(var p=a;p<d&&b[p].isNaN();++p)a++;var q=Math.min(e.length,d-a);if(0<q){p=1;for(var r=a+1;p<q;++p,++r)if(b[r].isNaN()){q=p;break}g.ta.Dy(e,b,a,q);g.fj.geogToProj(f,q,e);if(h)for(p=0,r=a;p<q;p++){var t=e[p][0],v=g.mc.sign(t);0>v*g.mc.sign(b[r].x-n)&&Math.abs(t)>m&&(e[p][0]-=v*k)}g.ta.Cy(b,a,e,q);a+=q}}}};c.vr=function(a,b,d,e){var f=b.I();if(0!=f){var h=b.vb(0),k=a.ef,m=a.Zf,n=k.tc().Sp(),p=m.tc().Sp(),q=k.bf(),r=m.bf();a=a.Xf;if(null==a||0==a.count()){d=n/p;e=(k.Wp()-m.Wp())*r;p=-90*q;a=90*
q;n=!1;r=1;for(k=2*f;r<k;)q=h.get(r),m=g.P.Rk(q,p,a),m!=q&&(h.set(r,m),n=!0),r+=2;if(0!=e||1!=d)for(n=!0,p=new g.h,r=0;r<f;r++)h.uc(2*r,p),p.x*=d,p.x+=e,p.y*=d,h.Ut(2*r,p);n&&b.Qc(1993)}else{k=e.length;m=Math.min(f,k);var t=g.P.lg(m),v=null,M=0,W=NaN,U=NaN,X=360*r,ia=r/q;d&&(U=90*r,W=89.9*q,v=g.P.lg(m));for(var ja=!0,ka=0;0!=f;){q=!1;h.oB(M<<1,m,e);for(r=0;r<m;r++)t[r]=e[r][0];if(d)for(r=0;r<m;r++){var sa=Math.abs(e[r][1])-W;0<sa&&(q=e[r][1],e[r][1]=g.mc.Dn(W,q),v[r]=g.mc.Dn(sa,q),q=!0)}r=e[0][0];
a.transform(e,m,n,p);ja&&(ka=e[0][0]-ia*r,ja=!1);for(r=0;r<m;r++)sa=e[r][0]-t[r]*ia-ka,200<Math.abs(sa)&&(e[r][0]=0<sa?e[r][0]-X:e[r][0]+X);if(q){for(r=0;r<m;r++)0!=v[r]&&(e[r][1]+=ia*v[r],e[r][1]>U?e[r][1]=U:e[r][1]<-U&&(e[r][1]=-U));for(q=0;q<m;q++)v[q]=0}h.nC(M<<1,m,e);M+=m;f-=m;m=Math.min(f,k)}b.Qc(1993)}}};c.yL=function(a,b,d,e){if(a.nw)e=90*a.ef.bf(),g.ta.WJ(b,d,-e,e);else{var f=a.Xf,h=a.ef,k=a.Zf;a=h.Yr();var m=k.Yr(),n=h.bf(),p=90*n,q=k.bf();if(null==f||0==f.count()){if(e=a/m,f=(h.Wp()-k.Wp())*
q,g.ta.WJ(b,d,-p,p),0!=f||1!=e)for(q=0;q<d;q++)b[q].x*=e,b[q].x+=f,b[q].y*=e}else{h=Math.min(d,e.length);p=g.P.lg(h);k=360*q;n=q/n;for(var r=!0,t=0,v=0;0!=d;){for(q=0;q<h;q++)p[q]=b[q+v].x;q=b[0].x;g.ta.Dy(e,b,v,h);f.transform(e,h,a,m);g.ta.Cy(b,v,e,h);r&&(t=b[0].x-n*q,r=!1);for(q=0;q<h;q++){var M=b[v+q].x-p[q]*n-t;200<Math.abs(M)&&(b[v+q].x=0<M?b[v+q].x-k:b[v+q].x+k)}v+=h;d-=h;h=Math.min(d,e.length)}}}};c.ev=function(a,b){a=a.hh();isNaN(b)||a.Ku(b,0);return a};c.MQ=function(a,b,d,e,f,h,k,m){for(var n=
c.ev(e,f),p=n.S(),q=p/360,r=c.hE*q,t=a.vb(0),v=b.Xc(),M=v?p/b.Le().S():0,W=!1,U=new g.Ea(d.description),X=0,ia=d.ea();X<ia;++X){var ja=v,ka=new g.Ua(d.description);ka.addPath(d,X,!0);if(0!=k){var sa=c.GD(!0,ka,n.H-m,n.H,k);(W=W||sa)&&(ja=!1)}var ta=-1;ja&&(ta=a.Ca(X));var za=ka.vb(0),ya=ka.I(),Ia=0,Ga=za.read(0),Oa=0;sa=3*e.Yd(0);var Pa=!1,Ya=new g.h;Ya.Sc();var ab=new g.h;ab.Sc();for(var fb=!1,db=1;db<ya;++db){var Wa=g.h.construct(za.Bg(2*db),za.Bg(2*db+1)),Za=Wa.x,Va=Za+Ia,eb=Va-Ga;Wa.x=Va;if(Math.abs(eb)>
r){if(ja){var cb=ta+(db+1<ya?db:0),hb=t.read(2*(ta+db-1));cb=(t.read(2*cb)-hb)*M;Math.abs(eb-cb)>1*q&&(ja=!1)}ja||(Ia-=g.mc.Dn(p,Va-Ga),Va=Za+Ia,++Oa,fb=0!=Ia,Wa.x=Va)}else Pa||g.ta.sG(ab,Ya,Wa,sa)&&(Pa=!0);fb&&za.write(2*db,Va);Ga=Va;ab.N(Ya);Ya.N(Wa)}0<Oa&&ka.Qc(1993);ja=ka.Oa(0);ya=ka.Oa(ya-1);ka=g.h.ub(ja,ya)<sa?c.mQ(ka,e,f,h,Pa):c.nQ(a,X,ka,e,f);U.add(ka,!1)}f=e.Yd(0);d=n.S()/180;c.Kt(U,n,.1*f,!1);f=g.si.clip(U,n,f,d,h);U=U!=f;a=a.He();m=f.He();k=0;0<m&&0>a?k=1:0>=m&&0<a&&(0==m?(m=NaN,2==b.Tb()?
m=b.ol().He():1==b.Tb()&&(m=b.Le().oF()),a>.99*m&&(k=-1)):k=-1);0!=k&&(b=new g.Ea(f.description),b.vp(n),b=g.Zl.local().W(b,d,h),b.add(f,!1),U=!0,f=b);U&&(f=g.$l.local().W(f,e,!1,h));return f};c.nQ=function(a,b,d,e,f){var h=d.I(),k=d.Oa(0),m=d.Oa(h-1);e=c.ev(e,f);f=e.S();k=g.mc.sign(m.x-k.x);var n=new g.l;d.yc(n);var p=e.gk();m=p-f;p+=f;if(0<=k){var q=Math.ceil((m-n.v)/f);for(q*=f;m>n.v+q;)q+=f;for(;m<n.C+q;)q-=f;var r=q;720<n.S()&&(p=m+360*Math.ceil(n.S()/360))}else{q=Math.ceil((p-n.C)/f);for(q*=
f;p<n.C+q;)q-=f;for(;p>n.v+q;)q+=f;r=q;720<n.S()&&(m=p-360*Math.ceil(n.S()/360))}q=k*f;var t=g.l.construct(n.v,n.G,n.C,n.H);t.move(r,0);var v=new g.Ed;v.gg(r,0);d.Pc(v);n=new g.Ua(d.description);n.add(d,!1);r=d.Oa(h-1);f=0;for(var M=n.Oa(0).x;0<k?t.C<p:t.v>m;)t.move(q,0),v.Lb=q,d.Pc(v),M+=q,e.v<=M&&e.C>=M&&(f=n.I()-1),d.Db(0,r),r=d.Oa(h-1),n.Fr(d,0,0,h-1,!1);d=new g.Ea(n.description);h=0<a.Kr(b);d.add(n,!1);a=n.Oa(0);m=n.Oa(n.I()-1);b=d.ea()-1;(0>k?h:!h)?(k=g.h.construct(m.x,e.H),d.Di(k),k=g.h.construct(e.gk(),
e.H),d.Di(k),e=g.h.construct(a.x,e.H)):(k=g.h.construct(m.x,e.G),d.Di(k),k=g.h.construct(e.gk(),e.G),d.Di(k),e=g.h.construct(a.x,e.G));d.Di(e);d.pG(0,b,0);d.cO(f);return d};c.mQ=function(a,b,d,e,f){var h=new g.Ea(a.description);h.add(a,!1);h.xB(0,h.I()-1);var k=new g.l;h.yc(k);d=c.ev(b,d);var m=d.S(),n=Math.ceil((d.v-k.v)/m);for(n*=m;d.v>k.v+n;)n+=m;for(;d.v<k.C+n;)n-=m;n+=m;if(0!=n){k.move(n,0);var p=new g.Ed;p.gg(n,0);h.Pc(p)}if(d.v<=k.v&&d.C>k.C)return f&&(f=h.He(),h=g.$l.local().W(h,b,!0,e),b=
h.He(),(b=g.mc.sign(f)!=g.mc.sign(b))&&h.gJ()),h;a=new g.Ea(a.description);a.add(h,!1);for(f=f||k.S()>m-b.Yd(0);k.v<d.C;)k.move(m,0),p=new g.Ed,p.gg(m,0),h.Pc(p),a.add(h,!1);f&&(f=a.He(),a.Zo(1),a=g.$l.local().W(a,b,!0,e),b=a.He(),(b=g.mc.sign(f)!=g.mc.sign(b))&&a.gJ());return a};c.GD=function(a,b,d,e,f){for(var h=b.vb(0),k=b.I(),m=!1,n=0;n<k;n++){var p=g.h.construct(h.Bg(2*n),h.Bg(2*n+1));if(0!=(f&1)&&p.y>=d){m=!0;break}if(0!=(f&2)&&p.y<=-d){m=!0;break}}if(!m)return!1;h=!1;a&&(h=b.On(0));a=new g.hd;
k=a.Ib(b);m=a.Ob(k);var q=-1,r=!0,t=new g.h;t.Sc();n=new g.Ta;for(var v=-1,M=a.Ya(m);-1!=M;M=a.V(M)){p=a.Oa(M);var W=0!=(f&1)&&90<=p.y?1:0;W|=0!=(f&2)&&p.y<=-d?2:0;if(0<q&&q!=W){if(t.x!=p.x){t.x=p.x;a.Wi(a.Na(M),n);var U=a.xj(m,M,n);a.mf(U,t)}if(h)for(v=-1!=v?a.V(v):a.Ya(m),U=a.Na(M);v!=U;)v=a.pd(v,!1);v=-1}0<W&&(p.y=g.mc.Dn(e,p.y),a.mf(M,p),r||q==W||(p.x!=t.x?(a.Wi(M,n),U=a.xj(m,M,n),a.Db(U,t.x,p.y),v=U):v=M));q=W;t=p;r=!1}if(h){if(-1!=v)for(v=a.V(v);-1!=v;)v=a.pd(v,!1);d=a.Ya(m);a.hq(d,a.sj(m))||
(a.Wi(d,n),a.xj(m,-1,n))}a.Ke(k).copyTo(b);return!0};c.Hz=function(a,b,d,e){var f=a;if(f.B()||d==u.DontClip)return f;var h=f.K();if(33==h)return e=f,f=[e.D()],c.qG(f,1,b,d),f[0].isNaN()?e.Pa():e.Db(f[0]),a;a=b.tc();var k=a.bf(),m=90*k,n=180*k,p=360*k,q=b.Ai(),r=.5*k,t=new g.l;f.A(t);var v=b.Wr(),M=b.HQ(),W=197==v.K();b=new g.l;v.A(b);d==u.PannableFold&&(d=a.Le().S(),b.v=q-.5*d,b.C=b.v+d);if(t.G<-m||t.H>m){(new g.l).L(t.v-k,-m,t.C+k,m);f=g.si.Pu(f,b,a,NaN,0,e);if(f.B())return f;f.A(t)}if(M&&(b.H<t.G||
b.G>t.H))return f.Ja();t.S()>p&&(f=c.Jp(f,q-n,p,a,!0,0,!0,e),f.A(t));m=c.XN(t.v,t.C,b.v,b.C,p);0!=m&&t.move(m,0);if(t.C>b.C||t.v<b.v){if(t.C>b.C)for(;t.v>=b.C;)t.move(-p,0),m-=p;for(;t.v<b.C-p;)t.move(p,0),m+=p}d=g.ta.Iu(a,v);0!=m&&(k=new g.Ed,k.gg(m,0),f.Pc(k));if(M){if(W&&b.contains(t))return f;M=[null,null];for(m=0;2>m;m++){W?k=g.ba.Ic(h)?g.si.clip(f,b,d,r,e):g.si.clip(f,b,d,0,e):(k=g.Wk.local().W(f,v,a,e),k==v&&(k=g.ba.ig(k)));if(b.v<=t.v&&b.C>=t.C||b.v>=t.v&&b.C<=t.C)return k;M[m]=k;0==m&&(t.move(-p,
0),k=new g.Ed,k.gg(-p,0),f.Pc(k))}if(550==h)M[0].Gd(M[1],0,-1);else if(g.ba.Ic(h))M[0].add(M[1],!1);else if(33==h)M[0].B()&&(M[0]=M[1]);else throw g.i.ga("intersect_with_GCS_horizon: unexpected geometry type");return M[0]}if(b.H<t.G||b.G>t.H)return f;for(h=0;!f.B()&&t.C>b.v;)0!=h&&(k=new g.Ed,k.gg(h,0),f.Pc(k)),g.ej.local().W(4,f,v,a,e)||(f=g.lp.local().W(f,v,a,e),v==f&&(f=g.ba.ig(f))),0!=h&&(r=new g.Ed,r.gg(-h,0),f.Pc(r)),h-=p,t.move(-p,0);return f};c.qG=function(a,b,d,e){if(0!=b&&e!=u.DontClip)if(e==
u.PannableFold){e=d.zR();for(var f=b,h=0;h<b;h++)if(a[h].y>e.H||a[h].y<e.G)a[h].Sc(),f--;0!=f&&c.bv(a,b,e.v,e.S())}else{e=d.bf();var k=90*e,m=180*e;e*=360;f=b;for(h=0;h<b;h++)if(a[h].y>k||a[h].y<-k)a[h].Sc(),f--;if(0!=f){f=new g.l;f.ax(a,b);k=d.Wr();var n=d.jv();h=197==k.K();var p=new g.l;k.A(p);if(!n||!(p.H<f.G||p.G>f.H))if(n)if(c.bv(a,b,p.gk()-m,e),f=b,h)for(h=0;h<b;h++)p.contains(a[h])||(a[h].Sc(),f--);else for(d=g.ta.Iu(d.tc(),k),h=0;h<b;h++)(m=0!=g.jd.Zd(k,a[h],d))||(a[h].Sc(),f--);else for(c.bv(a,
b,-m,e),f=b,d=g.ta.Iu(d.tc(),k),h=0;h<b;h++)if(m=a[h],m.isNaN()&&f--,n=c.lE(m.x,p.v,p.C,e),m.x+=n,m=0!=g.jd.Zd(k,m,d))a[h].Sc(),f--}}};c.Jp=function(a,b,d,e,f,h,k,m){var n=a.K(),p=b+d;if(33===n){e=f?a:a.Pf();var q=e.Mg();if(q<b||q>=p||k&&q==p)q+=Math.ceil((b-q)/d)*d,q=g.P.Rk(q,b,p),e.WB(q);return e}if(a.B())return a;q=new g.l;a.A(q);if(q.B())return a;var r=new g.Oc;q.en(r);var t=new g.Oc;t.L(b,p);if(t.contains(r))return a;p=new g.l;p.L(q);if(550===n){e=f?a:a.Pf();m=e.vb(0);n=2*e.I();p=!1;for(b=0;b<
n;b+=2)if(q=m.read(b),q<t.pa||q>=t.wa||k&&q==t.wa)p=!0,q+=Math.ceil((t.pa-q)/d)*d,q=t.Jt(q),m.write(b,q);p&&e.Qc(1993);return e}if(197==n)return d=f?a:a.Pf(),q.Fa(p),d.Yo(q),d;var v=.1*Math.max(q.da(),q.S());p.X(0,v);k=a;t=e.Yd(0);a=g.Hh.local();for(f=new g.Ed;;){var M=Math.floor((r.pa-b)/d),W=Math.ceil((r.wa-b)/d);if(3<W-M){M=Math.floor(.5*(W+M));p.v=q.v-v;p.C=b+d*M;var U=g.si.clip(k,p,t,h,m);p.v=p.C;p.C=q.C+v;var X=g.si.clip(k,p,t,h,m);f.gg((M-W)*d,0);X.Pc(f);1736==n?k=a.W(U,X,e,null):(k=U,k.add(X,
!1));k.A(q);q.en(r)}else break}p.v=b;p.C=b+d;b=new g.l;b.L(p);b.X(t,0);b=Math.floor((q.v-p.v)/d)*d;0!=b?(p.move(b,0),f.gg(-b,0)):f.KB();b=1607==n?new g.Ua(k.description):new g.Ea(k.description);h=new g.l;for(r=new g.l;q.C>p.v;){v=g.si.clip(k,p,t,0,m);v.A(r);if(1607==n?!v.B()&&(r.S()>t||r.da()>t):!v.B()&&(1736!=n||r.S()>t))v.Pc(f),v.A(r),b.A(h),h.X(t,t),h.isIntersecting(r)&&1736==n?b=a.W(b,v,e,null):b.add(v,!1);p.move(d,0);f.shift(-d,0)}return b};c.bv=function(a,b,d,e){for(var f=d+e,h=0;h<b;h++){var k=
a[h].x;d<=k&&k<f||!(k<d||k>f||k==f)||(k+=Math.ceil((d-k)/e)*e,k=g.P.Rk(k,d,f),a[h].x=k)}};c.Gn=function(a,b,d,e,f,h){if(!b.Xc())throw g.i.ga("fold_into_360_degree_range");if(a.B())return a;if(2==b.Tb()){d=b.qv();var k=b.pv()-d}else{var m=b.bf();k=360*m;d-=180*m}return c.Jp(a,d,k,b,e,f,!0,h)};c.iF=function(a,b,d,e){if(2==d.Tb())e=d.qv(),d=d.pv()-e;else{var f=d.bf();d=360*f;e-=180*f}c.bv(a,b,e,d)};c.mj=function(a,b){var d=b.Le();if(33==a.K()){var e=a.jh();return d.G<=e&&e<=d.H?a:a.Ja()}e=new g.l;a.A(e);
var f=new g.l;f.L(d);f.v=e.v;f.C=e.C;f.X(.01*f.da(),0);d=g.ta.oy(b,e);return f.contains(e)?a:g.si.clip(a,f,d,0,null)};c.kr=function(a,b,d){return a>b.C&&a-b.C<d?b.C:a<b.v&&b.v-a<d?b.v:a};c.tX=function(a,b,d,e){e.x=c.kr(a.x,b,d);e.y=a.y};c.sX=function(a,b,d,e){for(var f=0;f<b;f++)a[f].y<d.G||a[f].y>d.H?a[f].Sc():a[f].x=c.kr(a[f].x,d,e)};c.Kt=function(a,b,d,e){if(!a.B()){var f=a.K();if(!e||1736!=f)if(g.ba.yj(f)){e=a.vb(0);f=0;for(var h=a.I();f<h;f++){var k=e.read(2*f),m=c.kr(k,b,d);m!=k&&e.write(2*
f,m)}a.Qc(1993)}else if(197==f)e=new g.l,a.A(e),e.v=c.kr(e.v,b,d),e.C=c.kr(e.C,b,d),a.Yo(e);else if(33==f)a.WB(c.kr(a.Mg(),b,d));else throw g.i.ga("internal error");}};c.lS=function(a,b,d,e){var f=new g.hd,h=f.Ib(a);a=g.ta.Iu(b,a);c.ls(f,h,b,a,d,!0,e);return f.Ke(h)};c.ls=function(a,b,d,e,f,h,k){if(!d.Xc())throw g.i.O("invalid call");var m=d.Le(),n=d.tc(),p=n.fh().getDatum().getSpheroid();n=n.Id().bi;var q=p.getFlattening();p=p.getAxis();q*=2-q;var r=new g.Oc;m.en(r);var t=null,v=[[0,0],[0,0]];2==
d.Tb()?(t=d.fh(),h?(v[0][0]=c.an(k,r),v[0][1]=m.Lp(),g.fj.projToGeog(t,1,v),m=v[0][0]*n):(v[0][0]=m.gk(),v[0][1]=k,g.fj.projToGeog(t,1,v),m=v[0][1]*n)):m=k*n;if(!h&&0!=m&&f!=l.GreatElliptic)throw g.i.ga("invalid argument");var M=new g.ha,W=[0],U=new g.h,X=new g.h,ia=new g.h,ja=[null,null],ka=new g.h,sa=new g.h,ta=new g.h,za=new g.h;for(b=a.Ob(b);-1!=b;b=a.Sb(b)){var ya=a.Ya(b);a.D(ya,ka);for(var Ia=!1,Ga=ya=a.V(ya);-1!=Ga;Ga=a.V(Ga)){if(Ga==ya){if(Ia)break;Ia=!0}a.D(Ga,sa);if(h&&(e<k-ka.x&&sa.x-k>
e||e<k-sa.x&&ka.x-k>e)||!h&&(0!=k||e<-ka.y&&sa.y>e||e<-sa.y&&ka.y>e)){do if(!(Math.abs(ka.x-sa.x)>=.5*r.S())){2==d.Tb()?(v[0][0]=c.an(ka.x,r),v[0][1]=ka.y,v[1][0]=c.an(sa.x,r),v[1][1]=sa.y,g.fj.projToGeogCenter(t,2,v,0),ta.x=v[0][0]*n,ta.y=v[0][1]*n,za.y=v[1][1]*n):(ta.x=ka.x*n,ta.y=ka.y*n,za.y=sa.y*n);za.x=2*(sa.x-ka.x)*Math.PI/r.S()+ta.x;if(h){X.x=m;X.y=c.Iz(p,q,ta,za,m,f);if(isNaN(X.y))break;ja[0]=X;var Oa=1}else if(f==l.GreatElliptic){var Pa=[0,0];Oa=g.Mx.Jz(q,ta,za,m,Pa);if(0==Oa)break;X.x=Pa[0];
X.y=m;ja[0]=X;2==Oa&&(ia.x=Pa[1],ia.y=m,ja[1]=ia)}else{X.x=c.Gz(p,q,ta,za,f);if(isNaN(X.x))break;X.y=0;ja[0]=X;Oa=1}var Ya=-1;for(Pa=0;Pa<Oa;Pa++){g.kb.xd(p,q,ta.x,ta.y,za.x,za.y,M,null,null,f);var ab=M.u;g.kb.xd(p,q,ta.x,ta.y,ja[Pa].x,ja[Pa].y,M,null,null,f);var fb=M.u;2==d.Tb()?(v[0][0]=ja[Pa].x/n,v[0][1]=ja[Pa].y/n,g.fj.geogToProj(t,1,v),h?(U.y=v[0][1],U.x=k):(U.x=c.ps(v[0][0],ka.x,sa.x,r),U.y=k)):h?(U.x=k,U.y=ja[Pa].y/n):(U.x=c.ps(ja[Pa].x/n,ka.x,sa.x,r),U.y=k);W[0]=0<ab?g.P.Rk(fb/ab,0,1):.5;
if(0==W[0]||1==W[0])break;Ya>W[0]||(Ya=a.Na(Ga),a.Wl(Ya,W,1),a.Db(a.V(Ya),U.x,U.y),Ya=W[0])}}while(0)}ka.N(sa)}}};c.an=function(a,b){var d=b.wa-b.pa;return b.Jt(a-Math.floor((a-b.pa)/d)*d)};c.ps=function(a,b,d,e){var f=new g.Oc;f.L(b,d);d=e.S();a=Math.floor((a-b)/d)*d+a;for(f=f.tf();Math.abs(a-f)>Math.abs(a+d-f);)a+=d;return a};c.Tn=function(a,b,d){a=g.sr.Ep(a);b=g.sr.lx(a,g.sr.Ep(b));d=g.sr.lx(a,g.sr.Ep(d));return 0==d||0<b&&0<d&&d<=b||0>b&&0>d&&d>=b?!0:!1};c.Iz=function(a,b,d,e,f,h){if(h==l.GreatElliptic)return g.Mx.IS(b,
d,e,f);if(Math.abs(d.x-e.x)>=Math.PI||!c.Tn(d.x,e.x,f))return NaN;if(d.x>e.x)var k=e;else k=d,d=e;e=new g.ha;var m=new g.ha,n=new g.ha;g.kb.xd(a,b,k.x,k.y,d.x,d.y,m,e,null,h);var p=m.u,q=0,r=1,t=new g.h;for(t.N(k);p*(r-q)>1E-12*a;){var v=.5*(q+r);g.kb.pj(a,b,k.x,k.y,p*v,e.u,m,n,h);t.x=m.u;t.y=n.u;if(t.x==f)break;if(c.Tn(k.x,t.x,f))r=v;else if(c.Tn(d.x,t.x,f))q=v;else return NaN}return t.y};c.Gz=function(a,b,d,e,f){if(f==l.GreatElliptic)return a=[0,0],g.Mx.Jz(b,d,e,0,a),a[0];if(d.y>e.y)var h=e;else h=
d,d=e;e=new g.Oc;e.L(h.y,d.y);if(!e.contains(0)||Math.abs(h.x-d.x)>=Math.PI)return NaN;if(h.x==d.x)return h.x;var k=new g.ha,m=new g.ha,n=new g.ha;g.kb.xd(a,b,h.x,h.y,d.x,d.y,m,k,null,f);var p=m.u,q=0,r=1,t=new g.h;for(t.N(h);p*(r-q)>1E-12*a;){var v=.5*(q+r);g.kb.pj(a,b,h.x,h.y,p*v,k.u,m,n,f);t.x=m.u;t.y=n.u;e.L(h.y,t.y);if(0==t.y)break;if(e.contains(0))r=v;else if(e.L(d.y,t.y),e.contains(0))q=v;else return NaN}return t.x};c.NI=function(a,b,d,e){if(!a.ef.Xc())return!1;var f=new g.de(b.description);
f.Gd(b,0,-1);e=g.Fx.local().W(f,a,e);f=b.I();d.Pa();if(f!=e.I())return!1;var h=new g.l;b.A(h);var k=new g.l;e.A(k);h=h.S();k=k.S();if(0!=h&&0!=k){if(k/=h,a=a.Zf.hh().S()/a.ef.hh().S(),1E-10<Math.abs(k/a-1))return!1}else if(0!=h||0!=k)return!1;d.add(b,!1);b=new g.h;for(a=0;a<f;a++)e.D(a,b),d.Db(a,b);return!0};c.iN=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};c.LI=function(a,b,d,e){if(d==u.Clip){var f=b.ol();197==f.K()?(d=new g.l,f.A(d),f=g.ta.oy(b,d),a=g.si.clip(a,d,f,5E4*b.rm(),e)):g.ej.local().W(1,
f,a,b,e)||(a=g.Wk.local().W(a,f,b,e),a==f&&(a=g.Vk.ig(a)))}else b.Xc()&&(e=new g.l,a.yc(e),b.Le().contains(e)||(c.Kt(a,b.Le(),b.Yd(0),!0),d==u.PannableFold&&(a=c.mj(a,b)),a=c.Gn(a,b,0,!0,1E5*b.rm(),null)));return a};c.PD=function(a,b,d){var e=b.Xr();if(null==e)return a;b=b.tc();var f=b.Le().S(),h=new g.l;a.yc(h);var k=new g.Oc;h.en(k);h=e.Ha();e=null;for(var m=new g.Ed;h.ab();)for(;h.Ia();){var n=h.ia(),p=n.Ug(0,0),q=new g.Oc;q.L(p.pa,p.wa);for(p=0;q.wa>k.pa;)q.move(-f),--p;for(;q.pa<=k.wa;){if(q.isIntersecting(k)){null==
e&&(e=new g.Ua);var r=g.zb.VO(n.ac(),n.xc());0!=p&&(m.gg(p*f,0),r.Pc(m));e.oc(r,!0)}q.move(f);++p}}return null!=e?(b=g.ta.ZN(b,e),b=g.ta.Gr(b),g.au.dP(a,e,b,d)):a};c.XN=function(a,b,d,e,f){return a>=d&&b<=e?0:c.lE(.5*(b+a),d,e,f)};c.lE=function(a,b,d,e){return g.mc.round((.5*(d+b)-a)/e)*e};c.NQ=function(a,b,d,e,f,h,k,m){var n=c.ev(e,f),p=n.S(),q=p/360,r=c.hE*q,t=a.vb(0),v=b.Xc(),M=v?p/b.Le().S():0;b=a.Ja();for(var W=0,U=d.ea();W<U;++W){var X=v,ia=new g.Ua(d.description);ia.addPath(d,W,!0);var ja=
d.ec(W);0!=k&&(ja=c.GD(ja,ia,n.H-m,n.H,k))&&(X=!1);var ka=-1;ja=ia.I();var sa=!1;X&&(ka=a.Ca(W),sa=a.ec(W));var ta=ia.vb(0),za=0,ya=ta.read(0),Ia=0,Ga=3*e.Yd(0),Oa=!1,Pa=new g.h;Pa.Sc();var Ya=new g.h;Ya.Sc();for(var ab=!1,fb=1;fb<ja;++fb){var db=g.h.construct(ta.Bg(2*fb),ta.Bg(2*fb+1)),Wa=db.x,Za=Wa+za,Va=Za-ya;db.x=Za;if(Math.abs(Va)>r){if(X){var eb=ka+fb-1,cb=ka;if(!sa||fb+1<ja)cb+=fb;eb=t.read(2*eb);cb=(t.read(2*cb)-eb)*M;Math.abs(Va-cb)>1*q&&(v=!1)}X||(za-=g.mc.Dn(p,Za-ya),Za=Wa+za,++Ia,ab=0!=
za,db.x=Za)}else Oa||g.ta.sG(Pa,Ya,db,Ga)&&(Oa=!0);ab&&ta.write(2*fb,Za);ya=Za;Pa.N(Ya);Ya.N(db)}0!=Ia&&ia.Qc(1993);X=ia.Oa(0);ja=ia.Oa(ja-1);g.h.ub(X,ja);ia=c.oQ(ia,e,isNaN(f)?0:f,h);b.add(ia,!1)}a=e.Yd(0);d=n.S()/180;c.Kt(b,n,.1*a,!1);return g.si.clip(b,n,a,d,h)};c.oQ=function(a,b,d,e){return c.Gn(a,b,d,!0,0,e)};c.FS=function(a,b,d,e){var f=a.K();if(1736==f)for(b=null!=b?b.Yd(0):0,f=0;f<e;f++)1!=g.jd.Zd(a,d[f],b)&&d[f].Sc();else if(197==f)for(f=0;f<e;f++)a.WO(d[f])||d[f].Sc();else throw g.i.O();
};c.al=function(a,b,d,e){if(32>d)for(var f=new g.Ta,h=0;h<d;h++)f.Db(b[h]),a.al(f,e).D(b[h]);else{var k=new g.de;k.se(3);k.zD(b,d);f=k.vb(3);for(h=0;h<d;h++)f.write(h,h);h=a.al(k,e);a=h.vb(0);f=h.vb(3);e=g.h.construct(NaN,NaN);for(k=0;k<d;k++)b[k]=e;d=h.I();for(h=0;h<d;h++)e=f.read(h),a.uc(2*h,b[e])}};c.$k=function(a,b,d,e){if(32>d)for(var f=new g.Ta,h=0;h<d;h++)f.Db(b[h]),a.$k(f,e).D(b[h]);else{var k=new g.de;k.se(3);k.zD(b,d);f=k.vb(3);for(h=0;h<d;h++)f.write(h,h);h=a.$k(k,e);a=h.vb(0);f=h.vb(3);
e=g.h.construct(NaN,NaN);for(k=0;k<d;k++)b[k]=e;d=h.I();for(h=0;h<d;h++)e=f.read(h),a.uc(2*h,b[e])}};c.hE=210;return c}()})(L||(L={}));(function(g){(function(l){l[l.rightSide=1]="rightSide"})(g.ML||(g.ML={}));var u=function(){function l(c,a,b){this.Cs=new g.h;void 0===c?this.Jo=-1:(this.Cs.N(c),this.Jo=a,this.La=b,this.ow=0)}l.prototype.OJ=function(c){this.ow=c?this.ow|1:this.ow&-2};l.prototype.B=function(){return 0>this.Jo};l.prototype.az=function(){if(this.B())throw g.i.ga("invalid call");return new g.Ta(this.Cs.x,
this.Cs.y)};l.prototype.Va=function(){if(this.B())throw g.i.ga("invalid call");return this.Jo};l.prototype.cz=function(){if(this.B())throw g.i.ga("invalid call");return this.La};l.prototype.Nz=function(){return 0!=(this.ow&1)};l.prototype.ay=function(c,a,b,d){this.Cs.x=c;this.Cs.y=a;this.Jo=b;this.La=d};return l}();g.bm=u})(L||(L={}));(function(g){var u=function(){function c(){}c.prototype.Vo=function(a,b){this.uh.resize(0);this.Ji.length=0;this.tk=-1;a.yc(this.Ek);this.Ek.X(b,b);this.Ek.isIntersecting(this.Gb.Da)?
((this.ws=g.ba.zd(a.K()))?(this.LH=a.ac(),this.KH=a.xc(),this.ra=b):this.ra=NaN,this.uh.add(this.Gb.kf),this.Ji.push(this.Gb.Da),this.Rs=this.Gb.Vr(this.Gb.kf)):this.Rs=-1};c.prototype.Yi=function(a,b){this.uh.resize(0);this.Ji.length=0;this.tk=-1;this.Ek.L(a);this.Ek.X(b,b);this.ra=NaN;this.Ek.isIntersecting(this.Gb.Da)?(this.uh.add(this.Gb.kf),this.Ji.push(this.Gb.Da),this.Rs=this.Gb.Vr(this.Gb.kf),this.ws=!1):this.Rs=-1};c.prototype.next=function(){if(0==this.uh.size)return-1;this.tk=this.Rs;var a=
null,b=null,d=null,e=null;this.ws&&(a=new g.h,b=new g.h,d=new g.l);for(var f=!1;!f;){for(;-1!=this.tk;){var h=this.Gb.Xy(this.Gb.gv(this.tk));if(h.isIntersecting(this.Ek))if(this.ws){if(a.N(this.LH),b.N(this.KH),d.L(h),d.X(this.ra,this.ra),0<d.ty(a,b)){f=!0;break}}else{f=!0;break}this.tk=this.Gb.ov(this.tk)}if(-1==this.tk){h=this.uh.Gc();var k=this.Ji[this.Ji.length-1];null==e&&(e=[],e[0]=new g.l,e[1]=new g.l,e[2]=new g.l,e[3]=new g.l);l.wJ(k,e);this.uh.Jf();--this.Ji.length;for(k=0;4>k;k++){var m=
this.Gb.Np(h,k);if(-1!=m&&0<this.Gb.NR(m)&&e[k].isIntersecting(this.Ek))if(this.ws){if(a.N(this.LH),b.N(this.KH),d.L(e[k]),d.X(this.ra,this.ra),0<d.ty(a,b)){var n=new g.l;n.L(e[k]);this.uh.add(m);this.Ji.push(n)}}else n=new g.l,n.L(e[k]),this.uh.add(m),this.Ji.push(n)}if(0==this.uh.size)return-1;this.tk=this.Gb.Vr(this.uh.get(this.uh.size-1))}}this.Rs=this.Gb.ov(this.tk);return this.tk};c.UO=function(a,b,d){var e=new c;e.Gb=a;e.Ek=new g.l;e.uh=new g.ja(0);e.Ji=[];e.Vo(b,d);return e};c.TO=function(a,
b,d){var e=new c;e.Gb=a;e.Ek=new g.l;e.uh=new g.ja(0);e.Ji=[];e.Yi(b,d);return e};c.SO=function(a){var b=new c;b.Gb=a;b.Ek=new g.l;b.uh=new g.ja(0);b.Ji=[];return b};return c}();g.vY=u;var l=function(){function c(a,b){this.jf=new g.ad(11);this.$h=new g.ad(5);this.xs=[];this.hw=new g.ja(0);this.Da=new g.l;this.Nk(a,b)}c.prototype.reset=function(a,b){this.jf.nj(!1);this.$h.nj(!1);this.xs.length=0;this.hw.clear(!1);this.Nk(a,b)};c.prototype.wj=function(a,b){return this.Av(a,b,0,this.Da,this.kf,!1,-1)};
c.prototype.Ez=function(a,b,d){d=-1==d?this.kf:this.OF(d);var e=this.da(d),f=this.gR(d);return this.Av(a,b,e,f,d,!1,-1)};c.prototype.ka=function(a){return this.bR(a)};c.prototype.yF=function(a){return this.Xy(this.gv(a))};c.prototype.da=function(a){return this.kv(a)};c.prototype.gR=function(a){var b=new g.l;b.L(this.Da);var d=this.kv(a);a=this.IF(a);for(var e=0;e<2*d;e+=2){var f=g.P.truncate(3&a>>e);0==f?(b.v=.5*(b.v+b.C),b.G=.5*(b.G+b.H)):1==f?(b.C=.5*(b.v+b.C),b.G=.5*(b.G+b.H)):(2==f?b.C=.5*(b.v+
b.C):b.v=.5*(b.v+b.C),b.H=.5*(b.G+b.H))}return b};c.prototype.NR=function(a){return this.vz(a)};c.prototype.mR=function(a,b){return u.UO(this,a,b)};c.prototype.EF=function(a,b){return u.TO(this,a,b)};c.prototype.getIterator=function(){return u.SO(this)};c.prototype.Nk=function(a,b){if(0>b||32<2*b)throw g.i.O("invalid height");this.rT=b;this.Da.L(a);this.kf=this.jf.De();this.ix(this.kf,0);this.cx(this.kf,0);this.FJ(this.kf,0);this.CJ(this.kf,0)};c.prototype.Av=function(a,b,d,e,f,h,k){if(!e.contains(b))return 0==
d?-1:this.Av(a,b,0,this.Da,this.kf,h,k);if(!h)for(var m=f;-1!=m;m=this.AR(m))this.ix(m,this.vz(m)+1);m=new g.l;m.L(e);e=f;var n=[];n[0]=new g.l;n[1]=new g.l;n[2]=new g.l;for(n[3]=new g.l;d<this.rT&&this.aO(e);d++){c.wJ(m,n);for(var p=!1,q=0;4>q;q++)if(n[q].contains(b)){p=!0;var r=this.Np(e,q);-1==r&&(r=this.jP(e,q));this.ix(r,this.vz(r)+1);e=r;m.L(n[q]);break}if(!p)break}return this.jS(a,b,d,m,e,h,f,k)};c.prototype.jS=function(a,b,d,e,f,h,k,m){var n=this.FF(f);if(h){if(f==k)return m;this.KP(m);h=
m}else h=this.lP(),this.HB(h,a),this.zW(this.gv(h),b);this.$W(h,f);-1!=n?(this.gx(h,n),this.dx(n,h)):this.yJ(f,h);this.LB(f,h);this.cx(f,this.mv(f)+1);this.$N(f)&&this.EQ(d,e,f);return h};c.prototype.KP=function(a){var b=this.OF(a),d=this.FF(b),e=this.FR(a),f=this.ov(a);this.Vr(b)==a?(-1!=f?this.gx(f,-1):this.LB(b,-1),this.yJ(b,f)):d==a?(this.dx(e,-1),this.LB(b,e)):(this.gx(f,e),this.dx(e,f));this.gx(a,-1);this.dx(a,-1);this.cx(b,this.mv(b)-1)};c.wJ=function(a,b){var d=.5*(a.v+a.C),e=.5*(a.G+a.H);
b[0].L(d,e,a.C,a.H);b[1].L(a.v,e,d,a.H);b[2].L(a.v,a.G,d,e);b[3].L(d,a.G,a.C,e)};c.prototype.$N=function(a){return 8==this.mv(a)&&!this.ZF(a)};c.prototype.EQ=function(a,b,d){var e=this.Vr(d);do{var f=this.gv(e),h=this.$h.U(e,0);f=this.Xy(f);this.Av(h,f,a,b,d,!0,e);e=h=this.ov(e)}while(-1!=e)};c.prototype.aO=function(a){return 8<=this.mv(a)||this.ZF(a)};c.prototype.ZF=function(a){return-1!=this.Np(a,0)||-1!=this.Np(a,1)||-1!=this.Np(a,2)||-1!=this.Np(a,3)};c.prototype.jP=function(a,b){var d=this.jf.De();
this.EW(a,b,d);this.ix(d,0);this.cx(d,0);this.Pk(d,a);this.CJ(d,this.kv(a)+1);this.FJ(d,b<<2*this.kv(a)|this.IF(a));return d};c.prototype.lP=function(){var a=this.$h.De();if(0<this.hw.size){var b=this.hw.Gc();this.hw.Jf()}else b=this.xs.length,this.xs.push(new g.l);this.AW(a,b);return a};c.prototype.Np=function(a,b){return this.jf.U(a,b)};c.prototype.EW=function(a,b,d){this.jf.T(a,b,d)};c.prototype.Vr=function(a){return this.jf.U(a,4)};c.prototype.yJ=function(a,b){this.jf.T(a,4,b)};c.prototype.FF=
function(a){return this.jf.U(a,5)};c.prototype.LB=function(a,b){this.jf.T(a,5,b)};c.prototype.IF=function(a){return this.jf.U(a,6)};c.prototype.FJ=function(a,b){this.jf.T(a,6,b)};c.prototype.mv=function(a){return this.jf.U(a,7)};c.prototype.vz=function(a){return this.jf.U(a,8)};c.prototype.cx=function(a,b){this.jf.T(a,7,b)};c.prototype.ix=function(a,b){this.jf.T(a,8,b)};c.prototype.AR=function(a){return this.jf.U(a,9)};c.prototype.Pk=function(a,b){this.jf.T(a,9,b)};c.prototype.kv=function(a){return this.jf.U(a,
10)};c.prototype.CJ=function(a,b){this.jf.T(a,10,b)};c.prototype.bR=function(a){return this.$h.U(a,0)};c.prototype.HB=function(a,b){this.$h.T(a,0,b)};c.prototype.FR=function(a){return this.$h.U(a,1)};c.prototype.ov=function(a){return this.$h.U(a,2)};c.prototype.gx=function(a,b){this.$h.T(a,1,b)};c.prototype.dx=function(a,b){this.$h.T(a,2,b)};c.prototype.OF=function(a){return this.$h.U(a,3)};c.prototype.$W=function(a,b){this.$h.T(a,3,b)};c.prototype.gv=function(a){return this.$h.U(a,4)};c.prototype.AW=
function(a,b){this.$h.T(a,4,b)};c.prototype.Xy=function(a){return this.xs[a]};c.prototype.zW=function(a,b){this.xs[a].L(b)};return c}();g.eu=l})(L||(L={}));(function(g){(function(c){c[c.Outside=0]="Outside";c[c.Inside=1]="Inside";c[c.Border=2]="Border"})(g.TK||(g.TK={}));var u=function(){function c(a,b){this.FT=b;this.Wh=a}c.prototype.$w=function(a,b){this.aH!=b&&a.flush();this.aH=b};c.prototype.ZE=function(a,b){for(var d=0;d<b;)for(var e=a[d++],f=a[d++],h=a[d++]*this.FT;e<f;e++)this.Wh[h+(e>>4)]|=
this.aH<<2*(e&15)};return c}();g.wY=u;var l=function(){function c(a,b,d){this.Wh=null;this.MA=this.Ik=this.VH=this.TH=this.Fs=this.iH=this.Hf=this.Wm=0;this.Si=this.Jk=this.xl=null;this.Az(a,b,d)}c.create=function(a,b,d){if(!c.rE(a))throw g.i.O();return c.oP(a,b,d)};c.fW=function(a){switch(a){case 0:a=1024;break;case 1:a=16384;break;case 2:a=262144;break;default:throw g.i.ga("Internal Error");}return a};c.rE=function(a){return a.B()||1607!=a.K()&&1736!=a.K()?!1:!0};c.prototype.jQ=function(a,b){b=
b.Ha();for(var d=new g.h,e=new g.h;b.ab();)for(;b.Ia();){var f=b.ia();if(322!=f.K())throw g.i.ga("Internal Error");a.Fh(f.ac(),d);a.Fh(f.xc(),e);this.Si.ey(d.x,d.y,e.x,e.y)}this.Si.aJ(g.Nx.Ax)};c.prototype.kQ=function(){throw g.i.ga("Internal Error");};c.prototype.My=function(a,b){for(var d=1;4>d;d++)a.ey(b[d-1].x,b[d-1].y,b[d].x,b[d].y);a.ey(b[3].x,b[3].y,b[0].x,b[0].y);this.Si.aJ(g.Nx.Ax)};c.prototype.jK=function(a,b,d){for(var e=[null,null,null,null],f=0;f<e.length;f++)e[f]=new g.h;b=b.Ha();d=
this.Jk.SX(d)+1.5;f=new g.h;for(var h=new g.h,k=new g.h,m=new g.h,n=new g.h,p=new g.l,q=new g.h;b.ab();){var r=!1,t=!0;for(q.na(0,0);b.Ia();){var v=b.ia();m.x=v.sa;m.y=v.oa;n.x=v.qa;n.y=v.ma;p.Pa();p.$b(m.x,m.y);p.Lk(n.x,n.y);if(this.xl.zG(p)){this.Jk.Fh(n,n);t?(this.Jk.Fh(m,m),q.N(m),t=!1):m.N(q);f.vc(n,m);v=f.length();var M=.5>v;0==v?f.na(1,0):(M||q.N(n),f.scale(d/v),h.na(-f.y,f.x),k.na(f.y,-f.x),m.sub(f),n.add(f),e[0].add(m,h),e[1].add(m,k),e[2].add(n,k),e[3].add(n,h),M?r=!0:this.My(a,e))}else r&&
(this.My(a,e),r=!1),t=!0}r&&this.My(a,e)}};c.prototype.lC=function(a){return g.P.truncate(a*this.iH+this.TH)};c.prototype.mC=function(a){return g.P.truncate(a*this.Fs+this.VH)};c.oP=function(a,b,d){return new c(a,b,d)};c.prototype.Az=function(a,b,d){this.Hf=Math.max(g.P.truncate(2*Math.sqrt(d)+.5),64);this.Wm=g.P.truncate((2*this.Hf+31)/32);this.xl=new g.l;this.Ik=b;d=0;for(var e=this.Hf,f=this.Wm;8<=e;)d+=e*f,e=g.P.truncate(e/2),f=g.P.truncate((2*e+31)/32);this.Wh=g.P.lg(d,0);this.Si=new g.Nx;d=
new u(this.Wh,this.Wm,this);this.Si.oX(this.Hf,this.Hf,d);a.A(this.xl);this.xl.X(b,b);e=new g.l;f=g.l.construct(1,1,this.Hf-2,this.Hf-2);var h=b*f.S();b*=f.da();e.L(this.xl.tf(),Math.max(h,this.xl.S()),Math.max(b,this.xl.da()));this.MA=this.Ik;this.Jk=new g.Ed;this.Jk.gS(e,f);new g.Ed;switch(a.K()){case 550:d.$w(this.Si,2);this.kQ();break;case 1607:d.$w(this.Si,2);this.jK(this.Si,a,this.MA);break;case 1736:d.$w(this.Si,1),this.jQ(this.Jk,a),d.$w(this.Si,2),this.jK(this.Si,a,this.MA)}this.iH=this.Jk.eb;
this.Fs=this.Jk.bb;this.TH=this.Jk.Lb;this.VH=this.Jk.Qb;this.PN()};c.prototype.PN=function(){this.Si.flush();for(var a=0,b=this.Hf*this.Wm,d=this.Hf,e=g.P.truncate(this.Hf/2),f=this.Wm,h=g.P.truncate((2*e+31)/32);8<d;){for(d=0;d<e;d++)for(var k=2*d,m=2*d+1,n=0;n<e;n++){var p=2*n,q=2*n+1,r=p>>4;p=2*(p&15);var t=q>>4;q=2*(q&15);var v=this.Wh[a+f*k+r]>>p&3;v|=this.Wh[a+f*k+t]>>q&3;v|=this.Wh[a+f*m+r]>>p&3;v|=this.Wh[a+f*m+t]>>q&3;this.Wh[b+h*d+(n>>4)]|=v<<2*(n&15)}d=e;f=h;a=b;e=g.P.truncate(d/2);h=
g.P.truncate((2*e+31)/32);b=a+f*d}};c.prototype.To=function(a,b){if(!this.xl.contains(a,b))return 0;a=this.lC(a);b=this.mC(b);if(0>a||a>=this.Hf||0>b||b>=this.Hf)return 0;b=this.Wh[this.Wm*b+(a>>4)]>>2*(a&15)&3;return 0==b?0:1==b?1:2};c.prototype.So=function(a){if(!a.Fa(this.xl))return 0;var b=this.lC(a.v),d=this.lC(a.C),e=this.mC(a.G);a=this.mC(a.H);0>b&&(b=0);0>e&&(e=0);d>=this.Hf&&(d=this.Hf-1);a>=this.Hf&&(a=this.Hf-1);if(b>d||e>a)return 0;for(var f=Math.max(d-b,1)*Math.max(a-e,1),h=0,k=this.Wm,
m=this.Hf,n=0;;){if(32>f||16>m){for(f=e;f<=a;f++)for(var p=b;p<=d;p++)if(n=this.Wh[h+k*f+(p>>4)]>>2*(p&15)&3,1<n)return 2;if(0==n)return 0;if(1==n)return 1}h+=k*m;m=g.P.truncate(m/2);k=g.P.truncate((2*m+31)/32);b=g.P.truncate(b/2);e=g.P.truncate(e/2);d=g.P.truncate(d/2);a=g.P.truncate(a/2);f=Math.max(d-b,1)*Math.max(a-e,1)}};c.prototype.IR=function(){return this.Hf*this.Wm};return c}();g.Lx=l})(L||(L={}));(function(g){(function(c){c[c.contains=1]="contains";c[c.within=2]="within";c[c.equals=3]="equals";
c[c.disjoint=4]="disjoint";c[c.touches=8]="touches";c[c.crosses=16]="crosses";c[c.overlaps=32]="overlaps";c[c.unknown=0]="unknown";c[c.intersects=1073741824]="intersects"})(g.NL||(g.NL={}));var u=function(){function c(){}c.construct=function(a,b,d,e,f,h,k,m){var n=new c;n.qw=a;n.Om=b;n.Lj=d;n.Ti=e;n.tH=f;n.HY=h;n.IY=k;n.JY=m;return n};return c}();g.Wt=function(){function c(){}c.uD=function(a,b,d){if(c.qy(a)){var e=g.ta.lj(b,a,!1);b=!1;g.Uk.uE(a)&&(b=b||a.mu(e,d));e=a.K();1736!=e&&1607!=e||!g.Uk.sE(a)||
0==d||(b=b||a.gj(d));1736!=e&&1607!=e||!g.Uk.tE(a)||0==d||b||a.$L()}};c.qy=function(a){return g.Uk.uE(a)||g.Uk.sE(a)||g.Uk.tE(a)};return c}();var l=function(){function c(){this.sh=[]}c.tB=function(a,b,d,e,f){var h=a.K(),k=b.K();if(197==h){if(197==k)return c.jW(a,b,d,e);if(33==k)return 2==e?e=1:1==e&&(e=2),c.$I(b,a,d,e)}else if(33==h){if(197==k)return c.$I(a,b,d,e);if(33==k)return c.lW(a,b,d,e)}if(a.B()||b.B())return 4==e?!0:!1;var m=new g.l;a.A(m);var n=new g.l;b.A(n);var p=new g.l;p.L(m);p.$b(n);
d=g.ta.Xd(d,p,!1);if(c.dk(m,n,d))return 4==e?!0:!1;m=!1;g.Vk.zd(h)&&(h=new g.Ua(a.description),h.oc(a,!0),a=h,h=1607);g.Vk.zd(k)&&(k=new g.Ua(b.description),k.oc(b,!0),b=k,k=1607);if(197!=h&&197!=k){if(a.Eb()<b.Eb()||33==h&&550==k)2==e?e=1:1==e&&(e=2)}else 1736!=h&&197!=k&&(2==e?e=1:1==e&&(e=2));switch(h){case 1736:switch(k){case 1736:m=c.rt(a,b,d,e,f);break;case 1607:m=c.bn(a,b,d,e,f);break;case 33:m=c.qt(a,b,d,e);break;case 550:m=c.pt(a,b,d,e,f);break;case 197:m=c.yI(a,b,d,e,f)}break;case 1607:switch(k){case 1736:m=
c.bn(b,a,d,e,f);break;case 1607:m=c.aB(a,b,d,e,f);break;case 33:m=c.tt(a,b,d,e,f);break;case 550:m=c.st(a,b,d,e,f);break;case 197:m=c.EI(a,b,d,e)}break;case 33:switch(k){case 1736:m=c.qt(b,a,d,e);break;case 1607:m=c.tt(b,a,d,e,f);break;case 550:m=c.lt(b,a,d,e)}break;case 550:switch(k){case 1736:m=c.pt(b,a,d,e,f);break;case 1607:m=c.st(b,a,d,e,f);break;case 550:m=c.TA(a,b,d,e,f);break;case 33:m=c.lt(a,b,d,e);break;case 197:m=c.$H(a,b,d,e)}break;case 197:switch(k){case 1736:m=c.yI(b,a,d,e,f);break;
case 1607:m=c.EI(b,a,d,e);break;case 550:m=c.$H(b,a,d,e)}}return m};c.jW=function(a,b,d,e){if(a.B()||b.B())return 4==e?!0:!1;var f=new g.l,h=new g.l,k=new g.l;a.A(f);b.A(h);k.L(f);k.$b(h);a=g.ta.Xd(d,k,!1);switch(e){case 4:return c.dk(f,h,a);case 2:return c.bF(h,f,a);case 1:return c.bF(f,h,a);case 3:return c.ek(f,h,a);case 8:return c.VP(f,h,a);case 32:return c.UP(f,h,a);case 16:return c.TP(f,h,a)}return!1};c.$I=function(a,b,d,e){if(a.B()||b.B())return 4==e?!0:!1;a=a.D();var f=new g.l,h=new g.l;b.A(f);
h.L(a);h.$b(f);b=g.ta.Xd(d,h,!1);switch(e){case 4:return c.Sw(a,f,b);case 2:return c.ZA(a,f,b);case 1:return c.HU(a,f,b);case 3:return c.nI(a,f,b);case 8:return c.YA(a,f,b)}return!1};c.lW=function(a,b,d,e){if(a.B()||b.B())return 4==e?!0:!1;a=a.D();b=b.D();var f=new g.l;f.L(a);f.$b(b);d=g.ta.Xd(d,f,!1);switch(e){case 4:return c.IU(a,b,d);case 2:return c.mI(b,a,d);case 1:return c.mI(a,b,d);case 3:return c.oI(a,b,d)}return!1};c.rt=function(a,b,d,e,f){switch(e){case 4:return c.aV(a,b,d);case 2:return c.Tw(b,
a,d,f);case 1:return c.Tw(a,b,d,f);case 3:return c.dV(a,b,d);case 8:return c.lV(a,b,d);case 32:return c.gV(a,b,d,f)}return!1};c.bn=function(a,b,d,e,f){switch(e){case 4:return c.bV(a,b,d);case 1:return c.$A(a,b,d,f);case 8:return c.mV(a,b,d,f);case 16:return c.XU(a,b,d)}return!1};c.qt=function(a,b,d,e){switch(e){case 4:return c.$U(a,b,d);case 1:return c.UU(a,b,d);case 8:return c.kV(a,b,d)}return!1};c.pt=function(a,b,d,e){switch(e){case 4:return c.ZU(a,b,d);case 1:return c.TU(a,b,d);case 8:return c.jV(a,
b,d);case 16:return c.WU(a,b,d)}return!1};c.yI=function(a,b,d,e,f){if(c.YU(a,b,d))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return c.nV(a,b,d);case 1:return c.SU(a,b,d);case 3:return c.cV(a,b,d);case 8:return c.iV(a,b,d,f);case 32:return c.fV(a,b,d,f);case 16:return c.VU(a,b,d,f)}return!1};c.aB=function(a,b,d,e){switch(e){case 4:return c.wV(a,b,d);case 2:return c.CI(b,a,d);case 1:return c.CI(a,b,d);case 3:return c.yV(a,b,d);case 8:return c.FI(a,b,d);case 32:return c.CV(a,b,d);case 16:return c.DI(a,
b,d)}return!1};c.tt=function(a,b,d,e){switch(e){case 4:return c.vV(a,b,d);case 1:return c.qV(a,b,d);case 8:return c.GV(a,b,d)}return!1};c.st=function(a,b,d,e){switch(e){case 4:return c.uV(a,b,d);case 1:return c.pV(a,b,d);case 8:return c.FV(a,b,d);case 16:return c.sV(a,b,d)}return!1};c.EI=function(a,b,d,e){if(c.tV(a,b,d))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return c.HV(a,b,d);case 1:return c.oV(a,b,d);case 3:return c.xV(a,b,d);case 8:return c.EV(a,b,d);case 32:return c.BV(a,b,d);case 16:return c.rV(a,
b,d)}return!1};c.TA=function(a,b,d,e){switch(e){case 4:return c.XT(a,b,d);case 2:return c.XH(b,a,d);case 1:return c.XH(a,b,d);case 3:return c.ZT(a,b,d);case 32:return c.eU(a,b,d)}return!1};c.lt=function(a,b,d,e){switch(e){case 4:return c.YH(a,b,d);case 2:return c.iU(a,b,d);case 1:return c.UT(a,b,d);case 3:return c.Ow(a,b,d)}return!1};c.$H=function(a,b,d,e){switch(e){case 4:return c.WT(a,b,d);case 2:return c.hU(a,b,d);case 1:return c.TT(a,b,d);case 3:return c.YT(a,b,d);case 8:return c.gU(a,b,d);case 16:return c.VT(a,
b,d)}return!1};c.dV=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);if(!c.ek(e,f,d))return!1;e=c.qc(a,b,!1);if(4==e||1==e||2==e)return!1;if(c.WH(a,b,d))return!0;e=a.Rb();f=b.Rb();return Math.abs(e-f)>4*Math.max(a.I(),b.I())*d?!1:c.Rz(a,b,d,!0)};c.aV=function(a,b,d){var e=c.qc(a,b,!0);return 4==e?!0:1==e||2==e||1073741824==e?!1:c.wI(a,b,d)};c.lV=function(a,b,d){var e=c.qc(a,b,!1);return 4==e||1==e||2==e?!1:c.AI(a,b,d,null)};c.gV=function(a,b,d,e){var f=c.qc(a,b,!1);return 4==f||1==f||2==f?!1:
c.xI(a,b,d,e)};c.Tw=function(a,b,d,e){var f=new g.l,h=new g.l;a.A(f);b.A(h);if(!c.Ac(f,h,d))return!1;f=c.qc(a,b,!1);return 4==f||2==f?!1:1==f?!0:c.tI(a,b,d,e)};c.bV=function(a,b,d){var e=c.qc(a,b,!0);return 4==e?!0:1==e||1073741824==e?!1:c.wI(a,b,d)};c.mV=function(a,b,d,e){var f=c.qc(a,b,!1);return 4==f||1==f?!1:c.BI(a,b,d,e)};c.XU=function(a,b,d){var e=c.qc(a,b,!1);return 4==e||1==e?!1:c.vI(a,b,d,null)};c.$A=function(a,b,d,e){var f=new g.l,h=new g.l;a.A(f);b.A(h);if(!c.Ac(f,h,d))return!1;f=c.qc(a,
b,!1);return 4==f?!1:1==f?!0:c.uI(a,b,d,e)};c.$U=function(a,b,d){return 0==g.jd.CG(a,b,d)?!0:!1};c.kV=function(a,b,d){b=b.D();return c.zI(a,b,d)};c.UU=function(a,b,d){b=b.D();return c.sI(a,b,d)};c.ZU=function(a,b,d){var e=c.qc(a,b,!1);if(4==e)return!0;if(1==e)return!1;e=new g.l;a.A(e);e.X(d,d);for(var f=new g.h,h=0;h<b.I();h++)if(b.D(h,f),e.contains(f)){var k=g.jd.Zd(a,f,d);if(1==k||2==k)return!1}return!0};c.jV=function(a,b,d){var e=this.qc(a,b,!1);if(4==e||1==e)return!1;e=new g.l;a.A(e);e.X(d,d);
for(var f=!1,h=a,k=!1,m=0;m<b.I();m++){var n=b.Oa(m);if(e.contains(n))if(n=g.jd.Zd(h,n,d),2==n)f=!0;else if(1==n)return!1;k||(!g.Fg.Ol(a,b.I()-1)||null!=a.Cb&&null!=a.Cb.Gb?h=a:(h=new g.Ea,a.copyTo(h),h.gj(1)),k=!0)}return f?!0:!1};c.WU=function(a,b,d){var e=this.qc(a,b,!1);if(4==e||1==e)return!1;var f=new g.l;e=new g.l;var h=new g.l;a.A(f);b.A(h);e.L(f);e.X(d,d);h=f=!1;for(var k=a,m=!1,n=0;n<b.I();n++){var p=b.Oa(n);e.contains(p)?(p=g.jd.Zd(k,p,d),0==p?h=!0:1==p&&(f=!0)):h=!0;if(f&&h)return!0;m||
(!g.Fg.Ol(a,b.I()-1)||null!=a.Cb&&null!=a.Cb.Gb?k=a:(k=new g.Ea,a.copyTo(k),k.gj(1)),m=!0)}return!1};c.TU=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);if(!this.Ac(e,f,d))return!1;f=this.qc(a,b,!1);if(4==f)return!1;if(1==f)return!0;f=!1;for(var h=a,k=!1,m=0;m<b.I();m++){var n=b.Oa(m);if(!e.contains(n))return!1;n=g.jd.Zd(h,n,d);if(1==n)f=!0;else if(0==n)return!1;k||(!g.Fg.Ol(a,b.I()-1)||null!=a.Cb&&null!=a.Cb.Gb?h=a:(h=new g.Ea,a.copyTo(h),h.gj(1)),k=!0)}return f};c.cV=function(a,b,d){var e=
new g.l,f=new g.l;a.A(e);b.A(f);if(!c.ek(e,f,d))return!1;e=new g.Ea;e.bd(b,!1);return c.Rz(a,e,d,!0)};c.YU=function(a,b,d){var e=c.qc(a,b,!1);if(4==e)return!0;if(1==e||2==e)return!1;var f=new g.l;e=new g.l;a.A(f);b.A(e);if(c.Ac(e,f,d))return!1;f=new g.h;e.fn(f);b=g.jd.Zd(a,f,d);if(0!=b)return!1;e.SI(f);b=g.jd.Zd(a,f,d);if(0!=b)return!1;e.gn(f);b=g.jd.Zd(a,f,d);if(0!=b)return!1;e.VI(f);b=g.jd.Zd(a,f,d);if(0!=b)return!1;b=a.vb(0);f=new g.l;f.L(e);f.X(d,d);for(var h=0,k=a.I();h<k;h++){var m=b.read(2*
h),n=b.read(2*h+1);if(f.contains(m,n))return!1}return!c.KG(a,e,d)};c.iV=function(a,b,d,e){var f=c.qc(a,b,!1);if(4==f||1==f||2==f)return!1;f=new g.l;var h=new g.l;a.A(f);b.A(h);if(c.Ac(h,f,d))return!1;if(h.S()<=d&&h.da()<=d)return b=b.Kp(),c.zI(a,b,d);if(h.S()<=d||h.da()<=d)return f=new g.Ua,h=new g.Ta,b.If(0,h),f.nf(h),b.If(2,h),f.lineTo(h),c.BI(a,f,d,e);f=new g.Ea;f.bd(b,!1);return c.AI(a,f,d,e)};c.fV=function(a,b,d,e){var f=c.qc(a,b,!1);if(4==f||1==f||2==f)return!1;f=new g.l;var h=new g.l;a.A(f);
b.A(h);if(c.Ac(h,f,d)||h.S()<=d||h.da()<=d)return!1;f=new g.Ea;f.bd(b,!1);return c.xI(a,f,d,e)};c.nV=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);return c.Ac(f,e,d)};c.SU=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);if(!c.Ac(e,f,d))return!1;e=c.qc(a,b,!1);if(4==e||2==e)return!1;if(1==e)return!0;if(f.S()<=d&&f.da()<=d)return b=b.Kp(),c.sI(a,b,d);if(f.S()<=d||f.da()<=d)return f=new g.Ua,e=new g.Ta,b.If(0,e),f.nf(e),b.If(2,e),f.lineTo(e),c.uI(a,f,d,null);f=new g.Ea;f.bd(b,!1);return c.tI(a,
f,d,null)};c.VU=function(a,b,d,e){var f=new g.l,h=new g.l;a.A(f);b.A(h);if(c.Ac(h,f,d)||h.da()>d&&h.S()>d||h.da()<=d&&h.S()<=d)return!1;f=new g.Ua;h=new g.Ta;b.If(0,h);f.nf(h);b.If(2,h);f.lineTo(h);return c.vI(a,f,d,e)};c.yV=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);return c.ek(e,f,d)&&4!=c.qc(a,b,!1)?c.WH(a,b,d)?!0:c.Rz(a,b,d,!1):!1};c.wV=function(a,b,d){return 4==this.qc(a,b,!1)?!0:(new g.am(a,b,d,!0)).next()?!this.LG(a,b,d):!1};c.FI=function(a,b,d){if(4==c.qc(a,b,!1))return!1;var e=
new g.ce(0);if(0!=c.Sz(a,b,d,e))return!1;for(var f=new g.de,h=0;h<e.size;h+=2){var k=e.read(h),m=e.read(h+1);f.Cu(k,m)}a=a.mg();b=b.mg();a.Gd(b,0,b.I());return c.Nw(a,f,d)};c.DI=function(a,b,d){if(4==c.qc(a,b,!1))return!1;var e=new g.ce(0);if(0!=c.Sz(a,b,d,e))return!1;for(var f=new g.de,h=0;h<e.size;h+=2){var k=e.read(h),m=e.read(h+1);f.Cu(k,m)}a=a.mg();b=b.mg();a.Gd(b,0,b.I());return!c.Nw(a,f,d)};c.CV=function(a,b,d){return 4==c.qc(a,b,!1)?!1:c.NG(a,b,d)};c.CI=function(a,b,d){var e=new g.l,f=new g.l;
a.A(e);b.A(f);return c.Ac(e,f,d)&&4!=c.qc(a,b,!1)?c.Am(b,a,d,!1):!1};c.vV=function(a,b,d){if(4==c.qc(a,b,!1))return!0;b=b.D();return!c.Tz(a,b,d)};c.GV=function(a,b,d){if(4==c.qc(a,b,!1))return!1;b=b.D();return c.Uz(a,b,d)};c.qV=function(a,b,d){if(4==c.qc(a,b,!1))return!1;b=b.D();return c.JG(a,b,d)};c.uV=function(a,b,d){return 4==c.qc(a,b,!1)?!0:!c.MG(a,b,d,!1)};c.FV=function(a,b,d){if(4==this.qc(a,b,!1))return!1;var e=a.Ha(),f=new g.l,h=new g.l,k=new g.l;a.A(f);b.A(h);f.X(d,d);h.X(d,d);k.L(f);k.Fa(h);
f=null;var m=a.Cb;if(null!=m){var n=m.Gb;f=m.Ao;null==n&&(n=m=g.ta.kj(a,k))}else n=m=g.ta.kj(a,k);var p=n.getIterator(),q=null;null!=f&&(q=f.getIterator());var r=new g.h,t=new g.h,v=!1,M=d*d;f=new g.rn(b.I());for(m=0;m<b.I();m++)f.write(m,0);for(m=0;m<b.I();m++)if(b.D(m,r),k.contains(r))if(h.L(r.x,r.y,r.x,r.y),null==q||(q.Yi(h,d),-1!=q.next())){p.Yi(h,d);for(var W=p.next();-1!=W;W=p.next())if(e.Wb(n.ka(W)),W=e.ia(),W.ic(W.fe(r,!1),t),g.h.zc(r,t)<=M){f.write(m,1);v=!0;break}}if(!v)return!1;a=a.mg();
e=new g.de;h=new g.h;for(m=0;m<b.I();m++)0!=f.read(m)&&(b.D(m,h),e.Cu(h.x,h.y));return this.Nw(a,e,d)};c.sV=function(a,b,d){if(4==this.qc(a,b,!1))return!1;var e=a.Ha(),f=new g.l,h=new g.l,k=new g.l;a.A(f);b.A(h);f.X(d,d);h.X(d,d);k.L(f);k.Fa(h);f=null;var m=a.Cb;if(null!=m){var n=m.Gb;f=m.Ao;null==n&&(n=m=g.ta.kj(a,k))}else n=m=g.ta.kj(a,k);var p=n.getIterator(),q=null;null!=f&&(q=f.getIterator());var r=new g.h,t=new g.h,v=!1,M=!1,W=d*d;f=new g.rn(b.I());for(m=0;m<b.I();m++)f.write(m,0);for(m=0;m<
b.I();m++)if(b.D(m,r),k.contains(r))if(h.L(r.x,r.y,r.x,r.y),null!=q&&(q.Yi(h,d),-1==q.next()))M=!0;else{p.Yi(h,d);for(var U=!1,X=p.next();-1!=X;X=p.next())if(e.Wb(n.ka(X)),X=e.ia(),X.ic(X.fe(r,!1),t),g.h.zc(r,t)<=W){f.write(m,1);U=v=!0;break}U||(M=!0)}else M=!0;if(!v||!M)return!1;a=a.mg();e=new g.de;h=new g.h;for(m=0;m<b.I();m++)0!=f.read(m)&&(b.D(m,h),e.Cu(h.x,h.y));return!this.Nw(a,e,d)};c.pV=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);if(!c.Ac(e,f,d)||4==c.qc(a,b,!1)||!c.MG(a,b,d,!0))return!1;
a=a.mg();return!c.ZH(a,b,d)};c.xV=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);return f.da()>d&&f.S()>d?!1:c.ek(e,f,d)};c.tV=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);return c.Ac(f,e,d)?!1:!c.KG(a,f,d)};c.EV=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);if(f.da()<=d&&f.S()<=d)return f=b.Kp(),c.Uz(a,f,d);if(f.da()<=d||f.S()<=d)return f=new g.Ua,e=new g.Ta,b.If(0,e),f.nf(e),b.If(2,e),f.lineTo(e),c.FI(a,f,d);a=a.Ha();b=new g.l;e=new g.l;b.L(f);e.L(f);b.X(-d,-d);e.X(d,d);
f=!1;for(var h=new g.l,k=new g.l;a.ab();)for(;a.Ia();){a.ia().A(h);k.L(b);k.Fa(h);if(!k.B()&&(k.da()>d||k.S()>d))return!1;k.L(e);k.Fa(h);k.B()||(f=!0)}return f};c.BV=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);if(c.Ac(e,f,d)||c.Ac(f,e,d)||c.Ac(f,e,d)||f.da()>d&&f.S()>d||f.da()<=d&&f.S()<=d)return!1;e=new g.Ua;f=new g.Ta;b.If(0,f);e.nf(f);b.If(2,f);e.lineTo(f);return c.NG(a,e,d)};c.HV=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);if(!c.Ac(f,e,d)||f.da()<=d&&f.S()<=d)return!1;if(f.da()<=
d||f.S()<=d)return c.Ac(f,e,d);a=a.Ha();b=new g.l;b.L(f);b.X(-d,-d);f=!1;e=new g.l;for(var h=new g.l;a.ab();)for(;a.Ia();)a.ia().A(e),b.jm(e)?f=!0:(h.L(b),h.Fa(e),!h.B()&&(h.da()>d||h.S()>d)&&(f=!0));return f};c.oV=function(a,b,d){var e=new g.l,f=new g.l;b.A(f);a.A(e);if(!c.Ac(e,f,d)||f.da()>d&&f.S()>d)return!1;if(f.da()<=d&&f.S()<=d)return b=b.Kp(),c.JG(a,b,d);e=new g.Ua;f=new g.Ta;b.If(0,f);e.nf(f);b.If(2,f);e.lineTo(f);return c.Am(e,a,d,!1)};c.rV=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);
b.A(f);if(c.Ac(f,e,d)||f.da()<=d&&f.S()<=d)return!1;if(f.da()<=d||f.S()<=d)return e=new g.Ua,f=new g.Ta,b.If(0,f),e.nf(f),b.If(2,f),e.lineTo(f),c.DI(a,e,d);a=a.Ha();b=new g.l;e=new g.l;e.L(f);b.L(f);e.X(-d,-d);b.X(d,d);for(var h=f=!1,k=new g.l,m=new g.l;a.ab();)for(;a.Ia();)if(a.ia().A(k),h||b.contains(k)||(h=!0),f||(m.L(e),m.Fa(k),!m.B()&&(m.da()>d||m.S()>d)&&(f=!0)),f&&h)return!0;return!1};c.ZT=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);return c.ek(e,f,d)?c.$T(a,b,d)?!0:c.SA(a,b,d,!1,
!0,!1):!1};c.XT=function(a,b,d){return!c.ZH(a,b,d)};c.eU=function(a,b,d){return c.SA(a,b,d,!1,!1,!0)};c.XH=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);return c.Ac(e,f,d)?c.SA(b,a,d,!0,!1,!1):!1};c.Nw=function(a,b,d){d*=d;for(var e=new g.h,f=new g.h,h=0;h<b.I();h++){b.D(h,f);for(var k=!1,m=0;m<a.I();m++)if(a.D(m,e),g.h.zc(e,f)<=d){k=!0;break}if(!k)return!1}return!0};c.Ow=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);return c.ek(e,f,d)};c.YH=function(a,b,d){b=b.D();return c.kt(a,b,
d)};c.iU=function(a,b,d){return c.Ow(a,b,d)};c.UT=function(a,b,d){return!c.YH(a,b,d)};c.YT=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);return f.da()>d||f.S()>d?!1:c.ek(e,f,d)};c.WT=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);if(c.Ac(f,e,d))return!1;b=new g.l;b.L(f);b.X(d,d);d=new g.h;for(f=0;f<a.I();f++)if(a.D(f,d),b.contains(d))return!1;return!0};c.gU=function(a,b,d){var e=new g.l,f=new g.l,h=new g.l;b.A(e);if(e.da()<=d&&e.S()<=d)return!1;if(e.da()<=d||e.S()<=d){b=new g.h;var k=
!1;f.L(e);h.L(e);f.X(d,d);e.da()>d?h.X(0,-d):h.X(-d,0);for(var m=0;m<a.I();m++)if(a.D(m,b),f.contains(b)){if(e.da()>d){if(b.y>h.G&&b.y<h.H)return!1}else if(b.x>h.v&&b.x<h.C)return!1;k=!0}return k}f.L(e);h.L(e);f.X(d,d);h.X(-d,-d);b=new g.h;k=!1;for(m=0;m<a.I();m++)if(a.D(m,b),f.contains(b)){if(h.jm(b))return!1;k=!0}return k};c.hU=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);if(!c.Ac(f,e,d))return!1;if(f.da()<=d&&f.S()<=d)return c.ek(e,f,d);if(f.da()<=d||f.S()<=d){b=!1;e=new g.l;var h=new g.l;
e.L(f);h.L(f);f.da()>d?e.X(0,-d):e.X(-d,0);h.X(d,d);for(var k=new g.h,m=0;m<a.I();m++){a.D(m,k);if(!h.contains(k))return!1;f.da()>d?k.y>e.G&&k.y<e.H&&(b=!0):k.x>e.v&&k.x<e.C&&(b=!0)}return b}b=!1;e=new g.l;h=new g.l;e.L(f);h.L(f);e.X(-d,-d);h.X(d,d);k=new g.h;for(m=0;m<a.I();m++){a.D(m,k);if(!h.contains(k))return!1;e.jm(k)&&(b=!0)}return b};c.TT=function(a,b,d){var e=new g.l,f=new g.l;a.A(e);b.A(f);if(!c.Ac(e,f,d)||f.da()>d||f.S()>d)return!1;b=b.Kp();return!c.kt(a,b,d)};c.VT=function(a,b,d){var e=
new g.l,f=new g.l;a.A(e);b.A(f);if(c.Ac(f,e,d)||f.da()<=d&&f.S()<=d)return!1;if(f.da()<=d||f.S()<=d){b=new g.l;e=new g.l;b.L(f);f.da()>d?b.X(0,-d):b.X(-d,0);e.L(f);e.X(d,d);for(var h=new g.h,k=!1,m=!1,n=0;n<a.I();n++)if(a.D(n,h),k||(f.da()>d?h.y>b.G&&h.y<b.H&&(k=!0):h.x>b.v&&h.x<b.C&&(k=!0)),m||e.contains(h)||(m=!0),k&&m)return!0;return!1}b=new g.l;e=new g.l;b.L(f);b.X(-d,-d);e.L(f);e.X(d,d);h=new g.h;m=k=!1;for(n=0;n<a.I();n++)if(a.D(n,h),!k&&b.jm(h)&&(k=!0),m||e.contains(h)||(m=!0),k&&m)return!0;
return!1};c.oI=function(a,b,d){return g.h.zc(a,b)<=d*d?!0:!1};c.IU=function(a,b,d){return g.h.zc(a,b)>d*d?!0:!1};c.mI=function(a,b,d){return c.oI(a,b,d)};c.nI=function(a,b,d){var e=new g.l;e.L(a);return c.ek(e,b,d)};c.Sw=function(a,b,d){var e=new g.l;e.L(b);e.X(d,d);return!e.contains(a)};c.YA=function(a,b,d){if(b.da()<=d&&b.S()<=d)return!1;var e=new g.l,f=new g.l;e.L(b);e.X(d,d);if(!e.contains(a))return!1;if(b.da()<=d||b.S()<=d){f.L(b);b.da()>d?f.X(0,-d):f.X(-d,0);if(b.da()>d){if(a.y>f.G&&a.y<f.H)return!1}else if(a.x>
f.v&&a.x<f.C)return!1;return!0}f.L(b);f.X(-d,-d);return f.jm(a)?!1:!0};c.ZA=function(a,b,d){if(b.da()<=d&&b.S()<=d)return!0;if(b.da()<=d||b.S()<=d){var e=new g.l;e.L(b);b.da()>d?e.X(0,-d):e.X(-d,0);var f=!1;b.da()>d?a.y>e.G&&a.y<e.H&&(f=!0):a.x>e.v&&a.x<e.C&&(f=!0);return f}e=new g.l;e.L(b);e.X(-d,-d);return e.jm(a)};c.HU=function(a,b,d){return c.nI(a,b,d)};c.ek=function(a,b,d){return c.Ac(a,b,d)&&c.Ac(b,a,d)};c.dk=function(a,b,d){var e=new g.l;e.L(b);e.X(d,d);return!a.isIntersecting(e)};c.VP=function(a,
b,d){if(a.da()<=d&&a.S()<=d){var e=a.tf();return c.YA(e,b,d)}if(b.da()<=d&&b.S()<=d)return e=b.tf(),c.YA(e,a,d);a.da()>d&&a.S()>d&&(b.da()<=d||b.S()<=d)?e=b:(e=a,a=b);if(e.da()<=d||e.S()<=d){if(a.da()<=d||a.S()<=d){b=new g.zb;var f=new g.zb,h=[0,0],k=[0,0],m=new g.h;e.fn(m);b.Ec(m);e.gn(m);b.Rc(m);a.fn(m);f.Ec(m);a.gn(m);f.Rc(m);b.Fa(f,null,h,k,d);return 1!=b.Fa(f,null,null,null,d)?!1:0==h[0]||1==h[1]||0==k[0]||1==k[1]}b=new g.l;f=new g.l;b.L(a);b.X(-d,-d);f.L(b);f.Fa(e);return!f.B()&&(f.da()>d||
f.S()>d)?!1:!0}a.X(d,d);f=new g.l;f.L(e);f.Fa(a);return f.B()||!f.B()&&f.da()>d&&f.S()>d?!1:!0};c.UP=function(a,b,d){if(c.Ac(a,b,d)||c.Ac(b,a,d)||a.da()<=d&&a.S()<=d||b.da()<=d&&b.S()<=d)return!1;if(a.da()<=d||a.S()<=d){if(b.da()>d&&b.S()>d)return!1;var e=new g.zb,f=new g.zb,h=[0,0],k=[0,0],m=new g.h;a.fn(m);e.Ec(m);a.gn(m);e.Rc(m);b.fn(m);f.Ec(m);b.gn(m);f.Rc(m);e.Fa(f,null,h,k,d);return 2!=e.Fa(f,null,null,null,d)?!1:(0<h[0]||1>h[1])&&(0<k[0]||1>k[1])}if(b.da()<=d||b.S()<=d)return!1;e=new g.l;e.L(a);
e.Fa(b);return e.B()||e.da()<=d||e.S()<=d?!1:!0};c.bF=function(a,b,d){if(!c.Ac(a,b,d))return!1;if(a.da()<=d&&a.S()<=d)return a=a.tf(),c.ZA(a,b,d);if(b.da()<=d&&b.S()<=d)return b=b.tf(),c.ZA(b,a,d);if(a.da()<=d||a.S()<=d)return c.Ac(a,b,d);if(b.da()<=d||b.S()<=d){var e=new g.l;e.L(a);e.X(-d,-d);if(e.jm(b))return!0;a=new g.l;a.L(e);a.Fa(b);return a.B()||a.da()<=d&&a.S()<=d?!1:!0}return c.Ac(a,b,d)};c.TP=function(a,b,d){if(c.Ac(a,b,d)||c.Ac(b,a,d)||a.da()<=d&&a.S()<=d||b.da()<=d&&b.S()<=d||b.da()>d&&
b.S()>d&&a.da()>d&&a.S()>d)return!1;if(a.da()>d&&a.S()>d)var e=b;else e=a,a=b;if(a.da()>d&&a.S()>d){b=new g.l;var f=new g.l;f.L(a);f.X(-d,-d);b.L(f);b.Fa(e);return b.B()||b.da()<=d&&b.S()<=d?!1:!0}b=new g.zb;f=new g.zb;var h=[0,0],k=[0,0],m=new g.h;e.fn(m);b.Ec(m);e.gn(m);b.Rc(m);a.fn(m);f.Ec(m);a.gn(m);f.Rc(m);b.Fa(f,null,h,k,d);return 1!=b.Fa(f,null,null,null,d)?!1:0<h[0]&&1>h[1]&&0<k[0]&&1>k[1]};c.wI=function(a,b,d){var e=new g.l,f=new g.l,h=new g.am(a,b,d,!0);if(!h.next())return!0;if(this.LG(a,
b,d))return!1;var k=a,m=null;1736==b.K()&&(m=b);var n=!1,p=!1;do{var q=h.pl(),r=h.jl();r=b.Oa(b.Ca(r));e.L(h.oz());e.X(d,d);if(e.contains(r)&&(r=g.jd.Zd(k,r,0),0!=r)||1736==b.K()&&(q=a.Oa(a.Ca(q)),f.L(h.Wy()),f.X(d,d),f.contains(q)&&(r=g.jd.Zd(m,q,0),0!=r)))return!1;n||(!g.Fg.Ol(a,b.ea()-1)||null!=a.Cb&&null!=a.Cb.Gb?k=a:(k=new g.Ea,a.copyTo(k),k.gj(1)),n=!0);1736!=b.K()||p||(p=b,!g.Fg.Ol(p,a.ea()-1)||null!=b.Cb&&null!=b.Cb.Gb?m=b:(m=new g.Ea,p.copyTo(m),m.gj(1)),p=!0)}while(h.next());return!0};c.Ac=
function(a,b,d){var e=new g.l;e.L(a);e.X(d,d);return e.contains(b)};c.ms=function(a,b,d){var e=new g.l;e.L(b);e.X(d,d);b=new g.h;a.fn(b);if(!e.contains(b))return!0;a.SI(b);if(!e.contains(b))return!0;a.VI(b);if(!e.contains(b))return!0;a.gn(b);return e.contains(b)?!1:!0};c.WH=function(a,b,d){if(a.ea()!=b.ea()||a.I()!=b.I())return!1;var e=new g.h,f=new g.h,h=!0;d*=d;for(var k=0;k<a.ea();k++){if(a.Wc(k)!=b.Wc(k)){h=!1;break}for(var m=a.Ca(k);m<b.Wc(k);m++)if(a.D(m,e),b.D(m,f),g.h.zc(e,f)>d){h=!1;break}if(!h)break}return h?
!0:!1};c.$T=function(a,b,d){if(a.I()!=b.I())return!1;var e=new g.h,f=new g.h,h=!0;d*=d;for(var k=0;k<a.I();k++)if(a.D(k,e),b.D(k,f),g.h.zc(e,f)>d){h=!1;break}return h?!0:!1};c.SA=function(a,b,d,e,f,h){var k=!1;if(a.I()>b.I()){e&&(e=!1,k=!0);var m=b}else m=a,a=b;b=null;if(f||h||k){b=new g.rn(a.I());for(var n=0;n<a.I();n++)b.write(n,0)}n=new g.l;var p=new g.l,q=new g.l;m.A(n);a.A(p);n.X(d,d);p.X(d,d);q.L(n);q.Fa(p);p=new g.h;for(var r=new g.h,t=!0,v=g.ta.gE(a,q),M=v.getIterator(),W=d*d,U=0;U<m.I();U++)if(m.D(U,
p),q.contains(p)){var X=!1;n.L(p.x,p.y,p.x,p.y);M.Yi(n,d);for(var ia=M.next();-1!=ia&&!(ia=v.ka(ia),a.D(ia,r),g.h.zc(p,r)<=W&&((f||h||k)&&b.write(ia,1),X=!0,e));ia=M.next());if(!X&&(t=!1,f||e))return!1}else{if(f||e)return!1;t=!1}if(h&&t)return!1;if(e)return!0;for(n=0;n<a.I();n++)if(1==b.read(n)){if(h)return!0}else if(f||k)return!1;return h?!1:!0};c.ZH=function(a,b,d){if(a.I()>b.I())var e=b;else e=a,a=b;b=new g.l;var f=new g.l,h=new g.l;e.A(b);a.A(f);b.X(d,d);f.X(d,d);h.L(b);h.Fa(f);f=new g.h;for(var k=
new g.h,m=d*d,n=g.ta.gE(a,h),p=n.getIterator(),q=0;q<e.I();q++)if(e.D(q,f),h.contains(f)){b.L(f.x,f.y,f.x,f.y);p.Yi(b,d);for(var r=p.next();-1!=r;r=p.next())if(a.D(n.ka(r),k),g.h.zc(f,k)<=m)return!0}return!1};c.Rz=function(a,b,d,e){return c.Am(a,b,d,e)&&c.Am(b,a,d,e)};c.Am=function(a,b,d,e){function f(Ia,Ga){return q.IE(Ia,Ga)}var h=!0,k=[0,0],m=[0,0],n=0,p=new g.ja(0),q=new c,r,t=new g.l,v=new g.l,M=new g.l;a.A(t);b.A(v);t.X(d,d);v.X(d,d);M.L(t);M.Fa(v);a=a.Ha();v=b.Ha();var W=null,U=W=null,X=b.Cb;
null!=X?(W=X.Gb,U=X.Ao,null==W&&(W=g.ta.kj(b,M))):W=g.ta.kj(b,M);b=W.getIterator();X=null;for(null!=U&&(X=U.getIterator());a.ab();)for(;a.Ia();){var ia=!1,ja=a.ia();ja.A(t);if(!t.isIntersecting(M))return!1;if(null!=X&&(X.Yi(t,d),-1==X.next()))return h=!1;U=ja.Rb();b.Vo(ja,d);for(r=b.next();-1!=r;r=b.next()){v.Wb(W.ka(r));r=v.ia();var ka=ja.Fa(r,null,k,m,d);if(2==ka&&(!e||m[0]<=m[1])){ka=k[0];var sa=k[1],ta=m[0],za=m[1];if(ka*U<=d&&(1-sa)*U<=d){ia=!0;n=0;p.resize(0);q.sh.length=0;var ya=a.xb();for(ta=
!0;ta;){if(a.Ia()){ja=a.ia();U=ja.Rb();ka=ja.Fa(r,null,k,m,d);if(2==ka&&(!e||m[0]<=m[1])&&(ka=k[0],sa=k[1],ka*U<=d&&(1-sa)*U<=d)){ya=a.xb();continue}if(v.Ia()&&(r=v.ia(),ka=ja.Fa(r,null,k,m,d),2==ka&&(!e||m[0]<=m[1])&&(ka=k[0],sa=k[1],ka*U<=d&&(1-sa)*U<=d))){ya=a.xb();continue}}ta=!1}ya!=a.xb()&&(a.Wb(ya),a.ia());break}else ya=a.xb(),r=u.construct(ya,a.gb,ka,sa,v.xb(),v.gb,ta,za),q.sh.push(r),p.add(p.size)}}if(!ia){if(n==q.sh.length)return!1;1<p.size-n&&p.Wd(n,p.size,f);for(ia=0;n<q.sh.length;n++)if(r=
q.sh[p.get(n)],!(r.Lj<ia&&r.Ti<ia)){if(U*(r.Lj-ia)>d)return!1;ia=r.Ti;if(U*(1-ia)<=d||1==ia)break}if(U*(1-ia)>d)return!1;n=0;p.resize(0);q.sh.length=0}}return h};c.NG=function(a,b,d){if(1>c.Sz(a,b,d,null))return!1;var e=new g.l,f=new g.l;a.A(e);b.A(f);var h=c.ms(e,f,d);e=c.ms(f,e,d);return h&&e?!0:h&&!e?!c.Am(b,a,d,!1):e&&!h?!c.Am(a,b,d,!1):!c.Am(a,b,d,!1)&&!c.Am(b,a,d,!1)};c.Sz=function(a,b,d,e){function f(Ya,ab){return t.IE(Ya,ab)}if(a.sz()>b.sz())var h=b,k=a;else h=a,k=b;a=h.Ha();b=k.Ha();var m=
[0,0],n=[0,0],p=-1,q=0,r=new g.ja(0),t=new c,v=new g.l,M=new g.l,W=new g.l;h.A(v);k.A(M);v.X(d,d);M.X(d,d);W.L(v);W.Fa(M);h=null;null!=e&&(h=new g.h);var U=M=M=null,X=k.Cb;null!=X?(M=X.Gb,U=X.Ao,null==M&&(M=g.ta.kj(k,W))):M=g.ta.kj(k,W);k=M.getIterator();X=null;for(null!=U&&(X=U.getIterator());a.ab();)for(U=0;a.Ia();){var ia=a.ia();ia.A(v);if(v.isIntersecting(W)&&(null==X||(X.Yi(v,d),-1!=X.next()))){var ja=ia.Rb();k.Vo(ia,d);for(var ka=k.next();-1!=ka;ka=k.next()){var sa=M.ka(ka);b.Wb(sa);var ta=
b.ia(),za=ta.Rb(),ya=ia.Fa(ta,null,m,n,d);if(0<ya){ka=m[0];p=n[0];var Ia=2==ya?m[1]:NaN,Ga=2==ya?n[1]:NaN;if(2==ya){if(ja*(Ia-ka)>d)return p=1;var Oa=ja*(Ia-ka);if(b.Ia()){ta=b.ia();ya=ia.Fa(ta,null,m,null,d);if(2==ya){ya=m[0];var Pa=m[1];ya=ja*(Pa-ya);if(Oa+ya>d)return p=1}b.Wb(sa);b.ia()}if(!b.xm()){b.mi();ta=b.mi();ya=ia.Fa(ta,null,m,null,d);if(2==ya&&(ya=m[0],Pa=m[1],ya=ja*(Pa-ya),Oa+ya>d))return p=1;b.Wb(sa);b.ia()}if(a.Ia()){sa=a.xb();ia=a.ia();ya=ia.Fa(ta,null,m,null,d);if(2==ya&&(ya=m[0],
Pa=m[1],ya=ja*(Pa-ya),Oa+ya>d))return p=1;a.Wb(sa);a.ia()}if(!a.xm()){sa=a.xb();a.mi();ia=a.mi();ya=ia.Fa(ta,null,m,null,d);if(2==ya&&(ya=m[0],Pa=m[1],ya=za*(Pa-ya),Oa+ya>d))return p=1;a.Wb(sa);a.ia()}ta=u.construct(a.xb(),a.gb,ka,Ia,b.xb(),b.gb,p,Ga);t.sh.push(ta);r.add(r.size)}p=0;null!=e&&(ia.ic(ka,h),e.add(h.x),e.add(h.y))}}if(q<t.sh.length){r.Wd(q,r.size,f);ia=0;for(ka=t.sh[r.get(q)].Om;q<t.sh.length;q++)if(ta=t.sh[r.get(q)],!(ta.Lj<ia&&ta.Ti<ia))if(ja*(ta.Lj-ia)>d)U=ja*(ta.Ti-ta.Lj),ia=ta.Ti,
ka=ta.Om;else{ta.Om!=ka?(U=ja*(ta.Ti-ta.Lj),ka=ta.Om):U+=ja*(ta.Ti-ta.Lj);if(U>d)return p=1;ia=ta.Ti;if(1==ia)break}ja*(1-ia)>d&&(U=0);q=0;r.resize(0);t.sh.length=0}}}return p};c.LG=function(a,b,d){var e=a.Ha(),f=b.Ha();for(a=new g.am(a,b,d,!1);a.next();){b=a.pl();var h=a.jl();e.Wb(b);f.Wb(h);b=e.ia();if(0<f.ia().Fa(b,null,null,null,d))return!0}return!1};c.MG=function(a,b,d,e){var f=a.Ha(),h=new g.l,k=new g.l,m=new g.l;a.A(h);b.A(k);h.X(d,d);h.contains(k);k.X(d,d);m.L(h);m.Fa(k);h=a.Cb;null!=h?(h=
h.Gb,null==h&&(h=g.ta.kj(a,m))):h=g.ta.kj(a,m);a=h.getIterator();for(var n=new g.h,p=new g.h,q=d*d,r=0;r<b.I();r++)if(b.D(r,n),m.contains(n)){k.L(n.x,n.y,n.x,n.y);a.Yi(k,d);for(var t=!1,v=a.next();-1!=v;v=a.next())if(f.Wb(h.ka(v)),v=f.ia(),v.ic(v.fe(n,!1),p),g.h.zc(p,n)<=q){t=!0;break}if(e){if(!t)return!1}else if(t)return!0}return e?!0:!1};c.Tz=function(a,b,d){var e=new g.h,f=d*d,h=a.Ha();a=a.Cb;if(null!=a&&(a=a.Gb,null!=a)){var k=new g.l;k.L(b);d=a.EF(k,d);for(k=d.next();-1!=k;k=d.next())if(h.Wb(a.ka(k)),
h.Ia()){k=h.ia();var m=k.fe(b,!1);k.ic(m,e);if(g.h.zc(b,e)<=f)return!0}return!1}for(a=new g.l;h.ab();)for(;h.Ia();)if(k=h.ia(),k.A(a),a.X(d,d),a.contains(b)&&(m=k.fe(b,!1),k.ic(m,e),g.h.zc(b,e)<=f))return!0;return!1};c.JG=function(a,b,d){return c.Tz(a,b,d)&&!c.Uz(a,b,d)};c.Uz=function(a,b,d){a=a.mg();return!c.kt(a,b,d)};c.KG=function(a,b,d){if(a.vm()){var e=new g.zb(b.v,b.G,b.v,b.H),f=new g.zb(b.v,b.H,b.C,b.H),h=new g.zb(b.C,b.H,b.C,b.G);b=new g.zb(b.C,b.G,b.v,b.G);for(a=a.Ha();a.ab();)for(;a.Ia();){var k=
a.ia();if(k.isIntersecting(e,d)||k.isIntersecting(f,d)||k.isIntersecting(h,d)||k.isIntersecting(b,d))return!0}}else{e=new g.l;e.L(b);e.X(d,d);d=a.vb(0);f=new g.h;h=new g.h;b=new g.h;k=new g.h;for(var m=0,n=a.ea();m<n;m++)for(var p=!0,q=a.Ca(m),r=a.Wc(m);q<r;q++)if(p)d.uc(2*q,h),p=!1;else{d.uc(2*q,f);b.N(h);k.N(f);if(0!=e.ty(b,k))return!0;h.N(f)}}return!1};c.qc=function(a,b,d){var e=a.K(),f=b.K();if(g.ba.yj(e)){var h=a.Cb;if(null!=h&&(h=h.Fk,null!=h))if(33==f){var k=b.D();k=h.To(k.x,k.y);if(1==k)return 1;
if(0==k)return 4}else{k=new g.l;b.A(k);k=h.So(k);if(1==k)return 1;if(0==k)return 4;if(d&&g.ba.yj(f)&&c.zE(b,h))return 1073741824}}if(g.ba.yj(f)&&(h=b.Cb,null!=h&&(h=h.Fk,null!=h)))if(33==e){a=a.D();k=h.To(a.x,a.y);if(1==k)return 2;if(0==k)return 4}else{b=new g.l;a.A(b);k=h.So(b);if(1==k)return 2;if(0==k)return 4;if(d&&g.ba.yj(e)&&c.zE(a,h))return 1073741824}return 0};c.zE=function(a,b){for(var d=a.I(),e=new g.h,f=0;f<d;f++)if(a.D(f,e),1==b.To(e.x,e.y))return!0;return!1};c.AI=function(a,b,d,e){for(var f=
1<=a.qm(0)&&1<=b.qm(0),h=a.Ha(),k=b.Ha(),m=[0,0],n=[0,0],p=new g.am(a,b,d,!1),q=!1;p.next();){var r=p.pl(),t=p.jl();h.Wb(r);k.Wb(t);r=h.ia();t=k.ia().Fa(r,null,n,m,d);if(2==t){q=m[0];t=m[1];r=r.Rb();if(f&&(t-q)*r>d)return!1;q=!0}else if(0!=t){q=m[0];r=n[0];if(0<q&&1>q&&0<r&&1>r)return!1;q=!0}}if(!q)return!1;h=new g.l;k=new g.l;f=new g.l;a.A(h);b.A(k);h.X(1E3*d,1E3*d);k.X(1E3*d,1E3*d);f.L(h);f.Fa(k);return 10<a.I()&&(a=g.Vd.clip(a,f,d,0),a.B())||10<b.I()&&(b=g.Vd.clip(b,f,d,0),b.B())?!1:g.cm.rt(a,
b,d,"F********",e)};c.xI=function(a,b,d,e){var f=1<=a.qm(0)&&1<=b.qm(0),h=new g.l,k=new g.l,m=new g.l;a.A(h);b.A(k);for(var n=!1,p=c.ms(h,k,d),q=c.ms(k,h,d),r=a.Ha(),t=b.Ha(),v=[0,0],M=[0,0],W=new g.am(a,b,d,!1);W.next();){var U=W.pl(),X=W.jl();r.Wb(U);t.Wb(X);X=r.ia();U=t.ia().Fa(X,null,M,v,d);if(2==U){U=v[0];var ia=v[1];X=X.Rb();if(f&&(ia-U)*X>d&&(n=!0,p&&q))return!0}else if(0!=U&&(U=v[0],X=M[0],0<U&&1>U&&0<X&&1>X))return!0}f=new g.l;r=new g.l;f.L(h);f.X(1E3*d,1E3*d);r.L(k);r.X(1E3*d,1E3*d);m.L(f);
m.Fa(r);h="";h=n?h+"**":h+"T*";if(p){if(10<b.I()&&(b=g.Vd.clip(b,m,d,0),b.B()))return!1;h+="****"}else h+="T***";if(q){if(10<a.I()&&(a=g.Vd.clip(a,m,d,0),a.B()))return!1;h+="***"}else h+="T**";return g.cm.rt(a,b,d,h.toString(),e)};c.tI=function(a,b,d,e){var f=[!1],h=c.rI(a,b,d,f);if(f[0])return h;f=new g.l;b.A(f);f.X(1E3*d,1E3*d);return 10<a.I()&&(a=g.Vd.clip(a,f,d,0),a.B())?!1:g.cm.Tw(a,b,d,e)};c.rI=function(a,b,d,e){e[0]=!1;for(var f=a.Ha(),h=b.Ha(),k=[0,0],m=[0,0],n=new g.am(a,b,d,!1),p=!1;n.next();){var q=
n.pl(),r=n.jl();f.Wb(q,-1);h.Wb(r,-1);q=f.ia();q=h.ia().Fa(q,null,m,k,d);if(0!=q&&(p=!0,1==q&&(q=k[0],r=m[0],0<q&&1>q&&0<r&&1>r)))return e[0]=!0,!1}if(!p){e[0]=!0;k=new g.l;a.A(k);k.X(d,d);n=a;p=!1;m=new g.l;e=0;for(f=b.ea();e<f;e++)if(0<b.Ka(e)){b.Sj(e,m);if(k.isIntersecting(m)){if(h=b.Oa(b.Ca(e)),h=g.Fg.ym(n,h,0),0==h)return!1}else return!1;p||(!g.Fg.Ol(a,b.ea()-1)||null!=a.Cb&&null!=a.Cb.Gb?n=a:(h=new g.Ea,a.copyTo(h),h.gj(1),n=h),p=!0)}if(1==a.ea()||1607==b.K())return!0;k=new g.l;b.A(k);k.X(d,
d);m=b;n=!1;d=new g.l;e=0;for(f=a.ea();e<f;e++)if(0<a.Ka(e)){a.Sj(e,d);if(k.isIntersecting(d)&&(h=a.Oa(a.Ca(e)),h=g.Fg.ym(m,h,0),1==h))return!1;n||(!g.Fg.Ol(b,a.ea()-1)||null!=b.Cb&&null!=b.Cb.Gb?m=b:(h=new g.Ea,b.copyTo(h),h.gj(1),m=h),n=!0)}return!0}return!1};c.BI=function(a,b,d,e){for(var f=a.Ha(),h=b.Ha(),k=[0,0],m=[0,0],n=new g.am(a,b,d,!1),p=!1;n.next();){var q=n.pl(),r=n.jl();f.Wb(q);h.Wb(r);q=f.ia();q=h.ia().Fa(q,null,m,k,d);if(2==q)p=!0;else if(0!=q){p=k[0];q=m[0];if(0<p&&1>p&&0<q&&1>q)return!1;
p=!0}}if(!p)return!1;h=new g.l;k=new g.l;f=new g.l;a.A(h);b.A(k);h.X(1E3*d,1E3*d);k.X(1E3*d,1E3*d);f.L(h);f.Fa(k);return 10<a.I()&&(a=g.Vd.clip(a,f,d,0),a.B())||10<b.I()&&(b=g.Vd.clip(b,f,d,0),b.B())?!1:g.cm.bn(a,b,d,"F********",e)};c.vI=function(a,b,d,e){for(var f=a.Ha(),h=b.Ha(),k=[0,0],m=[0,0],n=new g.am(a,b,d,!1),p=!1;n.next();){var q=n.pl(),r=n.jl();f.Wb(q);h.Wb(r);q=f.ia();q=h.ia().Fa(q,null,m,k,d);if(2==q)p=!0;else if(0!=q){p=k[0];q=m[0];if(0<p&&1>p&&0<q&&1>q)return!0;p=!0}}if(!p)return!1;
h=new g.l;k=new g.l;m=new g.l;n=new g.l;f=new g.l;a.A(h);b.A(k);return c.ms(k,h,d)?(m.L(h),m.X(1E3*d,1E3*d),n.L(k),n.X(1E3*d,1E3*d),f.L(m),f.Fa(n),10<a.I()&&(a=g.Vd.clip(a,f,d,0),a.B())||10<b.I()&&(b=g.Vd.clip(b,f,d,0),b.B())?!1:d=g.cm.bn(a,b,d,"T********",e)):d=g.cm.bn(a,b,d,"T*****T**",e)};c.uI=function(a,b,d,e){var f=[!1],h=c.rI(a,b,d,f);if(f[0])return h;f=new g.l;b.A(f);f.X(1E3*d,1E3*d);return 10<a.I()&&(a=g.Vd.clip(a,f,d,0),a.B())?!1:g.cm.$A(a,b,d,e)};c.sI=function(a,b,d){return 1==g.jd.Zd(a,
b,d)?!0:!1};c.zI=function(a,b,d){return 2==g.jd.Zd(a,b,d)?!0:!1};c.kt=function(a,b,d){var e=new g.h;d*=d;for(var f=0;f<a.I();f++)if(a.D(f,e),g.h.zc(e,b)<=d)return!1;return!0};c.prototype.IE=function(a,b){a=this.sh[a];b=this.sh[b];return a.Om<b.Om||a.Om==b.Om&&(a.qw<b.qw||a.qw==b.qw&&(a.Lj<b.Lj||a.Lj==b.Lj&&(a.Ti<b.Ti||a.Ti==b.Ti&&a.tH<b.tH)))?-1:1};return c}();g.vd=l})(L||(L={}));(function(g){var u;(function(c){c[c.InteriorInterior=0]="InteriorInterior";c[c.InteriorBoundary=1]="InteriorBoundary";
c[c.InteriorExterior=2]="InteriorExterior";c[c.BoundaryInterior=3]="BoundaryInterior";c[c.BoundaryBoundary=4]="BoundaryBoundary";c[c.BoundaryExterior=5]="BoundaryExterior";c[c.ExteriorInterior=6]="ExteriorInterior";c[c.ExteriorBoundary=7]="ExteriorBoundary";c[c.ExteriorExterior=8]="ExteriorExterior"})(u||(u={}));var l;(function(c){c[c.AreaAreaPredicates=0]="AreaAreaPredicates";c[c.AreaLinePredicates=1]="AreaLinePredicates";c[c.LineLinePredicates=2]="LineLinePredicates";c[c.AreaPointPredicates=3]=
"AreaPointPredicates";c[c.LinePointPredicates=4]="LinePointPredicates";c[c.PointPointPredicates=5]="PointPointPredicates"})(l||(l={}));u=function(){function c(){this.le=0;this.j=new g.ju;this.J=[0,0,0,0,0,0,0,0,0];this.$a=[0,0,0,0,0,0,0,0,0];this.fa=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Um=this.ww=-1}c.sB=function(a,b,d,e,f){if(9!=e.length)throw g.i.ga("relation string length has to be 9 characters");for(var h=0;9>h;h++){var k=e.charAt(h);if("*"!=k&&"T"!=k&&"F"!=k&&"0"!=k&&"1"!=k&&"2"!=k)throw g.i.ga("relation string");
}h=this.DR(e,a.Eb(),b.Eb());if(0!=h)return g.vd.tB(a,b,d,h,f);h=new g.l;a.A(h);k=new g.l;b.A(k);var m=new g.l;m.L(h);m.$b(k);d=g.ta.Xd(d,m,!1);a=this.OE(a,d);b=this.OE(b,d);if(a.B()||b.B())return this.kW(a,b,e);h=b.K();k=!1;switch(a.K()){case 1736:switch(h){case 1736:k=this.rt(a,b,d,e,f);break;case 1607:k=this.bn(a,b,d,e,f);break;case 33:k=this.qt(a,b,d,e);break;case 550:k=this.pt(a,b,d,e,f)}break;case 1607:switch(h){case 1736:k=this.bn(b,a,d,this.aq(e),f);break;case 1607:k=this.aB(a,b,d,e,f);break;
case 33:k=this.tt(a,b,d,e,f);break;case 550:k=this.st(a,b,d,e,f)}break;case 33:switch(h){case 1736:k=this.qt(b,a,d,this.aq(e));break;case 1607:k=this.tt(b,a,d,this.aq(e),f);break;case 33:k=this.QU(a,b,d,e);break;case 550:k=this.lt(b,a,d,this.aq(e))}break;case 550:switch(h){case 1736:k=this.pt(b,a,d,this.aq(e),f);break;case 1607:k=this.st(b,a,d,this.aq(e),f);break;case 550:k=this.TA(a,b,d,e,f);break;case 33:k=this.lt(a,b,d,e)}break;default:k=!1}return k};c.rt=function(a,b,d,e,f){var h=new c;h.Zi();
h.cj(e);h.pJ();var k=new g.l,m=new g.l;a.A(k);b.A(m);e=!1;g.vd.dk(k,m,d)&&(h.Du(a,b),e=!0);e||(k=g.vd.qc(a,b,!1),4==k?(h.Du(a,b),e=!0):1==k?(h.gy(b),e=!0):2==k&&(h.RD(a),e=!0));e||(e=new g.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,f),h.Dp(a,b),h.j.Vg());return c.fg(h.J,h.Yc)};c.Tw=function(a,b,d,e){var f=new c;f.Zi();f.cj("T*****F**");f.pJ();var h=new g.l,k=new g.l;a.A(h);b.A(k);var m=!1;g.vd.dk(h,k,d)&&(f.Du(a,b),m=!0);m||(h=g.vd.qc(a,b,!1),4==h?(f.Du(a,b),m=!0):1==h?(f.gy(b),m=!0):2==h&&(f.RD(a),m=!0));if(m)return h=
this.fg(f.J,f.Yc);m=new g.hd;a=m.Ib(a);h=m.Ib(b);g.Tk.W(m,d,e,!1);d=m.Ke(h).mg();m.Ip(0,!0,!0);g.tn.W(m,a,-1,!1,e);if(0==m.I(a))return!1;g.tn.W(m,h,-1,!1,e);f.gr(m,e);b=0==m.I(h);if(!b&&(f.Dp(a,h),f.j.Vg(),h=this.fg(f.J,f.Yc),!h))return h;a=m.Ke(a);m=new g.hd;a=m.Ib(a);h=m.Ib(d);f.gr(m,e);f.le=0;f.Zi();f.cj(b?"T*****F**":"******F**");f.CB();f.Dp(a,h);f.j.Vg();return h=this.fg(f.J,f.Yc)};c.bn=function(a,b,d,e,f){var h=new c;h.Zi();h.cj(e);h.CB();var k=new g.l,m=new g.l;a.A(k);b.A(m);e=!1;g.vd.dk(k,
m,d)&&(h.Eu(a,b),e=!0);e||(k=g.vd.qc(a,b,!1),4==k?(h.Eu(a,b),e=!0):1==k&&(h.SD(b),e=!0));e||(e=new g.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,f),h.lh=h.j.Fp(),c.Kw(b,h.j,h.lh),h.Dp(a,b),h.j.Gp(h.lh),h.j.Vg());return c.fg(h.J,h.Yc)};c.$A=function(a,b,d,e){var f=new c;f.Zi();f.cj("T*****F**");f.CB();var h=new g.l,k=new g.l;a.A(h);b.A(k);var m=!1;g.vd.dk(h,k,d)&&(f.Eu(a,b),m=!0);m||(h=g.vd.qc(a,b,!1),4==h?(f.Eu(a,b),m=!0):1==h&&(f.SD(b),m=!0));if(m)return d=this.fg(f.J,f.Yc);m=new g.hd;a=m.Ib(a);b=m.Ib(b);f.Xo(m,
d,e);if(0==m.I(a))return!1;f.Dp(a,b);f.j.Vg();return d=this.fg(f.J,f.Yc)};c.pt=function(a,b,d,e,f){var h=new c;h.Zi();h.cj(e);h.qJ();var k=new g.l,m=new g.l;a.A(k);b.A(m);e=!1;g.vd.dk(k,m,d)&&(h.Fu(a),e=!0);e||(k=g.vd.qc(a,b,!1),4==k?(h.Fu(a),e=!0):1==k&&(h.rN(),e=!0));e||(e=new g.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,f),h.Ay(a,b),h.j.Vg());return c.fg(h.J,h.Yc)};c.aB=function(a,b,d,e,f){var h=new c;h.Zi();h.cj(e);h.SW();e=new g.l;var k=new g.l;a.A(e);b.A(k);var m=!1;g.vd.dk(e,k,d)&&(h.HG(a,b),m=!0);m||
4!=g.vd.qc(a,b,!1)||(h.HG(a,b),m=!0);m||(e=new g.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,f),h.Zh=h.j.Fp(),h.lh=h.j.Fp(),c.Kw(a,h.j,h.Zh),c.Kw(b,h.j,h.lh),h.Dp(a,b),h.j.Gp(h.Zh),h.j.Gp(h.lh),h.j.Vg());return c.fg(h.J,h.Yc)};c.st=function(a,b,d,e,f){var h=new c;h.Zi();h.cj(e);h.EJ();e=new g.l;var k=new g.l;a.A(e);b.A(k);var m=!1;g.vd.dk(e,k,d)&&(h.Qz(a),m=!0);m||4!=g.vd.qc(a,b,!1)||(h.Qz(a),m=!0);m||(e=new g.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,f),h.Zh=h.j.Fp(),c.Kw(a,h.j,h.Zh),h.Ay(a,b),h.j.Gp(h.Zh),h.j.Vg());
return c.fg(h.J,h.Yc)};c.TA=function(a,b,d,e,f){var h=new c;h.Zi();h.cj(e);h.JJ();e=new g.l;var k=new g.l;a.A(e);b.A(k);var m=!1;g.vd.dk(e,k,d)&&(h.qI(),m=!0);m||(e=new g.hd,a=e.Ib(a),b=e.Ib(b),h.Xo(e,d,f),h.Ay(a,b),h.j.Vg());return c.fg(h.J,h.Yc)};c.qt=function(a,b,d,e){var f=new c;f.Zi();f.cj(e);f.qJ();var h=new g.l;a.A(h);b=b.D();var k=!1;g.vd.Sw(b,h,d)&&(f.Fu(a),k=!0);k||(d=g.jd.Zd(a,b,d),1==d?(f.J[0]=0,f.J[2]=2,f.J[3]=-1,f.J[5]=1,f.J[6]=-1):2==d?(f.J[6]=-1,0!=a.He()?(f.J[0]=-1,f.J[3]=0,f.J[2]=
2,f.J[5]=1):(f.J[0]=0,f.J[3]=-1,f.J[5]=-1,d=new g.l,a.A(d),f.J[2]=0==d.da()&&0==d.S()?-1:1)):f.Fu(a));return this.fg(f.J,e)};c.tt=function(a,b,d,e,f){var h=new c;h.Zi();h.cj(e);h.EJ();var k=new g.l;a.A(k);e=b.D();var m=!1;g.vd.Sw(e,k,d)&&(h.Qz(a),m=!0);if(!m){k=null;var n=m=!1;if(h.fa[0]||h.fa[6])g.vd.Tz(a,e,d)?(h.fa[0]&&(k=g.ri.im(a,f),n=!g.vd.kt(k,e,d),m=!0,h.J[0]=n?-1:0),h.J[6]=-1):(h.J[0]=-1,h.J[6]=0);h.fa[3]&&(null!=k&&k.B()?h.J[3]=-1:(m||(null==k&&(k=g.ri.im(a,f)),n=!g.vd.kt(k,e,d),m=!0),h.J[3]=
n?0:-1));h.fa[5]&&(null!=k&&k.B()?h.J[5]=-1:m&&!n?h.J[5]=0:(null==k&&(k=g.ri.im(a,f)),f=g.vd.Ow(k,b,d),h.J[5]=f?-1:0));h.fa[2]&&(0!=a.Rb()?h.J[2]=1:(f=new g.de(a.description),f.Gd(a,0,a.I()),a=g.vd.Ow(f,b,d),h.J[2]=a?-1:0))}return this.fg(h.J,h.Yc)};c.lt=function(a,b,d,e){var f=new c;f.Zi();f.cj(e);f.JJ();var h=new g.l;a.A(h);b=b.D();var k=!1;g.vd.Sw(b,h,d)&&(f.qI(),k=!0);if(!k){h=!1;k=!0;d*=d;for(var m=0;m<a.I();m++){var n=a.Oa(m);g.h.zc(n,b)<=d?h=!0:k=!1;if(h&&!k)break}h?(f.J[0]=0,f.J[2]=k?-1:0,
f.J[6]=-1):(f.J[0]=-1,f.J[2]=0,f.J[6]=0)}return c.fg(f.J,e)};c.QU=function(a,b,d,e){a=a.D();b=b.D();for(var f=[],h=0;9>h;h++)f[h]=-1;g.h.zc(a,b)<=d*d?f[0]=0:(f[2]=0,f[6]=0);f[8]=2;return c.fg(f,e)};c.fg=function(a,b){for(var d=0;9>d;d++)switch(b.charAt(d)){case "T":if(-1==a[d])return!1;break;case "F":if(-1!=a[d])return!1;break;case "0":if(0!=a[d])return!1;break;case "1":if(1!=a[d])return!1;break;case "2":if(2!=a[d])return!1}return!0};c.kW=function(a,b,d){var e=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(a.B()&&
b.B()){for(var f=0;9>f;f++)e[f]=-1;return this.fg(e,d)}f=!1;a.B()&&(a=b,f=!0);e[0]=-1;e[1]=-1;e[3]=-1;e[4]=-1;e[6]=-1;e[7]=-1;e[8]=2;b=a.K();g.ba.Ic(b)?1736==b?0!=a.He()?(e[2]=2,e[5]=1):(e[5]=-1,b=new g.l,a.A(b),e[2]=0==b.da()&&0==b.S()?0:1):(b=0!=a.Rb(),e[2]=b?1:0,e[5]=g.ri.cq(a)?0:-1):(e[2]=0,e[5]=-1);f&&this.nK(e);return this.fg(e,d)};c.DR=function(a,b,d){return c.WP(a)?3:c.MP(a)?4:c.RX(a,b,d)?8:c.uP(a,b,d)?16:c.XO(a)?1:c.uU(a,b,d)?32:0};c.WP=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&
"F"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.MP=function(a){return"F"==a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.RX=function(a,b,d){if(0==b&&0==d)return!1;if(2!=b||2!=d)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&
"*"==a.charAt(7)&&"*"==a.charAt(8)||1==b&&1==d&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=d&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.uP=function(a,b,d){return b>d?"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&
"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==b&&1==d&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.XO=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.uU=function(a,b,d){if(b==d){if(1!=
b)return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};c.Kw=function(a,b,d){a=b.Ma(a);for(var e=b.Oe;-1!=e;e=b.Sf(e))if(0!=(b.yd(e)&a)){var f=b.Je(e);if(-1==f)b.pn(e,d,0);else{var h=f,k=0;do 0!=(b.eh(h)&
a)&&k++,h=b.kc(b.ya(h));while(h!=f);b.pn(e,d,k)}}};c.aq=function(a){var b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};c.prototype.Zi=function(){for(var a=0;9>a;a++)this.J[a]=-2,this.$a[a]=-2};c.nK=function(a){var b=a[1],d=a[2],e=a[5];a[1]=a[3];a[2]=a[6];a[5]=a[7];a[3]=b;a[6]=d;a[7]=e};c.prototype.cj=function(a){this.Yc=a;for(a=0;9>a;a++)"*"!=this.Yc.charAt(a)?(this.fa[a]=!0,this.le++):this.fa[a]=!1};
c.prototype.MJ=function(){for(var a=0;9>a;a++)this.fa[a]&&-2==this.J[a]&&(this.J[a]=-1,this.fa[a]=!1)};c.prototype.pc=function(a){if(-2==this.J[a])return!1;if(-1==this.J[a])return this.fa[a]=!1,this.le--,!0;if("T"!=this.Yc.charAt(a)&&"F"!=this.Yc.charAt(a)){if(this.J[a]<this.$a[a])return!1;this.fa[a]=!1;this.le--;return!0}this.fa[a]=!1;this.le--;return!0};c.prototype.pJ=function(){this.ww=0;this.$a[0]=2;this.$a[1]=1;this.$a[2]=2;this.$a[3]=1;this.$a[4]=1;this.$a[5]=1;this.$a[6]=2;this.$a[7]=1;this.$a[8]=
2;this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)};c.prototype.CB=function(){this.ww=1;this.Um=3;this.$a[0]=1;this.$a[1]=0;this.$a[2]=2;this.$a[3]=1;this.$a[4]=0;this.$a[5]=1;this.$a[6]=1;this.$a[7]=0;this.$a[8]=2;this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)};c.prototype.SW=function(){this.ww=2;this.Um=4;this.$a[0]=1;this.$a[1]=0;this.$a[2]=1;this.$a[3]=0;this.$a[4]=0;this.$a[5]=0;this.$a[6]=1;this.$a[7]=0;this.$a[8]=2;this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)};c.prototype.qJ=function(){this.Um=
3;this.$a[0]=0;this.$a[1]=-1;this.$a[2]=2;this.$a[3]=0;this.$a[4]=-1;this.$a[5]=1;this.$a[6]=0;this.$a[7]=-1;this.$a[8]=2;this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.le--);this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--);this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--);this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)};c.prototype.EJ=function(){this.Um=4;this.$a[0]=0;this.$a[1]=-1;this.$a[2]=1;this.$a[3]=0;this.$a[4]=-1;this.$a[5]=0;this.$a[6]=0;this.$a[7]=-1;this.$a[8]=2;this.fa[1]&&(this.J[1]=
-1,this.fa[1]=!1,this.le--);this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--);this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--);this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)};c.prototype.JJ=function(){this.Um=5;this.$a[0]=0;this.$a[1]=-1;this.$a[2]=0;this.$a[3]=-1;this.$a[4]=-1;this.$a[5]=-1;this.$a[6]=0;this.$a[7]=-1;this.$a[8]=2;this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.le--);this.fa[3]&&(this.J[3]=-1,this.fa[3]=!1,this.le--);this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--);this.fa[5]&&
(this.J[5]=-1,this.fa[5]=!1,this.le--);this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--);this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)};c.prototype.pN=function(a,b,d){var e=!0;this.fa[0]&&(this.tS(a,b,d),e=e&&this.pc(0));this.fa[1]&&(this.kG(a,b,1),e=e&&this.pc(1));this.fa[2]&&(this.lG(a,b,d,2),e=e&&this.pc(2));this.fa[3]&&(this.kG(a,d,3),e=e&&this.pc(3));this.fa[4]&&(this.tN(a,b,d),e=e&&this.pc(4));this.fa[5]&&(this.XD(a,d,5),e=e&&this.pc(5));this.fa[6]&&(this.lG(a,d,b,6),e=e&&this.pc(6));this.fa[7]&&
(this.XD(a,b,7),e=e&&this.pc(7));return e};c.prototype.Du=function(a,b){this.J[0]=-1;this.J[1]=-1;this.J[3]=-1;this.J[4]=-1;this.Hr(a,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5));this.Hr(b,this.fa[6]?6:-1,this.Yc.charAt(6),this.fa[7]?7:-1,this.Yc.charAt(7))};c.prototype.Hr=function(a,b,d,e,f){if(-1!=b||-1!=e)("T"!=d&&"F"!=d&&-1!=b||"T"!=f&&"F"!=f&&-1!=e?0!=a.He():1)?(-1!=b&&(this.J[b]=2),-1!=e&&(this.J[e]=1)):(-1!=e&&(this.J[e]=-1),-1!=b&&(d=new g.l,a.A(d),this.J[b]=0==d.da()&&
0==d.S()?0:1))};c.prototype.gy=function(a){this.J[2]=2;this.J[3]=-1;this.J[4]=-1;this.J[5]=1;this.J[6]=-1;this.J[7]=-1;this.Hr(a,this.fa[0]?0:-1,this.Yc.charAt(0),this.fa[1]?1:-1,this.Yc.charAt(1))};c.prototype.RD=function(a){this.gy(a);c.nK(this.J)};c.prototype.Eu=function(a,b){this.J[0]=-1;this.J[1]=-1;this.J[3]=-1;this.J[4]=-1;if(this.fa[6]){var d=this.Yc.charAt(6);d="T"!=d&&"F"!=d?0!=b.Rb():!0;this.J[6]=d?1:0}this.fa[7]&&(b=g.ri.cq(b),this.J[7]=b?0:-1);this.Hr(a,this.fa[2]?2:-1,this.Yc.charAt(2),
this.fa[5]?5:-1,this.Yc.charAt(5))};c.prototype.SD=function(a){if(this.fa[0]){var b=this.Yc.charAt(0);b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.J[0]=b?1:0}this.fa[1]&&(a=g.ri.cq(a),this.J[1]=a?0:-1);this.J[2]=2;this.J[3]=-1;this.J[4]=-1;this.J[5]=1;this.J[6]=-1;this.J[7]=-1};c.prototype.Fu=function(a){this.J[0]=-1;this.J[3]=-1;this.J[6]=0;this.Hr(a,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5))};c.prototype.rN=function(){this.J[0]=0;this.J[2]=2;this.J[3]=-1;this.J[5]=1;this.J[6]=-1};
c.prototype.HG=function(a,b){this.J[0]=-1;this.J[1]=-1;this.J[3]=-1;this.J[4]=-1;if(this.fa[2]){var d=this.Yc.charAt(2);d="T"!=d&&"F"!=d?0!=a.Rb():!0;this.J[2]=d?1:0}this.fa[5]&&(a=g.ri.cq(a),this.J[5]=a?0:-1);this.fa[6]&&(d=this.Yc.charAt(6),d="T"!=d&&"F"!=d?0!=b.Rb():!0,this.J[6]=d?1:0);this.fa[7]&&(b=g.ri.cq(b),this.J[7]=b?0:-1)};c.prototype.Qz=function(a){this.J[0]=-1;this.J[3]=-1;if(this.fa[2]){var b=this.Yc.charAt(2);b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.J[2]=b?1:0}this.fa[5]&&(a=g.ri.cq(a),this.J[5]=
a?0:-1);this.J[6]=0};c.prototype.qI=function(){this.J[0]=-1;this.J[2]=0;this.J[6]=0};c.prototype.qN=function(a,b,d){var e=!0;this.fa[0]&&(this.uS(a,b),e=e&&this.pc(0));this.fa[1]&&(this.qS(a,b,d,this.lh),e=e&&this.pc(1));this.fa[2]&&(this.rS(a,b),e=e&&this.pc(2));this.fa[3]&&(this.xN(a,b,d,this.lh),e=e&&this.pc(3));this.fa[4]&&(this.uN(a,b,d,this.lh),e=e&&this.pc(4));this.fa[5]&&(this.vN(a,b,d),e=e&&this.pc(5));this.fa[6]&&(this.dQ(a,b),e=e&&this.pc(6));this.fa[7]&&(this.cQ(a,b,d,this.lh),e=e&&this.pc(7));
return e};c.prototype.cT=function(a,b,d){var e=!0;this.fa[0]&&(this.xS(a,b,d,this.Zh,this.lh),e=e&&this.pc(0));this.fa[1]&&(this.mG(a,b,d,this.Zh,this.lh,1),e=e&&this.pc(1));this.fa[2]&&(this.nG(a,b,d,2),e=e&&this.pc(2));this.fa[3]&&(this.mG(a,d,b,this.lh,this.Zh,3),e=e&&this.pc(3));this.fa[4]&&(this.zN(a,b,d,this.Zh,this.lh),e=e&&this.pc(4));this.fa[5]&&(this.YD(a,d,this.Zh,5),e=e&&this.pc(5));this.fa[6]&&(this.nG(a,d,b,6),e=e&&this.pc(6));this.fa[7]&&(this.YD(a,b,this.lh,7),e=e&&this.pc(7));return e};
c.prototype.TD=function(a,b,d){var e=!0;this.fa[0]&&(this.vS(a,b),e=e&&this.pc(0));this.fa[2]&&(this.sS(a,b),e=e&&this.pc(2));this.fa[3]&&(this.yN(a,b,d),e=e&&this.pc(3));this.fa[5]&&(this.wN(a,b),e=e&&this.pc(5));this.fa[6]&&(this.eQ(a,b),e=e&&this.pc(6));return e};c.prototype.IG=function(a,b,d){var e=!0;this.fa[0]&&(this.yS(a,b,d,this.Zh),e=e&&this.pc(0));this.fa[2]&&(this.wS(a,d),e=e&&this.pc(2));this.fa[3]&&(this.BN(a,b,d,this.Zh),e=e&&this.pc(3));this.fa[5]&&(this.AN(a,b,d,this.Zh),e=e&&this.pc(5));
this.fa[6]&&(this.fQ(a,b,d),e=e&&this.pc(6));return e};c.prototype.PU=function(a,b,d){var e=!0;this.fa[0]&&(this.zS(a,b,d),e=e&&this.pc(0));this.fa[2]&&(this.oG(a,b,d,2),e=e&&this.pc(2));this.fa[6]&&(this.oG(a,d,b,6),e=e&&this.pc(6));return e};c.prototype.tS=function(a,b,d){2!=this.J[0]&&(a=this.j.af(a),0!=(a&b)&&0!=(a&d)&&(this.J[0]=2))};c.prototype.kG=function(a,b,d){if(1!=this.J[d]){var e=this.j.af(this.j.ya(a));0!=(this.j.af(a)&b)&&0!=(e&b)&&(this.J[d]=1)}};c.prototype.lG=function(a,b,d,e){2!=
this.J[e]&&(a=this.j.af(a),0!=(a&b)&&0==(a&d)&&(this.J[e]=2))};c.prototype.tN=function(a,b,d){if(1!=this.J[4]){var e=this.j.eh(a);0!=(e&b)&&0!=(e&d)?this.J[4]=1:0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Vi)&&(a=this.j.yd(this.j.vf(a)),0!=(a&b)&&0!=(a&d)&&(this.J[4]=0))}};c.prototype.XD=function(a,b,d){if(1!=this.J[d]){var e=this.j.af(this.j.ya(a));0==(this.j.af(a)&b)&&0==(e&b)&&(this.J[d]=1)}};c.prototype.uS=function(a,b){if(1!=this.J[0]){var d=this.j.af(this.j.ya(a));0!=(this.j.af(a)&
b)&&0!=(d&b)&&(this.J[0]=1)}};c.prototype.qS=function(a,b,d,e){if(0!=this.J[1]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Vi)){var f=this.j.vf(a),h=this.j.yd(f);0==(h&b)&&0!=(this.j.af(a)&b)&&(a=this.j.ng(f,e),0!=(h&d)&&0!=a%2&&(this.J[1]=0))}};c.prototype.rS=function(a,b){2!=this.J[2]&&0!=(this.j.eh(a)&b)&&(this.J[2]=2)};c.prototype.xN=function(a,b,d,e){if(1!=this.J[3]){var f=this.j.eh(a);0!=(f&b)&&0!=(f&d)?this.J[3]=1:0!=this.J[3]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Vi)&&(f=this.j.vf(a),
a=this.j.yd(f),0!=(a&b)&&(b=this.j.ng(f,e),0!=(a&d)&&0==b%2&&(this.J[3]=0)))}};c.prototype.uN=function(a,b,d,e){if(0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Vi)){var f=this.j.vf(a);a=this.j.yd(f);0!=(a&b)&&(b=this.j.ng(f,e),0!=(a&d)&&0!=b%2&&(this.J[4]=0))}};c.prototype.vN=function(a,b,d){1!=this.J[5]&&(a=this.j.eh(a),0!=(a&b)&&0==(a&d)&&(this.J[5]=1))};c.prototype.dQ=function(a,b){if(1!=this.J[6]){var d=this.j.af(this.j.ya(a));0==(this.j.af(a)&b)&&0==(d&b)&&(this.J[6]=1)}};c.prototype.cQ=
function(a,b,d,e){if(0!=this.J[7]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Vi)){var f=this.j.vf(a),h=this.j.yd(f);0==(h&b)&&0==(this.j.af(a)&b)&&(a=this.j.ng(f,e),0!=(h&d)&&0!=a%2&&(this.J[7]=0))}};c.prototype.xS=function(a,b,d,e,f){if(1!=this.J[0]){var h=this.j.eh(a);0!=(h&b)&&0!=(h&d)?this.J[0]=1:0!=this.J[0]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Vi)&&(a=this.j.vf(a),h=this.j.yd(a),0!=(h&b)&&0!=(h&d)&&(b=this.j.ng(a,e),f=this.j.ng(a,f),0==b%2&&0==f%2&&(this.J[0]=0)))}};c.prototype.mG=function(a,
b,d,e,f,h){if(0!=this.J[h]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Vi)){a=this.j.vf(a);var k=this.j.yd(a);0!=(k&b)&&0!=(k&d)&&(b=this.j.ng(a,e),f=this.j.ng(a,f),0==b%2&&0!=f%2&&(this.J[h]=0))}};c.prototype.nG=function(a,b,d,e){1!=this.J[e]&&(a=this.j.eh(a),0!=(a&b)&&0==(a&d)&&(this.J[e]=1))};c.prototype.zN=function(a,b,d,e,f){if(0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Vi)){a=this.j.vf(a);var h=this.j.yd(a);0!=(h&b)&&0!=(h&d)&&(b=this.j.ng(a,e),f=this.j.ng(a,f),0!=b%2&&0!=f%2&&(this.J[4]=
0))}};c.prototype.YD=function(a,b,d,e){0!=this.J[e]&&1!=this.j.Bb(this.j.ue(this.j.ya(a)),this.Vi)&&(a=this.j.vf(a),0==(this.j.yd(a)&b)&&0!=this.j.ng(a,d)%2&&(this.J[e]=0))};c.prototype.vS=function(a,b){0!=this.J[0]&&0==(this.j.yd(a)&b)&&0!=(this.j.hk(this.j.Yy(a))&b)&&(this.J[0]=0)};c.prototype.sS=function(a,b){2!=this.J[2]&&0!=(this.j.yd(a)&b)&&(this.J[2]=2)};c.prototype.yN=function(a,b,d){0!=this.J[3]&&(a=this.j.yd(a),0!=(a&b)&&0!=(a&d)&&(this.J[3]=0))};c.prototype.wN=function(a,b){1!=this.J[5]&&
0!=(this.j.yd(a)&b)&&(this.J[5]=1)};c.prototype.eQ=function(a,b){0!=this.J[6]&&0==(this.j.yd(a)&b)&&0==(this.j.hk(this.j.Yy(a))&b)&&(this.J[6]=0)};c.prototype.yS=function(a,b,d,e){if(0!=this.J[0]){var f=this.j.yd(a);0!=(f&b)&&0!=(f&d)&&0==this.j.ng(a,e)%2&&(this.J[0]=0)}};c.prototype.wS=function(a,b){1!=this.J[2]&&(-1!=this.j.Je(a)?this.J[2]=1:0!=this.J[2]&&0==(this.j.yd(a)&b)&&(this.J[2]=0))};c.prototype.BN=function(a,b,d,e){if(0!=this.J[3]){var f=this.j.yd(a);0!=(f&b)&&0!=(f&d)&&0!=this.j.ng(a,
e)%2&&(this.J[3]=0)}};c.prototype.AN=function(a,b,d,e){if(0!=this.J[5]){var f=this.j.yd(a);0!=(f&b)&&0==(f&d)&&0!=this.j.ng(a,e)%2&&(this.J[5]=0)}};c.prototype.fQ=function(a,b,d){0!=this.J[6]&&(a=this.j.yd(a),0==(a&b)&&0!=(a&d)&&(this.J[6]=0))};c.prototype.zS=function(a,b,d){0!=this.J[0]&&(a=this.j.yd(a),0!=(a&b)&&0!=(a&d)&&(this.J[0]=0))};c.prototype.oG=function(a,b,d,e){0!=this.J[e]&&(a=this.j.yd(a),0!=(a&b)&&0==(a&d)&&(this.J[e]=0))};c.prototype.Dp=function(a,b){var d=!1;a=this.j.Ma(a);b=this.j.Ma(b);
this.Vi=this.j.ah();for(var e=this.j.Oe;-1!=e;e=this.j.Sf(e)){var f=this.j.Je(e);if(-1==f){if(-1!=this.Um)switch(this.Um){case 3:d=this.TD(e,a,b);break;case 4:d=this.IG(e,a,b);break;default:throw g.i.ga("internal error");}}else{var h=f;do{var k=h;if(1!=this.j.Bb(k,this.Vi)){do{switch(this.ww){case 0:d=this.pN(k,a,b);break;case 1:d=this.qN(k,a,b);break;case 2:d=this.cT(k,a,b);break;default:throw g.i.ga("internal error");}if(d)break;this.j.Kb(k,this.Vi,1);k=this.j.kc(k)}while(k!=h&&!d)}if(d)break;h=
this.j.kc(this.j.ya(k))}while(h!=f);if(d)break}}d||this.MJ();this.j.Lg(this.Vi)};c.prototype.Ay=function(a,b){var d=!1;a=this.j.Ma(a);b=this.j.Ma(b);for(var e=this.j.Oe;-1!=e;e=this.j.Sf(e)){switch(this.Um){case 3:d=this.TD(e,a,b);break;case 4:d=this.IG(e,a,b);break;case 5:d=this.PU(e,a,b);break;default:throw g.i.Ra();}if(d)break}d||this.MJ()};c.prototype.gr=function(a,b){this.j.fr(a,b)};c.prototype.Xo=function(a,b,d){this.QP(a,b,d);this.gr(a,d)};c.prototype.QP=function(a,b,d){g.Tk.W(a,b,d,!1);a.Ip(0,
!0,!0);for(b=a.ld;-1!=b;b=a.ve(b))1736==a.jc(b)&&g.tn.W(a,b,-1,!1,d)};c.OE=function(a,b){var d=a.K();if(g.ba.zd(d))return b=new g.Ua(a.description),b.oc(a,!0),b;if(197==d){d=new g.l;a.A(d);if(d.da()<=b&&d.S()<=b)return b=new g.Ta(a.description),a.tf(b),b;if(d.da()<=b||d.S()<=b)return b=new g.Ua(a.description),d=new g.Ta,a.If(0,d),b.nf(d),a.If(2,d),b.lineTo(d),b;b=new g.Ea(a.description);b.bd(a,!1);return b}return a};return c}();g.cm=u})(L||(L={}));(function(g){var u=function(){function a(b){this.Gm=
new g.ja(0);this.ew=new g.ja(0);this.wt=new g.h;this.xt=new g.h;this.g=b;this.Is=-1}a.prototype.cc=function(b){return this.g.cc(this.uz(b))};a.prototype.Cv=function(b){var d=this.dz(b);b=this.zF(b);if(this.g.Na(d)==b){var e=d;d=b;b=e}this.g.Hc(d,this.wt);this.g.Hc(b,this.xt);return this.wt.y<this.xt.y};a.prototype.uz=function(b){var d=this.dz(b);b=this.zF(b);return this.g.V(d)==b?d:b};a.prototype.dz=function(b){return this.Gm.get(b)};a.prototype.zF=function(b){return this.ew.get(b)};a.prototype.jF=
function(b){this.Gm.set(b,this.Is);this.Is=b};a.prototype.fI=function(b){if(-1!=this.Is){var d=this.Is;this.Is=this.Gm.get(d);this.Gm.set(d,b);this.ew.set(d,this.g.V(b));return d}null==this.Gm&&(this.Gm=new g.ja(0),this.ew=new g.ja(0));d=this.Gm.size;this.Gm.add(b);this.ew.add(this.g.V(b));return d};a.prototype.mz=function(b){return this.g.cd(this.dz(b))};return a}();g.mY=u;var l=function(){function a(b){this.Ce=b;this.ie=new g.zb;this.Pm=new g.zb;this.uH=0;this.Bo=null;this.sA=-1}a.prototype.compare=
function(b,d,e){e=b.ka(e);var f=this.Ce.hb;if(this.sA==d)var h=this.uH;else this.Bo=f.cc(d),null==this.Bo?(b=f.g,b.fd(f.uz(d),this.ie),this.Bo=this.ie,h=this.ie.Me(this.Ce.zh,0)):h=this.Bo.Me(this.Ce.zh,0),this.uH=h,this.sA=d;b=f.cc(e);if(null==b){b=f.g;b.fd(f.uz(e),this.Pm);b=this.Pm;var k=this.Pm.Me(this.Ce.zh,0)}else k=b.Me(this.Ce.zh,0);h==k&&(d=f.Cv(d),e=f.Cv(e),e=Math.min(d?this.Bo.ma:this.Bo.oa,e?b.ma:b.oa),d=.5*(e+this.Ce.zh),d==this.Ce.zh&&(d=e),h=this.Bo.Me(d,0),k=b.Me(d,0));return h<k?
-1:h>k?1:0};a.prototype.reset=function(){this.sA=-1};return a}(),c=function(){function a(){this.Ym=this.Il=null;this.fb=new g.Yj;this.fb.JP();this.ae=new l(this);this.fb.Wo(this.ae)}a.prototype.zQ=function(){var b=!1;this.gw&&(b=this.AQ());if(1==this.g.ea(this.Y)){var d=this.g.Ob(this.Y);b=this.g.qz(d);this.g.JB(d,!0);return 0>b?(b=this.g.Ya(d),this.g.hJ(b),this.g.Xg(d,this.g.Na(b)),!0):!1}this.Gl=this.g.Ey();this.xo=this.g.Ey();for(d=this.g.Ob(this.Y);-1!=d;d=this.g.Sb(d))this.g.ir(d,this.Gl,0),
this.g.ir(d,this.xo,-1);d=new g.ja(0);this.zh=NaN;var e=new g.h;this.et=this.g.ea(this.Y);this.so=this.g.Hd();this.Ss=this.g.Hd();for(var f=this.Il.sc(this.Il.je);-1!=f;f=this.Il.lb(f)){var h=this.Il.getData(f);this.g.Hc(h,e);e.y!=this.zh&&0!=d.size&&(b=this.ut(d)||b,this.ae.reset(),d.clear(!1));d.add(h);this.zh=e.y;if(0==this.et)break}0<this.et&&(b=this.ut(d)||b,d.clear(!1));this.g.Ud(this.so);this.g.Ud(this.Ss);for(d=this.g.Ob(this.Y);-1!=d;)if(3==this.g.tj(d,this.Gl)){this.g.JB(d,!0);e=d;for(d=
this.g.tj(d,this.xo);-1!=d;)f=this.g.tj(d,this.xo),this.g.PT(this.Y,this.g.Sb(e),d),e=d,d=f;d=this.g.Sb(e)}else this.g.JB(d,!1),d=this.g.Sb(d);this.g.wB(this.Gl);this.g.wB(this.xo);return b};a.prototype.ut=function(b){return this.QV(b)};a.prototype.QV=function(b){var d=!1;null==this.hb&&(this.hb=new u(this.g));null==this.Ym?(this.Ym=new g.ja(0),this.Ym.Jb(16)):this.Ym.clear(!1);this.PV(b);for(var e=0,f=b.size;e<f;e++){var h=b.get(e);-1!=h&&this.gG(h,-1)}for(e=0;e<this.Ym.size&&0<this.et;e++)if(b=
this.Ym.get(e),h=this.hb.mz(this.fb.ka(b)),f=-1,0==this.g.tj(h,this.Gl)){h=this.fb.xe(b);for(var k=b,m;-1!=h;){var n=this.fb.ka(h),p=this.hb.mz(n),q=this.g.tj(p,this.Gl);if(0!=q){f=p;break}k=h;h=this.fb.xe(h)}-1==h?(m=!0,h=k):(n=this.fb.ka(h),m=this.hb.Cv(n),h=this.fb.lb(h),m=!m);do{n=this.fb.ka(h);p=this.hb.mz(n);q=this.g.tj(p,this.Gl);if(0==q&&(m!=this.hb.Cv(n)&&(d=this.g.Ya(p),this.g.hJ(d),this.g.Xg(p,this.g.Na(d)),d=!0),this.g.ir(p,this.Gl,m?3:2),m||(k=this.g.tj(f,this.xo),this.g.ir(f,this.xo,
p),this.g.ir(p,this.xo,k)),this.et--,0==this.et))return d;f=p;k=h;h=this.fb.lb(h);m=!m}while(k!=b)}return d};a.prototype.PV=function(b){for(var d=0,e=b.size;d<e;d++){var f=b.get(d),h=this.g.Qa(f,this.so),k=this.g.Qa(f,this.Ss);if(-1!=h){var m=this.fb.ka(h);this.hb.jF(m);this.g.Sa(f,this.so,-1)}-1!=k&&(m=this.fb.ka(k),this.hb.jF(m),this.g.Sa(f,this.Ss,-1));m=-1;-1!=h&&-1!=k?(this.fb.wd(h,-1),this.fb.wd(k,-1),b.set(d,-1)):m=-1!=h?h:k;-1!=m&&(this.gG(f,m)||this.fb.wd(m,-1),b.set(d,-1))}};a.prototype.gG=
function(b,d){var e=new g.h,f=new g.h;this.g.Hc(b,e);var h=this.g.V(b);this.g.Hc(h,f);var k=!1;if(e.y<f.y){k=!0;var m=this.hb.fI(b);if(-1==d)var n=this.fb.addElement(m,-1);else n=d,this.fb.Tj(n,m);m=this.g.Qa(h,this.so);-1==m?this.g.Sa(h,this.so,n):this.g.Sa(h,this.Ss,n);h=this.g.cd(b);0==this.g.tj(h,this.Gl)&&this.Ym.add(n)}h=this.g.Na(b);this.g.Hc(h,f);e.y<f.y&&(k=!0,m=this.hb.fI(h),-1==d?n=this.fb.addElement(m,-1):(n=d,this.fb.Tj(n,m)),m=this.g.Qa(h,this.so),-1==m?this.g.Sa(h,this.so,n):this.g.Sa(h,
this.Ss,n),h=this.g.cd(b),0==this.g.tj(h,this.Gl)&&this.Ym.add(n));return k};a.W=function(b,d,e,f){var h=new a;h.g=b;h.Y=d;h.Il=e;h.gw=f;return h.zQ()};a.prototype.AQ=function(){var b=new g.ja(0),d=new g.ja(0),e=-1,f=-1,h=new g.h;h.Sc();for(var k=-1,m=-1,n=-1,p=new g.h,q=this.Il.sc(this.Il.je);-1!=q;q=this.Il.lb(q)){var r=this.Il.getData(q);this.g.Hc(r,p);var t=this.g.cd(r);h.rb(p)&&m==t?(-1==f&&(e=this.g.Ey(),f=this.g.Hd()),-1==n&&(n=d.size,this.g.Sa(k,f,n),d.add(1),-1==this.g.tj(t,e)&&(this.g.ir(t,
e,k),b.add(t))),this.g.Sa(r,f,n),d.PW(d.Gc()+1)):(n=-1,h.N(p));k=r;m=t}if(0==b.size)return!1;h=new g.ja(0);k=new g.ja(0);m=0;for(n=b.size;m<n;m++){t=b.get(m);var v=this.g.tj(t,e);r=this.g.Qa(v,f);h.clear(!1);k.clear(!1);h.add(v);k.add(r);for(r=this.g.V(v);r!=v;r=this.g.V(r)){var M=r;p=this.g.Qa(M,f);if(-1!=p)if(0==k.size)k.add(p),h.add(M);else if(k.Gc()==p){q=h.Gc();var W=this.g.V(q);v=this.g.V(M);this.g.Cc(q,v);this.g.Dc(v,q);this.g.Cc(M,W);this.g.Dc(W,M);M=[!1];W=this.g.fG(this.Y,W,this.g.Ya(t),
M);this.g.Sa(r,f,-1);M[0]&&this.g.Kf(t,v);r=this.g.Ka(t);v=this.g.Ka(W);r-=v;this.g.Wj(t,r);d.set(p,d.get(p)-1);1==d.get(p)&&(d.set(p,0),k.Jf(),h.Jf());r=v=q}else h.add(r),k.add(p)}}this.g.wB(e);this.g.Ud(f);return!0};return a}();g.OL=c})(L||(L={}));(function(g){var u=function(){function l(){}l.prototype.hg=function(){this.JA=this.tb=null};l.prototype.get=function(){return this.JA};l.prototype.set=function(c){this.JA=c;if(null!=c)throw 322==c.K()&&(this.tb=c),g.i.Ra();};l.prototype.create=function(c){if(322==
c)this.Pr();else throw g.i.ga("Not Implemented");};l.prototype.Pr=function(){null==this.tb&&(this.tb=new g.zb);this.JA=this.tb};return l}();g.hg=u})(L||(L={}));(function(g){g=g.PL||(g.PL={});g[g.enumLineSeg=1]="enumLineSeg";g[g.enumBezierSeg=2]="enumBezierSeg";g[g.enumArcSeg=4]="enumArcSeg";g[g.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";g[g.enumSegmentMask=7]="enumSegmentMask";g[g.enumDensified=8]="enumDensified"})(L||(L={}));(function(g){var u=function(){return function(c){this.aj=c;
this.jC=this.kC=1;this.mB=this.lB=this.nB=0}}(),l=function(){function c(){this.Hq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Cf=new g.Ta;this.ra=this.Dw=0;this.no=[];this.at=[];this.zw=[];this.Kq=[];this.GA=[]}c.prototype.qB=function(a){if(null!=a){for(var b=0,d=a.length;b<d;b++)this.hW(a[b]);a.length=0}};c.prototype.hW=function(a){a.aj=null;this.Kq.push(a)};c.prototype.Pw=function(a){if(0===this.Kq.length)var b=new u(a);else b=this.Kq[this.Kq.length-1],b.aj=a,--this.Kq.length;
return b};c.prototype.JR=function(a,b){return 0==a?this.at[b]:this.zw[b]};c.prototype.VA=function(){this.Dw>=this.GA.length&&this.GA.push(new g.hg);var a=this.GA[this.Dw];this.Dw++;return a};c.prototype.clear=function(){this.qB(this.no);this.qB(this.at);this.qB(this.zw);this.Dw=0};c.prototype.Po=function(a){this.no.push(this.Pw(a))};c.prototype.ql=function(a){return 0==a?this.at.length:this.zw.length};c.prototype.Xp=function(a,b){return this.JR(a,b).aj};c.prototype.Fa=function(a,b){if(2!=this.no.length)throw g.i.Ra();
this.ra=a;var d=g.mc.nx(.01*a),e=!1,f=this.no[0],h=this.no[1];if(b||0!=(f.aj.Br(h.aj,a,!0)&5)){if(322==f.aj.K()){var k=f.aj;if(322==h.aj.K()){b=h.aj;var m=g.zb.Xx(k,b,null,this.Hq,this.Bk,a);if(0==m)throw g.zb.Xx(k,b,null,this.Hq,this.Bk,a),g.i.Ra();a=Array(9);g.P.av(a,null);for(var n=0;n<m;n++){var p=this.Hq[n],q=this.Bk[n],r=f.mB,t=1;0==p?(r=f.nB,t=f.kC):1==p&&(r=f.lB,t=f.jC);var v=h.mB,M=1;0==q?(v=h.nB,M=h.kC):1==q&&(v=h.lB,M=h.jC);var W=new g.h;r==v?(r=new g.h,k.ic(p,r),p=new g.h,b.ic(q,p),q=
t+M,M/=q,g.mc.GG(r,p,M,W),g.h.zc(W,r)+g.h.zc(W,p)>d&&(e=!0)):r>v?(k.ic(p,W),p=new g.h,b.ic(q,p),g.h.zc(W,p)>d&&(e=!0)):(b.ic(q,W),r=new g.h,k.ic(p,r),g.h.zc(W,r)>d&&(e=!0));a[n]=W}f=0;h=-1;for(n=0;n<=m;n++)M=n<m?this.Hq[n]:1,M!=f&&(d=this.VA(),k.bh(f,M,d),-1!=h&&d.get().Ec(a[h]),n!=m&&d.get().Rc(a[n]),f=M,this.at.push(this.Pw(d.get()))),h=n;k=[0,0,0,0,0,0,0,0,0];for(n=0;n<m;n++)k[n]=n;1<m&&this.Bk[0]>this.Bk[1]&&(M=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=M,n=k[0],k[0]=k[1],k[1]=n);f=0;h=-1;for(n=
0;n<=m;n++)M=n<m?this.Bk[n]:1,M!=f&&(d=this.VA(),b.bh(f,M,d),-1!=h&&(f=k[h],d.get().Ec(a[f])),n!=m&&(f=k[n],d.get().Rc(a[f])),f=M,this.zw.push(this.Pw(d.get()))),h=n;return e}}throw g.i.Ra();}return!1};c.prototype.Fz=function(a,b,d){b.copyTo(this.Cf);if(1!=this.no.length)throw g.i.Ra();this.ra=a;var e=this.no[0];if(d||e.aj.su(b.D(),a,!0))if(322==e.aj.K()){a=e.aj;var f=a.fe(b.D(),!1);this.Hq[0]=f;var h=e.mB;d=1;0==f?(h=e.nB,d=e.kC):1==f&&(h=e.lB,d=e.jC);e=new g.h;0==h?(h=new g.h,a.ic(f,h),b=b.D(),
g.mc.GG(h,b,1/(d+1),e)):0<h?(e=new g.h,a.ic(f,e)):e=b.D();d=0;f=-1;for(h=0;1>=h;h++){b=1>h?this.Hq[h]:1;if(b!=d){var k=this.VA();a.bh(d,b,k);-1!=f&&k.get().Ec(e);1!=h&&k.get().Rc(e);d=b;this.at.push(this.Pw(k.get()))}f=h}this.Cf.Db(e)}else throw g.i.Ra();};return c}();g.LC=l})(L||(L={}));(function(g){var u=function(){function l(c){this.Es=this.rk=this.tb=null;this.bg=0;this.Bm=!1;this.Af=-1;this.El=this.Kd=0;this.gb=-1;this.ib=c;this.bg=this.Ux(this.El);this.Bm=!1;this.rk=null;this.Es=new g.h}l.prototype.rW=
function(c){if(this.ib!=c.ib)throw g.i.Hb();this.Af=c.Af;this.Kd=c.Kd;this.gb=c.gb;this.El=c.El;this.bg=c.bg;this.Bm=c.Bm;this.rk=null};l.prototype.ia=function(){this.Af!=this.Kd&&this.tD();if(this.Bm)this.Kd=(this.Kd+1)%this.bg;else{if(this.Kd==this.bg)throw g.i.re();this.Kd++}return this.rk};l.prototype.mi=function(){if(this.Bm)this.Kd=(this.bg+this.Kd-1)%this.bg;else{if(0==this.Kd)throw g.i.re();this.Kd--}this.Kd!=this.Af&&this.tD();return this.rk};l.prototype.sW=function(){this.Af=-1;this.Kd=
0};l.prototype.tW=function(){this.Kd=this.bg;this.Af=-1};l.prototype.Wb=function(c,a){void 0===a&&(a=-1);if(0<=this.gb&&this.gb<this.ib.ea()){var b=this.AM();if(c>=b&&c<this.ib.Wc(this.gb)){this.Af=-1;this.Kd=c-b;return}}a=0<=a&&a<this.ib.ea()&&c>=this.ib.Ca(a)&&c<this.ib.Wc(a)?a:this.ib.nz(c);this.El=a+1;this.gb=a;this.Af=-1;this.Kd=c-this.ib.Ca(a);this.bg=this.Ux(a);this.ib.Ca(this.gb);this.ib.ec(this.gb)};l.prototype.ab=function(){this.gb=this.El;if(this.gb>=this.ib.ea())return!1;this.Af=-1;this.Kd=
0;this.bg=this.Ux(this.gb);this.ib.Ca(this.gb);this.ib.ec(this.gb);this.El++;return!0};l.prototype.$i=function(){this.bg=this.Kd=this.Af=-1;this.El=0;this.gb=-1};l.prototype.Ux=function(c){if(this.ib.Bc())return 0;var a=1;this.ib.ec(c)&&(a=0);return this.ib.Ka(c)-a};l.prototype.Pn=function(){return this.Af==this.bg-1&&this.ib.ec(this.gb)};l.prototype.DB=function(){this.Bm=!0};l.prototype.xb=function(){return this.ib.nb.o[this.gb]+this.Af};l.prototype.AM=function(){return this.ib.Ca(this.gb)};l.prototype.ik=
function(){return this.Pn()?this.ib.Ca(this.gb):this.xb()+1};l.prototype.xm=function(){return 0==this.Af};l.prototype.Rn=function(){return this.Af==this.bg-1};l.prototype.Ia=function(){return this.Kd<this.bg};l.prototype.zz=function(){return 0<this.Kd};l.prototype.Pf=function(){var c=new l(this.ib);c.Af=this.Af;c.Kd=this.Kd;c.bg=this.bg;c.gb=this.gb;c.El=this.El;c.ib=this.ib;c.Bm=this.Bm;return c};l.prototype.tD=function(){if(0>this.Kd||this.Kd>=this.bg)throw g.i.re();this.Af=this.Kd;var c=this.xb();
this.ib.rc();var a=this.ib.Se,b=1;null!=a&&(b=a.read(c)&7);a=this.ib.description;switch(b){case 1:null==this.tb&&(this.tb=new g.zb);this.rk=this.tb;break;case 2:throw g.i.ga("internal error");case 4:throw g.i.Ra();default:throw g.i.Ra();}this.rk.kg(a);b=this.ik();this.ib.Hc(c,this.Es);this.rk.Ec(this.Es);this.ib.Hc(b,this.Es);this.rk.Rc(this.Es);for(var d=1,e=a.Ba;d<e;d++)for(var f=a.qd(d),h=g.ua.Wa(f),k=0;k<h;k++){var m=this.ib.Vc(f,c,k);this.rk.RB(f,k,m);m=this.ib.Vc(f,b,k);this.rk.IB(f,k,m)}};
l.prototype.QS=function(){return this.gb==this.ib.ea()-1};l.prototype.Qn=function(){var c=this.ib.MR();return null!=c?1!=(c.read(this.Af)&7):!1};return l}();g.QL=u})(L||(L={}));(function(g){var u=function(){function l(c){c instanceof g.ba?(this.pH=c,this.za=-1,this.Fi=1):(this.kT=c.slice(0),this.za=-1,this.Fi=c.length)}l.prototype.Ma=function(){return this.za};l.prototype.next=function(){return this.za<this.Fi-1?(this.za++,null!=this.pH?this.pH:this.kT[this.za]):null};l.prototype.qe=function(){};
return l}();g.$c=u})(L||(L={}));(function(g){var u=function(){return function(){this.next=null}}(),l=function(){function c(){this.Vq=this.Lw=this.Mw=0;this.cF=!1;this.ZJ=0;this.jn=this.Lf=this.Yl=this.Kh=null;this.Ql=0;this.py=null;this.rl=this.pi=-1}c.prototype.oX=function(a,b,d){this.pi=a;this.rl=b;this.Kh=this.Yl=null;this.Vq=0;this.py=d;null==this.jn&&(this.jn=g.P.lg(384,0));this.fK()};c.prototype.S=function(){return this.pi};c.prototype.da=function(){return this.rl};c.prototype.flush=function(){0<
this.Ql&&(this.py.ZE(this.jn,this.Ql),this.Ql=0)};c.prototype.fK=function(){if(0<this.Vq){for(var a=0;a<this.rl;a++){for(var b=this.Yl[a];null!=b;){var d=b;b=b.next;d.next=null}this.Yl[a]=null}this.Kh=null}this.Mw=this.rl;this.Lw=-1;this.Vq=0};c.prototype.aJ=function(a){this.cF=a==c.Ax;for(a=this.Mw;a<=this.Lw;a++)this.kN(),this.dN(a),this.RP();this.fK()};c.prototype.ey=function(a,b,d,e){if(b!=e){var f=1;b>e&&(f=a,a=d,d=f,f=b,b=e,e=f,f=-1);if(!(0>e||b>=this.rl)){0>a&&0>d?d=a=-1:a>=this.pi&&d>=this.pi&&
(d=a=this.pi);var h=(d-a)/(e-b);e>this.rl&&(e=this.rl,d=h*(e-b)+a);0>b&&(a=h*(0-b)+a,b=0);var k=Math.max(this.pi+1,8388607);-8388607>a?(b=(0-a)/h+b,a=0):a>k&&(b=(this.pi-a)/h+b,a=this.pi);-8388607>d?e=(0-a)/h+b:d>k&&(e=(this.pi-a)/h+b);b=g.P.truncate(b);e=g.P.truncate(e);b!=e&&(d=new u,d.x=g.P.truncate(4294967296*a),d.y=b,d.H=e,d.OP=g.P.truncate(4294967296*h),d.dir=f,null==this.Yl&&(this.Yl=g.P.lg(this.rl,null)),d.next=this.Yl[d.y],this.Yl[d.y]=d,d.y<this.Mw&&(this.Mw=d.y),d.H>this.Lw&&(this.Lw=d.H),
this.Vq++)}}};c.prototype.kN=function(){if(null!=this.Kh){for(var a=!1,b=null,d=this.Kh;null!=d;)if(d.y++,d.y==d.H){var e=d;d=d.next;null!=b?b.next=d:this.Kh=d;e.next=null}else d.x+=d.OP,null!=b&&b.x>d.x&&(a=!0),b=d,d=d.next;a&&(this.Kh=this.YJ(this.Kh))}};c.prototype.dN=function(a){if(!(a>=this.rl)){var b=this.Yl[a];if(null!=b){this.Yl[a]=null;b=this.YJ(b);this.Vq-=this.ZJ;a=this.Kh;for(var d=!0,e=b,f=null;null!=a&&null!=e;)a.x>e.x?(d&&(this.Kh=e),d=e.next,e.next=a,null!=f&&(f.next=e),f=e,e=d):(d=
a.next,a.next=e,null!=f&&(f.next=a),f=a,a=d),d=!1;null==this.Kh&&(this.Kh=b)}}};c.XJ=function(a,b){return 0>a?0:a>b?b:a};c.prototype.RP=function(){if(null!=this.Kh)for(var a=0,b=this.Kh,d=g.P.truncate(g.P.OG(b.x)),e=b.next;null!=e;e=e.next)if(a=this.cF?a^1:a+e.dir,e.x>b.x){var f=g.P.truncate(g.P.OG(e.x));0!=a&&(b=c.XJ(d,this.pi),d=c.XJ(f,this.pi),d>b&&b<this.pi&&(this.jn[this.Ql++]=b,this.jn[this.Ql++]=d,this.jn[this.Ql++]=e.y,this.Ql==this.jn.length&&(this.py.ZE(this.jn,this.Ql),this.Ql=0)));b=e;
d=f}};c.prototype.YJ=function(a){for(var b=0,d=a;null!=d;d=d.next)b++;this.ZJ=b;if(1==b)return a;null==this.Lf?this.Lf=g.P.lg(Math.max(b,16),null):this.Lf.length<b&&(this.Lf=g.P.lg(Math.max(b,2*this.Lf.length),null));var e=0;for(d=a;null!=d;d=d.next)this.Lf[e++]=d;2==b?this.Lf[0].x>this.Lf[1].x&&(a=this.Lf[0],this.Lf[0]=this.Lf[1],this.Lf[1]=a):c.sN(this.Lf,b,function(f,h){return f==h?0:f.x<h.x?-1:f.x>h.x?1:0});a=this.Lf[0];this.Lf[0]=null;d=a;for(e=1;e<b;e++)d.next=this.Lf[e],d=this.Lf[e],this.Lf[e]=
null;d.next=null;return a};c.sN=function(a,b,d){if(b==a.length)a.sort(d);else{var e=a.slice(0,0),f=a.slice(b);b=a.slice(0,b).sort(d);a.length=0;a.push.apply(a,e.concat(b).concat(f))}};c.Ax=0;return c}();g.Nx=l})(L||(L={}));(function(g){var u=function(){function l(){}l.prototype.vi=function(c,a){var b=this.g.Qa(c,this.Rq);this.Fl==b&&(this.Fl=this.oe.lb(this.Fl));this.io==b&&(this.io=this.oe.lb(this.io));this.oe.kd(this.LA,b);this.bk(c);if(a&&(a=this.g.cd(c),-1!=a&&this.g.Ya(a)==c)){var d=this.g.V(c);
if(d!=c){b=this.g.cd(d);if(b==a){this.g.Kf(a,d);return}d=this.g.Na(c);if(d!=c&&(b=this.g.cd(d),b==a)){this.g.Kf(a,d);return}}this.g.Kf(a,-1);this.g.Xg(a,-1)}};l.prototype.hD=function(){for(var c=!1,a=new g.h;;){null==this.Xh?(this.Xh=new g.ja(0),this.As=new g.ja(0),this.ye=new g.ja(0)):(this.Xh.clear(!1),this.As.clear(!1),this.ye.clear(!1));for(var b=this.io,d=0,e=!0;b!=this.Fl;){var f=this.oe.getData(b),h=new g.h;this.g.Hc(f,h);e&&(this.g.Hc(f,a),e=!1);h=this.g.Na(f);var k=this.g.V(f);-559038737!=
this.g.Qa(h,this.zg)&&(this.Xh.add(h),this.g.Sa(h,this.zg,-559038737),this.As.add(f),this.ye.add(d++));-559038737!=this.g.Qa(k,this.zg)&&(this.Xh.add(k),this.g.Sa(k,this.zg,-559038737),this.As.add(f),this.ye.add(d++));b=this.oe.lb(b)}if(2>this.Xh.size)break;var m=this;this.ye.Wd(0,this.ye.size,function(n,p){return m.hM(n,p)});b=0;for(d=this.ye.size;b<d;b++)e=this.ye.get(b),e=this.Xh.get(e),this.g.Sa(e,this.zg,b),h=new g.h,this.g.Hc(e,h);h=this.LM(a);b=0;for(d=this.ye.size;b<d;b++)e=this.ye.get(b),
-1!=e&&(e=this.Xh.get(e),this.g.Sa(e,this.zg,-1));if(h)c=!0;else break}return c};l.prototype.LM=function(c){for(var a=!1,b=!0;b;){b=!1;var d=0;-1==this.ye.get(d)&&(d=this.em(d));for(var e=this.em(d),f=0,h=this.ye.size;f<h&&-1!=d&&-1!=e&&d!=e;f++){var k=this.ye.get(d);e=this.ye.get(e);k=this.Xh.get(k);e=this.Xh.get(e);var m=this.g.V(k);this.g.Ev(m,c)||(m=this.g.Na(k));var n=this.g.V(e);this.g.Ev(n,c)||(n=this.g.Na(e));var p=this.qu(m,k),q=this.qu(n,e),r=p?this.g.Na(m):this.g.V(m),t=q?this.g.Na(n):
this.g.V(n),v=!1;this.tp(m)?v=!0:this.tp(n)?v=!0:this.tp(k)?v=!0:this.tp(e)?v=!0:this.tp(r)?v=!0:this.tp(t)&&(v=!0);!v&&this.g.hq(k,e)&&(v=!0,this.lD(p,q,m,k,n,e));!v&&this.g.hq(r,t)&&(v=!0,this.lD(!p,!q,m,r,n,t));v&&(a=!0);b=b||v;d=this.em(d);e=this.em(d)}}if(!a)for(d=0,-1==this.ye.get(d)&&(d=this.em(d)),e=this.em(d),f=0,h=this.ye.size;f<h&&-1!=d&&-1!=e&&d!=e;f++)k=this.ye.get(d),e=this.ye.get(e),k=this.Xh.get(k),e=this.Xh.get(e),m=this.g.V(k),this.g.Ev(m,c)||(m=this.g.Na(k)),n=this.g.V(e),this.g.Ev(n,
c)||(n=this.g.Na(e)),p=this.qu(m,k),q=this.qu(n,e),r=p?this.g.Na(m):this.g.V(m),t=q?this.g.Na(n):this.g.V(n),this.vM(p,q,k,m,r,e,n,t)&&(a=!0),d=this.em(d),e=this.em(d);return a};l.prototype.PM=function(){1736==this.g.jc(this.Y)&&1==this.g.Jn(this.Y)&&(new g.Hg).CU(this.gw,this.g,this.Y,this.nd);var c=!1,a=!0;this.zg=this.Rq=-1;var b=this.g.I(this.Y),d=new g.ja(0);d.Jb(b);for(var e=this.g.Ob(this.Y);-1!=e;e=this.g.Sb(e))for(var f=this.g.Ya(e),h=0,k=this.g.Ka(e);h<k;h++)d.add(f),f=this.g.V(f);var m=
this.g.ud.o,n=this.g.ud.Mf;this.g.wb.rc();var p=this.g.wb.Aa[0].o;d.Wd(0,b,function(r,t){var v=m[n*r],M=m[n*t],W=p[2*v];v=p[2*v+1];var U=p[2*M];M=p[2*M+1];W=v<M?-1:v>M?1:W<U?-1:W>U?1:0;0==W&&(r=m[n*r+3],t=m[n*t+3],W=r<t?-1:r==t?0:1);return W});this.Rq=this.g.Hd();this.oe=new g.kp;this.LA=this.oe.Qh(0);this.oe.hn(b);for(e=0;e<b;e++)f=d.get(e),h=this.oe.addElement(this.LA,f),this.g.Sa(f,this.Rq,h);this.zg=this.g.Hd();this.Fl=-1;for(this.VC()&&(c=!0);a;){a=!1;b=0;d=!1;do{d=!1;this.io=-1;k=0;e=new g.h;
h=new g.h;for(var q=this.oe.sc(this.LA);-1!=q;)f=this.oe.getData(q),-1!=this.io?(this.g.Hc(f,h),e.rb(h))?k++:(e.N(h),this.Fl=q,0<k&&(f=this.hD())&&(d=!0,-1!=this.Fl&&(f=this.oe.getData(this.Fl),this.g.Hc(f,e))),this.io=q=this.Fl,k=0):(this.io=q,this.g.Hc(this.oe.getData(q),e),k=0),-1!=q&&(q=this.oe.lb(q));this.Fl=-1;0<k&&(f=this.hD())&&(d=!0);if(10<b++)throw g.i.Ra();d&&this.yM();this.VC()&&(d=!0);a=a||d&&!1;c=c||d}while(d)}this.g.Ud(this.Rq);this.g.Ud(this.zg);return c=g.OL.W(this.g,this.Y,this.oe,
this.gw)||c};l.prototype.qu=function(c,a){return this.g.V(a)==c?!1:!0};l.prototype.vM=function(c,a,b,d,e,f,h,k){if(d==h)return this.bk(b),this.bk(f),!1;var m=this.g.Qa(b,this.zg),n=this.g.Qa(e,this.zg),p=this.g.Qa(f,this.zg),q=this.g.Qa(k,this.zg);b=[0,0,0,0,0,0,0,0];var r=[0,0,0,0];b[0]=0;r[0]=m;b[1]=0;r[1]=n;b[2]=1;r[2]=p;b[3]=1;r[3]=q;for(m=1;4>m;m++){n=r[m];p=b[m];for(q=m-1;0<=q&&r[q]>n;)r[q+1]=r[q],b[q+1]=b[q],q--;r[q+1]=n;b[q+1]=p}r=0;0!=b[0]&&(r|=1);0!=b[1]&&(r|=2);0!=b[2]&&(r|=4);0!=b[3]&&
(r|=8);if(5!=r&&10!=r)return!1;c==a?c?(this.g.Cc(k,d),this.g.Dc(d,k),this.g.Cc(e,h),this.g.Dc(h,e)):(this.g.Dc(k,d),this.g.Cc(d,k),this.g.Dc(e,h),this.g.Cc(h,e)):c?(this.g.Dc(d,f),this.g.Cc(f,d),this.g.Dc(h,e),this.g.Cc(e,h)):(this.g.Cc(d,f),this.g.Dc(f,d),this.g.Cc(h,e),this.g.Dc(e,h));return!0};l.prototype.lD=function(c,a,b,d,e,f){this.BY?this.NM():this.MM(c,a,b,d,e,f)};l.prototype.NM=function(){throw g.i.ga("not implemented.");};l.prototype.MM=function(c,a,b,d,e,f){if(c!=a)c?(this.g.Cc(b,e),this.g.Dc(e,
b),this.g.Cc(f,d),this.g.Dc(d,f),this.wn(e,b),this.vi(e,!0),this.g.ni(e,!0),this.bk(b),this.wn(f,d),this.vi(f,!0),this.g.ni(f,!1)):(this.g.Cc(e,b),this.g.Dc(b,e),this.g.Cc(d,f),this.g.Dc(f,d),this.wn(e,b),this.vi(e,!0),this.g.ni(e,!1),this.bk(b),this.wn(f,d),this.vi(f,!0),this.g.ni(f,!0)),this.bk(d);else{var h=c?b:d,k=a?e:f;c=c?d:b;a=a?f:e;e=!1;this.g.Cc(h,k);this.g.Cc(k,h);this.g.Dc(c,a);this.g.Dc(a,c);for(f=a;f!=k;)b=this.g.Na(f),d=this.g.V(f),this.g.Dc(f,d),this.g.Cc(f,b),e=e||f==h,f=d;e||(b=this.g.Na(k),
d=this.g.V(k),this.g.Dc(k,d),this.g.Cc(k,b));this.wn(k,h);this.vi(k,!0);this.g.ni(k,!1);this.bk(h);this.wn(a,c);this.vi(a,!0);this.g.ni(a,!1);this.bk(c)}};l.prototype.VC=function(){for(var c=!1,a=this.g.Ob(this.Y);-1!=a;){for(var b=this.g.Ya(a),d=0,e=this.g.Ka(a);d<e&&1<e;){var f=this.g.Na(b),h=this.g.V(b);this.g.hq(f,h)?(c=!0,this.vi(b,!1),this.g.pd(b,!0),this.vi(h,!1),this.g.pd(h,!0),b=f,d=0,e=this.g.Ka(a)):(b=h,d++)}if(2>this.g.Ka(a)){c=this.g.Ya(a);d=0;for(e=this.g.Ka(a);d<e;d++)this.vi(c,!1),
c=this.g.V(c);a=this.g.ar(a);c=!0}else a=this.g.Sb(a)}return c};l.prototype.tp=function(c){for(var a=!1;;){var b=this.g.V(c),d=this.g.Na(c);if(b==c)return this.vi(c,!0),this.g.ni(c,!1),!0;if(!this.g.hq(b,d))break;a=!0;this.bk(d);this.bk(b);this.vi(c,!0);this.g.ni(c,!1);this.wn(b,d);this.vi(b,!0);this.g.ni(b,!0);if(b==d)break;c=d}return a};l.prototype.yM=function(){for(var c=0,a=this.oe.sc(this.oe.je);-1!=a;a=this.oe.lb(a)){var b=this.oe.getData(a);this.g.bj(b,-1)}for(var d=0,e=this.g.Ob(this.Y);-1!=
e;)if(a=this.g.Ya(e),-1==a||-1!=this.g.cd(a))b=e,e=this.g.Sb(e),this.g.br(b);else{this.g.bj(a,e);var f=1;for(b=this.g.V(a);b!=a;b=this.g.V(b))this.g.bj(b,e),f++;this.g.ep(e,!1);this.g.Wj(e,f);this.g.Xg(e,this.g.Na(a));d+=f;c++;e=this.g.Sb(e)}for(a=this.oe.sc(this.oe.je);-1!=a;a=this.oe.lb(a))b=this.oe.getData(a),-1==this.g.cd(b)&&(e=this.g.fG(this.Y,b,b,null),d+=this.g.Ka(e),c++);this.g.Tl(this.Y,c);this.g.Uj(this.Y,d);c=0;for(d=this.g.ld;-1!=d;d=this.g.ve(d))c+=this.g.I(d);this.g.VB(c)};l.prototype.em=
function(c){for(var a=0,b=this.ye.size-1;a<b;a++)if(c=(c+1)%this.ye.size,-1!=this.ye.get(c))return c;return-1};l.prototype.wn=function(c,a){var b=this.g.Qa(a,this.Rq),d=this.g.Qa(a,this.zg);this.g.eC(c,a);this.g.Sa(a,this.Rq,b);this.g.Sa(a,this.zg,d)};l.prototype.bk=function(c){var a=this.g.Qa(c,this.zg);-1!=a&&(this.ye.set(a,-1),this.g.Sa(c,this.zg,-1))};l.W=function(c,a,b,d,e){var f=new l;f.g=c;f.Y=a;f.rA=b;f.gw=d;f.nd=e;return f.PM()};l.prototype.hM=function(c,a){var b=this.Xh.get(c),d=new g.h;
this.g.Hc(b,d);b=new g.h;var e=this.Xh.get(a);this.g.Hc(e,b);if(d.rb(b))return 0;e=this.As.get(c);c=new g.h;this.g.Hc(e,c);e=this.As.get(a);a=new g.h;this.g.Hc(e,a);e=new g.h;e.vc(d,c);d=new g.h;d.vc(b,a);return g.h.ou(e,d)};return l}();g.tn=u})(L||(L={}));(function(g){(function(l){l[l.Local=0]="Local";l[l.Geographic=1]="Geographic";l[l.Projected=2]="Projected";l[l.Image=3]="Image";l[l.Unknown=4]="Unknown"})(g.SL||(g.SL={}));(function(l){l[l.Integer32=0]="Integer32";l[l.Integer64=1]="Integer64";l[l.FloatingPoint=
2]="FloatingPoint"})(g.LL||(g.LL={}));var u=function(){function l(){this.qp="";this.tu=null;this.eg=0;this.RH=this.Io=-1;this.xh=null}l.prototype.Fc=function(){return this.eg};l.prototype.NF=function(){return 1};l.prototype.Yd=function(){var c=.001;0!=this.eg?c=g.yr.uQ(this.eg):null!=this.xh&&(c=g.PC.vQ(this.xh));return c};l.prototype.wz=function(){return this.xh};l.prototype.Id=function(){if(0!=this.eg)return g.Uc.$g(g.yr.Ny(this.eg));if(null!=this.xh)return g.PC.wQ(this.xh)};l.Tb=function(c){if(0!=
c.eg){if(!0===g.yr.PS(c.eg))return 1;if(!0===g.yr.RS(c.eg))return 2}return 4};l.prototype.bs=function(){var c=this.Fc();if(-1!=this.Io)return this.Io;this.Io=g.yr.xK(c);return-1!=this.Io?this.Io:c};l.create=function(c){if(0>=c)throw g.i.O("Invalid or unsupported wkid: "+c);var a=new l;a.eg=c;return a};l.iP=function(c){if(null==c||0==c.length)throw g.i.O("Cannot create SpatialReference from null or empty text.");var a=new l;a.xh=c;return a};l.prototype.Nb=function(c){return this==c?!0:null==c||this.constructor!=
c.constructor||this.eg!=c.eg||0==this.eg&&this.xh!==c.xh?!1:!0};l.prototype.toString=function(){return"[ tol: "+this.Ln()+"; wkid: "+this.Fc()+"; wkt: "+this.wz()+"]"};l.prototype.dc=function(){if(""!==this.qp)return this.qp;var c=this.toString();if(Array.prototype.reduce)return this.qp="S"+c.split("").reduce(function(d,e){d=(d<<5)-d+e.charCodeAt(0);return d&d},0);var a=0;if(0===c.length)return"";for(var b=0;b<c.length;b++)a=(a<<5)-a+c.charCodeAt(b),a&=a;return this.qp="S"+a};l.prototype.Ln=function(){return this.Yd(0)};
l.prototype.gh=function(){return null!==this.tu?this.tu:this.tu=g.hu.qP(this)};l.RN=2147483645;l.SN=9007199254740990;return l}();g.Gg=u})(L||(L={}));(function(g){var u=function(l){function c(){var a=null!==l&&l.apply(this,arguments)||this;a.Ki=null;a.IT=null;a.Jq=new g.RL;a.Fo=null;a.kw=null;return a}fa(c,l);c.qP=function(a){var b=new c;b.eg=a.eg;b.Io=a.Io;b.RH=a.RH;b.xh=a.xh;if(""!==b.xh&&null!==b.xh){a=c.cM(b.xh);var d=c.aM(b.xh);b.Jq.Vx(a,d,g.iu.Integer64);b.$x(a);b.by(d);b.eg=a.bs()}else a=c.bM(b.eg),
b.$x(a),b.by(null),b.Jq.Vx(a,null,g.iu.Integer64);return b};c.prototype.Yd=function(a){return this.Jq.Ln(a)};c.aM=function(a){if(0>=a.length)throw g.i.O();var b=null;try{b=g.FC.fromString(a)}catch(d){b=null}return null==b?null:c.UC(b,!0)};c.prototype.$x=function(a){this.Ld=a;this.Fo=this.Ld.Id()};c.prototype.by=function(a){this.CH=a;this.IT=null!=this.CH?this.CH.Fo:null};c.prototype.Xc=function(){return 0==this.Tb()||3==this.Tb()?!1:this.Ld.Xc()};c.prototype.AG=function(){return 0==this.Tb()?!1:3==
this.Tb()?this.Ki.fk().Xc():this.Ld.Xc()};c.prototype.fh=function(){return null!=this.Ld?this.Ld.Re:null};c.prototype.rm=function(){return this.Ld.rm()};c.prototype.bf=function(){return this.Ld.bf()};c.prototype.ih=function(){return null!=this.Ld?this.Ld.tw:NaN};c.prototype.Wp=function(){return this.Ld.Wp()};c.prototype.Xr=function(){return this.Ld.Xr()};c.prototype.kk=function(){return this.Ld.kk()};c.prototype.bS=function(a){return g.GC.Ky(this.Ld,a.Ld)};c.prototype.ol=function(){return this.Ld.ol()};
c.prototype.Wr=function(){return this.Ld.Wr()};c.prototype.Ai=function(){return 3==this.Tb()?this.Ki.fk().Ai():this.Ld.Ai()};c.prototype.hh=function(){if(!this.Xc())throw g.i.O("!isPannable()");var a=new g.l;this.Ld.hh(a);return a};c.prototype.Le=function(){if(!this.Xc())throw g.i.O("!isPannable()");return this.Ld.to};c.prototype.zR=function(){if(!this.Xc())throw g.i.O("!isPannable()");var a=new g.l;this.Ld.yR(a);return a};c.prototype.qv=function(){if(!this.Xc())throw g.i.O("!isPannable()");return this.Ld.qv()};
c.prototype.pv=function(){if(!this.Xc())throw g.i.O("!isPannable()");return this.Ld.pv()};c.prototype.Yr=function(){return null!=this.Ki?this.Ki.fk().Yr():this.Ld.Yr()};c.prototype.HQ=function(){return this.Ld.jv()};c.prototype.Sp=function(){return this.Fo.getUnitFactor()};c.prototype.pz=function(a){return this.Jq.pz(a)};c.prototype.tc=function(){var a=this.Tb();if(1==a)return this;if(3==a)return this.Ki.fk().tc();if(0==a)throw g.i.ga("invalid call");if(4===a)throw g.i.ga("invalid call");if(null!==
this.kw)return this.kw;a=this.fh().getGeogcs();if(null==a)throw g.i.Ra();return this.kw=c.UE(a,this.Jq.NF())};c.UE=function(a,b){if(null==a)throw g.i.O("null pointer.");var d=new c;a=c.nu(a,!0);d.Jq.Vx(a,null,b);d.$x(a);d.by(null);d.eg=a.bs();return d};c.prototype.Tb=function(){var a=this.fh();if(null!=a)switch(a.getType()){case g.Tc.PE_TYPE_GEOGCS:return 1;case g.Tc.PE_TYPE_PROJCS:return 2}return 4};c.prototype.jv=function(){return this.Ld.jv()};c.nu=function(a,b){var d=a.getCode();if(0>=d&&(d=g.qf.getCode(a),
0<d)){a=g.qf.coordsys(d);if(null==a)throw g.i.O("Text to wkid mapping had failed: "+d);return c.nu(a,b)}if(b&&0<d&&(b=c.px[d]))return b;b=g.Ab.yv(a,d,!1);var e=c.dK[b];if(e)return e;a=0>=d?a:g.qf.coordsys(d);a=new g.GC(a);c.dK[b]=a;0<d&&(c.px[d]=a);return a};c.bM=function(a){if(0>=a)throw g.i.O("Invalid or unsupported wkid: "+a);var b=c.px[a];if(null!=b)return b;b=g.qf.coordsys(a);if(null==b)throw g.i.O("Invalid or unsupported wkid: "+a);b=c.nu(b,!1);b.bs()!=a&&(c.px[a]=b);return b};c.cM=function(a){if(null==
a||void 0===a||0==a.length)throw g.i.O("Cannot create SpatialReference from null or empty text.");var b=null;try{b=g.qf.fromString(g.Tc.PE_TYPE_COORDSYS,a)}catch(d){throw g.i.O("Cannot create SpatialReference from text. "+d.message);}if(null===b)throw g.i.O("Cannot create SpatialReference from text. ");return c.nu(b,!0)};c.UC=function(a,b){var d=a.getCode();if(0>=d&&(d=g.qf.getCode(a),0<d)){d=g.qf.vertcs(d);if(null===d)throw g.i.O();return c.UC(d,b)}if(b&&0<d&&(b=c.cK[d]))return b;a=g.Ab.yv(a,d,!1);
if(b=c.eK[a])return b;var e;0>=d||(e=g.qf.vertcs(d));if(null===e)throw g.i.O();e=new g.HL(e);c.eK[a]=e;0<d&&(c.cK[d]=e);return e};c.kI=function(a,b){if(null===b||b.B())return null;var d=new g.l;if(null!==b&&1!=a.Tb()){var e=a.tc(),f=e.fh();a=g.xr.Or(a,e,null,null);b=g.Fx.local().W(b,a,null)}else f=a.fh();b.A(d);b=f.getPrimem().getLongitude();f=f.getUnit().getUnitFactor();return new g.DC(d.v,d.G,d.C,d.H,b,f)};c.dD=function(a){var b={name:"",steps:[],_pt:null,_entry:null},d=0;for(a=a.getEntries();d<
a.length;d++){var e=a[d],f={AY:!1,OY:"",NY:-1,geogtran:null};0===e.getDirection()?f.isInverse=!1:f.isInverse=!0;var h=e.getGeogtran().getCode();-1<h?f.wkid=h:f.wkt=e.getGeogtran().toString();b.steps.push(f)}return b};c.OR=function(a,b,d,e){void 0===d&&(d=null);d=c.kI(e,d);a=g.mp.getGTlist(a.fh(),b.fh(),2,g.mp.PE_GTLIST_OPTS_COMMON,d,1);b=null;a&&0<a.length&&(b=this.dD(a[0]),g.Kx.destroy(a));null!==d&&d.destroy();return b};c.PR=function(a,b,d,e){var f;void 0===d&&(d=null);void 0===e&&(e=null);void 0===
f&&(f=30);d=c.kI(e,d);a=g.mp.getGTlist(a.fh(),b.fh(),2,g.mp.PE_GTLIST_OPTS_COMMON,d,f);b=[];if(a&&0<a.length){for(f=0;f<a.length;f++)b.push(this.dD(a[f]));g.Kx.destroy(a)}null!==d&&d.destroy();return b};c.px={};c.dK={};c.cK={};c.eK={};return c}(g.Gg);g.hu=u})(L||(L={}));(function(g){var u;(function(c){c[c.Integer32=0]="Integer32";c[c.Integer64=1]="Integer64";c[c.FloatingPoint=2]="FloatingPoint"})(u=g.iu||(g.iu={}));var l=function(){function c(){this.rp()}c.prototype.assign=function(a){this.Hm=a.Hm;
this.Im=a.Im;this.Qj=a.Qj;this.mA=a.mA;this.Go=a.Go;this.lA=a.lA;this.Ik=a.Ik;this.Oq=a.Oq;this.Nq=a.Nq;this.Tm=a.Tm};c.prototype.NF=function(){return this.Tm};c.prototype.rp=function(){this.Im=this.Hm=0;this.Qj=1;this.mA=0;this.Go=1;this.lA=0;this.Nq=this.Oq=this.Ik=2.220446049250313E-14;this.Tm=u.FloatingPoint};c.prototype.Vx=function(a,b,d){this.rp();this.Tm=d;if(d!=u.FloatingPoint){var e=new g.l;a.$Q(e);this.Hm=e.v;this.Im=e.G}else this.Im=this.Hm=-1.7976931348623157E308;e=a.Re.getType();e==g.Tc.PE_TYPE_GEOGCS?
(e=(d==u.Integer64?1E-9:1/18E5)*a.bf(),this.Qj=1/e):e==g.Tc.PE_TYPE_PROJCS&&(e=(d==u.Integer64?1E-4:.001)*a.rm(),this.Qj=1/e);null!=b?(e=(d==u.Integer32?.001:1E-4)*b.AH,this.Go=1/e):this.Go=1E4;this.QM();this.Ik=a.tw;this.Oq=null!=b?.001*b.AH:.001;this.Nq=2.220446049250313E-14};c.prototype.QM=function(){if(this.Tm!=u.FloatingPoint){var a=this.Tm==u.Integer64?g.Gg.SN:g.Gg.RN,b=a/this.Qj,d=this.Hm+b,e=g.P.truncate((d-this.Hm)*this.Qj);e>a&&(this.Qj=a/(d-this.Hm));b=this.Im+b;e=g.P.truncate((b-this.Im)*
this.Qj);e>a&&(this.Qj=a/(b-this.Im))}};c.prototype.UB=function(a){switch(a){case 0:this.Ik=void 0;case 1:this.Oq=void 0;case 2:this.Nq=void 0}};c.prototype.Ln=function(a){switch(a){case 0:return this.Ik;case 1:return this.Oq;case 2:return this.Nq}return 0};c.prototype.pz=function(a){if(this.Tm==u.FloatingPoint)return 0;switch(a){case 0:return 1/this.Qj;case 1:return 1/this.Go;case 2:return 1/this.Go;default:return 0}};c.prototype.toString=function(){var a="SRPD [m_toleranceXY: "+this.Ik.toString();
a=a+";m_falseX: "+this.Hm.toString();a=a+";m_falseY: "+this.Im.toString();a=a+";m_unitsXY: "+this.Qj.toString();a=a+";m_falseZ: "+this.mA.toString();a=a+";m_unitsZ: "+this.Go.toString();a=a+";m_falseM: "+this.lA.toString();a=a+";m_toleranceZ: "+this.Oq.toString();a=a+";m_toleranceM: "+this.Nq.toString();a=a+";m_precision: "+this.Tm.toString();return a+"] "};return c}();g.RL=l})(L||(L={}));(function(g){function u(e,f){89.99999<f?f=89.99999:-89.99999>f&&(f=-89.99999);f*=.017453292519943;return[111319.49079327169*
e,3189068.5*Math.log((1+Math.sin(f))/(1-Math.sin(f)))]}function l(e,f,h){e=e/6378137*57.29577951308232;return h?[e,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*f/6378137)))]:[e-360*Math.floor((e+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*f/6378137)))]}function c(e,f,h){var k=e.Pf();if(33===e.K())f=f(k.Mg(),k.jh()),k.Db(f[0],f[1]);else if(197===e.K()){var m=f(e.fs(),e.hs(),h);f=f(e.es(),e.gs(),h);k.L(m[0],m[1],f[0],f[1])}else for(m=new g.h,e=0;e<k.I();e++){k.D(e,
m);var n=f(m.x,m.y,h);m.na(n[0],n[1]);k.Db(e,m)}return k}function a(e){return c(e,l,!0)}function b(e){return c(e,u,!0)}var d=Math.PI/180;g.MK=function(){function e(){}e.wu=function(f){var h=Math.sqrt(.006694379990197414),k=Math.sin(f.y*d);return g.h.construct(6378137*f.x*d,3167719.6636462314*(k/(1-.006694379990197414*k*k)-1/(2*h)*Math.log((1-h*k)/(1+h*k))))};e.Tx=function(f,h,k,m){var n=1/298.257223563,p=Math.sin(k);k=Math.cos(k);var q=(1-n)*Math.tan(f);f=1/Math.sqrt(1+q*q);var r=q*f,t=Math.atan2(q,
k);q=f*p;var v=q*q,M=1-v,W=2.7233160610754688E11*M/4.040829998466145E13,U=1+W/16384*(4096+W*(-768+W*(320-175*W))),X=W/1024*(256+W*(-128+W*(74-47*W)));W=m/(6356752.31424518*U);for(var ia=2*Math.PI,ja,ka,sa,ta;1E-12<Math.abs(W-ia);)sa=Math.cos(2*t+W),ja=Math.sin(W),ka=Math.cos(W),ta=X*ja*(sa+X/4*(ka*(-1+2*sa*sa)-X/6*sa*(-3+4*ja*ja)*(-3+4*sa*sa))),ia=W,W=m/(6356752.31424518*U)+ta;m=r*ja-f*ka*k;M=n/16*M*(4+n*(4-3*M));return g.h.construct((h+(Math.atan2(ja*p,f*ka-r*ja*k)-(1-M)*n*q*(W+M*ja*(sa+M*ka*(-1+
2*sa*sa)))))/d,Math.atan2(r*ka+f*ja*k,(1-n)*Math.sqrt(v+m*m))/d)};e.EM=function(f,h,k,m){var n=1/298.257223563,p=m-h,q=Math.atan((1-n)*Math.tan(f)),r=Math.atan((1-n)*Math.tan(k)),t=Math.sin(q);q=Math.cos(q);var v=Math.sin(r);r=Math.cos(r);var M=p,W=1E3;do{var U=Math.sin(M),X=Math.cos(M),ia=Math.sqrt(r*U*r*U+(q*v-t*r*X)*(q*v-t*r*X));if(0===ia)return 0;X=t*v+q*r*X;var ja=Math.atan2(ia,X),ka=q*r*U/ia,sa=1-ka*ka;U=X-2*t*v/sa;isNaN(U)&&(U=0);var ta=n/16*sa*(4+n*(4-3*sa)),za=M;M=p+(1-ta)*n*ka*(ja+ta*ia*
(U+ta*X*(-1+2*U*U)))}while(1E-12<Math.abs(M-za)&&0<--W);if(0===W)return t=m-h,{azimuth:Math.atan2(Math.sin(t)*Math.cos(k),Math.cos(f)*Math.sin(k)-Math.sin(f)*Math.cos(k)*Math.cos(t)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(f)*Math.sin(k)+Math.cos(f)*Math.cos(k)*Math.cos(m-h))};f=2.7233160610754688E11*sa/4.040829998466145E13;h=f/1024*(256+f*(-128+f*(74-47*f)));return{azimuth:Math.atan2(r*Math.sin(M),q*v-t*r*Math.cos(M)),QQ:6356752.31424518*(1+f/16384*(4096+f*(-768+f*(320-175*f))))*(ja-
h*ia*(U+h/4*(X*(-1+2*U*U)-h/6*U*(-3+4*ia*ia)*(-3+4*U*U)))),MY:Math.atan2(q*Math.sin(M),q*v*Math.cos(M)-t*r)}};e.bQ=function(f){var h=f.hasAttribute(1),k=f.hasAttribute(2),m=[],n=f.ea(),p=null,q=null;h&&(p=f.vb(1));k&&(q=f.vb(2));for(var r=new g.h,t=0;t<n;t++){for(var v=f.Ca(t),M=f.Ka(t),W=0,U=0,X=NaN,ia=NaN,ja=NaN,ka=NaN,sa=f.ec(t),ta=[],za=v;za<v+M;za++){f.D(za,r);ka=ja=NaN;var ya=[r.x,r.y];h&&(ja=p.get(za),ya.push(ja));k&&(n=q.get(za),ya.push(ka));za==v&&sa&&(W=r.x,U=r.y,X=ja,ia=ka);ta.push(ya)}!sa||
W==r.x&&U==r.y&&(!h||isNaN(X)&&isNaN(ja)||X==ja)&&(!k||isNaN(ia)&&isNaN(ka)||ia==ka)||ta.push(ta[0].slice(0));m.push(ta)}return m};e.Ry=function(f,h){f=e.bQ(f);637.100877141506>h&&(h=637.100877141506);for(var k=[],m,n=0;n<f.length;n++){var p=f[n];k.push(m=[]);m.push([p[0][0],p[0][1]]);var q,r,t=p[0][0]*d,v=p[0][1]*d;for(q=0;q<p.length-1;q++){var M=p[q+1][0]*d,W=p[q+1][1]*d;if(t!==M||v!==W){W=e.EM(v,t,W,M);M=W.azimuth;W=W.QQ;var U=W/h;if(1<U){for(r=1;r<=U-1;r++){var X=e.Tx(v,t,M,r*h);m.push([X.x,X.y])}r=
e.Tx(v,t,M,(W+Math.floor(U-1)*h)/2);m.push([r.x,r.y])}v=e.Tx(v,t,M,W);m.push([v.x,v.y]);t=v.x*d;v=v.y*d}}}return{iJ:k}};e.PQ=function(f){for(var h=[],k=0;k<f.length;k++){var m=f[k];m=e.Ry(m,1E4);h.push(m)}f=[];for(var n=0;n<h.length;n++){m=h[n];var p=0;for(k=0;k<m.iJ.length;k++){var q=m.iJ[k],r=e.wu(g.h.construct(q[0][0],q[0][1])),t=e.wu(g.h.construct(q[q.length-1][0],q[q.length-1][1])),v=t.x*r.y-r.x*t.y,M;for(M=0;M<q.length-1;M++)r=e.wu(g.h.construct(q[M+1][0],q[M+1][1])),t=e.wu(g.h.construct(q[M][0],
q[M][1])),v+=t.x*r.y-r.x*t.y;p+=v}p/=1;f.push(p/-2)}return f};return e}();g.cb=function(){function e(){}e.rB=function(f,h,k,m,n,p,q){e.ZC[f.dc()]=h;0==isNaN(k)&&(e.eD[f.dc()]=k);0==isNaN(m)&&(e.rD[f.dc()]=m);0==isNaN(n)&&(e.TC[f.dc()]=n);e.fD[f.dc()]=p;null!==q&&(e.gD[f.dc()]=q)};e.Xw=function(f,h,k){e.kD[f.dc()+"-"+h.dc()]=k};e.tc=function(f){f=e.ZC[f.dc()];if(void 0==f)throw g.i.Fe();return f};e.bf=function(f){f=e.eD[f.dc()];if(void 0==f)throw g.i.Fe();return f};e.wv=function(f){f=e.rD[f.dc()];
if(void 0==f)throw g.i.Fe();return f};e.fv=function(f){f=e.TC[f.dc()];if(void 0==f)throw g.i.Fe();return f};e.hh=function(f){f=e.gD[f.dc()];if(void 0==f)throw g.i.Fe();return g.l.construct(f[0],f[1],f[2],f[3])};e.Xc=function(f){f=e.fD[f.dc()];if(void 0==f)throw g.i.Fe();return f};e.Ah=function(f,h,k){if(h.Nb(k))return f;var m=e.kD[h.dc()+"-"+k.dc()];if(void 0!==m)return m(f,h,k);throw g.i.Fe();};e.vt=function(){throw g.i.Fe();};e.UQ=function(){throw g.i.Fe();};e.UV=function(){throw g.i.Fe();};e.ol=
function(){throw g.i.Fe();};e.iW=function(){var f=g.Gg.create(102100),h=g.Gg.create(3857),k=g.Gg.create(4326);g.cb.rB(f,k,NaN,NaN,NaN,!1,null);g.cb.rB(k,k,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);g.cb.rB(h,k,NaN,NaN,NaN,!1,null);g.cb.Xw(f,k,a);g.cb.Xw(k,f,b);g.cb.Xw(h,k,a);g.cb.Xw(k,h,b)};e.ZC=[];e.eD=[];e.rD=[];e.TC=[];e.fD=[];e.gD=[];e.kD=[];return e}()})(L||(L={}));L.cb.iW();(function(g){var u=function(){function l(c){this.o=new Int32Array(0);this.jo=-1;this.Jg=this.size=this.Dl=0;
this.Mf=c}l.prototype.kd=function(c){c<this.Dl?(this.o[c*this.Mf]=this.jo,this.jo=c):this.Dl--;this.size--};l.prototype.U=function(c,a){return this.o[c*this.Mf+a]};l.prototype.T=function(c,a,b){this.o[c*this.Mf+a]=b};l.prototype.De=function(){var c=this.jo;if(-1==c){if(this.Dl==this.Jg){c=0!=this.Jg?g.P.truncate(3*(this.Jg+1)/2):1;2147483647<c&&(c=2147483647);if(c==this.Jg)throw g.i.re();this.yz(c)}c=this.Dl;this.Dl++}else this.jo=this.o[c*this.Mf];this.size++;for(var a=c*this.Mf;a<c*this.Mf+this.Mf;a++)this.o[a]=
-1;return c};l.prototype.Nl=function(c){var a=this.jo;if(-1==a){if(this.Dl==this.Jg){a=0!=this.Jg?g.P.truncate(3*(this.Jg+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.Jg)throw g.i.re();this.yz(a)}a=this.Dl;this.Dl++}else this.jo=this.o[a*this.Mf];this.size++;for(var b=a*this.Mf,d=0;d<c.length;d++)this.o[b+d]=c[d];return a};l.prototype.nj=function(c){this.jo=-1;this.size=this.Dl=0;c&&(this.o=null,this.Jg=0)};l.prototype.Ee=function(c){c>this.Jg&&this.yz(c)};l.prototype.rx=function(c,a){c*=this.Mf;
a*=this.Mf;for(var b=0;b<this.Mf;b++){var d=this.o[a+b];this.o[a+b]=this.o[c+b];this.o[c+b]=d}};l.prototype.$B=function(c,a,b){var d=this.o[this.Mf*a+b];this.o[this.Mf*a+b]=this.o[this.Mf*c+b];this.o[this.Mf*c+b]=d};l.DG=function(c){return 0<=c};l.prototype.yz=function(c){null==this.o&&(this.o=new Int32Array(0));var a=new Int32Array(this.Mf*c);a.set(this.o,0);this.o=a;this.Jg=c};return l}();g.ad=u})(L||(L={}));(function(g){var u;(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";
a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(u||(u={}));var l=function(){function a(b){this.Ce=b;this.zh=NaN;this.XG=new g.hg;this.YG=new g.hg;this.ns=new g.Oc;this.os=new g.Oc}a.prototype.compare=function(b,d,e){b=b.ka(e);this.Ce.jB(d,this.XG);this.Ce.jB(b,this.YG);d=this.XG.get();b=this.YG.get();this.ns.L(d.sa,d.qa);this.os.L(b.sa,b.qa);
if(this.ns.wa<this.os.pa)return-1;if(this.ns.pa>this.os.wa)return 1;e=d.oa==d.ma;var f=b.oa==b.ma;if(e||f){if(e&&f)return 0;if(d.oa==b.oa&&d.sa==b.sa)return e?1:-1;if(d.ma==b.ma&&d.qa==b.qa)return e?-1:1}e=d.Me(this.zh,this.ns.pa);f=b.Me(this.zh,this.os.pa);e==f&&(e=Math.min(d.ma,b.ma),f=.5*(e+this.zh),f==this.zh&&(f=e),e=d.Me(f,this.ns.pa),f=b.Me(f,this.os.pa));return e<f?-1:e>f?1:0};a.prototype.TJ=function(b){this.zh=b};return a}(),c=function(){function a(b){this.ib=b;this.OH=new g.hg;this.Cf=new g.h;
this.qA=new g.Oc}a.prototype.YW=function(b){this.Cf.N(b)};a.prototype.compare=function(b,d){this.ib.jB(b.ka(d),this.OH);b=this.OH.get();this.qA.L(b.sa,b.qa);if(this.Cf.x<this.qA.pa)return-1;if(this.Cf.x>this.qA.wa)return 1;b=b.Me(this.Cf.y,this.Cf.x);return this.Cf.x<b?-1:this.Cf.x>b?1:0};return a}();u=function(){function a(){this.$G=this.Ei=this.Hi=this.fA=this.Zn=this.ze=this.Lc=this.kh=this.ge=null;this.Ho=this.xg=-1;this.ZG=!0;this.jA=!1;this.gA=NaN;this.Oi=new g.Nd;this.UN=2147483647;this.TN=
g.P.truncate(-2147483648);this.dg=this.be=this.Jl=this.Eq=this.Em=this.Dq=this.Ps=this.Oe=-1;this.xa=0}a.prototype.sy=function(b){this.gA=b};a.prototype.$m=function(){null==this.ge&&(this.ge=new g.ad(8));var b=this.ge.De();this.ge.T(b,1,0);return b};a.prototype.lU=function(){null==this.Lc&&(this.Lc=new g.ad(8));var b=this.Lc.De();this.Lc.T(b,2,0);this.Lc.T(b,3,0);var d=this.Lc.De();this.Lc.T(d,2,0);this.Lc.T(d,3,0);this.BJ(b,d);this.BJ(d,b);return b};a.prototype.eI=function(){null==this.ze&&(this.ze=
new g.ad(8));var b=this.ze.De();this.ze.T(b,2,0);return b};a.prototype.HW=function(b,d){this.ge.T(b,7,d)};a.prototype.on=function(b,d){this.ge.T(b,2,d)};a.prototype.GW=function(b,d){this.ge.T(b,1,d)};a.prototype.ZW=function(b,d){this.ge.T(b,3,d)};a.prototype.WW=function(b,d){this.ge.T(b,4,d)};a.prototype.er=function(b,d){this.ge.T(b,5,d)};a.prototype.XQ=function(b){return this.ge.U(b,5)};a.prototype.FW=function(b,d){this.ge.T(b,6,d)};a.prototype.VM=function(b,d){this.FW(d,b)};a.prototype.AJ=function(b,
d){this.Lc.T(b,1,d)};a.prototype.BJ=function(b,d){this.Lc.T(b,4,d)};a.prototype.Vl=function(b,d){this.Lc.T(b,5,d)};a.prototype.Ul=function(b,d){this.Lc.T(b,6,d)};a.prototype.NW=function(b,d){this.Lc.T(b,2,d)};a.prototype.bx=function(b,d){this.Lc.T(b,3,d)};a.prototype.DF=function(b){return this.Lc.U(b,3)};a.prototype.Gt=function(b,d){this.Lc.T(b,7,d)};a.prototype.wK=function(b,d){if(-1!=this.om(b))for(d=d?-1:b,b=this.om(b);-1!=b;b=this.ks(b))this.g.Sa(this.uj(b),this.Eq,d)};a.prototype.wx=function(b,
d){-1!=b&&(this.wK(b,d),this.wK(this.ya(b),d))};a.prototype.Dt=function(b,d){this.ze.T(b,1,d)};a.prototype.Wg=function(b,d){this.ze.T(b,2,d)};a.prototype.ln=function(b,d){this.ze.T(b,3,d);this.DW(b,this.WQ(d));this.BW(d,b)};a.prototype.BW=function(b,d){this.ze.T(b,4,d)};a.prototype.DW=function(b,d){this.ze.T(b,5,d)};a.prototype.vJ=function(b,d){this.ze.T(b,6,d)};a.prototype.tJ=function(b,d){this.ze.T(b,7,d)};a.prototype.sJ=function(b,d){this.Zn.write(b,d)};a.prototype.uJ=function(b,d){this.fA.write(b,
d)};a.prototype.ZX=function(b){var d=0,e=0,f=this.sF(b),h=new g.h,k=new g.h,m=new g.h;this.Zr(f,h);k.N(h);var n=f;do this.nm(n,m),e+=g.h.ub(k,m),this.$e(this.ya(n))!=b&&(d+=(m.x-h.x-(k.x-h.x))*(m.y-h.y+(k.y-h.y))*.5),k.N(m),n=this.kc(n);while(n!=f);this.Zn.write(b,d);this.fA.write(b,e)};a.prototype.FU=function(b,d){var e=new l(this),f=new g.Yj;f.Ee(g.P.truncate(this.xa/2));f.Wo(e);for(var h=new g.ja(0),k=this.ah(),m=null,n=0,p=new g.h,q=this.Oe;-1!=q;q=this.Sf(q)){n++;if(0==(n&255)&&null!=d&&!d.progress(-1,
-1))throw g.i.OC();var r=this.Je(q);if(-1!=r){h.Ch(0);if(!this.VX(f,k,h,r)){this.D(q,p);e.TJ(p.y);var t=r;do{var v=this.Bb(t,k);-1!=v&&(f.wd(v,-1),this.Kb(t,k,-2));t=this.kc(this.ya(t))}while(r!=t);t=r;do v=this.Bb(t,k),-1==v&&(v=f.addElement(t,-1),h.add(v)),t=this.kc(this.ya(t));while(r!=t)}for(r=h.size-1;0<=r;r--)v=h.get(r),t=f.ka(v),this.Kb(this.ya(t),k,v),this.EU(f,v,b)}else-1==this.Yy(q)&&(null==m&&(m=new c(this)),this.D(q,p),m.YW(p),t=f.xW(m),r=this.Jl,-1!=t&&(v=f.ka(t),this.$e(v)==this.$e(this.ya(v))&&
(v=this.GF(f,t)),-1!=v&&(r=this.$e(v))),this.VM(r,q))}this.Lg(k)};a.prototype.EU=function(b,d,e){var f=b.ka(d),h=this.$e(f);if(-1==this.Hn(h)){var k=this.GF(b,d),m=this.ya(f),n=this.$e(m);this.Mp(h);this.Mp(n);var p=this.Hn(h),q=this.Hn(n);-1==k&&-1==p&&(n==h?(this.ln(n,this.Jl),p=q=this.Jl):(-1==q&&(this.ln(n,this.Jl),q=this.Jl),this.ln(h,n),p=n));if(-1!=k){var r=this.$e(k);-1==q&&(0>=this.Mp(r)?(q=this.Hn(r),this.ln(n,q)):(this.ln(n,r),q=r),n==h&&(p=q))}-1==p&&this.WX(h,n);0==e?this.$V(b,d,f,k,
h,n):5==e?this.aW(b,d,f,m,h,n):4==e&&this.ZV(f,k,h,n)}};a.prototype.$V=function(b,d,e,f,h,k){var m=this.hk(h);if(-1!=f){var n=this.hk(k),p=this.hk(this.$e(f));f=m&n&p;p^=p&this.eh(e);p|=f;0!=p&&(this.Wg(k,n|p),this.Wg(h,p|m),m=m||p)}for(d=b.lb(d);-1!=d;d=b.lb(d)){f=b.ka(d);e=this.$e(this.ya(f));h=this.hk(e);k=this.eh(f);n=this.$e(f);p=this.hk(n);f=h&p&m;m^=m&k;m|=f;if(0==m)break;this.Wg(e,h|m);this.Wg(n,p|m)}};a.prototype.aW=function(b,d,e,f,h,k){if(h!=k){e=this.Bb(e,this.dg);e+=this.Bb(f,this.dg);
f=0;var m=new g.ja(0),n=new g.ja(0);n.add(0);for(var p=b.sc(-1);p!=d;p=b.lb(p)){var q=b.ka(p),r=this.ya(q),t=this.$e(q),v=this.$e(r);if(t!=v){q=this.Bb(q,this.dg);q+=this.Bb(r,this.dg);f+=q;r=!1;0!=m.size&&m.Gc()==v&&(n.Jf(),m.Jf(),r=!0);if(-1==this.Hn(v))throw g.i.Ra();r&&this.Hn(v)==t||(n.add(f),m.add(t))}}f+=e;0!=m.size&&m.Gc()==k&&(n.Jf(),m.Jf());0!=f?0==n.Gc()&&(b=this.g.ld,b=this.Ma(b),this.Wg(h,b)):0!=n.Gc()&&(b=this.g.ld,b=this.Ma(b),this.Wg(h,b))}};a.prototype.ZV=function(b,d,e,f){var h=
this.Ma(this.g.ld);if(-1==d)this.Wg(f,this.Ho),b=this.Bb(b,this.xg),0!=(b&1)?this.Wg(e,h):this.Wg(e,this.Ho);else{var k=this.hk(f);0==k?(k=this.hk(this.$e(d)),this.Wg(f,k),b=this.Bb(b,this.xg),0!=(b&1)?this.Wg(e,k==h?this.Ho:h):this.Wg(e,k)):(b=this.Bb(b,this.xg),0!=(b&1)?this.Wg(e,k==h?this.Ho:h):this.Wg(e,k))}};a.prototype.VX=function(b,d,e,f){var h=f,k=-1,m=-1,n=0;do{if(2==n)return!1;var p=this.Bb(h,d);if(-1!=p){if(-1!=k)return!1;k=p}else{if(-1!=m)return!1;m=h}n++;h=this.kc(this.ya(h))}while(f!=
h);if(-1==m||-1==k)return!1;this.Kb(b.ka(k),d,-2);b.Tj(k,m);e.add(k);return!0};a.prototype.WX=function(b,d){var e=this.Mp(b);if(0!=e){var f=this.Mp(d);0<e&&0>f?this.ln(b,d):0>e&&0<f?this.ln(b,d):(d=this.Hn(d),-1!=d&&this.ln(b,d))}};a.prototype.nP=function(b,d){this.Eq=this.g.Hd();for(var e=0,f=d.size;e<f;e++){var h=d.get(e),k=this.g.Qa(h,this.Em),m=this.g.Rf(this.g.cd(h)),n=this.g.jc(m);if(g.ba.Ic(n)){var p=this.g.V(h);if(-1!=p){var q=this.g.Qa(p,this.Em);if(k!=q){var r=this.lU(),t=this.ya(r),v=this.kh.De();
this.kh.T(v,0,h);this.kh.T(v,1,-1);this.Gt(r,v);this.AJ(r,k);v=this.Je(k);-1==v?(this.on(k,r),this.Vl(r,t),this.Ul(t,r)):(k=this.ue(v),this.Vl(v,t),this.Ul(t,v),this.Ul(k,r),this.Vl(r,k));this.AJ(t,q);k=this.Je(q);-1==k?(this.on(q,t),this.Ul(r,t),this.Vl(t,r)):(q=this.ue(k),this.Vl(k,r),this.Ul(r,k),this.Ul(q,t),this.Vl(t,q));m=this.Ma(m);0==b?(this.Kb(t,this.be,0),this.Kb(r,this.be,1736==n?m:0)):5==b?(q=new g.h,this.g.D(h,q),h=new g.h,this.g.D(p,h),k=p=0,0>q.compare(h)?p=1:k=-1,this.Kb(t,this.be,
0),this.Kb(r,this.be,0),this.Kb(r,this.dg,p),this.Kb(t,this.dg,k)):7==b?(this.Kb(t,this.be,this.Ho),this.Kb(r,this.be,1736==n?m:0)):4==b&&(this.Kb(t,this.be,0),this.Kb(r,this.be,0),this.Kb(r,this.xg,1),this.Kb(t,this.xg,1));n=1736==n?this.TN:0;this.bx(r,m|n);this.bx(t,m|n)}}}}};a.prototype.LT=function(b,d){var e=this.om(d);if(-1!=e){var f=this.om(b);this.kh.T(e,1,f);this.Gt(b,e);this.Gt(d,-1)}b=this.ya(b);d=this.ya(d);e=this.om(d);-1!=e&&(f=this.om(b),this.kh.T(e,1,f),this.Gt(b,e),this.Gt(d,-1))};
a.prototype.wX=function(b){function d(ia,ja){return f.zO(ia,ja)}var e=new g.ja(0);e.Jb(10);for(var f=this,h=this.Oe;-1!=h;h=this.Sf(h)){e.clear(!1);var k=this.Je(h);if(-1!=k){var m=k;do e.add(m),m=this.kc(this.ya(m));while(m!=k);if(1<e.size){m=!0;if(2<e.size)e.Wd(0,e.size,d),e.add(e.get(0));else if(0<this.yO(e.get(0),e.get(1))){var n=e.get(0);e.set(0,e.get(1));e.set(1,n)}else m=!1;for(var p=n=e.get(0),q=this.vf(p),r=this.ya(p),t=-1,v=1,M=e.size;v<M;v++){var W=e.get(v),U=this.ya(W),X=this.jk(U);if(X==
q&&W!=p){if(0==b)t=this.DF(p)|this.DF(W),this.bx(p,t),this.bx(r,t),this.Kb(p,this.be,this.Bb(p,this.be)|this.Bb(W,this.be)),this.Kb(r,this.be,this.Bb(r,this.be)|this.Bb(U,this.be));else if(-1!=this.dg)t=this.Bb(p,this.dg)+this.Bb(W,this.dg),U=this.Bb(r,this.dg)+this.Bb(U,this.dg),this.Kb(p,this.dg,t),this.Kb(r,this.dg,U);else{if(7==b){this.Oi=new g.Nd(5,h,-1);return}-1!=this.xg&&(t=this.Bb(p,this.xg)+this.Bb(W,this.xg),U=this.Bb(r,this.xg)+this.Bb(U,this.xg),this.Kb(p,this.xg,t),this.Kb(r,this.xg,
U))}this.LT(p,W);this.Fy(W);t=p;e.set(v,-1);W==n&&(e.set(0,-1),n=-1)}else this.wx(t,!1),t=-1,p=W,q=X,r=U}this.wx(t,!1);t=-1;if(m){n=-1;v=0;for(M=e.size;v<M;v++)if(W=e.get(v),-1!=W)if(-1==n)p=n=W,q=this.vf(p),r=this.ya(p);else if(W!=p&&(U=this.ya(W),X=this.jk(U),this.Ul(r,W),this.Vl(W,r),p=W,q=X,r=U,7==b&&(this.Bb(W,this.be)|this.Bb(this.ue(W),this.be))==(this.Ho|1))){this.Oi=new g.Nd(5,h,-1);return}this.on(h,n)}else{n=-1;v=0;for(M=e.size;v<M;v++)if(W=e.get(v),-1!=W){n=W;break}k!=n&&this.on(h,n)}}}}};
a.prototype.ON=function(){for(var b=-1,d=this.ah(),e=this.Oe;-1!=e;e=this.Sf(e)){var f=this.Je(e);if(-1!=f){var h=f;do{if(1!=this.Bb(h,d)){var k=this.eI();this.Dt(k,h);this.tJ(k,b);-1!=b&&this.vJ(b,k);b=k;var m=0,n=h;do m|=this.Bb(n,this.be),this.NW(n,k),this.Kb(n,d,1),n=this.kc(n);while(n!=h);this.Wg(k,m)}h=this.kc(this.ya(h))}while(h!=f)}}k=this.eI();this.Dt(k,-1);this.tJ(k,b);-1!=b&&this.vJ(b,k);this.Jl=k;this.Zn=g.ce.rf(this.ze.size,NaN);this.fA=g.ce.rf(this.ze.size,NaN);this.sJ(this.Jl,Infinity);
this.uJ(this.Jl,Infinity);this.Lg(d)};a.prototype.jR=function(b,d,e){d=-1!=d?d:this.Je(b);if(-1==d)return-1;for(b=d;;){if(1!=this.Bb(d,e))return d;d=this.kc(this.ya(d));if(d==b)return-1}};a.prototype.oW=function(){for(var b=this.ah(),d=this.Oe;-1!=d;d=this.Sf(d))for(var e=-1;;){var f=this.jR(d,e,b);if(-1==f)break;e=this.kc(this.ya(f));for(var h=f;;){var k=this.kc(h),m=this.ue(h),n=this.ya(h);if(m==n){this.AP(h);if(e==h||e==n)e=-1;if(h==f||m==f){f=k;if(h==f||m==f)break;h=k;continue}}else this.Kb(h,
b,1);h=k;if(h==f)break}}this.Lg(b)};a.prototype.GB=function(b,d,e,f,h){this.Vg();this.ZG=h;this.g=b;this.Dq=this.g.TE();b=new g.ja(0);b.Jb(null!=e?this.g.I(e.get(0)):this.g.gd);var k=0,m=1,n=null!=e?e.get(0):this.g.ld;for(h=1;-1!=n;){this.g.zJ(n,this.Dq,m);m<<=1;for(var p=this.g.Ob(n);-1!=p;p=this.g.Sb(p))for(var q=this.g.Ya(p),r=0,t=this.g.Ka(p);r<t;r++)b.add(q),q=this.g.V(q);g.ba.Sn(this.g.jc(n))||(k+=this.g.ea(n));null!=e?(n=h<e.size?e.get(h):-1,h++):n=this.g.ve(n)}this.Ho=m;this.xa=b.size;this.g.mx(b,
this.xa);null==this.kh&&(this.kh=new g.ad(2),this.ge=new g.ad(8),this.Lc=new g.ad(8),this.ze=new g.ad(8));this.kh.Ee(this.xa);g.np.Bp(f);this.ge.Ee(this.xa+10);this.Lc.Ee(2*this.xa+32);this.ze.Ee(Math.max(32,k));this.Em=this.g.Hd();e=new g.h;h=0;k=new g.h;e.Sc();for(m=0;m<=this.xa;m++)if(m<this.xa?(q=b.get(m),this.g.D(q,k)):k.Sc(),!e.rb(k)){if(h<m){q=this.$m();for(t=r=-1;h<m;h++)t=b.get(h),this.g.Sa(t,this.Em,q),n=this.kh.De(),this.kh.T(n,0,t),this.kh.T(n,1,r),r=n,p=this.g.cd(t),n=this.g.Rf(p),n=
this.Ma(n),this.GW(q,this.yd(q)|n);this.HW(q,r);this.er(q,this.g.Va(t));-1!=this.Ps&&this.WW(this.Ps,q);this.ZW(q,this.Ps);this.Ps=q;-1==this.Oe&&(this.Oe=q)}h=m;e.N(k)}g.np.Bp(f);this.be=this.ah();5==d&&(this.dg=this.ah());4==d&&(this.xg=this.ah());this.nP(d,b);0==this.Oi.Kj&&(this.wX(d),0==this.Oi.Kj&&(isNaN(this.gA)||this.pO()?(this.ON(),0==this.Oi.Kj&&(this.Lg(this.be),this.be=-1,this.ZG&&this.FU(d,f))):this.jA=!0))};a.prototype.Fy=function(b){var d=this.kc(b),e=this.ue(b),f=this.ya(b),h=this.kc(f),
k=this.ue(f);d!=f&&(this.Ul(k,d),this.Vl(d,k));e!=f&&(this.Ul(e,h),this.Vl(h,e));e=this.jk(b);this.Je(e)==b&&(h!=b?this.on(e,h):this.on(e,-1));h=this.jk(f);this.Je(h)==f&&(d!=f?this.on(h,d):this.on(h,-1));this.Lc.kd(b);this.Lc.kd(f)};a.prototype.GF=function(b,d){for(;;)if(d=b.xe(d),-1!=d){var e=b.ka(d);if(this.$e(e)!=this.$e(this.ya(e)))return e}else return-1};a.prototype.fr=function(b,d){var e;void 0===e&&(e=!0);this.GB(b,0,null,d,e)};a.prototype.nJ=function(b,d,e){var f=new g.ja(0);f.add(d);this.GB(b,
4,f,e,1736==b.jc(d))};a.prototype.oJ=function(b,d,e){var f=new g.ja(0);f.add(d);this.GB(b,5,f,e,!0)};a.prototype.Vg=function(){null!=this.g&&(-1!=this.Dq&&(this.g.nW(this.Dq),this.Dq=-1),-1!=this.Em&&(this.g.Ud(this.Em),this.Em=-1),-1!=this.Eq&&(this.g.Ud(this.Eq),this.Eq=-1),-1!=this.be&&(this.Lg(this.be),this.be=-1),-1!=this.dg&&(this.Lg(this.dg),this.dg=-1),-1!=this.xg&&(this.Lg(this.xg),this.xg=-1),this.g=null,this.ge.nj(!0),this.kh.nj(!0),this.Ps=this.Oe=-1,null!=this.Lc&&this.Lc.nj(!0),null!=
this.Hi&&(this.Hi.length=0),null!=this.Ei&&(this.Ei.length=0),null!=this.$G&&(this.$G.length=0),null!=this.ze&&this.ze.nj(!0),this.Jl=-1,this.Zn=null)};a.prototype.Je=function(b){return this.ge.U(b,2)};a.prototype.D=function(b,d){this.g.WF(this.XQ(b),d)};a.prototype.yd=function(b){return this.ge.U(b,1)};a.prototype.Sf=function(b){return this.ge.U(b,4)};a.prototype.Yy=function(b){return this.ge.U(b,6)};a.prototype.mm=function(b){return this.ge.U(b,7)};a.prototype.ks=function(b){return this.kh.U(b,
1)};a.prototype.uj=function(b){return this.kh.U(b,0)};a.prototype.ng=function(b,d){d=this.Ei[d];return d.size<=b?-1:d.read(b)};a.prototype.pn=function(b,d,e){d=this.Ei[d];d.size<=b&&d.resize(this.ge.size,-1);d.write(b,e)};a.prototype.Fp=function(){null==this.Ei&&(this.Ei=[]);for(var b=g.ja.rf(this.ge.Jg,-1),d=0,e=this.Ei.length;d<e;d++)if(null==this.Ei[d])return this.Ei[d]=b,d;this.Ei.push(b);return this.Ei.length-1};a.prototype.Gp=function(b){this.Ei[b]=null};a.prototype.jk=function(b){return this.Lc.U(b,
1)};a.prototype.vf=function(b){return this.jk(this.ya(b))};a.prototype.ya=function(b){return this.Lc.U(b,4)};a.prototype.ue=function(b){return this.Lc.U(b,5)};a.prototype.kc=function(b){return this.Lc.U(b,6)};a.prototype.$e=function(b){return this.Lc.U(b,2)};a.prototype.af=function(b){return this.hk(this.Lc.U(b,2))};a.prototype.om=function(b){return this.Lc.U(b,7)};a.prototype.Zr=function(b,d){this.D(this.jk(b),d)};a.prototype.nm=function(b,d){this.D(this.vf(b),d)};a.prototype.eh=function(b){return this.Lc.U(b,
3)&this.UN};a.prototype.Bb=function(b,d){d=this.Hi[d];return d.size<=b?-1:d.read(b)};a.prototype.Kb=function(b,d,e){d=this.Hi[d];d.size<=b&&d.resize(this.Lc.size,-1);d.write(b,e)};a.prototype.ah=function(){null==this.Hi&&(this.Hi=[]);for(var b=g.ja.rf(this.Lc.Jg,-1),d=0,e=this.Hi.length;d<e;d++)if(null==this.Hi[d])return this.Hi[d]=b,d;this.Hi.push(b);return this.Hi.length-1};a.prototype.Lg=function(b){this.Hi[b]=null};a.prototype.AP=function(b){var d=this.$e(b),e=this.ya(b),f=this.kc(b);f==e&&(f=
this.kc(f),f==b&&(f=-1));var h=this.sF(d);h!==b&&h!=e||this.Dt(d,f);e=this.Zn.read(d);isNaN(e)||(this.sJ(d,NaN),this.uJ(d,NaN));this.wx(b,!0);this.Fy(b)};a.prototype.BP=function(b){for(var d=0,e=b.size;d<e;d++){var f=b.get(d),h=this.$e(this.ya(f));this.Dt(this.$e(f),-1);this.Dt(h,-1);this.wx(f,!0);this.Fy(f)}};a.prototype.sF=function(b){return this.ze.U(b,1)};a.prototype.hk=function(b){return this.ze.U(b,2)};a.prototype.Hn=function(b){return this.ze.U(b,3)};a.prototype.WQ=function(b){return this.ze.U(b,
4)};a.prototype.Mp=function(b){var d=this.Zn.read(b);isNaN(d)&&(this.ZX(b),d=this.Zn.read(b));return d};a.prototype.Ma=function(b){return this.g.CF(b,this.Dq)};a.prototype.Ie=function(b){return this.g.Qa(b,this.Em)};a.prototype.lR=function(b){return this.g.Qa(b,this.Eq)};a.prototype.kR=function(b,d){var e=this.Je(b);if(-1==e)return-1;var f=e,h=-1,k=-1;do{if(this.vf(f)==d)return f;if(-1==h){h=this.Je(d);if(-1==h)break;k=h}if(this.vf(k)==b)return f=this.ya(k);f=this.kc(this.ya(f));k=this.kc(this.ya(k))}while(f!=
e&&k!=h);return-1};a.prototype.jB=function(b,d){d.Pr();d=d.get();var e=new g.h;this.Zr(b,e);d.Ec(e);this.nm(b,e);d.Rc(e)};a.prototype.zO=function(b,d){if(b==d)return 0;var e=new g.h;this.nm(b,e);var f=new g.h;this.nm(d,f);if(e.rb(f))return 0;d=new g.h;this.Zr(b,d);b=new g.h;b.vc(e,d);e=new g.h;e.vc(f,d);return g.h.ou(b,e)};a.prototype.yO=function(b,d){if(b==d)return 0;var e=new g.h;this.nm(b,e);var f=new g.h;this.nm(d,f);if(e.rb(f))return 0;d=new g.h;this.Zr(b,d);b=new g.h;b.vc(e,d);e=new g.h;e.vc(f,
d);return 0<=e.y&&0<b.y?g.h.ou(b,e):0};a.prototype.pO=function(){for(var b=g.mc.nx(this.gA),d=new g.h,e=new g.h,f=new g.h,h=new g.h,k=new g.h,m=this.Oe;-1!=m;m=this.Sf(m)){var n=this.Je(m);if(-1!=n){var p=n;this.Zr(p,d);this.nm(p,e);k.vc(e,d);var q=k.Sk();do{var r=p;p=this.kc(this.ya(p));if(p!=r){this.nm(p,f);h.vc(f,d);r=h.Sk();var t=h.xi(k);if(t*t/(r*q)*Math.min(r,q)<=b)return!1;k.N(h);q=r;e.N(f)}}while(p!=n)}}return!0};return a}();g.ju=u})(L||(L={}));(function(g){var u=function(){function l(){this.j=
null;this.gH=new g.h;this.hH=new g.h;this.Hj=null;this.Nv=!1;this.vl=-1}l.prototype.cf=function(c){return c<this.Hj.length?this.Hj[c]:!1};l.prototype.el=function(c,a,b,d){var e=g.ba.uf(this.j.g.jc(b));if(2==g.ba.uf(this.j.g.jc(a))&&1==e)this.xP(c,a,b,d);else throw g.i.Ra();};l.prototype.fr=function(c,a){null==this.j&&(this.j=new g.ju);this.j.fr(c,a)};l.prototype.Ft=function(c,a,b){g.Tk.W(c,a,b,!0);for(a=c.ld;-1!=a;a=c.ve(a))1736==c.jc(a)&&g.tn.W(c,a,-1,this.Nv,b);this.fr(c,b)};l.prototype.EE=function(c,
a,b,d,e){var f=this.j.g;if(1736==f.jc(c))for(c=f.Ob(c);-1!=c;c=f.Sb(c)){var h=f.Ya(c);this.j.Ie(h);this.j.Ie(f.V(h));var k=this.j.lR(h);if(-1!=k){var m=this.j.Bb(k,b);if(1!=m&&2!=m)if(this.cf(this.j.af(k))){this.j.Kb(k,b,1);m=f.wf(a,-1);var n=k,p=this.j.Ie(h),q=1;do{var r=this.um(h,e);f.jj(m,r);-1!=d&&this.j.pn(p,d,1);this.j.Kb(n,b,1);n=this.j.kc(n);do{r=1==q?f.V(h):f.Na(h);var t=-1!=r?this.j.Ie(r):-1}while(t==p);var v=this.j.jk(n);if(v!=t){do r=1==q?f.Na(h):f.V(h),t=-1!=r?this.j.Ie(r):-1;while(t==
p);v!=t?(t=v,r=this.j.uj(this.j.mm(t))):q=-q}p=t;h=r}while(n!=k);f.mn(m,!0)}else this.j.Kb(k,b,2)}}};l.prototype.XE=function(){for(var c=this.j.ah(),a=new g.ja(0),b=this.j.Oe;-1!=b;b=this.j.Sf(b)){var d=this.j.Je(b),e=d;if(-1!=d){do{if(1!=this.j.Bb(e,c)){var f=this.j.ya(e);this.j.Kb(f,c,1);this.j.Kb(e,c,1);this.cf(this.j.af(e))&&this.cf(this.j.af(f))&&a.add(e)}e=this.j.kc(this.j.ya(e))}while(e!=d)}}this.j.Lg(c);this.j.BP(a)};l.prototype.um=function(c,a){return-1==a?c:this.SR(c,a)};l.prototype.SR=
function(c,a){var b=this.j.g,d=this.j.mm(this.j.Ie(c));do{var e=this.j.uj(d);if(b.Rf(b.cd(e))==a)return e;d=this.j.ks(d)}while(-1!=d);return c};l.prototype.Pt=function(c,a,b){this.XE();var d=this.j.g,e=d.Kg(1736),f=this.j.ah();this.mK(c,a,e,b,f,-1);this.j.Lg(f);g.tn.W(d,e,1,this.Nv,null);return e};l.prototype.mK=function(c,a,b,d,e,f){this.EE(c,b,e,f,d);-1!=a&&this.EE(a,b,e,f,d);c=this.j.g;for(a=this.j.Oe;-1!=a;a=this.j.Sf(a)){var h=this.j.Je(a);if(-1!=h){var k=h;do{var m=this.j.Bb(k,e);if(1!=m&&2!=
m)if(this.cf(this.j.af(k))){m=c.wf(b,-1);var n=k;do{var p=this.j.om(n);-1!=p?p=this.j.uj(p):(p=this.j.uj(this.j.om(this.j.ya(n))),p=this.j.g.V(p));p=this.um(p,d);c.jj(m,p);this.j.Kb(n,e,1);-1!=f&&(p=this.j.Ie(p),this.j.pn(p,f,1));n=this.j.kc(n)}while(n!=k);c.mn(m,!0)}else this.j.Kb(k,e,2);k=this.j.kc(this.j.ya(k))}while(k!=h)}}};l.prototype.PX=function(c,a,b){var d=this.j.g,e=d.Kg(1736),f=d.Kg(1607),h=d.Kg(550);this.XE();var k=-1,m=this.j.ah(),n=this.j.Fp();this.mK(c,a,e,b,m,n);for(c=this.j.Oe;-1!=
c;c=this.j.Sf(c))if(a=this.j.Je(c),-1!=a){var p=a;do{var q=this.j.Bb(p,m),r=this.j.Bb(this.j.ya(p),m);q|=r;if(2==q)if(q=this.j.eh(p),this.cf(q)){var t=d.wf(f,-1),v=p;q=this.Zw(c,d);q=this.um(q,b);d.jj(t,q);this.j.pn(c,n,1);do{q=this.j.vf(v);r=this.Zw(q,d);r=this.um(r,b);d.jj(t,r);this.j.Kb(v,m,1);this.j.Kb(this.j.ya(v),m,1);this.j.pn(q,n,1);v=this.j.kc(v);q=this.j.Bb(v,m);r=this.j.Bb(this.j.ya(v),m);q|=r;if(2!=q)break;q=this.j.eh(v);if(!this.cf(q)){this.j.Kb(v,m,1);this.j.Kb(this.j.ya(v),m,1);break}}while(v!=
p)}else this.j.Kb(p,m,1),this.j.Kb(this.j.ya(p),m,1);p=this.j.kc(this.j.ya(p))}while(p!=a)}for(c=this.j.Oe;-1!=c;c=this.j.Sf(c))q=this.j.ng(c,n),1!=q&&(q=this.j.yd(c),this.cf(q)&&(-1==k&&(k=d.wf(h,-1)),a=this.j.mm(c),-1!=a&&(a=this.j.uj(a),q=this.um(a,b),d.jj(k,q))));this.j.Gp(n);this.j.Lg(m);g.tn.W(d,e,1,this.Nv,null);b=[];b[0]=h;b[1]=f;b[2]=e;return b};l.prototype.Zw=function(c,a){var b=-1;for(c=this.j.mm(c);-1!=c;c=this.j.ks(c)){var d=this.j.uj(c);-1==b&&(b=d);var e=this.j.Ma(a.Rf(a.cd(d)));if(this.cf(e)){b=
d;break}}return b};l.prototype.fB=function(c,a){for(var b=this.ll(a),d=this.j.jk(a),e=this.j.vf(a),f=0,h=0,k=this.j.mm(d);-1!=k;k=this.j.ks(k)){var m=this.j.uj(k),n=c.cd(m),p=this.j.Ma(c.Rf(n));n=c.Ya(n);(p=0!=(p&b))&&n==m&&(this.vl=a);var q=c.V(m);-1!=q&&this.j.Ie(q)==e?(f++,p&&(-1===this.vl&&n==q&&(m=this.j.kc(a),this.cf(this.ll(m))&&(this.vl=m)),h++)):(m=c.Na(m),-1!=m&&this.j.Ie(m)==e&&(f--,p&&(-1===this.vl&&n===m&&(m=this.j.kc(a),this.cf(this.ll(m))&&(this.vl=m)),h--)))}this.j.D(d,this.gH);this.j.D(e,
this.hH);c=g.h.ub(this.gH,this.hH);return(0!=h?h:f)*c};l.prototype.ll=function(c){return this.j.eh(c)|this.j.af(c)|this.j.af(this.j.ya(c))};l.prototype.pK=function(c){for(var a=this.j.ya(this.j.ue(c)),b=-1;a!=c;){if(this.cf(this.ll(a))){if(-1!=b)return-1;b=a}a=this.j.ya(this.j.ue(a))}return-1!=b?this.j.ya(b):-1};l.prototype.qK=function(c){for(var a=this.j.ya(this.j.kc(c)),b=-1;a!=c;){if(this.cf(this.ll(a))){if(-1!=b)return-1;b=a}a=this.j.ya(this.j.kc(a))}return-1!=b?this.j.ya(b):-1};l.prototype.eJ=
function(c,a,b,d,e){var f=this.j.g,h=c,k=this.j.ya(h);this.j.Kb(h,b,1);this.j.Kb(k,b,1);this.vl=-1;for(var m=this.fB(f,h),n=h,p=-1,q=!1,r=1;;){var t=this.j.ue(h);if(t==k)break;k=this.j.kc(k);if(this.j.ya(t)!=k)if(h=this.pK(h),-1==h){q=!0;break}else k=this.j.ya(h);else h=t;if(h==c){p=c;break}t=this.ll(h);if(!this.cf(t))break;this.j.Kb(h,b,1);this.j.Kb(k,b,1);n=h;m+=this.fB(f,h);r++}if(-1==p)for(h=c,k=this.j.ya(h),p=h;;){c=this.j.kc(h);if(c==k)break;k=this.j.ue(k);if(this.j.ya(c)!=k)if(h=this.qK(h),
-1==h){q=!0;break}else k=this.j.ya(h);else h=c;t=this.ll(h);if(!this.cf(t))break;this.j.Kb(h,b,1);this.j.Kb(k,b,1);p=h;m+=this.fB(f,h);r++}else if(-1!=this.vl&&(n=this.vl,p=this.j.ue(this.vl),this.j.ya(p)!=this.j.kc(this.j.ya(n))&&(p=this.pK(n),-1==p)))throw g.i.Ra();0<=m||(h=p,p=this.j.ya(n),n=this.j.ya(h));b=f.wf(a,-1);h=n;n=this.j.jk(n);q=this.j.vf(p)==n&&q;m=this.Zw(n,f);m=this.um(m,e);f.jj(b,m);-1!=d&&this.j.pn(n,d,1);n=0;for(r=q?g.P.truncate((r+1)/2):-1;;){c=this.j.vf(h);m=this.Zw(c,f);m=this.um(m,
e);f.jj(b,m);n++;-1!=d&&this.j.pn(c,d,1);q&&n==r&&(b=f.wf(a,-1),f.jj(b,m));if(h==p)break;c=this.j.kc(h);if(this.j.ue(this.j.ya(h))!=this.j.ya(c)){if(h=this.qK(h),-1==h)throw g.i.Ra();}else h=c}};l.prototype.Qt=function(c){for(var a=this.j.g.Kg(1607),b=this.j.ah(),d=this.j.Oe;-1!=d;d=this.j.Sf(d)){var e=this.j.Je(d),f=e;do 1!=this.j.Bb(f,b)&&this.cf(this.ll(f))&&this.eJ(f,a,b,-1,c),f=this.j.kc(this.j.ya(f));while(f!=e)}this.j.Lg(b);return a};l.prototype.QX=function(c){for(var a=this.j.g,b=a.Kg(1607),
d=a.Kg(550),e=this.j.ah(),f=this.j.Fp(),h=-1,k=this.j.Oe;-1!=k;k=this.j.Sf(k)){var m=this.j.Je(k),n=m;do{var p=this.j.Bb(n,e);1!=p&&(p=this.ll(n),this.cf(p)&&this.eJ(n,b,e,f,c));n=this.j.kc(this.j.ya(n))}while(n!=m)}for(k=this.j.Oe;-1!=k;k=this.j.Sf(k))p=this.j.ng(k,f),1!=p&&(p=this.j.yd(k),this.cf(p)&&(-1==h&&(h=a.wf(d,-1)),m=this.j.mm(k),-1!=m&&(m=this.j.uj(m),m=this.um(m,c),a.jj(h,m))));this.j.Lg(e);this.j.Gp(f);c=[];c[0]=d;c[1]=b;return c};l.prototype.pr=function(){for(var c=this.j.g,a=c.Kg(550),
b=c.wf(a,-1),d=this.j.Oe;-1!=d;d=this.j.Sf(d))if(this.cf(this.j.yd(d))){for(var e=-1,f=this.j.mm(d);-1!=f;f=this.j.ks(f)){var h=this.j.uj(f);-1==e&&(e=h);var k=this.j.Ma(c.Rf(c.cd(h)));if(this.cf(k)){e=h;break}}c.jj(b,e)}return a};l.prototype.eq=function(c){this.Hj=[];for(var a=0;a<c;a++)this.Hj[a]=!1};l.RV=function(c,a,b){var d=c.Ja(),e=Array(1E3);g.P.av(e,null);var f=g.P.lg(1E3,0),h=c.I(),k=!0,m=2==a.Eb();if(1!=a.Eb()&&2!=a.Eb())throw g.i.Ra();for(var n=0;n<h;){var p=g.P.truncate(c.bW(e,n)-n);m?
g.jd.kK(a,e,p,b,f):g.jd.lK(a,e,p,b,f);for(var q=0,r=0;r<p;r++)0==f[r]&&(k&&(k=!1,d.Gd(c,0,n)),q!=r&&d.Gd(c,n+q,n+r),q=r+1);k||q==p||d.Gd(c,n+q,n+p);n+=p}return k?c:d};l.rG=function(c,a,b){return c instanceof g.de?l.RV(c,a,b):a instanceof g.Ta?c.B()||a.B()?c.Ja():g.Tk.pU(b,c,a)?g.Tk.uO(c,a):c.Ja():l.SV(c,a,b)};l.Bv=function(c,a,b,d){var e=new g.l;c.A(e);var f=new g.l;a.A(f);var h=new g.l;h.L(e);h.$b(f);b=g.ta.Xd(b,h,!0);h=new g.l;h.L(f);f=g.ta.Gr(b);h.X(f,f);if(!e.isIntersecting(h)){if(c.Eb()<=a.Eb())return l.li(l.Ue(c.Ja()),
c,"\x26");if(c.Eb()>a.Eb())return l.li(l.Ue(a.Ja()),c,"\x26")}f=new l;e=new g.hd;h=e.Ib(l.Ue(c));a=e.Ib(l.Ue(a));f.Ft(e,b,d);d=f.Bv(h,a);c=l.li(e.Ke(d),c,"\x26");g.ba.Ic(c.K())&&(c.Dh(2,b),1736==c.K()&&c.hm());return c};l.SV=function(c,a,b){if(c.B()||a.B())return c.Ja();var d=[null],e=[0],f=2==a.Eb();if(1!=a.Eb()&&2!=a.Eb())throw g.i.Ra();d[0]=c.D();f?g.jd.kK(a,d,1,b,e):g.jd.lK(a,d,1,b,e);return 0==e[0]?c.Ja():c};l.prototype.BU=function(c,a,b,d,e){if(c.B())return c;var f=new g.hd;c=f.Ib(c);return this.Mk(f,
c,a,b,d,e)};l.prototype.DU=function(c,a,b,d,e,f){if(e&&550!=c.jc(a)){var h=new g.JC;h.HX(c,b);h.Og?(g.Tk.W(c,b,f,!0),e=!1):this.j.sy(b)}else g.Tk.W(c,b,f,!0),e=!1;d&&550!=c.jc(a)?this.j.oJ(c,a,f):this.j.nJ(c,a,f);if(this.j.jA)return this.j.Vg(),this.j=null,this.Mk(c,a,b,d,!1,f);this.j.sy(NaN);f=this.j.Ma(a);this.eq(f+1);this.Hj[f]=!0;if(1736==c.jc(a)||d&&550!=c.jc(a))return c.Zo(a,0),a=this.Pt(a,-1,-1),c=c.Ke(a),c.Zo(0),e?c.Dh(1,0):(c.Dh(2,b),c.hm()),c;if(1607==c.jc(a))return a=this.Qt(-1),c=c.Ke(a),
e||c.Dh(2,b),c;if(550==c.jc(a))return a=this.pr(),c=c.Ke(a),e||c.Dh(2,b),c;throw g.i.Ra();};l.prototype.Mk=function(c,a,b,d,e,f){this.j=new g.ju;try{return this.DU(c,a,b,d,e,f)}finally{this.j.Vg()}};l.Mk=function(c,a,b,d,e){return(new l).BU(c,a,b,d,e)};l.prototype.CU=function(c,a,b,d){this.Nv=c;this.j=new g.ju;c=a.Jn(b);var e=a.jc(b);1!=c||550==e?this.j.nJ(a,b,d):this.j.oJ(a,b,d);if(!this.j.jA)if(this.j.sy(NaN),d=this.j.Ma(b),this.eq(d+1),this.Hj[d]=!0,1736==a.jc(b)||1==c&&550!=a.jc(b))a.Zo(b,0),
d=this.Pt(b,-1,-1),a.aC(d,b),a.vB(d);else if(1607==a.jc(b))d=this.Qt(-1),a.aC(d,b),a.vB(d);else if(550==a.jc(b))d=this.pr(),a.aC(d,b),a.vB(d);else throw g.i.ga("internal error");};l.prototype.km=function(c,a){var b=g.ba.uf(this.j.g.jc(c)),d=g.ba.uf(this.j.g.jc(a));if(b>d)return c;var e=this.j.Ma(c),f=this.j.Ma(a);this.eq((e|f)+1);this.Hj[this.j.Ma(c)]=!0;if(2==b&&2==d)return this.Pt(c,a,-1);if(1==b&&2==d||1==b&&1==d)return this.Qt(-1);if(0==b)return this.pr();throw g.i.Ra();};l.prototype.Bv=function(c,
a){var b=g.ba.uf(this.j.g.jc(c)),d=g.ba.uf(this.j.g.jc(a)),e=this.j.Ma(c),f=this.j.Ma(a);this.eq((e|f)+1);this.Hj[this.j.Ma(c)|this.j.Ma(a)]=!0;e=-1;1<this.j.g.ht.Ba&&(e=c);if(2==b&&2==d)return this.Pt(c,a,e);if(1==b&&0<d||1==d&&0<b)return this.Qt(e);if(0==b||0==d)return this.pr();throw g.i.Ra();};l.prototype.Kz=function(c,a){var b=g.ba.uf(this.j.g.jc(c)),d=g.ba.uf(this.j.g.jc(a)),e=this.j.Ma(c),f=this.j.Ma(a);this.eq((e|f)+1);this.Hj[this.j.Ma(c)|this.j.Ma(a)]=!0;e=-1;1<this.j.g.ht.Ba&&(e=c);if(2==
b&&2==d)return this.PX(c,a,e);if(1==b&&0<d||1==d&&0<b)return this.QX(e);if(0==b||0==d)return c=[],c[0]=this.pr(),c;throw g.i.Ra();};l.prototype.fp=function(c,a){var b=g.ba.uf(this.j.g.jc(c)),d=g.ba.uf(this.j.g.jc(a)),e=this.j.Ma(c),f=this.j.Ma(a);this.eq((e|f)+1);this.Hj[this.j.Ma(c)]=!0;this.Hj[this.j.Ma(a)]=!0;if(2==b&&2==d)return this.Pt(c,a,-1);if(1==b&&1==d)return this.Qt(-1);if(0==b&&0==d)return this.pr();throw g.i.Ra();};l.Ue=function(c){var a=c.K();return 197==a?(a=new g.Ea(c.description),
c.B()||a.bd(c,!1),a):33==a?(a=new g.de(c.description),c.B()||a.add(c),a):322==a?(a=new g.Ua(c.description),c.B()||a.oc(c,!0),a):c};l.li=function(c,a,b){var d=c.K();return 197==d?(a=new g.Ea(c.description),c.B()||a.bd(c,!1),a):33!=d||"|"!=b&&"^"!=b?322==d?(a=new g.Ua(c.description),c.B()||a.oc(c,!0),a):33==d&&"-"==b&&33==a.K()||550==d&&"\x26"==b&&33==a.K()?(a=new g.Ta(c.description),c.B()||c.we(0,a),a):c:(a=new g.de(c.description),c.B()||a.add(c),a)};l.km=function(c,a,b,d){if(c.B()||a.B()||c.Eb()>
a.Eb())return l.li(l.Ue(c),c,"-");var e=new g.l;c.A(e);var f=new g.l;a.A(f);if(!e.isIntersecting(f))return l.li(l.Ue(c),c,"-");var h=new g.l;h.L(e);h.$b(f);b=g.ta.Xd(b,h,!0);f=new l;e=new g.hd;h=e.Ib(l.Ue(c));a=e.Ib(l.Ue(a));f.Ft(e,b,d);d=f.km(h,a);d=e.Ke(d);c=l.li(d,c,"-");g.ba.Ic(c.K())&&(c.Dh(2,b),1736==c.K()&&c.hm());return c};l.NP=function(c,a,b){if(2>c.length)throw g.i.O("not enough geometries to dissolve");for(var d=0,e=0,f=c.length;e<f;e++)d=Math.max(c[e].Eb(),d);var h=new g.l;h.Pa();var k=
new g.hd,m=-1,n=0,p=-1;e=0;for(f=c.length;e<f;e++)if(c[e].Eb()==d)if(c[e].B())-1==p&&(p=e);else{p=e;-1==m?m=k.Ib(l.Ue(c[e])):k.mN(m,l.Ue(c[e]));var q=new g.l;c[e].yc(q);h.$b(q);n++}if(2>n)return l.Ue(c[p]);c=2==d;a=g.ta.Xd(0==d?a:null,h,!0);return(new l).Mk(k,m,a,c,!0,b)};l.Kz=function(c,a,b,d){var e=[null,null,null],f=new g.l;c.A(f);var h=new g.l;a.A(h);var k=new g.l;k.L(f);k.$b(h);b=g.ta.Xd(b,k,!0);k=new g.l;k.L(h);h=g.ta.Gr(b);k.X(h,h);if(!f.isIntersecting(k)){if(c.Eb()<=a.Eb())return c=l.li(l.Ue(c.Ja()),
c,"\x26"),e[c.Eb()]=c,e;if(c.Eb()>a.Eb())return c=l.li(l.Ue(a.Ja()),c,"\x26"),e[c.Eb()]=c,e}h=new l;f=new g.hd;k=f.Ib(l.Ue(c));a=f.Ib(l.Ue(a));h.Ft(f,b,d);d=h.Kz(k,a);for(a=0;a<d.length;a++)h=l.li(f.Ke(d[a]),c,"\x26"),g.ba.Ic(h.K())&&(h.Dh(2,b),1736==h.K()&&h.hm()),e[h.Eb()]=h;return e};l.fp=function(c,a,b,d){if(c.Eb()>a.Eb())return l.li(l.Ue(c),c,"^");if(c.Eb()<a.Eb()||c.B())return l.li(l.Ue(a),c,"^");if(a.B())return l.li(l.Ue(c),c,"^");var e=new g.l;c.A(e);var f=new g.l;a.A(f);var h=new g.l;h.L(e);
h.$b(f);b=g.ta.Xd(b,h,!0);f=new l;e=new g.hd;h=e.Ib(l.Ue(c));a=e.Ib(l.Ue(a));f.Ft(e,b,d);d=f.fp(h,a);c=l.li(e.Ke(d),c,"^");g.ba.Ic(c.K())&&(c.Dh(2,b),1736==c.K()&&c.hm());return c};l.prototype.DQ=function(c,a){var b=this.j.g;c=b.wf(c,-1);for(var d=a.size,e=0;e<d;e++){var f=a.get(e);b.jj(c,f)}b.mn(c,!0)};l.prototype.OW=function(c,a){for(var b=this.j.g,d=b.ld;-1!=d;d=b.ve(d))if(d==a)for(var e=b.Ob(d);-1!=e;e=b.Sb(e)){var f=b.Ya(e);if(-1!=f)for(var h=b.V(f);-1!=h;){f=this.j.Ie(f);var k=this.j.Ie(h);
f=this.j.kR(f,k);-1!=f&&(k=this.j.ya(f),this.j.Kb(f,c,1),this.j.Kb(k,c,2));f=h;h=b.V(f)}}};l.prototype.TV=function(c,a,b,d){b=this.j.Ma(b);d=this.j.Ma(d);var e=new g.ja(0);e.Jb(256);for(var f=this.j.g,h=this.j.ah(),k=this.j.Oe;-1!=k;k=this.j.Sf(k)){var m=this.j.Je(k);if(-1!=m){var n=m;do{if(1!=this.j.Bb(n,h)){var p=n,q=n,r=!1,t=0;do{this.j.Kb(p,h,1);if(!r){var v=this.j.eh(p);0!=(v&d)&&0!=(this.j.af(p)&b)&&(q=p,r=!0)}r&&(e.add(this.j.uj(this.j.mm(this.j.jk(p)))),-1!=c&&(v=this.j.eh(p),0!=(v&d)&&(v=
this.j.Bb(p,c),t|=v)));p=this.j.kc(p)}while(p!=q);r&&0<this.j.Mp(this.j.$e(q))&&(p=f.Kg(1736),this.DQ(p,e),-1!=a&&f.zJ(p,a,t));e.clear(!1)}n=this.j.kc(this.j.ya(n))}while(n!=m)}}this.j.Lg(h)};l.prototype.xP=function(c,a,b,d){this.j.oW();var e=-1;-1!=c&&(e=this.j.ah(),this.OW(e,b));this.TV(e,c,a,b);-1!=e&&(this.j.Lg(e),e=-1);var f=this.j.g;c=0;for(e=f.ld;-1!=e;e=f.ve(e))e!=a&&e!=b&&(d.add(e),c++);d.Wd(0,c,function(h,k){h=f.qz(f.Ob(h));k=f.qz(f.Ob(k));return h<k?-1:h==k?0:1})};l.prototype.Vg=function(){null!=
this.j&&(this.j.Vg(),this.j=null)};return l}();g.Hg=u})(L||(L={}));(function(g){var u=function(){function l(c){void 0!==c?this.It(c):this.KB()}l.prototype.kx=function(){this.Qb=this.Lb=this.qb=this.jb=this.bb=this.eb=0};l.prototype.Nb=function(c){return this==c?!0:c instanceof l?this.eb==c.eb&&this.jb==c.jb&&this.Lb==c.Lb&&this.qb==c.qb&&this.bb==c.bb&&this.Qb==c.Qb:!1};l.prototype.dc=function(){g.P.vj();g.P.vj();g.P.vj();g.P.vj();g.P.vj();return g.P.vj()};l.prototype.Fh=function(c,a){var b=this.qb*
c.x+this.bb*c.y+this.Qb;a.x=this.eb*c.x+this.jb*c.y+this.Lb;a.y=b};l.prototype.TX=function(c,a,b){for(var d=0;d<a;d++){var e=c[d].x,f=c[d].y,h=this.eb*e+this.jb*f+this.Lb;e=this.qb*e+this.bb*f+this.Qb;null!=b[d]?b[d].na(h,e):b[d]=g.h.construct(h,e)}};l.prototype.multiply=function(c){l.multiply(this,c,this)};l.multiply=function(c,a,b){var d=c.eb*a.eb+c.qb*a.jb,e=c.jb*a.eb+c.bb*a.jb,f=c.Lb*a.eb+c.Qb*a.jb+a.Lb,h=c.eb*a.qb+c.qb*a.bb,k=c.jb*a.qb+c.bb*a.bb;c=c.Lb*a.qb+c.Qb*a.bb+a.Qb;b.eb=d;b.jb=e;b.Lb=
f;b.qb=h;b.bb=k;b.Qb=c};l.prototype.Pf=function(){var c=new l;c.eb=this.eb;c.jb=this.jb;c.Lb=this.Lb;c.qb=this.qb;c.bb=this.bb;c.Qb=this.Qb;return c};l.prototype.fC=function(c){if(!c.B()){for(var a=[],b=0;4>b;b++)a[b]=new g.h;c.hB(a);this.UX(a,a);c.ax(a,4)}};l.prototype.UX=function(c,a){for(var b=0;b<c.length;b++){var d=new g.h,e=c[b];d.x=this.eb*e.x+this.jb*e.y+this.Lb;d.y=this.qb*e.x+this.bb*e.y+this.Qb;a[b]=d}};l.prototype.gS=function(c,a){c.B()||a.B()||0==c.S()||0==c.da()?this.kx():(this.jb=this.qb=
0,this.eb=a.S()/c.S(),this.bb=a.da()/c.da(),this.Lb=a.v-c.v*this.eb,this.Qb=a.G-c.G*this.bb)};l.prototype.SX=function(c){var a=new g.h,b=new g.h;a.na(this.eb,this.qb);b.na(this.jb,this.bb);a.sub(a);var d=.5*a.Sk();a.na(this.eb,this.qb);b.na(this.jb,this.bb);a.add(b);a=.5*a.Sk();return c*(d>a?Math.sqrt(d):Math.sqrt(a))};l.prototype.KB=function(){this.eb=1;this.qb=this.Lb=this.jb=0;this.bb=1;this.Qb=0};l.prototype.isIdentity=function(c){if(void 0!==c){var a=g.h.construct(0,1);this.Fh(a,a);a.sub(g.h.construct(0,
1));if(a.Sk()>c*c)return!1;a.na(0,0);this.Fh(a,a);if(a.Sk()>c*c)return!1;a.na(1,0);this.Fh(a,a);a.sub(g.h.construct(1,0));return a.Sk()<=c*c}return 1==this.eb&&1==this.bb&&0==this.jb&&0==this.Lb&&0==this.qb&&0==this.Qb};l.prototype.Ci=function(c){return Math.abs(this.eb*this.bb-this.qb*this.jb)<=2*c*(Math.abs(this.eb*this.bb)+Math.abs(this.qb*this.jb))};l.prototype.gg=function(c,a){this.eb=1;this.jb=0;this.Lb=c;this.qb=0;this.bb=1;this.Qb=a};l.prototype.It=function(c,a){void 0!==a?(this.eb=c,this.qb=
this.Lb=this.jb=0,this.bb=a,this.Qb=0):this.It(c,c)};l.prototype.TB=function(){this.eb=0;this.jb=1;this.Lb=0;this.qb=1;this.Qb=this.bb=0};l.prototype.cX=function(c){this.dX(Math.cos(c),Math.sin(c))};l.prototype.dX=function(c,a){this.eb=c;this.jb=-a;this.Lb=0;this.qb=a;this.bb=c;this.Qb=0};l.prototype.shift=function(c,a){this.Lb+=c;this.Qb+=a};l.prototype.scale=function(c,a){this.eb*=c;this.jb*=c;this.Lb*=c;this.qb*=a;this.bb*=a;this.Qb*=a};l.prototype.flipX=function(c,a){this.eb=-this.eb;this.jb=
-this.jb;this.Lb=c+a-this.Lb};l.prototype.flipY=function(c,a){this.qb=-this.qb;this.bb=-this.bb;this.Qb=c+a-this.Qb};l.prototype.rotate=function(c){var a=new l;a.cX(c);this.multiply(a)};l.prototype.inverse=function(c){if(void 0!==c){var a=this.eb*this.bb-this.jb*this.qb;0==a?c.kx():(a=1/a,c.Lb=(this.jb*this.Qb-this.Lb*this.bb)*a,c.Qb=(this.Lb*this.qb-this.eb*this.Qb)*a,c.eb=this.bb*a,c.jb=-this.jb*a,c.qb=-this.qb*a,c.bb=this.eb*a)}else this.inverse(this)};return l}();g.Ed=u})(L||(L={}));(function(g){var u=
function(){function l(){}l.prototype.kx=function(){this.Cg=this.Qb=this.Lb=this.Ze=this.We=this.Ve=this.Ye=this.bb=this.jb=this.pf=this.qb=this.eb=0};l.prototype.It=function(c,a){this.eb=c;this.jb=this.pf=this.qb=0;this.bb=a;this.We=this.Ve=this.Ye=0;this.Ze=void 0;this.Cg=this.Qb=this.Lb=0};l.prototype.translate=function(c,a,b){this.Lb+=c;this.Qb+=a;this.Cg+=b};l.prototype.fC=function(c){if(!c.B()){for(var a=new g.Od[8],b=0;8>b;b++)a[b]=new g.Od;c.hB(a);this.transform(a,8,a);c.ax(a)}};l.prototype.transform=
function(c,a,b){for(var d=0;d<a;d++){var e=new g.Od,f=c[d];e.x=this.eb*f.x+this.jb*f.y+this.Ve*f.z+this.Lb;e.y=this.qb*f.x+this.bb*f.y+this.We*f.z+this.Qb;e.z=this.pf*f.x+this.Ye*f.y+this.Ze*f.z+this.Cg;b[d]=e}};l.prototype.gp=function(c){var a=new g.Od;a.x=this.eb*c.x+this.jb*c.y+this.Ve*c.z+this.Lb;a.y=this.qb*c.x+this.bb*c.y+this.We*c.z+this.Qb;a.z=this.pf*c.x+this.Ye*c.y+this.Ze*c.z+this.Cg;return a};l.prototype.Ag=function(c){l.multiply(this,c,this)};l.multiply=function(c,a,b){var d=c.eb*a.eb+
c.qb*a.jb+c.pf*a.Ve,e=c.eb*a.qb+c.qb*a.bb+c.pf*a.We,f=c.eb*a.pf+c.qb*a.Ye+c.pf*a.Ze,h=c.jb*a.eb+c.bb*a.jb+c.Ye*a.Ve,k=c.jb*a.qb+c.bb*a.bb+c.Ye*a.We,m=c.jb*a.pf+c.bb*a.Ye+c.Ye*a.Ze,n=c.Ve*a.eb+c.We*a.jb+c.Ze*a.Ve,p=c.Ve*a.qb+c.We*a.bb+c.Ze*a.We,q=c.Ve*a.pf+c.We*a.Ye+c.Ze*a.Ze,r=c.Lb*a.eb+c.Qb*a.jb+c.Cg*a.Ve+a.Lb,t=c.Lb*a.qb+c.Qb*a.bb+c.Cg*a.We+a.Qb;c=c.Lb*a.pf+c.Qb*a.Ye+c.Cg*a.Ze+a.Cg;b.eb=d;b.qb=e;b.pf=f;b.jb=h;b.bb=k;b.Ye=m;b.Ve=n;b.We=p;b.Ze=q;b.Lb=r;b.Qb=t;b.Cg=c};l.inverse=function(c,a){var b=
c.eb*(c.bb*c.Ze-c.Ye*c.We)-c.qb*(c.jb*c.Ze-c.Ye*c.Ve)+c.pf*(c.jb*c.We-c.bb*c.Ve);if(0!=b){var d=1/b;b=(c.bb*c.Ze-c.Ye*c.We)*d;var e=-(c.jb*c.Ze-c.Ye*c.Ve)*d,f=(c.jb*c.We-c.bb*c.Ve)*d,h=-(c.qb*c.Ze-c.We*c.pf)*d,k=(c.eb*c.Ze-c.pf*c.Ve)*d,m=-(c.eb*c.We-c.qb*c.Ve)*d,n=(c.qb*c.Ye-c.pf*c.bb)*d,p=-(c.eb*c.Ye-c.pf*c.jb)*d;d*=c.eb*c.bb-c.qb*c.jb;var q=-(c.Lb*b+c.Qb*e+c.Cg*f),r=-(c.Lb*h+c.Qb*k+c.Cg*m);c=-(c.Lb*n+c.Qb*p+c.Cg*d);a.eb=b;a.qb=h;a.pf=n;a.jb=e;a.bb=k;a.Ye=p;a.Ve=f;a.We=m;a.Ze=d;a.Lb=q;a.Qb=r;a.Cg=
c}else throw g.i.ga("math singularity");};l.prototype.Pf=function(){var c=new l;c.eb=this.eb;c.qb=this.qb;c.pf=this.pf;c.jb=this.jb;c.bb=this.bb;c.Ye=this.Ye;c.Ve=this.Ve;c.We=this.We;c.Ze=this.Ze;c.Lb=this.Lb;c.Qb=this.Qb;c.Cg=this.Cg;return c};return l}();g.yY=u})(L||(L={}));(function(g){var u=function(c){function a(b){if(void 0!==b)b=c.call(this,b.dc(),b)||this;else{b=c.call(this)||this;b.cg=[];b.cg[0]=0;b.Ba=1;b.vh=[];for(var d=0;10>d;d++)b.vh[d]=-1;b.vh[b.cg[0]]=0}b.lq=!0;return b}fa(a,c);a.prototype.se=
function(b){this.hasAttribute(b)||(this.vh[b]=0,this.bD())};a.prototype.removeAttribute=function(b){if(0==b)throw g.i.O("Position attribue cannot be removed");this.hasAttribute(b)&&(this.vh[b]=-1,this.bD())};a.prototype.reset=function(){this.cg[0]=0;this.Ba=1;for(var b=0;b<this.vh.length;b++)this.vh[b]=-1;this.vh[this.cg[0]]=0;this.lq=!0};a.prototype.wF=function(){return l.fz().add(this)};a.og=function(){return l.fz().RR()};a.prototype.lM=function(){var b=this.dc();return new g.ua(b,this)};a.prototype.bD=
function(){for(var b=this.Ba=0,d=0;10>b;b++)0<=this.vh[b]&&(this.cg[d]=b,this.vh[b]=d,d++,this.Ba++);this.lq=!0};a.prototype.dc=function(){this.lq&&(this.yl=this.Bn(),this.lq=!1);return this.yl};a.prototype.Nb=function(b){if(null==b)return!1;if(b==this)return!0;if(!(b instanceof a)||b.Ba!=this.Ba)return!1;for(var d=0;d<this.Ba;d++)if(this.cg[d]!=b.cg[d])return!1;return this.lq!=b.lq?!1:!0};a.prototype.yG=function(b){if(b.Ba!=this.Ba)return!1;for(var d=0;d<this.Ba;d++)if(this.cg[d]!=b.cg[d])return!1;
return!0};a.Jw=function(b,d){for(var e=[],f=0;f<b.Ba;f++)e[f]=-1;f=0;for(var h=b.Ba;f<h;f++)e[f]=d.Qf(b.qd(f));return e};a.tR=function(b,d){b=new a(b);b.se(d);return b.wF()};a.uR=function(b,d){for(var e=null,f=0;10>f;f++)!b.hasAttribute(f)&&d.hasAttribute(f)&&(null==e&&(e=new a(b)),e.se(f));return null!=e?e.wF():b};return a}(g.ua);g.ee=u;var l=function(){function c(){this.map=[];var a=new u;this.add(a);a=new u;a.se(1);this.add(a)}c.fz=function(){return c.UK};c.prototype.RR=function(){return c.ft};
c.prototype.add=function(a){var b=a.dc();if(null!=c.ft&&c.ft.dc()==b&&a.yG(c.ft))return c.ft;if(null!=c.Ew&&c.Ew.dc()==b&&a.yG(c.Ew))return c.Ew;var d=null;void 0!==this.map[b]&&(d=this.map[b]);null==d&&(d=a.lM(),1==d.Ba?c.ft=d:2==d.Ba&&1==d.qd(1)?c.Ew=d:this.map[b]=d);return d};c.UK=new c;return c}()})(L||(L={}));var Qa={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},Sa={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,
"square-miles":109413,"square-yards":109442},Xa=new (function(){function g(){this.JM=50;this.op=new Map;this.hj=[]}g.prototype.clear=function(){this.hj.length=0;this.op.clear()};g.prototype.delete=function(u){return this.op.delete(u)?(this.hj.splice(this.hj.indexOf(u),1),!0):!1};g.prototype.get=function(u){var l=this.op.get(u);if(void 0!==l)return this.hj[0]!==u&&(this.hj.splice(this.hj.indexOf(u),1),this.hj.unshift(u)),l};g.prototype.has=function(u){return this.op.has(u)};g.prototype.set=function(u,
l){void 0!==this.get(u)&&this.delete(u);this.hj.unshift(u);this.op.set(u,l);this.gM();return this};g.prototype.gM=function(){for(;this.hj.length&&this.hj.length>this.JM;){var u=this.hj.pop();this.op.delete(u)}};return g}()),Ba=(Z={},Z.convertJSONToGeometry=function(g){return L.bc.YO(g)},Z.hasM=function(g){return g.hasAttribute(L.Jh.M)},Z.hasZ=function(g){return g.hasAttribute(L.Jh.Z)},Z.getPointX=function(g){return g.Mg()},Z.getPointY=function(g){return g.jh()},Z.getPointZ=function(g){return g.TR()},
Z.getPointM=function(g){return g.rR()},Z.getXMin=function(g){return g.fs()},Z.getYMin=function(g){return g.hs()},Z.getXMax=function(g){return g.es()},Z.getYMax=function(g){return g.gs()},Z.getZExtent=function(g){return g.Ug(L.Jh.Z,0)},Z.getMExtent=function(g){return g.Ug(L.Jh.M,0)},Z.exportPaths=function(g){var u=[],l=g.ea(),c=null,a=null,b=g.hasAttribute(L.Jh.Z),d=g.hasAttribute(L.Jh.M);b&&(c=g.vb(L.Jh.Z));d&&(a=g.vb(L.Jh.M));for(var e=new L.h,f=0;f<l;f++){for(var h=g.Ca(f),k=g.Ka(f),m=0,n=0,p=NaN,
q=NaN,r=NaN,t=NaN,v=g.ec(f),M=[],W=h;W<h+k;W++){g.D(W,e);t=r=NaN;var U=[e.x,e.y];b&&(r=c.get(W),U.push(r));d&&(t=a.get(W),U.push(t));W==h&&v&&(m=e.x,n=e.y,p=r,q=t);M.push(U)}!v||m==e.x&&n==e.y&&(!b||isNaN(p)&&isNaN(r)||p==r)&&(!d||isNaN(q)&&isNaN(t)||q==t)||M.push(M[0].slice(0));u.push(M)}return u},Z.exportPathsFlat=function(){},Z.exportPoints=function(g){var u=g.hasAttribute(L.Jh.Z),l=g.hasAttribute(L.Jh.M),c=null,a=null;u&&(c=g.vb(L.Jh.Z));l&&(a=g.vb(L.Jh.M));for(var b=new L.h,d=g.I(),e=[],f=0;f<
d;f++){g.D(f,b);var h=[b.x,b.y];u&&h.push(c.get(f));l&&h.push(a.get(f));e.push(h)}return e},Z.exportPointsFlat=function(){},Z);return function(){function g(){}g.buffer=ua;g.clip=N;g.contains=H;g.convexHull=ba;g.crosses=E;g.cut=B;g.densify=Ha;g.difference=ea;g.disjoint=O;g.distance=I;g.equals=w;g.extendedSpatialReferenceInfo=P;g.generalize=Na;g.geodesicArea=La;g.geodesicBuffer=pa;g.geodesicDensify=Fa;g.geodesicLength=Ka;g.intersect=oa;g.intersects=J;g.isSimple=da;g.nearestCoordinate=wa;g.nearestVertex=
Da;g.nearestVertices=Ja;g.offset=ra;g.overlaps=S;g.planarArea=Ua;g.planarLength=Ra;g.relate=V;g.simplify=R;g.symmetricDifference=la;g.touches=T;g.union=ma;g.within=D;g.rotate=L.Cx.rotate;g.flipHorizontal=L.Cx.BQ;g.flipVertical=L.Cx.CQ;g._enableProjection=Ta;g._project=ha;g._getTransformation=Ea;g._getTransformationBySuitability=ca;return g}()}();void 0!==Q&&(Y.exports=Q)})(aa);const K=aa.exports;aa=Object.freeze(function(Y,Q){for(var A=0;A<Q.length;A++){const G=Q[A];if("string"!==typeof G&&!Array.isArray(G))for(const z in G)if("default"!==
z&&!(z in Y)){const x=Object.getOwnPropertyDescriptor(G,z);x&&Object.defineProperty(Y,z,x.get?x:{enumerable:!0,get:()=>G[z]})}}return Object.freeze(Y)}({__proto__:null,default:K},[aa.exports]));y.GeometryEngineApi=K;y.geometryEngineBase=aa})},"esri/geometry/geometryAdapters/hydrated":function(){define("exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(y,aa,K,Y,Q,A){y.hydratedAdapter={convertToGEGeometry:function(G,z){if(null==z)return null;let x="cache"in z?z.cache._geVersion:
void 0;null==x&&(x=G.convertJSONToGeometry(z),"cache"in z&&(z.cache._geVersion=x));return x},exportPoint:function(G,z,x){const C=G.hasZ(z),F=G.hasM(z);x=new Y({x:G.getPointX(z),y:G.getPointY(z),spatialReference:x});C&&(x.z=G.getPointZ(z));F&&(x.m=G.getPointM(z));x.cache._geVersion=z;return x},exportPolygon:function(G,z,x){G=new Q({rings:G.exportPaths(z),hasZ:G.hasZ(z),hasM:G.hasM(z),spatialReference:x});G.cache._geVersion=z;return G},exportPolyline:function(G,z,x){G=new A({paths:G.exportPaths(z),
hasZ:G.hasZ(z),hasM:G.hasM(z),spatialReference:x});G.cache._geVersion=z;return G},exportMultipoint:function(G,z,x){G=new K({hasZ:G.hasZ(z),hasM:G.hasM(z),points:G.exportPoints(z),spatialReference:x});G.cache._geVersion=z;return G},exportExtent:function(G,z,x){var C=G.hasZ(z);const F=G.hasM(z);x=new aa({xmin:G.getXMin(z),ymin:G.getYMin(z),xmax:G.getXMax(z),ymax:G.getYMax(z),spatialReference:x});C&&(C=G.getZExtent(z),x.zmin=C.vmin,x.zmax=C.vmax);F&&(G=G.getMExtent(z),x.mmin=G.vmin,x.mmax=G.vmax);x.cache._geVersion=
z;return x}};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/draw/support/surfaceCoordinateSystems":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../geometry ../../../core/maybe ../../../chunks/mat2d ../../../chunks/mat2df64 ../../../chunks/quat ../../../chunks/quatf64 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/Point".split(" "),function(y,aa,K,Y,Q,A,G,z,x,C,F){function P(E,I,w=null){return Y.isSome(w)?[E,I,w]:[E,I]}function N(E,I,w=
null){return Y.isSome(w)?{x:E,y:I,z:w}:{x:E,y:I}}K=function(){function E(I){this.spatialReference=I}E.prototype.mapToLocalMultiple=function(I){return Y.filterNones(I.map(w=>this.mapToLocal(w)))};aa._createClass(E,[{key:"doUnnormalization",get:function(){return!1}}]);return E}();let B=function(E){function I(J,T,D=null){T=E.call(this,T)||this;T.defaultZ=D;T.transform=A.create();T.transformInv=A.create();T.transform=A.clone(J);Q.invert(T.transformInv,T.transform);return T}aa._inheritsLoose(I,E);var w=
I.prototype;w.makeMapPoint=function(J,T){return P(J,T,this.defaultZ)};w.mapToLocal=function(J){return N(this.transform[0]*J[0]+this.transform[2]*J[1]+this.transform[4],this.transform[1]*J[0]+this.transform[3]*J[1]+this.transform[5])};w.localToMap=function(J){return P(this.transformInv[0]*J.x+this.transformInv[2]*J.y+this.transformInv[4],this.transformInv[1]*J.x+this.transformInv[3]*J.y+this.transformInv[5],this.defaultZ)};return I}(K),H=function(E){function I(J,T){var D=E.call(this,J.spatialReference)||
this;D.view=J;D.defaultZ=null;D.pWS=C.create();D.tangentFrameUpWS=C.create();D.tangentFrameRightWS=C.create();D.tangentFrameForwardWS=C.create();D.localFrameRightWS=C.create();D.localFrameUpWS=C.create();D.worldToLocalTransform=z.create();D.localToWorldTransform=z.create();D.scale=1;D.scale=J.resolution;D.referenceMapPoint=T;D.defaultZ=T.hasZ?T.z:null;J=J.state.camera.viewRight;D.view.renderCoordsHelper.toRenderCoords(D.referenceMapPoint,D.pWS);D.view.renderCoordsHelper.worldBasisAtPosition(D.pWS,
0,D.tangentFrameRightWS);D.view.renderCoordsHelper.worldBasisAtPosition(D.pWS,1,D.tangentFrameUpWS);D.view.renderCoordsHelper.worldBasisAtPosition(D.pWS,2,D.tangentFrameForwardWS);T=C.create();x.scale(T,D.tangentFrameForwardWS,x.dot(J,D.tangentFrameForwardWS));x.subtract(D.localFrameRightWS,J,T);x.normalize(D.localFrameRightWS,D.localFrameRightWS);x.cross(D.localFrameUpWS,D.tangentFrameForwardWS,D.localFrameRightWS);G.rotationTo(D.worldToLocalTransform,D.localFrameRightWS,D.tangentFrameRightWS);G.invert(D.localToWorldTransform,
D.worldToLocalTransform);return D}aa._inheritsLoose(I,E);var w=I.prototype;w.makeMapPoint=function(J,T){return P(J,T,this.defaultZ)};w.mapToLocal=function(J){const T=C.create();this.view.renderCoordsHelper.toRenderCoords(new F({x:J[0],y:J[1],spatialReference:this.spatialReference}),T);x.transformQuat(T,T,this.worldToLocalTransform);J=this.view.renderCoordsHelper.fromRenderCoords(T,this.view.spatialReference);return Y.isSome(J)?N(J.x/this.scale,J.y/this.scale):null};w.localToMap=function(J){const T=
C.create();this.view.renderCoordsHelper.toRenderCoords(new F({x:J.x*this.scale,y:J.y*this.scale,spatialReference:this.spatialReference}),T);x.transformQuat(T,T,this.localToWorldTransform);J=this.view.renderCoordsHelper.fromRenderCoords(T,this.view.spatialReference);return Y.isSome(J)?P(J.x,J.y,this.defaultZ):null};aa._createClass(I,[{key:"doUnnormalization",get:function(){return"global"===this.view.viewingMode}}]);return I}(K);y.AffineCoordinateSystem=B;y.SceneViewCoordinateSystem=H;y.SurfaceCoordinateSystem=
K;y.createViewAlignedCoordinateSystem=function(E,I){return"2d"===E.type?new B(E.state.transform,E.spatialReference,2<I.length?I[2]:null):"3d"===E.type?(I=2<I.length?new F({x:I[0],y:I[1],z:I[2],spatialReference:E.spatialReference}):new F({x:I[0],y:I[1],spatialReference:E.spatialReference}),new H(E,I)):null};y.makeMapPoint=P;y.makeSurfacePoint=N;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/InteractiveToolBase":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../DOMContainer ./ManipulatorCollection".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B){const H=Q.getLogger("esri.views.interactive.InteractiveToolBase");y.InteractiveToolBase=function(E){function I(J){J=E.call(this,J)||this;J.toolState="pending";J.completed=!1;J.manipulators=new B.ManipulatorCollection;J.updating=!1;J.automaticManipulatorSelection=!0;J._editableFlags=new Map([[1,!0],[0,!0]]);J._creationStartedResolver=G.createResolver();J._creationFinishedResolver=G.createResolver();return J}aa._inheritsLoose(I,E);var w=I.prototype;w.attach=function(){if(this.attached)H.warn("Tool is already attached. Ignoring attach request.");
else{this.manipulators.attach();this.onAttach();if(this.visible)this.onShow();this._set("attached",!0)}};w.detach=function(){if(this.attached){if(this.visible)this.onHide();this.onDetach();this.manipulators.detach();this._set("attached",!1)}else H.error("Tool isn't currently attached. Ignoring detach request.")};w.activate=function(){A.isNone(this.view)?H.error("Can't activate tool if view is not defined."):this.active?H.warn("Tool is already active, ignoring activation request."):(N.isDOMContainer(this.view)&&
this.view.focus(),this.onActivate())};w.deactivate=function(){if(this.active)this.onDeactivate();else H.warn("Tool is not active, ignoring deactivation request.")};w.handleInputEvent=function(J){if(this.attached)this.onInputEvent(J);else H.warn("handleInputEvent() called on detached tool")};w.handleInputEventAfter=function(J){if(this.attached)this.onInputEventAfter(J);else H.warn("handleInputEventAfter() called on detached tool")};w.destroy=function(){this.manipulators.destroy();this._set("view",
null);this._set("completed",!1)};w.setEditableFlag=function(J,T){this._editableFlags.set(J,T);this.manipulators.isToolEditable=this.internallyEditable;this._updateManipulatorAttachment();0===J&&this.notifyChange("editable");this.onEditableChange()};w.getEditableFlag=function(J){return this._editableFlags.get(J)};w.whenCreationStarted=function(){return this._creationStartedResolver.promise};w.whenCreated=function(){return this._creationFinishedResolver.promise};w.rejectCreation=function(J){"pending"!==
this.toolState&&"creating"!==this.toolState||this._creationStartedResolver.resolve(this);this._creationFinishedResolver.reject(J)};w.onActivate=function(){};w.onDeactivate=function(){};w.onAttach=function(){};w.onDetach=function(){};w.onShow=function(){};w.onHide=function(){};w.onEditableChange=function(){};w.onInputEvent=function(J){};w.onInputEventAfter=function(J){};w.startToolCreation=function(){if("pending"===this.toolState)this._creationStartedResolver.resolve(this),this.toolState="creating";
else throw Error(`Unexpected tool state ${this.toolState}`);};w.finishToolCreation=function(){switch(this.toolState){case "pending":this.startToolCreation();case "creating":this.created||this._creationFinishedResolver.resolve(this);this.toolState="created";break;case "created":break;default:throw Error(`Unexpected tool state ${this.toolState}`);}};w.complete=function(){this.finishToolCreation();this._set("completed",!0)};w._show=function(){this._updateManipulatorAttachment();this.onShow()};w._hide=
function(){this._updateManipulatorAttachment();this.onHide()};w._updateManipulatorAttachment=function(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()};aa._createClass(I,[{key:"active",get:function(){return null!=this.view&&this.view.activeTool===this}},{key:"visible",set:function(J){this._set("visible",J);!J&&this.active&&(this.view.activeTool=null);this.attached&&(J?this._show():this._hide())}},{key:"editable",get:function(){return this.getEditableFlag(0)},set:function(J){this.setEditableFlag(0,
J)}},{key:"attached",get:function(){return this._get("attached")}},{key:"created",get:function(){return"created"===this.toolState}},{key:"cursor",get:function(){return null}},{key:"internallyEditable",get:function(){return this.getEditableFlag(0)&&this.getEditableFlag(1)}}]);return I}(Y);K.__decorate([z.property()],y.InteractiveToolBase.prototype,"toolState",void 0);K.__decorate([z.property({constructOnly:!0})],y.InteractiveToolBase.prototype,"view",void 0);K.__decorate([z.property({readOnly:!0})],
y.InteractiveToolBase.prototype,"active",null);K.__decorate([z.property({value:!0})],y.InteractiveToolBase.prototype,"visible",null);K.__decorate([z.property({value:!0})],y.InteractiveToolBase.prototype,"editable",null);K.__decorate([z.property({value:!1,readOnly:!0})],y.InteractiveToolBase.prototype,"attached",null);K.__decorate([z.property({readOnly:!0})],y.InteractiveToolBase.prototype,"created",null);K.__decorate([z.property({readOnly:!0})],y.InteractiveToolBase.prototype,"completed",void 0);
K.__decorate([z.property({readOnly:!0})],y.InteractiveToolBase.prototype,"manipulators",void 0);K.__decorate([z.property({readOnly:!0})],y.InteractiveToolBase.prototype,"updating",void 0);K.__decorate([z.property()],y.InteractiveToolBase.prototype,"cursor",null);K.__decorate([z.property()],y.InteractiveToolBase.prototype,"automaticManipulatorSelection",void 0);y.InteractiveToolBase=K.__decorate([P.subclass("esri.views.interactive.InteractiveToolBase")],y.InteractiveToolBase);Object.defineProperty(y,
"__esModule",{value:!0})})},"esri/views/interactive/ManipulatorCollection":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/Collection","../../core/maybe"],function(y,aa,K,Y){let Q=function(){function A(){this._isToolEditable=!0;this._manipulators=new K;this._nextManipulatorId=0;this._resourceContexts={manipulator3D:{}};this._attached=!1}var G=A.prototype;G.add=function(z,x=0){return this.addMany([z],x)[0]};G.addMany=function(z,x=0){return z.map(C=>{const F=this._nextManipulatorId++;
C={id:F,manipulator:C,visibilityPredicate:x,attached:!1};this._manipulators.add(C);this._attached&&this._updateManipulatorAttachment(C);return F})};G.remove=function(z){if("number"===typeof z){for(var x=0;x<this._manipulators.length;x++)if(this._manipulators.getItemAt(x).id===z)return z=this._manipulators.splice(x,1)[0],this._detachManipulator(z),z.id;return null}for(x=0;x<this._manipulators.length;x++)if(this._manipulators.getItemAt(x).manipulator===z)return z=this._manipulators.splice(x,1)[0],this._detachManipulator(z),
z.id;return null};G.removeAll=function(){this._manipulators.forEach(z=>{this._detachManipulator(z)});this._manipulators.removeAll()};G.attach=function(){this._manipulators.forEach(z=>{this._updateManipulatorAttachment(z)});this._attached=!0};G.detach=function(){this._manipulators.forEach(z=>{this._detachManipulator(z)});this._attached=!1};G.destroy=function(){this._manipulators.forEach(({manipulator:z})=>{z.destroy&&z.destroy()});this._manipulators.destroy();this._resourceContexts=null};G.on=function(z,
x){return this._manipulators.on(z,C=>{x(C)})};G.forEach=function(z){for(const x of this._manipulators.items)z(x)};G.some=function(z){return this._manipulators.items.some(z)};G.toArray=function(){const z=[];this.forEach(x=>z.push(x.manipulator));return z};G.intersect=function(z,x){let C=null,F=Number.MAX_VALUE;this._manipulators.forEach(({id:P,manipulator:N,attached:B})=>{B&&N.interactive&&(B=N.intersectionDistance(z,x),Y.isSome(B)&&B<F&&(F=B,C={id:P,manipulator:N}))});return C};G.findById=function(z){if(Y.isNone(z))return null;
for(const x of this._manipulators.items)if(z===x.id)return x.manipulator;return null};G._updateManipulatorAttachment=function(z){this._isManipulatorItemVisible(z)?this._attachManipulator(z):this._detachManipulator(z)};G._attachManipulator=function(z){z.attached||(z.manipulator.attach&&z.manipulator.attach(this._resourceContexts),z.attached=!0)};G._detachManipulator=function(z){if(z.attached){var x=z.manipulator;x.grabbing=!1;x.dragging=!1;x.hovering=!1;x.selected=!1;x.detach&&x.detach(this._resourceContexts);
z.attached=!1}};G._isManipulatorItemVisible=function(z){return 2===z.visibilityPredicate?!0:this._isToolEditable?0===z.visibilityPredicate:1===z.visibilityPredicate};aa._createClass(A,[{key:"isToolEditable",set:function(z){this._isToolEditable=z}},{key:"length",get:function(){return this._manipulators.length}}]);return A}();y.ManipulatorCollection=Q;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/draw/DrawOperation":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Evented ../../core/HandleOwner ../../core/lang ../../core/maybe ../../core/promiseUtils ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../layers/graphics/dehydratedFeatureComparison ./DrawManipulator ./DrawingMode ../interactive/coordinateHelper ../interactive/dragEventPipeline ../interactive/editGeometry/EditGeometry ../interactive/editGeometry/EditGeometryOperations ../interactive/snapping/SnappingContext ../interactive/snapping/SnappingDragPipelineStep ../support/Scheduler".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D,O){y.DrawOperation=function(S){function V(R){var ba=S.call(this,R)||this;ba._createOperationCompleted=!1;ba._pointerDownStates=new Set;ba._snappingPipeline=new D.SnappingPipeline;ba._snappingTask=null;ba._stagedVertex=null;ba.snapToSceneEnabled=null;G.isNone(R.elevationInfo)&&(ba.elevationInfo={mode:R.hasZ?"absolute-height":"on-the-ground",offset:0});return ba}aa._inheritsLoose(V,S);var da=V.prototype;da.initialize=function(){var R,ba;this.coordinateHelper=
E.createCoordinateHelper(this.hasZ,this.hasM,this.view.spatialReference);const ea="3d"===this.view.type?null==(R=this.view)?void 0:null==(ba=R.resourceController)?void 0:ba.scheduler:null;this._frameTask=ea?ea.registerTask(O.TaskPriority.SNAPPING):O.ImmediateTask;R="viewingMode"in this.view.state?this.view.state.viewingMode:2;this._editGeometryOperations=new J.EditGeometryOperations(new w.EditGeometry("segment"===this.geometryType||"multipoint"===this.geometryType?"polyline":this.geometryType,this.coordinateHelper,
R));this._activeComponent=new w.Component(this.spatialReference,R);this._editGeometryOperations.data.components.push(this._activeComponent);this.handles.add(this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],la=>{const oa=la.vertices.map(ra=>({componentIndex:0,vertexIndex:ra.index,coordinates:this.coordinateHelper.vectorToArray(ra.pos)})),ma=oa.map(ra=>ra.coordinates);switch(la.type){case "vertex-add":this.emit(la.type,{...la,added:ma,vertices:oa});break;case "vertex-update":this.emit(la.type,
{...la,updated:ma,vertices:oa});break;case "vertex-remove":this.emit(la.type,{...la,removed:ma,vertices:oa})}}));this._manipulator=new B.DrawManipulator({grabbableForEvent:la=>"click"!==this.drawingMode?!0:"touch"===la.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size});this.manipulators.add(this._manipulator);this._manipulator.grabbable="point"!==this.geometryType;this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on("immediate-click",
la=>this._onImmediateClick(la)),this._manipulator.events.on("immediate-double-click",la=>this._onImmediateDoubleClick(la))])};da.destroy=function(){this._editGeometryOperations=G.destroyMaybe(this._editGeometryOperations);this._frameTask=G.removeMaybe(this._frameTask)};da.cancel=function(){this.complete({aborted:!0})};da.commitStagedVertex=function(){this._snappingTask=G.abortMaybe(this._snappingTask);if(G.isSome(this._stagedVertex)){const R=this._stagedVertex;this._stagedVertex=null;this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(R))}};
da.complete=function(R){R=R&&R.aborted||!1;G.abortMaybe(this._snappingTask);G.isSome(this.snappingManager)&&this.snappingManager.doneSnapping();"segment"===this.geometryType||"point"===this.geometryType?this.commitStagedVertex():this.discardStagedVertex();this._createOperationCompleted=!("multipoint"===this.geometryType&&0===this.numVertices||"polyline"===this.geometryType&&2>this.numVertices||"polygon"===this.geometryType&&3>this.numVertices);(this.isCompleted||R)&&this.emit("complete",{vertices:this.vertices.map((ba,
ea)=>({componentIndex:0,vertexIndex:ea,coordinates:ba})),aborted:R,type:"complete"})};da.discardStagedVertex=function(){this._stagedVertex=null};da.onInputEvent=function(R){switch(R.type){case "pointer-down":this._pointerDownStates.add(R.pointerId);break;case "pointer-up":this._pointerDownStates.delete(R.pointerId)}switch(R.type){case "pointer-move":return this._onPointerMove(R);case "hold":return this._onHold(R)}};da.redo=function(){this._editGeometryOperations.redo()};da.undo=function(){G.isSome(this.snappingManager)&&
this.snappingManager.doneSnapping();this._editGeometryOperations.undo()};da._closeOnClickVertexIndex=function(R){const ba=this._activeComponent;if("polygon"===this.geometryType&&2<ba.vertices.length){if(this._vertexWithinPointerDistance(ba.vertices[0].pos,R))return 0;if(this._vertexWithinPointerDistance(ba.vertices[ba.vertices.length-1].pos,R))return ba.vertices.length-1}return null};da._createManipulatorDragPipeline=function(R){switch(this.drawingMode){case "click":return this._createManipulatorDragPipelineClick(R);
case "freehand":return this._createManipulatorDragPipelineFreehand(R);case "hybrid":return this._createManipulatorDragPipelineHybrid(R)}};da._createManipulatorDragPipelineClick=function(R){return I.createManipulatorDragEventPipeline(R,(ba,ea,la,oa)=>{const ma="touch"===oa&&this._snappingEnabled;!this.isCompleted&&ma&&(ea.next(this._screenToMapDragEventStep()).next(ra=>{"start"===ra.action&&(this.stagedVertex=ra.mapStart,("segment"===this.geometryType||ma&&0===this.numVertices)&&this.commitStagedVertex());
return ra}).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>ma,cancel:la,snappingManager:this.snappingManager,snappingContext:new T.SnappingContext({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:oa,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next(ra=>{ma&&(this.stagedVertex=ra.mapEnd,"end"===ra.action&&this.commitStagedVertex());return ra}).next(ra=>{"end"!==ra.action||
"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete();return ra}),la.next(()=>{ma&&G.isSome(this.snappingManager)&&this.snappingManager.doneSnapping()}))})};da._createManipulatorDragPipelineFreehand=function(R){return I.createManipulatorDragEventPipeline(R,(ba,ea)=>{this.isCompleted||ea.next(this._screenToMapDragEventStep()).next(la=>{"start"===la.action&&(G.isNone(this.stagedVertex)&&(this.stagedVertex=la.mapStart),"segment"===this.geometryType&&this.commitStagedVertex());return la}).next(la=>
{switch(la.action){case "start":case "update":this.stagedVertex=la.mapEnd;"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case "end":this.complete()}return la})})};da._createManipulatorDragPipelineHybrid=function(R){return I.createManipulatorDragEventPipeline(R,(ba,ea)=>{this.isCompleted||ea.next(this._screenToMapDragEventStep()).next(la=>{"start"===la.action&&(G.isNone(this.stagedVertex)&&(this.stagedVertex=la.mapStart),this.commitStagedVertex());return la}).next(la=>
{switch(la.action){case "start":case "update":this.stagedVertex=la.mapEnd;"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case "end":"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()}return la})})};da._getDrawSurface=function(){if(G.isNone(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let R=this.defaultZ,ba=!1;G.isSome(this.elevationInfo)&&
"absolute-height"===this.elevationInfo.mode&&(ba=!0);G.isSome(this.snapToSceneEnabled)&&(ba=this.snapToSceneEnabled);G.isSome(this.elevationInfo)&&"on-the-ground"===this.elevationInfo.mode&&(ba=!1);const ea=this._activeComponent.vertices.length;("segment"===this.geometryType||"polygon"===this.geometryType)&&0<ea&&(R=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),ba=!1);if(ba)return this.drawSurface;this.elevationDrawSurface.defaultZ=R;return this.elevationDrawSurface};da._mapToScreen=
function(R){return this._getDrawSurface().mapToScreen(R)};da._onHold=function(R){G.abortMaybe(this._snappingTask);"click"===this.drawingMode&&"touch"===R.pointerType&&this._snappingEnabled&&(this.stagedVertex=R.mapPoint);R.stopPropagation()};da._onImmediateClick=function(R){if(!("mouse"===R.pointerType&&2===R.button||this._manipulator.dragging)){var ba=this._activeComponent,ea=this._closeOnClickVertexIndex(R.screenPoint);if(G.isSome(ea))R.stopPropagation(),this.discardStagedVertex(),this.complete();
else{ea=this._screenToMap(R.screenPoint);if(G.isSome(ea))switch(this.drawingMode){case "freehand":"point"===this.geometryType&&(this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(ea)),this.complete());break;case "click":case "hybrid":this._snappingTask=G.abortMaybe(this._snappingTask),this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(ea)),("point"===
this.geometryType||"segment"===this.geometryType&&2===ba.vertices.length||"segment"===this.geometryType&&"hybrid"===this.drawingMode&&1===ba.vertices.length)&&this.complete()}R.stopPropagation()}}};da._onImmediateDoubleClick=function(R){this._manipulator.dragging||"point"===this.geometryType||(this.complete(),R.stopPropagation())};da._onPointerMove=function(R){var ba=this;G.abortMaybe(this._snappingTask);if(!(this._manipulator.dragging||this._pointerDownStates.has(R.pointerId)||this._manipulator.grabbing)&&
this._manipulator.interactive){var ea=x.createScreenPoint(R.x,R.y),la=this._closeOnClickVertexIndex(ea);if(G.isSome(la))this.discardStagedVertex(),ea={componentIndex:0,vertexIndex:la,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[la].pos)},this.emit("cursor-update",{updated:null,vertices:[ea],operation:"apply",type:"vertex-update"});else{const oa=this._screenToMap(ea);this._manipulator.cursor=G.isSome(oa)?"crosshair":null;if(G.isSome(oa))if(G.isSome(this.snappingManager)){const ma=
this.snappingManager,ra=new T.SnappingContext({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:R.pointerType,visualizer:this.snappingVisualizer});this.stagedVertex=ma.update(oa,ra);this._snappingTask=z.createTask(function(){var ua=aa._asyncToGenerator(function*(pa){const xa=yield ba._frameTask.schedule(()=>ma.snap(oa,ra,pa),pa);xa.valid&&(yield ba._frameTask.schedule(()=>{ba.stagedVertex=xa.apply()},pa))});return function(pa){return ua.apply(this,arguments)}}());
this.updatingHandles.addPromise(this._snappingTask.promise)}else this.stagedVertex=oa}R.stopPropagation()}};da._screenToMap=function(R){return this._getDrawSurface().screenToMap(R)};da._screenToMapDragEventStep=function(){let R=null;return ba=>{"start"===ba.action&&(R=this._screenToMap(ba.screenStart));if(G.isNone(R))return null;const ea=this._screenToMap(ba.screenEnd);return G.isSome(ea)?{...ba,mapStart:R,mapEnd:ea}:null}};da._vertexWithinPointerDistance=function(R,ba){const ea=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(R));
G.isSome(ea)?(R=ea.x-ba.x,ba=ea.y-ba.y,ba=25>=R*R+ba*ba):ba=!1;return ba};aa._createClass(V,[{key:"_snappingEnabled",get:function(){return G.isSome(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}},{key:"canRedo",get:function(){return this._editGeometryOperations.canRedo}},{key:"canUndo",get:function(){return this._editGeometryOperations.canUndo}},{key:"committedVertices",get:function(){return this._activeComponent.vertices.map(R=>this.coordinateHelper.vectorToArray(R.pos))}},
{key:"drawingMode",set:function(R){this._set("drawingMode",null!=R?R:H.defaultDrawingMode)}},{key:"hasStagedVertex",get:function(){return G.isSome(this._stagedVertex)}},{key:"interactive",get:function(){return this._manipulator.interactive},set:function(R){this._manipulator.interactive=R}},{key:"isCompleted",get:function(){return this._createOperationCompleted}},{key:"numCommittedVertices",get:function(){return this._activeComponent.vertices.length}},{key:"numVertices",get:function(){return G.isSome(this._stagedVertex)?
this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}},{key:"spatialReference",get:function(){return this.view.spatialReference}},{key:"stagedVertex",get:function(){return this._stagedVertex},set:function(R){if(G.isNone(R))this.discardStagedVertex();else if(!G.isSome(this._stagedVertex)||!N.pointEquals(this._stagedVertex,R)){if(G.isNone(this._stagedVertex))this._stagedVertex=A.clone(R);else{if(N.pointEquals(this._stagedVertex,R))return;this._stagedVertex.x=R.x;this._stagedVertex.y=
R.y;this._stagedVertex.z=R.z;this._stagedVertex.m=R.m;this._stagedVertex.hasZ=R.hasZ;this._stagedVertex.hasM=R.hasM;this._stagedVertex.spatialReference=R.spatialReference}this.emit("cursor-update",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(R)}],operation:"apply",type:"vertex-update"})}}},{key:"updating",get:function(){return this.updatingHandles.updating}},{key:"vertices",get:function(){const R=this.committedVertices;
G.isSome(this._stagedVertex)&&R.push(this.coordinateHelper.pointToArray(this._stagedVertex));return R}}]);return V}(Y.EventedMixin(Q.HandleOwner));K.__decorate([C.property()],y.DrawOperation.prototype,"defaultZ",void 0);K.__decorate([C.property({value:H.defaultDrawingMode})],y.DrawOperation.prototype,"drawingMode",null);K.__decorate([C.property({constructOnly:!0})],y.DrawOperation.prototype,"elevationDrawSurface",void 0);K.__decorate([C.property({constructOnly:!0})],y.DrawOperation.prototype,"elevationInfo",
void 0);K.__decorate([C.property({constructOnly:!0})],y.DrawOperation.prototype,"geometryType",void 0);K.__decorate([C.property({constructOnly:!0})],y.DrawOperation.prototype,"hasM",void 0);K.__decorate([C.property({constructOnly:!0})],y.DrawOperation.prototype,"hasZ",void 0);K.__decorate([C.property({constructOnly:!0})],y.DrawOperation.prototype,"manipulators",void 0);K.__decorate([C.property({constructOnly:!0})],y.DrawOperation.prototype,"drawSurface",void 0);K.__decorate([C.property({constructOnly:!0})],
y.DrawOperation.prototype,"snappingManager",void 0);K.__decorate([C.property({constructOnly:!0})],y.DrawOperation.prototype,"snappingVisualizer",void 0);K.__decorate([C.property()],y.DrawOperation.prototype,"snapToSceneEnabled",void 0);K.__decorate([C.property({readOnly:!0})],y.DrawOperation.prototype,"updating",null);K.__decorate([C.property({constructOnly:!0})],y.DrawOperation.prototype,"view",void 0);y.DrawOperation=K.__decorate([P.subclass("esri.views.draw.DrawOperation")],y.DrawOperation);Object.defineProperty(y,
"__esModule",{value:!0})})},"esri/views/draw/DrawManipulator":function(){define(["exports","../../core/Evented"],function(y,aa){let K=function(){function Y({grabbableForEvent:A}){this.events=new aa;this.interactive=!0;this.selectable=!1;this.cursor=null;this.grabbable=!0;this.grabbableForEvent=A}var Q=Y.prototype;Q.intersectionDistance=function(A,G){return 0};Q.attach=function(){};Q.detach=function(){};return Y}();y.DrawManipulator=K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/draw/DrawingMode":function(){define(["exports"],
function(y){y.defaultDrawingMode="click";y.drawingModes=["freehand","hybrid","click"];Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/coordinateHelper":function(){define("exports ../../chunks/vec2 ../../chunks/vec2f64 ../../chunks/vec3 ../../chunks/vec3f64 ../../chunks/vec4 ../../chunks/vec4f64 ../../geometry/Point".split(" "),function(y,aa,K,Y,Q,A,G,z){let x=function(){function P(B){this.spatialReference=B}var N=P.prototype;N.createVector=function(){return this.tag(K.create())};
N.pointToVector=function(B){return this.tag(K.fromValues(B.x,B.y))};N.arrayToVector=function(B){return this.tag(K.fromValues(B[0],B[1]))};N.vectorToArray=function(B){return[B[0],B[1]]};N.pointToArray=function(B){return[B.x,B.y]};N.vectorToPoint=function(B,H=new z){H.x=B[0];H.y=B[1];H.z=void 0;H.m=void 0;H.spatialReference=this.spatialReference;return H};N.arrayToPoint=function(B,H=new z){H.x=B[0];H.y=B[1];H.z=void 0;H.m=void 0;H.spatialReference=this.spatialReference;return H};N.vectorToDehydratedPoint=
function(B,H={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){H.x=B[0];H.y=B[1];H.z=void 0;H.m=void 0;H.hasZ=!1;H.hasM=!1;H.spatialReference=this.spatialReference;return H};N.lerp=function(B,H,E,I){return aa.lerp(I,B,H,E)};N.addDelta=function(B,H,E){B[0]+=H;B[1]+=E};N.distance=function(B,H){return aa.distance(B,H)};N.getZ=function(B,H){return H};N.hasZ=function(){return!1};N.getM=function(B,H){return H};N.hasM=function(){return!1};N.clone=function(B){return this.tag(K.fromArray(B))};
N.copy=function(B,H){return aa.copy(H,B)};N.fromXYZ=function(B){return this.tag(K.fromValues(B[0],B[1]))};N.toXYZ=function(B,H=0){return Q.fromValues(B[0],B[1],H)};N.tag=function(B){return B};return P}(),C=function(){function P(B,H){this.valueType=B;this.spatialReference=H}var N=P.prototype;N.createVector=function(){return this.tag(Q.create())};N.pointToVector=function(B){return this.tag(Q.fromValues(B.x,B.y,0===this.valueType?B.z:B.m))};N.arrayToVector=function(B){return this.tag(Q.fromValues(B[0],
B[1],B[2]||0))};N.vectorToArray=function(B){return[B[0],B[1],B[2]]};N.pointToArray=function(B){return 0===this.valueType?[B.x,B.y,B.z]:[B.x,B.y,B.m]};N.vectorToPoint=function(B,H=new z){H.x=B[0];H.y=B[1];H.z=0===this.valueType?B[2]:void 0;H.m=1===this.valueType?B[2]:void 0;H.spatialReference=this.spatialReference;return H};N.arrayToPoint=function(B,H=new z){H.x=B[0];H.y=B[1];H.z=0===this.valueType?B[2]:void 0;H.m=1===this.valueType?B[2]:void 0;H.spatialReference=this.spatialReference;return H};N.vectorToDehydratedPoint=
function(B,H={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){const E=0===this.valueType,I=1===this.valueType;H.x=B[0];H.y=B[1];H.z=E?B[2]:void 0;H.m=I?B[2]:void 0;H.hasZ=E;H.hasM=I;H.spatialReference=this.spatialReference;return H};N.lerp=function(B,H,E,I){return Y.lerp(I,B,H,E)};N.addDelta=function(B,H,E,I){B[0]+=H;B[1]+=E;0===this.valueType&&(B[2]+=I)};N.distance=function(B,H){return 0===this.valueType?Y.distance(B,H):aa.distance(B,H)};N.getZ=
function(B,H){return 0===this.valueType?B[2]:H};N.hasZ=function(){return 0===this.valueType};N.getM=function(B,H){return 1===this.valueType?B[2]:H};N.hasM=function(){return 1===this.valueType};N.clone=function(B){return this.tag(Q.fromArray(B))};N.copy=function(B,H){return Y.copy(H,B)};N.fromXYZ=function(B,H=0,E=0){return this.tag(Q.fromValues(B[0],B[1],0===this.valueType?2<B.length?B[2]:H:E))};N.toXYZ=function(B,H=0){return this.tag(Q.fromValues(B[0],B[1],0===this.valueType?B[2]:H))};N.tag=function(B){return B};
return P}(),F=function(){function P(B){this.spatialReference=B}var N=P.prototype;N.createVector=function(){return this.tag(G.create())};N.pointToVector=function(B){return this.tag(G.fromValues(B.x,B.y,B.z,B.m))};N.arrayToVector=function(B){return this.tag(G.fromValues(B[0],B[1],B[2]||0,B[3]||0))};N.vectorToArray=function(B){return[B[0],B[1],B[2],B[3]]};N.pointToArray=function(B){return[B.x,B.y,B.z,B.m]};N.vectorToPoint=function(B,H=new z){H.x=B[0];H.y=B[1];H.z=B[2];H.m=B[3];H.spatialReference=this.spatialReference;
return H};N.arrayToPoint=function(B,H=new z){H.x=B[0];H.y=B[1];H.z=B[2];H.m=B[3];H.spatialReference=this.spatialReference;return H};N.vectorToDehydratedPoint=function(B,H={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){H.x=B[0];H.y=B[1];H.z=B[2];H.m=B[3];H.hasZ=!0;H.hasM=!0;H.spatialReference=this.spatialReference;return H};N.lerp=function(B,H,E,I){return A.lerp(I,B,H,E)};N.addDelta=function(B,H,E,I){B[0]+=H;B[1]+=E;B[2]+=I};N.distance=function(B,
H){return Y.distance(B,H)};N.getZ=function(B){return B[2]};N.hasZ=function(){return!0};N.getM=function(B){return B[3]};N.hasM=function(){return!0};N.clone=function(B){return this.tag(G.fromArray(B))};N.copy=function(B,H){return A.copy(H,B)};N.fromXYZ=function(B,H=0,E=0){return this.tag(G.fromValues(B[0],B[1],2<B.length?B[2]:H,E))};N.toXYZ=function(B){return Q.fromValues(B[0],B[1],B[2])};N.tag=function(B){return B};return P}();y.CoordinateHelper2D=x;y.CoordinateHelper3D=C;y.CoordinateHelper4D=F;y.createCoordinateHelper=
function(P,N,B){return P&&N?new F(B):N?new C(1,B):P?new C(0,B):new x(B)};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/dragEventPipeline":function(){define("exports ../../core/handleUtils ../../core/lang ../../core/mathUtils ../../core/maybe ../../core/screenUtils ../../chunks/vec3f64 ../../geometry/projection ../draw/support/drawUtils".split(" "),function(y,aa,K,Y,Q,A,G,z,x){function C(D,O){let S=null,V=null;return da=>{if("cancel"===da.action)Q.isSome(V)&&(V.execute({action:"cancel"}),
V=S=null);else{var R={action:da.action,screenStart:da.start,screenEnd:da.screenPoint};"start"===da.action&&Q.isNone(S)&&(S=new T,V=new T,O(D,S,V,da.pointerType,R));Q.isSome(S)&&S.execute(R);"end"===da.action&&Q.isSome(S)&&(V=S=null)}}}function F(D,O){return D.events.on("drag",C(D,O))}function P(D,O){let S=null;return V=>{"start"===V.action&&(S=B(D,V.mapStart.spatialReference,O));if(Q.isNone(S))return null;const da=V.mapEnd.x-V.mapStart.x,R=V.mapEnd.y-V.mapStart.y,ba=V.mapEnd.z-V.mapStart.z;S.move(da,
R,ba);return{...V,translationX:da,translationY:R,translationZ:ba}}}function N(D,O){return Q.isNone(D)?null:D.spatialReference.equals(O)?D.clone():z.project(D,O)}function B(D,O,S){const V=D.geometry;if(Q.isNone(V))return null;if("mesh"===V.type)return H(D,V,O,S);const da=N(V,O),R=V.spatialReference;return Q.isNone(da)?null:{move:(ba,ea,la)=>{ba=x.move(da.clone(),ba,ea,la);ba.spatialReference.equals(R)?D.geometry=ba:D.geometry=z.project(ba,R)}}}function H(D,O,S,V){if(Q.isSome(O.transform))return E(D,
O,O.transform,S);if(!O.spatialReference.equals(S))return null;let da=0,R=0,ba=0;return{move:(ea,la,oa)=>{var ma=ea-da;const ra=la-R,ua=oa-ba;if(ma||ra||ua)ma=O.origin.clone().offset(ma,ra,ua),O.centerAt(ma,{geographic:1===V}),D.notifyGeometryChanged(),da=ea,R=la,ba=oa}}}function E(D,O,S,V){const da=S.getOriginPoint(O.spatialReference),R=N(da,V),ba=O.spatialReference;return Q.isNone(R)?null:{move:(ea,la,oa)=>{ea=x.move(R.clone(),ea,la,oa);ea.spatialReference.equals(ba)?S.origin=G.fromValues(ea.x,ea.y,
ea.z):(ea=z.project(ea,ba),Q.isSome(ea)&&(S.origin=G.fromValues(ea.x,ea.y,ea.z)));D.notifyGeometryChanged()}}}function I(D,O){const S=new Map;for(const V of O)S.set(V,K.clone(D[V]));return V=>{S.forEach((da,R)=>{D[R]=da});return V}}function w(D){return Q.isSome(D.geometry)&&"mesh"===D.geometry.type?J(D,D.geometry):I(D,["geometry"])}function J(D,O){const S=Q.isSome(O.transform)?O.transform.clone():null,V=O.vertexAttributes.clonePositional();return da=>{O.transform=S;O.vertexAttributes=V;D.notifyGeometryChanged();
return da}}let T=function(){function D(){this.execute=()=>{}}D.prototype.next=function(O,S=new D){Q.isSome(O)&&(this.execute=V=>{V=O(V);Q.isSome(V)&&S.execute(V)});return S};return D}();y.EventPipeline=T;y.addMapDelta=function(){let D=0,O=0,S=0;return V=>{"start"===V.action&&(D=V.mapStart.x,O=V.mapStart.y,S=V.mapStart.z);const da=V.mapEnd.x-D,R=V.mapEnd.y-O,ba=V.mapEnd.z-S;D=V.mapEnd.x;O=V.mapEnd.y;S=V.mapEnd.z;return{...V,mapDeltaX:da,mapDeltaY:R,mapDeltaZ:ba,mapDeltaSpatialReference:V.mapStart.spatialReference}}};
y.addScreenDelta=function(){let D=0,O=0;return S=>{"start"===S.action&&(D=S.screenStart.x,O=S.screenStart.y);const V=S.screenEnd.x-D,da=S.screenEnd.y-O;D=S.screenEnd.x;O=S.screenEnd.y;return{...S,screenDeltaX:V,screenDeltaY:da}}};y.constrainToMapAxis=function(D,O){const S=[D.x,D.y,D.z],V=[Math.cos(O),Math.sin(O)];D=Math.sqrt(V[0]*V[0]+V[1]*V[1]);if(0===D)return null;V[0]/=D;V[1]/=D;const da=R=>{const ba=(R.x-S[0])*V[0]+(R.y-S[1])*V[1];R.x=S[0]+ba*V[0];R.y=S[1]+ba*V[1]};return R=>{da(R.mapStart);da(R.mapEnd);
return R}};y.createDragEventPipelineCallback=C;y.createManipulatorDragEventPipeline=F;y.createManipulatorDragEventPipelineMany=function(D,O){const S=[];for(const V of D)S.push(F(V,O));return aa.handlesGroup(S)};y.dragAtLocation=function(D,O){let S=null,V=0,da=0;return R=>{"start"===R.action&&(S=D.toScreen(O),0>S.x||S.x>D.width||0>S.y||S.y>D.height?S=null:(V=R.screenStart.x-S.x,da=R.screenStart.y-S.y));if(null==S)return null;var ba=Y.clamp(R.screenEnd.x-V,0,D.width);const ea=Y.clamp(R.screenEnd.y-
da,0,D.height);ba=A.createScreenPoint(ba,ea);R.screenStart=S;R.screenEnd=ba;return R}};y.dragGraphic=P;y.dragGraphicMany=function(D,O){const S=D.map(V=>Q.unwrap(P(V,O))).filter(V=>Q.isSome(V));return V=>{const da=V.mapEnd.x-V.mapStart.x,R=V.mapEnd.y-V.mapStart.y,ba=V.mapEnd.z-V.mapStart.z;S.forEach(ea=>ea(V));return{...V,translationX:da,translationY:R,translationZ:ba}}};y.resetGraphic=w;y.resetGraphicMany=function(D){const O=D.map(S=>Q.unwrap(w(S))).filter(S=>Q.isSome(S));return S=>{O.forEach(V=>
V(S));return S}};y.resetProperties=I;y.resetSymbol=function(D){return I(D,["symbol"])};y.screenToMap=function(D,O=null,S){let V=null;const da=Q.isSome(O)&&!D.spatialReference.equals(O)?ba=>Q.isSome(ba)?z.project(ba,O):ba:ba=>ba,R={exclude:[],...S};return ba=>{"start"===ba.action&&(V=da(D.toMap(ba.screenStart,R)));if(Q.isNone(V))return null;const ea=da(D.toMap(ba.screenEnd,R));return Q.isSome(ea)?{...ba,mapStart:V,mapEnd:ea}:null}};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/draw/support/drawUtils":function(){define(["exports",
"../../../core/mathUtils","../../../geometry/support/aaBoundingRect","../../../geometry/support/boundsUtils","../../../geometry/support/coordsUtils"],function(y,aa,K,Y,Q){function A(x,C,F,P){null==P||x.hasZ||(P=void 0);if("point"===x.type)return x.x+=C,x.y+=F,x.hasZ&&null!=P&&(x.z+=P),x;if("multipoint"===x.type){var N=x.points;for(var B=0;B<N.length;B++)N[B]=G(N[B],C,F,P);return x}if("extent"===x.type)return x.xmin+=C,x.xmax+=C,x.ymin+=F,x.ymax+=F,null!=P&&(x.zmin+=P,x.zmax+=P),x;N=Q.geometryToCoordinates(x);
B="polyline"===x.type?x.paths:x.rings;for(let H=0;H<N.length;H++){const E=N[H];for(let I=0;I<E.length;I++)E[I]=G(E[I],C,F,P)}"paths"in x?x.paths=B:x.rings=B;return x}function G(x,C,F,P){return z(x,x[0]+C,x[1]+F,null!=x[2]&&null!=P?x[2]+P:void 0)}function z(x,C,F,P){C=[C,F];2<x.length&&C.push(null!=P?P:x[2]);3<x.length&&C.push(x[3]);return C}y.cloneMove=function(x,C,F,P,N){x=x.clone();var B=P.resolution;if("point"===x.type)return N?A(x,C*B,-F*B):(N=P.state.transform,P=P.state.inverseTransform,B=N[0]*
x.x+N[2]*x.y+N[4],N=N[1]*x.x+N[3]*x.y+N[5],x.x=P[0]*(B+C)+P[2]*(N+F)+P[4],x.y=P[1]*(B+C)+P[3]*(N+F)+P[5]),x;if("multipoint"===x.type){if(N)A(x,C*B,-F*B);else{N=x.points;B=P.state.transform;P=P.state.inverseTransform;for(var H=0;H<N.length;H++){var E=N[H],I=B[0]*E[0]+B[2]*E[1]+B[4],w=B[1]*E[0]+B[3]*E[1]+B[5];N[H]=z(E,P[0]*(I+C)+P[2]*(w+F)+P[4],P[1]*(I+C)+P[3]*(w+F)+P[5],void 0)}}return x}if("extent"===x.type)return N?A(x,C*B,-F*B):(N=P.state.transform,P=P.state.inverseTransform,B=N[0]*x.xmin+N[2]*
x.ymin+N[4],H=N[1]*x.xmin+N[3]*x.ymin+N[5],E=N[0]*x.xmax+N[2]*x.ymax+N[4],N=N[1]*x.xmax+N[3]*x.ymax+N[5],x.xmin=P[0]*(B+C)+P[2]*(H+F)+P[4],x.ymin=P[1]*(B+C)+P[3]*(H+F)+P[5],x.xmax=P[0]*(E+C)+P[2]*(N+F)+P[4],x.ymax=P[1]*(E+C)+P[3]*(N+F)+P[5]),x;if(N)A(x,C*B,-F*B);else{N=Q.geometryToCoordinates(x);B="polyline"===x.type?x.paths:x.rings;H=P.state.transform;P=P.state.inverseTransform;for(E=0;E<N.length;E++)for(I=N[E],w=0;w<I.length;w++){const J=I[w],T=H[0]*J[0]+H[2]*J[1]+H[4],D=H[1]*J[0]+H[3]*J[1]+H[5];
I[w]=z(J,P[0]*(T+C)+P[2]*(D+F)+P[4],P[1]*(T+C)+P[3]*(D+F)+P[5],void 0)}"paths"in x?x.paths=B:x.rings=B}return x};y.getRotationAngle=function(x,C,F){x=Math.atan2(C.y-F.y,C.x-F.x)-Math.atan2(x.y-F.y,x.x-F.x);return aa.rad2deg(Math.atan2(Math.sin(x),Math.cos(x)))};y.getScaleRatio=function(x,C,F,P,N,B){return Math.sqrt((N-x)*(N-x)+(B-C)*(B-C))/Math.sqrt((F-x)*(F-x)+(P-C)*(P-C))};y.move=A;y.scale=function(x,C,F,P){if("point"===x.type){const {x:D,y:O}=x;var N=P?P[0]:D,B=P?P[1]:O;x=x.clone();F=(O-B)*F+B;
x.x=(D-N)*C+N;x.y=F;return x}if("multipoint"===x.type){N=Q.geometryToCoordinates(x);B=K.create();const [D,O,S,V]=Y.getRingsOrPathsBounds(B,[N]);N=P?P[0]:(D+S)/2;B=P?P[1]:(V+O)/2;x=x.clone();P=x.points;for(var H=0;H<P.length;H++){var E=P[H];const [da,R]=E;P[H]=z(E,(da-N)*C+N,(R-B)*F+B,void 0)}return x}if("extent"===x.type){const {xmin:D,xmax:O,ymin:S,ymax:V}=x;N=P?P[0]:(D+O)/2;B=P?P[1]:(V+S)/2;x=x.clone();x.xmin=(D-N)*C+N;x.ymax=(V-B)*F+B;x.xmax=(O-N)*C+N;x.ymin=(S-B)*F+B;x.xmin>x.xmax&&(C=x.xmin,
x.xmin=x.xmax,x.xmax=C);x.ymin>x.ymax&&(C=x.ymin,x.ymin=x.ymax,x.ymax=C);return x}N=Q.geometryToCoordinates(x);B=K.create();const [I,w,J,T]=Y.getRingsOrPathsBounds(B,N);B=P?P[0]:(I+J)/2;P=P?P[1]:(T+w)/2;x=x.clone();H="polyline"===x.type?x.paths:x.rings;for(E=0;E<N.length;E++){const D=N[E];for(let O=0;O<D.length;O++){const S=D[O],[V,da]=S;H[E][O]=z(S,(V-B)*C+B,(da-P)*F+P,void 0)}}"paths"in x?x.paths=H:x.rings=H;return x};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/EditGeometry":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/arrayUtils ../../../core/Evented ../../../core/maybe ../../../geometry/Polygon ../../../geometry/Polyline ../coordinateHelper ./unnormalizationHelper".split(" "),
function(y,aa,K,Y,Q,A,G,z,x){let C=function(){function N(B){this.component=B;this.rightEdge=this.leftEdge=null;this.type="vertex";this.index=null}aa._createClass(N,[{key:"pos",get:function(){return this._pos},set:function(B){this._pos=B;this.component.unnormalizeVertexPositions()}}]);return N}(),F=function(N,B,H){this.component=N;this.leftVertex=B;this.rightVertex=H;this.type="edge";B.rightEdge=this;H.leftEdge=this},P=function(){function N(H,E){this.spatialReference=H;this.viewingMode=E;this.vertices=
[];this.edges=[]}var B=N.prototype;B.unnormalizeVertexPositions=function(){1>=this.vertices.length||x.unnormalize(this.vertices,x.getUnnormalizationInfo(this.spatialReference,this.viewingMode))};B.updateVertexIndex=function(H,E){if(0!==this.vertices.length){var I=this.vertices[0],w=null;do w=H,w.index=E++,H=w.rightEdge?w.rightEdge.rightVertex:null;while(null!=H&&H!==I);w.leftEdge&&w!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(w),this.vertices.length-1)}};B.getFirstVertex=
function(){return 0===this.vertices.length?null:this.vertices[0]};B.getLastVertex=function(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]};B.isClosed=function(){return 2<this.vertices.length&&null!==this.vertices[0].leftEdge};B.swapVertices=function(H,E){const I=this.vertices[H];this.vertices[H]=this.vertices[E];this.vertices[E]=I};B.iterateVertices=function(H){if(0!==this.vertices.length){var E=this.vertices[0],I=E;do H(I,I.index),I=Q.isSome(I.rightEdge)?I.rightEdge.rightVertex:
null;while(I!==E&&null!=I)}};return N}();Y=function(N){function B(E,I,w){var J=N.call(this)||this;J.type=E;J.coordinateHelper=I;J.viewingMode=w;J._geometry=null;J.dirty=!0;J.components=[];return J}aa._inheritsLoose(B,N);var H=B.prototype;H.notifyChanges=function(E){this.dirty=!0;this.emit("change",E)};H.toPoint=function(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)};H.toPolyline=function(){const E=
[],I=this.coordinateHelper.vectorToArray;this.components.forEach((w,J)=>{J=[];const T=w=w.vertices.find(D=>null==D.leftEdge);do J.push(I(w.pos)),w=w.rightEdge?w.rightEdge.rightVertex:null;while(w&&w!==T);E.push(J)});return new G({paths:E,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})};H.toPolygon=function(){const E=[],I=this.coordinateHelper.vectorToArray;this.components.forEach((w,J)=>{J=[];const T=w.vertices[0];let D=T;const O=D;do J.push(I(D.pos)),
D=Q.isSome(D.rightEdge)?D.rightEdge.rightVertex:null;while(D&&D!==O);w.isClosed()&&J.push(I(T.pos));E.push(J)});return new A({rings:E,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})};B.fromGeometry=function(E,I){var w=E.spatialReference;const J=z.createCoordinateHelper(E.hasZ,E.hasM,w),T=new B(E.type,J,I);switch(E.type){case "polygon":var D=E.rings;for(E=0;E<D.length;++E){var O=D[E],S=new P(w,I),V=2<O.length&&K.equals(O[0],O[O.length-1]),
da=V?O.length-1:O.length;for(var R=0;R<da;++R){const ba=J.arrayToVector(O[R]),ea=new C(S);S.vertices.push(ea);ea.pos=ba;ea.index=R}O=S.vertices.length-1;for(da=0;da<O;++da)R=new F(S,S.vertices[da],S.vertices[da+1]),S.edges.push(R);V&&(V=new F(S,S.vertices[S.vertices.length-1],S.vertices[0]),S.edges.push(V));T.components.push(S)}break;case "polyline":for(D of E.paths){E=new P(w,I);S=D.length;for(V=0;V<S;++V)O=J.arrayToVector(D[V]),da=new C(E),E.vertices.push(da),da.pos=O,da.index=V;S=E.vertices.length-
1;for(V=0;V<S;++V)O=new F(E,E.vertices[V],E.vertices[V+1]),E.edges.push(O);T.components.push(E)}break;case "point":I=new P(w,I),w=new C(I),w.index=0,w.pos=J.pointToVector(E),I.vertices.push(w),T.components.push(I)}return T};aa._createClass(B,[{key:"geometry",get:function(){if(this.dirty){switch(this.type){case "point":this._geometry=this.toPoint();break;case "polyline":this._geometry=this.toPolyline();break;case "polygon":this._geometry=this.toPolygon()}this.dirty=!1}return this._geometry}},{key:"spatialReference",
get:function(){return this.coordinateHelper.spatialReference}}]);return B}(Y);y.Component=P;y.Edge=F;y.EditGeometry=Y;y.Vertex=C;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/unnormalizationHelper":function(){define(["exports","../../../geometry/support/spatialReferenceUtils"],function(y,aa){y.getUnnormalizationInfo=function(K,Y){K=aa.getInfo(K);return 1===Y&&K?{supported:!0,lowerBoundX:K.valid[0],upperBoundX:K.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}};
y.unnormalize=function(K,Y){if(Y.supported){var Q=Infinity,A=-Infinity,G=Y.upperBoundX-Y.lowerBoundX;K.forEach(x=>{let C=x.pos[0];for(;C<Y.lowerBoundX;)C+=G;for(;C>Y.upperBoundX;)C-=G;Q=Math.min(Q,C);A=Math.max(A,C);x.pos[0]=C});var z=A-Q;G-z<z&&K.forEach(x=>{0>x.pos[0]&&(x.pos[0]+=G)})}};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/EditGeometryOperations":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Evented ../../../core/maybe ./EditGeometry ./operations/AppendVertex ./operations/UpdateVertices ./operations/RemoveVertices ./operations/SplitEdge ./operations/SetVertexPosition ./operations/CloseComponent ./operations/MoveVertex ./operations/OffsetEdgeVertex ./operations/RotateVertex ./operations/ScaleVertex ./operations/UndoGroup".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E){K=function(I){function w(T){var D=I.call(this)||this;D.data=T;D.undoStack=[];D.redoStack=[];D.listener=D.data.on("change",O=>{O.addedVertices&&D.emit("vertex-add",{type:"vertex-add",vertices:O.addedVertices,operation:O.operation});O.removedVertices&&D.emit("vertex-remove",{type:"vertex-remove",vertices:O.removedVertices,operation:O.operation});O.updatedVertices&&D.emit("vertex-update",{type:"vertex-update",vertices:O.updatedVertices,operation:O.operation})});
return D}aa._inheritsLoose(w,I);var J=w.prototype;J.destroy=function(){this.listener.remove()};J.splitEdge=function(T,D){return this.apply(new x.SplitEdge(this.data,T,D))};J.updateVertices=function(T,D,O=1){return this.apply(new G.UpdateVertices(this.data,T,D),O)};J.moveVertices=function(T,D,O,S,V=1){return this.updateVertices(T,new P.MoveVertex(this.data.coordinateHelper,D,O,S),V)};J.scaleVertices=function(T,D,O,S,V,da=1,R=0){return this.updateVertices(T,new H.ScaleVertex(D,O,S,V,R),da)};J.rotateVertices=
function(T,D,O,S=1,V=0){return this.updateVertices(T,new B.RotateVertex(D,O,V),S)};J.removeVertices=function(T){return this.apply(new z.RemoveVertices(this.data,T,this._minNumVerticesPerType))};J.appendVertex=function(T){return 0===this.data.components.length?null:this.apply(new A.AppendVertex(this.data,this.data.components[0],T))};J.setVertexPosition=function(T,D){return this.apply(new C.SetVertexPosition(this.data,T,D))};J.offsetEdge=function(T,D,O,S=1){return this.updateVertices([D.leftVertex,
D.rightVertex],new N.OffsetEdgeVertex(this.data.coordinateHelper,T,D,O),S)};J.closeComponent=function(T){return this.data.components.includes(T)?this.apply(new F.CloseComponent(this.data,T)):null};J.canRemoveVertex=function(){return this.data.components[0].vertices.length>this._minNumVerticesPerType};J.createUndoGroup=function(){const T=new E.UndoGroup;this.apply(T);return{remove(){return T.close()}}};J.undo=function(){if(0<this.undoStack.length){const T=this.undoStack.pop();T.undo();this.redoStack.push(T);
return T}return null};J.redo=function(){if(0<this.redoStack.length){const T=this.redoStack.pop();T.apply();this.undoStack.push(T);return T}return null};J.apply=function(T,D=1){if(0===D||Y.isNone(this.lastOperation)||!this.lastOperation.accumulate(T))T.apply(),this.undoStack.push(T),this.redoStack=[];return T};w.fromGeometry=function(T,D){return new w(Q.EditGeometry.fromGeometry(T,D))};aa._createClass(w,[{key:"canUndo",get:function(){return 0<this.undoStack.length}},{key:"canRedo",get:function(){return 0<
this.redoStack.length}},{key:"lastOperation",get:function(){return 0<this.undoStack.length?this.undoStack[this.undoStack.length-1]:null}},{key:"_minNumVerticesPerType",get:function(){switch(this.data.type){case "point":return 1;case "polyline":return 2;case "polygon":return 3;default:return 0}}}]);return w}(K);y.EditGeometryOperations=K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/AppendVertex":function(){define(["exports","../../../../core/maybe",
"../EditGeometry"],function(y,aa,K){let Y=function(){function Q(G,z,x){this.editGeometry=G;this.component=z;this.pos=x;this.right=this.left=this.originalEdge=this.addedVertex=null}var A=Q.prototype;A.apply=function(){let G="redo";aa.isNone(this.addedVertex)&&(G="apply",this.addedVertex=new K.Vertex(this.component));const z=this.component.getLastVertex();if(aa.isNone(z))this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{let x=null;z.rightEdge&&
(this.originalEdge=z.rightEdge,x=this.originalEdge.rightVertex,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1));this.component.vertices.push(this.addedVertex);this.addedVertex.pos=this.pos;aa.isNone(this.left)&&(this.left=new K.Edge(this.component,z,this.addedVertex));this.component.edges.push(this.left);z.rightEdge=this.left;aa.isSome(this.originalEdge)&&aa.isSome(x)&&(aa.isNone(this.right)&&(this.right=new K.Edge(this.component,this.addedVertex,x)),this.component.edges.push(this.right),
x.leftEdge=this.right);this.component.updateVertexIndex(this.addedVertex,z.index+1)}this.editGeometry.notifyChanges({operation:G,addedVertices:[this.addedVertex]})};A.undo=function(){if(aa.isNone(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1);aa.isSome(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.leftVertex.rightEdge=null);aa.isSome(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),
1),this.right.rightVertex.leftEdge=null);aa.isSome(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.leftVertex.rightEdge=this.originalEdge,this.originalEdge.rightVertex.leftEdge=this.originalEdge);aa.isSome(this.left)?this.component.updateVertexIndex(this.left.leftVertex,this.left.leftVertex.index):this.component.updateVertexIndex(this.addedVertex,0);this.editGeometry.notifyChanges({operation:"undo",removedVertices:[this.addedVertex]})};A.accumulate=function(){return!1};
return Q}();y.AppendVertex=Y;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/UpdateVertices":function(){define(["exports"],function(y){let aa=function(){function K(Q,A,G){this.editGeometry=Q;this.vertices=A;this.operation=G;this.undone=!1}var Y=K.prototype;Y.apply=function(){this.vertices.forEach(Q=>this.operation.apply(Q));this.editGeometry.components.forEach(Q=>Q.unnormalizeVertexPositions());this.editGeometry.notifyChanges({operation:this.undone?
"redo":"apply",updatedVertices:this.vertices})};Y.undo=function(){this.vertices.forEach(Q=>this.operation.undo(Q));this.editGeometry.notifyChanges({operation:"undo",updatedVertices:this.vertices});this.undone=!0};Y.canAccumulate=function(Q){if(this.undone||Q.vertices.length!==this.vertices.length)return!1;for(let A=0;A<Q.vertices.length;++A)if(Q.vertices[A]!==this.vertices[A])return!1;return this.operation.canAccumulate(Q.operation)};Y.accumulate=function(Q){return Q instanceof K&&this.canAccumulate(Q)?
(this.vertices.forEach(A=>this.operation.accumulate(A,Q.operation)),this.operation.accumulateParams(Q.operation),this.editGeometry.components.forEach(A=>A.unnormalizeVertexPositions()),this.editGeometry.notifyChanges({operation:"apply",updatedVertices:this.vertices}),!0):!1};return K}();y.UpdateVertices=aa;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/RemoveVertices":function(){define(["exports","../../../../core/maybe","../EditGeometry"],function(y,
aa,K){let Y=function(){function Q(G,z,x=0){this.editGeometry=G;this.vertices=z;this.minNumberOfVertices=x;this.removedVertices=null}var A=Q.prototype;A.apply=function(){let G="redo";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach(z=>{z=this._removeVertex(z);aa.isSome(z)&&this.removedVertices.push(z)}),G="apply"):this.removedVertices.forEach(z=>{this._removeVertex(z.removedVertex)});this.editGeometry.notifyChanges({operation:G,removedVertices:this.vertices})};A.undo=function(){this.removedVertices.forEach(G=>
{this._undoRemoveVertex(G)});this.editGeometry.notifyChanges({operation:"undo",addedVertices:this.vertices})};A.accumulate=function(){return!1};A._removeVertex=function(G){const z=G.component;if(z.vertices.length<=this.minNumberOfVertices)return null;const x={removedVertex:G,createdEdge:null},C=G.leftEdge,F=G.rightEdge;z.vertices.splice(z.vertices.indexOf(G),1);C&&(z.edges.splice(z.edges.indexOf(C),1),C.leftVertex.rightEdge=null);F&&(z.edges.splice(z.edges.indexOf(F),1),F.rightVertex.leftEdge=null);
0===G.index&&F&&0<this.vertices.length&&z.swapVertices(z.vertices.indexOf(F.rightVertex),0);C&&F&&(x.createdEdge=new K.Edge(z,C.leftVertex,F.rightVertex),z.edges.push(x.createdEdge));F&&z.updateVertexIndex(F.rightVertex,F.rightVertex.index-1);return x};A._undoRemoveVertex=function(G){const z=G.removedVertex,x=G.removedVertex.component,C=z.leftEdge,F=z.rightEdge;G.createdEdge&&x.edges.splice(x.edges.indexOf(G.createdEdge),1);x.vertices.push(z);C&&(x.edges.push(C),C.leftVertex.rightEdge=C);F&&(x.edges.push(F),
F.rightVertex.leftEdge=F);x.updateVertexIndex(z,z.index)};return Q}();y.RemoveVertices=Y;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/SplitEdge":function(){define(["exports","../../../../core/maybe","../EditGeometry"],function(y,aa,K){let Y=function(){function Q(G,z,x){this.editGeometry=G;this.edge=z;this.t=x;this.right=this.left=this.createdVertex=null}var A=Q.prototype;A.apply=function(){let G="redo";const z=this.edge,x=z.component,C=z.leftVertex,
F=z.rightVertex;x.edges.splice(x.edges.indexOf(z),1);aa.isNone(this.createdVertex)&&(G="apply",this.createdVertex=new K.Vertex(z.component));x.vertices.push(this.createdVertex);this.createdVertex.pos=this.editGeometry.coordinateHelper.lerp(z.leftVertex.pos,z.rightVertex.pos,this.t,this.editGeometry.coordinateHelper.createVector());aa.isNone(this.left)&&(this.left=new K.Edge(x,C,this.createdVertex));this.left.leftVertex.leftEdge?x.edges.push(this.left):x.edges.unshift(this.left);C.rightEdge=this.left;
aa.isNone(this.right)&&(this.right=new K.Edge(x,this.createdVertex,F));x.edges.push(this.right);F.leftEdge=this.right;x.updateVertexIndex(this.createdVertex,C.index+1);this.editGeometry.notifyChanges({operation:G,addedVertices:[this.createdVertex]})};A.undo=function(){if(aa.isNone(this.createdVertex)||aa.isNone(this.left)||aa.isNone(this.right))return null;const G=this.edge,z=G.component,x=this.createdVertex.leftEdge.leftVertex,C=this.createdVertex.rightEdge.rightVertex;z.vertices.splice(z.vertices.indexOf(this.createdVertex),
1);z.edges.splice(z.edges.indexOf(this.left),1);z.edges.splice(z.edges.indexOf(this.right),1);this.edge.leftVertex.leftEdge?z.edges.push(this.edge):z.edges.unshift(this.edge);x.rightEdge=G;C.leftEdge=G;z.updateVertexIndex(x,x.index);this.editGeometry.notifyChanges({operation:"undo",removedVertices:[this.createdVertex]})};A.accumulate=function(){return!1};return Q}();y.SplitEdge=Y;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/SetVertexPosition":function(){define(["exports",
"../../../../core/maybe"],function(y,aa){let K=function(){function Y(A,G,z){this.editGeometry=A;this.vertex=G;this.pos=z}var Q=Y.prototype;Q.apply=function(){const A=aa.isNone(this.originalPosition);A&&(this.originalPosition=this.vertex.pos);this._apply(A?"apply":"redo")};Q.undo=function(){this.vertex.pos=aa.unwrap(this.originalPosition);this.editGeometry.notifyChanges({operation:"undo",updatedVertices:[this.vertex]})};Q.accumulate=function(A){return A instanceof Y&&A.vertex===this.vertex?(this.pos=
A.pos,this._apply("apply"),!0):!1};Q._apply=function(A){this.vertex.pos=this.pos;this.editGeometry.components.forEach(G=>G.unnormalizeVertexPositions());this.editGeometry.notifyChanges({operation:A,updatedVertices:[this.vertex]})};return Y}();y.SetVertexPosition=K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/CloseComponent":function(){define(["exports","../../../../core/arrayUtils","../../../../core/maybe","../EditGeometry"],function(y,aa,K,Y){let Q=
function(){function A(z,x){this.editGeometry=z;this.component=x;this.createdEdge=null}var G=A.prototype;G.apply=function(){let z="redo";if(K.isNone(this.createdEdge)){z="apply";const x=this.component.getFirstVertex(),C=this.component.getLastVertex();if(this.component.isClosed()||3>this.component.vertices.length||K.isNone(x)||K.isNone(C))return;this.createdEdge=new Y.Edge(this.component,C,x)}this.createdEdge.leftVertex.rightEdge=this.createdEdge;this.createdEdge.rightVertex.leftEdge=this.createdEdge;
this.component.edges.push(this.createdEdge);this.editGeometry.notifyChanges({operation:z})};G.undo=function(){K.isNone(this.createdEdge)||(aa.remove(this.component.edges,this.createdEdge),this.createdEdge.leftVertex.rightEdge=null,this.createdEdge.rightVertex.leftEdge=null,this.editGeometry.notifyChanges({operation:"undo"}))};G.accumulate=function(){return!1};return A}();y.CloseComponent=Q;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/MoveVertex":function(){define(["exports"],
function(y){let aa=function(){function K(Q,A,G,z){this.helper=Q;this.dx=A;this.dy=G;this.dz=z}var Y=K.prototype;Y.move=function(Q,A,G,z){this.helper.addDelta(Q.pos,A,G,z)};Y.apply=function(Q){this.move(Q,this.dx,this.dy,this.dz)};Y.undo=function(Q){this.move(Q,-this.dx,-this.dy,-this.dz)};Y.canAccumulate=function(Q){return Q instanceof K};Y.accumulate=function(Q,A){this.move(Q,A.dx,A.dy,A.dz)};Y.accumulateParams=function(Q){this.dx+=Q.dx;this.dy+=Q.dy;this.dz+=Q.dz};return K}();y.MoveVertex=aa;Object.defineProperty(y,
"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/OffsetEdgeVertex":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/mathUtils ../../../../core/maybe ../../../../chunks/vec2 ../../../../chunks/vec2f64 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/support/plane ../../../../geometry/support/vector ../../../support/geometry2dUtils".split(" "),function(y,aa,K,Y,Q,A,G,z,x,C,F){let P=function(){function B(E,I,w,
J=0,T=0){this.helper=E;this.planeType=I;this.edge=w;this.distance=J;this._plane=x.create();this._offsetPlane=x.create();this._minDistance=-Infinity;this._maxDistance=Infinity;0===T&&this._initialize()}var H=B.prototype;H._initialize=function(){this._initializeNeighbors();this._initializePlane();this._initializeDistanceConstraints()};H._initializeNeighbors=function(){var E,I,w,J;const T=this._toXYZ(this.edge.leftVertex.pos),D=this._toXYZ(null==(E=this.edge.leftVertex.leftEdge)?void 0:null==(I=E.leftVertex)?
void 0:I.pos);E=this._toXYZ(this.edge.rightVertex.pos);I=this._toXYZ(null==(w=this.edge.rightVertex.rightEdge)?void 0:null==(J=w.rightVertex)?void 0:J.pos);this._edgeDirection=G.direction(z.create(),T,E);this._left=this._computeNeighbor(T,D,this._edgeDirection);this._right=this._computeNeighbor(E,I,this._edgeDirection)};H._toXYZ=function(E){return Y.isSome(E)?this.helper.toXYZ(E):null};H._computeNeighbor=function(E,I,w){if(Y.isNone(I))return{start:E,end:I,direction:z.fromValues(-w[1],w[0],0),isOriginalDirection:!0};
const J=G.direction(z.create(),E,I),T=!this._passesBisectingAngleThreshold(J,w);return{start:E,end:I,direction:T?this._bisectVectorsPerpendicular(w,J):J,isOriginalDirection:!T}};H._passesBisectingAngleThreshold=function(E,I){E=Math.abs(C.angle(I,E));return E>=N&&E<=Math.PI-N};H._bisectVectorsPerpendicular=function(E,I){E=0>G.dot(E,I)?E:G.negate(z.create(),E);const w=Math.abs(G.dot(E,I));if(!(.001>w||.999<w))return this._bisectDirection(E,I);I=G.cross(z.create(),E,[0,0,1]);return G.normalize(I,I)};
H._bisectDirection=function(E,I){E=G.add(z.create(),E,I);return G.normalize(E,E)};H._initializePlane=function(){const E=this._computeNormalDirection(this._left),I=this._computeNormalDirection(this._right);0>G.dot(E,I)&&G.negate(I,I);x.fromPositionAndNormal(this._left.start,this._bisectDirection(E,I),this._plane)};H._computeNormalDirection=function(E){E=G.cross(z.create(),E.direction,this._edgeDirection);G.normalize(E,E);E=G.cross(z.create(),this._edgeDirection,E);1===this.planeType&&(E[2]=0);return G.normalize(E,
E)};H._initializeDistanceConstraints=function(){Y.isSome(this._left.end)&&!this.requiresSplitEdgeLeft&&this._updateDistanceConstraint(x.signedDistance(this._plane,this._left.end));Y.isSome(this._right.end)&&!this.requiresSplitEdgeRight&&this._updateDistanceConstraint(x.signedDistance(this._plane,this._right.end));this._updateIntersectDistanceConstraint(this._plane)};H._updateDistanceConstraint=function(E){0>=E&&(this._minDistance=Math.max(this._minDistance,E));0<=E&&(this._maxDistance=Math.min(this._maxDistance,
E))};H._updateIntersectDistanceConstraint=function(E){var I=x.normal(E);const w=this._edgeDirection;var J=G.add(z.create(),this._left.start,this._left.direction);const T=G.add(z.create(),this._right.start,this._right.direction);var D=this._pointInBasis2D(A.create(),I,w,this._left.start),O=this._pointInBasis2D(A.create(),I,w,J),S=this._pointInBasis2D(A.create(),I,w,this._right.start);I=this._pointInBasis2D(A.create(),I,w,T);[S]=F.intersectLineAndRay({start:O,end:D,type:1},{start:I,end:S,type:1});S&&
(D=Q.subtract(A.create(),D,O),Q.normalize(D,D),O=Q.subtract(A.create(),S,O),O=Q.dot(D,O),J=G.add(z.create(),J,G.scale(z.create(),this._left.direction,-O)),E=x.signedDistance(E,J),this._updateDistanceConstraint(E))};H._pointInBasis2D=function(E,I,w,J){E[0]=C.projectPointSignedLength(I,J);E[1]=C.projectPointSignedLength(w,J);return E};H._offset=function(E,I){Number.isFinite(this._minDistance)&&(I=Math.max(this._minDistance,I));Number.isFinite(this._maxDistance)&&(I=Math.min(this._maxDistance,I));x.copy(this._plane,
this._offsetPlane);this._offsetPlane[3]-=I;I=(J,T,D)=>Y.isSome(T)&&x.intersectLine(this._offsetPlane,J,G.add(z.create(),J,T),D);const w=z.create();(E===this.edge.leftVertex?I(this._left.start,this._left.direction,w):I(this._right.start,this._right.direction,w))&&this.helper.copy(this.helper.fromXYZ(w,void 0,this.helper.getM(E.pos)),E.pos)};H.signedDistanceToPoint=function(E){return x.signedDistance(this.plane,this.helper.toXYZ(this.helper.pointToVector(E)))};H.apply=function(E){this._offset(E,this.distance)};
H.undo=function(E){this._offset(E,0)};H.canAccumulate=function(E){return E instanceof B&&this.edge.leftVertex.index===E.edge.leftVertex.index&&this.edge.rightVertex.index===E.edge.rightVertex.index&&this.edge.component===E.edge.component&&this._maybeEqualsVec3(this._left.direction,E._left.direction)&&this._maybeEqualsVec3(this._right.direction,E._right.direction)&&G.equals(x.normal(this._plane),x.normal(E._plane))};H.accumulate=function(E,I){this._offset(E,this._plane[3]-I._plane[3]+I.distance)};
H.accumulateParams=function(E){this.distance=E.distance-E._plane[3]+this._plane[3]};H.clone=function(){const E=new B(this.helper,this.planeType,this.edge,this.distance,1);x.copy(this._plane,E._plane);x.copy(this._offsetPlane,E._offsetPlane);E._maxDistance=this._maxDistance;E._minDistance=this._minDistance;E._left=this._cloneNeighbor(this._left);E._right=this._cloneNeighbor(this._right);E._edgeDirection=G.copy(z.create(),this._edgeDirection);return E};H._maybeEqualsVec3=function(E,I){return Y.isNone(E)&&
Y.isNone(I)||Y.isSome(E)&&Y.isSome(I)&&G.equals(E,I)};H._cloneNeighbor=function({start:E,end:I,direction:w,isOriginalDirection:J}){return{start:G.copy(z.create(),E),end:Y.isSome(I)?G.copy(z.create(),I):null,direction:G.copy(z.create(),w),isOriginalDirection:J}};aa._createClass(B,[{key:"plane",get:function(){return this._plane}},{key:"requiresSplitEdgeLeft",get:function(){return!this._left.isOriginalDirection}},{key:"requiresSplitEdgeRight",get:function(){return!this._right.isOriginalDirection}},{key:"edgeDirection",
get:function(){return this._edgeDirection}}]);return B}();const N=K.deg2rad(15);y.OffsetEdgeVertex=P;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/support/geometry2dUtils":function(){define(["exports","../../core/mathUtils","../../chunks/vec2","../../chunks/vec2f64"],function(y,aa,K,Y){function Q(N,B){return N[0]*B[1]-N[1]*B[0]}function A(N,B,H){B=K.dot(H,B)/K.squaredLength(H);return K.scale(N,H,B)}function G(N,B,H,E,I=H){K.subtract(x,E,H);K.subtract(F,B,I);A(P,F,x);return K.add(N,
I,P)}function z(N,B,H,E){K.subtract(x,B,H);B=E/K.length(x);return K.scaleAndAdd(N,H,x,B)}const x=Y.create(),C=Y.create(),F=Y.create(),P=Y.create();y.cross=Q;y.intersectCircleAndPoint=function(N,B,H){z(F,H,N,B);return aa.floatEqualAbsolute(F[0],H[0])&&aa.floatEqualAbsolute(F[1],H[1])?[Y.clone(H)]:[]};y.intersectLineAndPoint=function(N,B){G(F,B,N.start,N.end);return aa.floatEqualAbsolute(F[0],B[0])&&aa.floatEqualAbsolute(F[1],B[1])?[Y.clone(B)]:[]};y.intersectLineAndRay=function(N,B){const H=N.start;
var E=B.start,I=B.end;const w=K.subtract(x,N.end,H);var J=K.subtract(C,I,E);I=Q(w,J);if(1E-6>=Math.abs(I))return[];E=K.subtract(F,H,E);J=Q(J,E)/I;I=Q(w,E)/I;if(0<=J){if(0<=I||1===B.type)return[K.scaleAndAdd(P,H,w,J)]}else if(1===N.type&&(0<=I||1===B.type))return[K.scaleAndAdd(P,H,w,J)];return[]};y.intersectLineLikeAndCircle=function(N,B,H){const E=[],I=K.subtract(x,N.end,N.start);var w=K.subtract(C,N.start,B);B=K.squaredLength(I);const J=2*K.dot(I,w);H=K.squaredLength(w)-H*H;H=J*J-4*B*H;0===H?(B=
-J/(2*B),(1===N.type||0<=B)&&E.push(K.scaleAndAdd(P,N.start,I,B))):0<H&&(H=Math.sqrt(H),w=(-J+H)/(2*B),(1===N.type||0<=w)&&E.push(K.scaleAndAdd(P,N.start,I,w)),B=(-J-H)/(2*B),(1===N.type||0<=B)&&E.push(K.scaleAndAdd(F,N.start,I,B)));return E};y.pointToLineDistance=function(N,B,H){return Math.abs((B[0]-N[0])*(H[1]-N[1])-(B[1]-N[1])*(H[0]-N[0]))/K.distance(B,H)};y.projectPoint=A;y.projectPointToCircle=z;y.projectPointToLine=G;y.projectPointToRay=function(N,B,H,E){K.subtract(x,E,H);K.subtract(F,B,H);
B=K.dot(x,F)/K.squaredLength(x);return 0<B?K.scaleAndAdd(N,H,x,B):K.copy(N,H)};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/RotateVertex":function(){define(["exports","../../../../core/arrayUtils","../../../../chunks/vec2"],function(y,aa,K){let Y=function(){function Q(G,z,x=0){this.origin=G;this.angle=z;this.accumulationType=x}var A=Q.prototype;A.rotate=function(G,z){K.rotate(G.pos,G.pos,this.origin,z)};A.apply=function(G){this.rotate(G,this.angle)};
A.undo=function(G){this.rotate(G,-this.angle)};A.canAccumulate=function(G){return G instanceof Q&&aa.equals(this.origin,G.origin)};A.accumulate=function(G,z){this.rotate(G,1===z.accumulationType?z.angle-this.angle:z.angle)};A.accumulateParams=function(G){this.angle=1===G.accumulationType?G.angle:this.angle+G.angle};return Q}();y.RotateVertex=Y;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/ScaleVertex":function(){define(["exports","../../../../core/arrayUtils",
"../../../../chunks/vec2f64","../../../../chunks/vec2"],function(y,aa,K,Y){let Q=function(){function A(z,x,C,F,P=0){this.origin=z;this.axis1=x;this.factor1=C;this.factor2=F;this.accumulationType=P;this.axis2=K.fromValues(x[1],-x[0])}var G=A.prototype;G.scale=function(z,x,C){Y.projectAndScale(z.pos,z.pos,this.origin,this.axis1,x);Y.projectAndScale(z.pos,z.pos,this.origin,this.axis2,C)};G.apply=function(z){this.scale(z,this.factor1,this.factor2)};G.undo=function(z){this.scale(z,1/this.factor1,1/this.factor2)};
G.canAccumulate=function(z){return z instanceof A&&aa.equals(this.origin,z.origin)&&aa.equals(this.axis1,z.axis1)};G.accumulate=function(z,x){1===x.accumulationType?this.scale(z,x.factor1/this.factor1,x.factor2/this.factor2):this.scale(z,x.factor1,x.factor2)};G.accumulateParams=function(z){const x=1===z.accumulationType;this.factor1=x?z.factor1:this.factor1*z.factor1;this.factor2=x?z.factor2:this.factor2*z.factor2};return A}();y.ScaleVertex=Q;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/UndoGroup":function(){define(["exports"],
function(y){let aa=function(){function K(){this.operations=[];this.closed=!1}var Y=K.prototype;Y.close=function(){this.closed=!0};Y.apply=function(){for(const Q of this.operations)Q.apply()};Y.undo=function(){for(let Q=this.operations.length-1;0<=Q;Q--)this.operations[Q].undo()};Y.accumulate=function(Q){if(this.closed)return!1;const A=this.operations.length?this.operations[this.operations.length-1]:null;A&&A.accumulate(Q)||(this.operations.push(Q),Q.apply());return!0};return K}();y.UndoGroup=aa;Object.defineProperty(y,
"__esModule",{value:!0})})},"esri/views/interactive/snapping/SnappingContext":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers"],function(y,aa){let K=function(){function Y(Q){this.visualizer=this.excludeFeature=this.vertexHandle=null;this.editGeometryOperations=Q.editGeometryOperations;this.elevationInfo=Q.elevationInfo;this.pointer=Q.pointer;this.vertexHandle=Q.vertexHandle;this.excludeFeature=Q.excludeFeature;this.visualizer=Q.visualizer}aa._createClass(Y,[{key:"coordinateHelper",
get:function(){return this.editGeometryOperations.data.coordinateHelper}}]);return Y}();y.SnappingContext=K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/snapping/SnappingDragPipelineStep":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../core/promiseUtils ../../../layers/graphics/dehydratedFeatureComparison ../dragEventPipeline ./SnappingContext ../../support/Scheduler".split(" "),function(y,aa,K,Y,Q,A,G,z){let x=function(){function C(){this.next=
new A.EventPipeline}C.prototype.createSnapDragEventPipelineStep=function({predicate:F=()=>!0,cancel:P,snappingManager:N,snappingContext:B,updatingHandles:H}){var E=this;if(K.isNone(N))return T=>T;let I=null,w=null;const J=()=>{I=K.abortMaybe(I);N.doneSnapping();K.isSome(w)&&w.frameTask.remove();w=null};P.next(T=>{J();return T});this.next=new A.EventPipeline;return T=>{if(!F(T))return T;I=K.abortMaybe(I);if("start"===T.action){const D="3d"===N.view.type?N.view.resourceController.scheduler.registerTask(z.TaskPriority.SNAPPING):
z.ImmediateTask;w={context:new G.SnappingContext({editGeometryOperations:B.editGeometryOperations,elevationInfo:B.elevationInfo,pointer:B.pointer,vertexHandle:K.isSome(T.info)?T.info.handle:null,excludeFeature:B.excludeFeature,visualizer:B.visualizer}),originalPos:K.isSome(T.snapOrigin)?B.coordinateHelper.vectorToDehydratedPoint(T.snapOrigin):T.mapStart,frameTask:D}}if(K.isSome(w)){const D=w.context.coordinateHelper.vectorToDehydratedPoint(w.context.coordinateHelper.arrayToVector([w.originalPos.x,
w.originalPos.y,w.originalPos.z]));D.x+=T.mapEnd.x-T.mapStart.x;D.y+=T.mapEnd.y-T.mapStart.y;const O=T.mapStart.x-w.originalPos.x,S=T.mapStart.y-w.originalPos.y,V={...T,action:"udpate"},da=w.context,R=N.update(D,w.context);T.mapEnd.x=R.x+O;T.mapEnd.y=R.y+S;if("end"!==T.action){const ba=w.frameTask;I=Y.createTask(function(){var ea=aa._asyncToGenerator(function*(la){const oa=yield ba.schedule(()=>N.snap(D,da,la),la);if(oa.valid){const ma=yield ba.schedule(()=>oa.apply(),la);Q.pointEquals(ma,R)||(V.mapEnd.x=
ma.x+O,V.mapEnd.y=ma.y+S,E.next.execute(V))}});return function(la){return ea.apply(this,arguments)}}());H.addPromise(I.promise)}}"end"===T.action&&J();return T}};return C}();y.SnappingPipeline=x;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/draw/drawSurfaces":function(){define(["exports","../../core/maybe","../../core/screenUtils","../../layers/graphics/dehydratedFeatures","../../support/elevationInfoUtils"],function(y,aa,K,Y,Q){let A=function(){function z(C,F,P,N=null){this.elevationInfo=
C;this.defaultZ=F;this.view=P;this.excludeGraphics=N}var x=z.prototype;x.screenToMap=function(C){if(aa.isSome(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(K.createScreenPointArray(C.x,C.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);C=this.view.sceneIntersectionHelper.intersectElevationFromScreen(K.createScreenPointArray(C.x,C.y),this.elevationInfo,0,this.excludeGraphics);aa.isSome(C)&&(C.z=void 0);return C};x.mapToScreen=function(C){C=Y.makeDehydratedPoint(C.x,
C.y,Q.getConvertedElevation(this.view,C,this.elevationInfo),C.spatialReference);return this.view.toScreen(C)};return z}(),G=function(){function z(C,F,P=[]){this.view=C;this.elevationInfo=F;this.exclude=P}var x=z.prototype;x.screenToMap=function(C){C=this.view.toMap(C,{exclude:this.exclude});aa.isSome(C)&&(C.z=Q.getZForElevationMode(C,this.view,this.elevationInfo));return C};x.mapToScreen=function(C){let F=C;aa.isSome(this.elevationInfo)&&(F=Y.makeDehydratedPoint(C.x,C.y,Q.getConvertedElevation(this.view,
C,this.elevationInfo),C.spatialReference));return this.view.toScreen(F)};return z}();y.ElevationDrawSurface=A;y.MapDrawSurface=function(z){this.view=z;this.screenToMap=x=>z.toMap(x);this.mapToScreen=x=>z.toScreen(x)};y.SceneDrawSurface=G;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Collection ../../../../../core/Evented ../../../../../core/HandleOwner ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils ../../manipulatorUtils ../../SnappingVisualizer3D ../manipulatorUtils ../visualElementUtils ../manipulations/config ../manipulations/MoveManipulation ../manipulations/moveUtils ../manipulations/MoveXYGraphicManipulation ./isSupportedGraphic ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../../../../interactive/dragEventPipeline ../../../../interactive/InteractiveToolBase ../../../../interactive/editGeometry/EditGeometryOperations ../../../../interactive/snapping/SnappingContext ../../../../interactive/snapping/SnappingDragPipelineStep".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D,O,S,V,da,R,ba,ea,la,oa,ma,ra){let ua=function(Da){this.allGraphics=Da;this.type="graphic-move-start"},pa=function(Da,Ja,Na){this.dx=Da;this.dy=Ja;this.allGraphics=Na;this.type="graphic-move"},xa=function(Da){this.allGraphics=Da;this.type="graphic-move-stop"};y.GraphicMoveTool=function(Da){function Ja(Ha){Ha=Da.call(this,Ha)||this;Ha.graphics=new Y;Ha.enableZ=!0;Ha.type="move-3d";Ha._toolHandles=new G;Ha.snappingPipeline=new ra.SnappingPipeline;return Ha}
aa._inheritsLoose(Ja,Da);var Na=Ja.prototype;Na.initialize=function(){this._toolHandles.add([this.graphics.on("change",()=>this._refreshManipulators())]);this._refreshManipulators();this.complete()};Na.destroy=function(){this._toolHandles.destroy();this._toolHandles=null;this.graphics.removeAll();this._set("view",null)};Na.reset=function(){};Na._refreshManipulators=function(){this.handles.removeAll();this._moveManipulation&&this._moveManipulation.destroy();this.manipulators.removeAll();const Ha=this.graphics.toArray().filter(Fa=>
0===da.isSupportedGraphic(Fa)).map(Fa=>new wa(Fa));Ha.length&&(this.createManipulators(Ha),this.createVisualElements(Ha),this.handles.add(Ha.map(Fa=>this.view.trackGraphicState(Fa.state))),this.updateMoveManipulation(Ha))};Na.createManipulators=function(Ha){for(const Fa of Ha){const Ua=Fa.state;Fa.manipulationXY=new V.MoveXYGraphicManipulation({tool:this,view:this.view,graphicState:Ua});Fa.manipulationXY.forEachManipulator(Ra=>this.handles.add(Ra.events.on("immediate-click",La=>{this.emit("immediate-click",
{...La,graphic:Ua.graphic});La.stopPropagation()})));this.handles.add(Fa.manipulationXY.createDragPipeline((Ra,La,Ka,Ta)=>this.buildDragEventPipeline(Ha,0,Ra,La,Ka,Ta)))}this.createMoveManipulation(Ha)};Na.createMoveManipulation=function(Ha){const Fa=new O.MoveManipulation({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===Ha.length?O.MoveManipulation.radiusForSymbol(Ha[0].graphic.symbol):D.DISC_RADIUS});this._moveManipulation=Fa;Fa.elevationInfo={mode:"absolute-height",
offset:0};Fa.forEachManipulator(La=>{this.handles.add(La.events.on("immediate-click",Ka=>{Fa.zManipulation.hasManipulator(La)||1!==this.graphics.length||this.emit("immediate-click",{...Ka,graphic:this.graphics.getItemAt(0)});Ka.stopPropagation()}))});const Ua=()=>this.updateMoveManipulation(Ha);for(const La of Ha)this.handles.add([La.state.on("changed",Ua),La.state.watch("displaying",Ua)]);const Ra=Ha[Ha.length-1];this.handles.add(Ra.state.on("changed",()=>this.updateMoveManipulationAngle(Ra)));this.handles.add(Fa.createDragPipeline((La,
Ka,Ta,Ea,ca)=>this.buildDragEventPipeline(Ha,La,Ka,Ta,Ea,ca),E.getGraphicEffectiveElevationInfo(Ra.graphic),x.unwrap(Ra.graphic.geometry).spatialReference,Ra.graphic));this.updateMoveManipulationAngle(Ra)};Na.createVisualElements=function(Ha){for(const Fa of Ha){const Ua=T.createVisualElements({view:this.view,graphic:Fa.graphic,forEachManipulator:Ra=>{Fa.manipulationXY.forEachManipulator(Ra);this._moveManipulation.forEachManipulator(Ra)},onManipulatorsChanged:()=>z.makeHandle()});x.isNone(Ua)||(Fa.geometryRepresentation=
Ua.visualElement,Fa.geometryRepresentation instanceof R.OutlineVisualElement&&this.handles.add([Fa.geometryRepresentation.events.on("attachment-origin-changed",()=>{Fa.state.isDraped||this.updateMoveManipulation(Ha)}),Fa.state.watch("isDraped",()=>this.updateMoveManipulation(Ha))]),this.handles.add(Ua))}};Na.updateMoveManipulationAngle=function(Ha){this._moveManipulation.angleDeferred=()=>S.shapeOrientation(Ha.graphic.geometry)};Na.updateMoveManipulation=function(Ha){const Fa=H.makeDehydratedPoint(0,
0,0,this.view.spatialReference);let Ua=0,Ra=!1;const La=this._moveManipulation;for(const Ka of Ha)Ka.state.displaying&&(Ha=Ka.state.graphic,this.enableZ&&J.canMoveZ(Ha)&&(Ra=!0),Ha=Ka.geometryRepresentation instanceof R.OutlineVisualElement&&!Ka.state.isDraped?Ka.geometryRepresentation.attachmentOrigin:I.getGraphicAttachmentOrigin(this.view,Ha),x.isSome(Ha)&&(Fa.x+=Ha.x,Fa.y+=Ha.y,Fa.z+=Ha.z,Ua++));0<Ua?(Fa.x/=Ua,Fa.y/=Ua,Fa.z/=Ua,La.location=Fa,La.xyManipulation.available=!0,La.xyAxisManipulation.available=
!0,La.zManipulation.available=Ra):La.available=!1};Na.buildDragEventPipeline=function(Ha,Fa,Ua,Ra,La,Ka){const Ta=[],Ea=[];let ca=null,ha=null;const na=()=>{for(const Z of Ta)Z.dragging=!1;Ta.length=0;Ea.length=0;ha=ca=null;this._moveManipulation.interactive=!0};1===Ha.length&&0===Fa&&(Fa=Ha[0].graphic,Ra=this.buildSnappingPipelineSteps(Fa,E.getGraphicEffectiveElevationInfo(Fa),Ra,La,Ka));Ra=Ra.next(Z=>{if("start"===Z.action){Ta.length=0;Ea.length=0;for(const fa of Ha)fa.dragging||!fa.manipulationXY.hasManipulator(Ua)&&
fa.manipulationXY.grabbing||(Ta.push(fa),Ea.push(fa.graphic),fa.dragging=!0);if(0!==Ea.length&&(this._moveManipulation.interactive=!1,ca=ea.dragGraphicMany(Ea,this.view.state.viewingMode),ha=ea.resetGraphicMany(Ea),this.emit("graphic-move-start",new ua(Ea)),this.destroyed))return null}return 0!==Ea.length?Z:null}).next(Z=>ca(Z)).next(Z=>{switch(Z.action){case "start":case "update":if(Z.translationX||Z.translationY||Z.translationZ){const fa=this.view.toScreen(Z.mapStart);Z=this.view.toScreen(Z.mapEnd);
this.emit("graphic-move",new pa(Z.x-fa.x,Z.y-fa.y,Ea));if(this.destroyed)return null}break;case "end":this.emit("graphic-move-stop",new xa(Ea));if(this.destroyed)return null;na()}});La.next(Z=>ha(Z)).next(()=>{this.emit("graphic-move-stop",new xa(Ea));if(this.destroyed)return null;na()});return Ra};Na.buildSnappingPipelineSteps=function(Ha,Fa,Ua,Ra,La){const Ka=Ha.geometry;if(x.isNone(Ka)||"point"!==Ka.type&&"mesh"!==Ka.type)return Ua;const Ta=("point"===Ka.type?Ka:Ka.anchor).clone(),Ea=new ma.SnappingContext({elevationInfo:Fa,
pointer:La,editGeometryOperations:oa.EditGeometryOperations.fromGeometry(Ta,this.view.state.viewingMode),visualizer:new w.SnappingVisualizer3D,excludeFeature:Ha});Fa=this.snappingManager;return Ua.next(ca=>{Ta.z=E.getConvertedElevation(this.view,Ta,E.getGraphicEffectiveElevationInfo(Ha),{mode:"absolute-height",offset:0});const ha=Ea.coordinateHelper.pointToVector(Ta);return{...ca,snapOrigin:ha}}).next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:Ea,snappingManager:Fa,cancel:Ra,
updatingHandles:this.updatingHandles}),this.snappingPipeline.next)};aa._createClass(Ja,[{key:"updating",get:function(){return this.updatingHandles.updating}}]);return Ja}(A.HandleOwnerMixin(Q.EventedMixin(la.InteractiveToolBase)));K.__decorate([C.property({constructOnly:!0,nonNullable:!0})],y.GraphicMoveTool.prototype,"view",void 0);K.__decorate([C.property({readOnly:!0})],y.GraphicMoveTool.prototype,"graphics",void 0);K.__decorate([C.property({constructOnly:!0,nonNullable:!0})],y.GraphicMoveTool.prototype,
"enableZ",void 0);K.__decorate([C.property({constructOnly:!0})],y.GraphicMoveTool.prototype,"snappingManager",void 0);K.__decorate([C.property({readOnly:!0})],y.GraphicMoveTool.prototype,"type",void 0);K.__decorate([C.property({readOnly:!0})],y.GraphicMoveTool.prototype,"updating",null);y.GraphicMoveTool=K.__decorate([B.subclass("esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool")],y.GraphicMoveTool);let wa=function(){function Da(Ja){this.manipulationXY=this.geometryRepresentation=
this.state=null;this.dragging=!1;this.state=new ba.GraphicState({graphic:Ja})}aa._createClass(Da,[{key:"graphic",get:function(){return this.state.graphic}}]);return Da}();y.GraphicMoveEvent=pa;y.GraphicMoveStartEvent=ua;y.GraphicMoveStopEvent=xa;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/manipulatorUtils":function(){define("exports ../../../core/maybe ../../../chunks/mat4 ../../../chunks/vec3 ../../../chunks/vec4f64 ../../../geometry/support/vectorStacks ../../../layers/graphics/hydratedFeatures ./Manipulator3D ../layers/graphics/graphicUtils ../webgl-engine/lib/GeometryUtil ../webgl-engine/materials/ColorMaterial ../webgl-engine/materials/ShadedColorMaterial".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P){function N(E,I=4,w=!0){const J=Q.fromValues(E[0],E[1],E[2],3<E.length?E[3]:1);E=1>E[3];return w?new P.ShadedColorMaterial({color:J,transparent:E,writeDepth:!0,cullFace:2,renderOccluded:I}):new F.ColorMaterial({color:J,transparent:E,writeDepth:!0,cullFace:2,renderOccluded:I})}function B(E,I,w,J){E=Y.normalize(A.sv3d.get(),E);I=Y.normalize(A.sv3d.get(),I);const T=Y.cross(A.sv3d.get(),E,I);J[0]=E[0];J[1]=E[1];J[2]=E[2];J[3]=0;J[4]=I[0];J[5]=I[1];J[6]=I[2];J[7]=0;J[8]=
T[0];J[9]=T[1];J[10]=T[2];J[11]=0;J[12]=w[0];J[13]=w[1];J[14]=w[2];J[15]=1;return J}function H(E,I){const w=E.getViewForGraphic(I);return aa.isSome(w)&&"computeAttachmentOrigin"in w?w.computeAttachmentOrigin(I,E.spatialReference):null}y.calculateInputRotationTransform=function(E,I,w,J){E=Y.subtract(A.sv3d.get(),E,w);J=Y.cross(A.sv3d.get(),J,E);w=B(E,J,w,A.sm4d.get());K.invert(w,w);I=Y.transformMat4(A.sv3d.get(),I,w);return Math.atan2(I[1],I[0])};y.calculateTranslateRotateFromBases=B;y.createManipulatorMaterial=
N;y.createManipulatorOutlineMaterial=function(E,I=4){E=Q.fromValues(E[0],E[1],E[2],4===E.length?E[3]:1);return new F.ColorMaterial({color:E,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:I})};y.createSphereManipulator=function(E,I,w){return new z.Manipulator3D({view:E,renderObjects:[{geometry:C.createSphereGeometry(1,32,32),material:N(Q.fromValues(I[0],I[1],I[2],null!=w?w:1))}]})};y.getGraphicAttachmentOrigin=H;y.placeAtGraphic=function(E,I,w){E=H(E,w);aa.isSome(E)?I.elevationAlignedLocation=
E:(w=w.geometry,aa.isNone(w)||(w="mesh"===w.type?w.anchor:x.computeCentroid(w),aa.isNone(w)||(I.location=G.hydrateGeometry(w))))};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/Manipulator3D":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../geometry ../../../core/compilerUtils ../../../core/Evented ../../../core/mathUtils ../../../core/maybe ../../../core/screenUtils ../../../core/accessorSupport/utils ../../../chunks/mat3 ../../../chunks/mat3f64 ../../../chunks/mat4 ../../../chunks/mat4f64 ../../../chunks/vec2 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/projection ../../../geometry/projectionEllipsoid ../../../geometry/support/aaBoundingRect ../../../geometry/support/lineSegment ../../../geometry/support/plane ../../../geometry/support/ray ../../../geometry/support/vectorStacks ../../../layers/graphics/hydratedFeatures ../support/ElevationProvider ../support/geometryUtils/ray ../webgl-engine/lib/Camera ../webgl-engine/lib/Object3D ../webgl-engine/lib/WebGLLayer ../../../geometry/Point".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D,O,S,V,da,R,ba,ea,la,oa){function ma(Ta){return 0!==Ta[12]||0!==Ta[13]||0!==Ta[14]}K=function(){function Ta(ca){this.camera=new ba;this._elevation={offset:0,override:null};this.collisionType={type:"point"};this.collisionPriority=0;this._renderObjects=[];this._available=this.autoScaleRenderObjects=!0;this._noDisplayCount=0;this._radius=10;this._worldSized=!1;this.focusMultiplier=2;this.touchMultiplier=2.5;this.worldOriented=!1;this._modelTransform=
N.create();this._worldFrame=null;this._renderLocation=E.create();this._renderLocationDirty=!0;this._location=new oa({x:0,y:0,z:0});this._elevationAlignedLocation=new oa;this.interactive=this._elevationAlignedLocationDirty=!0;this.selectable=!1;this.grabbable=!0;this.cursor=null;this._selected=this._hovering=this.dragging=this._grabbing=!1;this._state=0;this._focused=!1;this.events=new Q.EventEmitter;this._screenLocation={screenPointArray:z.createScreenPointArray(),renderScreenPointArray:z.createRenderScreenPointArray3(),
pixelSize:0};this._screenLocationDirty=!0;this._applyObjectTransform=null;this._engineResourcesAddedToStage=!1;this._engineResources=null;this._attached=!1;this._materialIdReferences=this._engineLayer=null;this._location.spatialReference=ca.view.spatialReference;for(const ha in ca)this[ha]=ca[ha];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}var Ea=Ta.prototype;Ea.destroy=function(){this._removeResourcesFromStage();this.camera=this.view=this._engineResources=
null};Ea.disableDisplay=function(){this._noDisplayCount++;1===this._noDisplayCount&&this._updateEngineObject();return{remove:x.once(()=>{this._noDisplayCount--;0===this._noDisplayCount&&this._updateEngineObject()})}};Ea._updateElevationAlignedLocation=function(){this._elevationAlignedLocation.x=this.location.x;this._elevationAlignedLocation.y=this.location.y;const ca=G.isSome(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=ca+this._elevation.offset;
this._elevationAlignedLocation.spatialReference=this.location.spatialReference;this._screenLocationDirty=this._renderLocationDirty=!0;this._elevationAlignedLocationDirty=!1};Ea.grabbableForEvent=function(){return!0};Ea.updateStateEnabled=function(ca,ha){this.state=ha?this.state|ca:this.state&~ca};Ea._setFocused=function(ca){ca!==this._focused&&(this._focused=ca,this.events.emit("focus-changed",{action:!0===ca?"focus":"unfocus"}))};Ea.ensureScreenLocation=function(){if(this._screenLocationDirty){this._screenLocation.pixelSize=
this.camera.computeScreenPixelSizeAt(this.renderLocation);this._screenLocationDirty=!1;if(ma(this._modelTransform)){var ca=this._calculateModelTransformOffset(La);ca=H.add(ca,ca,this.renderLocation)}else ca=this.renderLocation;this.camera.projectToRenderScreen(ca,this._screenLocation.renderScreenPointArray);this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}};Ea.intersectionDistance=function(ca,ha){if(!this.available)return null;ca=z.screenPointObjectToArray(ca,
ra);var na=this._getCollisionRadius(ha);ha=-1*this.collisionPriority;switch(this.collisionType.type){case "point":if(B.squaredDistance(this.screenLocation.screenPointArray,ca)<na*na)return this.screenLocation.renderScreenPointArray[2]+ha;break;case "line":var Z=this.collisionType.paths,fa=this._getWorldToScreenObjectScale();fa=this._calculateObjectTransform(fa,Da);na*=this.screenLocation.pixelSize;ca=R.fromScreen(this.camera,ca,pa);if(G.isNone(ca))break;for(var L of Z)if(0!==L.length){Z=H.transformMat4(Na,
L[0],fa);for(var qa=1;qa<L.length;qa++){var va=H.transformMat4(Ha,L[qa],fa),Ca=T.closestRayDistance2(T.fromPoints(Z,va,ua),ca);if(null!=Ca&&Ca<na*na)return fa=H.add(S.sv3d.get(),Z,va),H.scale(fa,fa,.5),ca=z.castRenderScreenPointArray(S.sv3d.get()),this.camera.projectToRenderScreen(fa,ca),ca[2]+ha;H.copy(Z,va)}}break;case "disc":L=this.collisionType.direction;fa=null!=(Z=this.collisionType.offset)?Z:E.ZEROS;Z=this._getWorldToScreenObjectScale();Z=this._calculateObjectTransform(Z,Da);na*=this.screenLocation.pixelSize;
ca=R.fromScreen(this.camera,ca,pa);if(G.isNone(ca))break;qa=C.fromMat4(xa,Z);L=H.transformMat3(Ua,L,qa);fa=H.transformMat4(Ra,fa,Z);D.fromPositionAndNormal(fa,L,Ja);L=Fa;if(D.intersectRay(Ja,ca,L)&&H.squaredDistance(L,fa)<na*na)return this.screenLocation.renderScreenPointArray[2]+ha;break;case "ribbon":{const {paths:Aa,direction:Ma}=this.collisionType;L=this._getWorldToScreenObjectScale();L=this._calculateObjectTransform(L,Da);na*=this.camera.computeScreenPixelSizeAt(this.renderLocation);Z=R.fromScreen(this.camera,
ca,pa);if(G.isNone(Z))break;ca=C.fromMat4(xa,L);ca=H.transformMat3(Ua,Ma,ca);qa=this._calculateModelTransformPosition(Ra);D.fromPositionAndNormal(qa,ca,Ja);ca=Fa;if(!D.intersectRay(Ja,Z,ca))break;for(fa of Aa)if(0!==fa.length)for(Z=H.transformMat4(Na,fa[0],L),qa=1;qa<fa.length;qa++){va=H.transformMat4(Ha,fa[qa],L);Ca=T.distance2(T.fromPoints(Z,va,ua),ca);if(null!=Ca&&Ca<na*na)return fa=H.add(S.sv3d.get(),Z,va),H.scale(fa,fa,.5),ca=z.castRenderScreenPointArray(S.sv3d.get()),this.camera.projectToRenderScreen(fa,
ca),ca[2]+ha;H.copy(Z,va)}break}default:Y.neverReached(this.collisionType)}return null};Ea.attach=function(ca={manipulator3D:{}}){if(this.view._stage){ca=ca.manipulator3D;if(G.isNone(ca.engineLayerId)){var ha=new la.WebGLLayer({isPickable:!1,updatePolicy:1});this.view._stage.add(ha);ca.engineLayerId=ha.id;this._engineLayer=ha}else null!=(ha=this.view._stage)&&ha.getObject&&(this._engineLayer=this.view._stage.getObject(ca.engineLayerId));ca.engineLayerReferences=(ca.engineLayerReferences||0)+1;this._materialIdReferences=
ca.materialIdReferences;G.isNone(this._materialIdReferences)&&(this._materialIdReferences=new Map,ca.materialIdReferences=this._materialIdReferences);this.camera.copyFrom(this.view.state.camera);this._attached=!0;this._updateEngineObject();I.canProjectWithoutEngine(this._location.spatialReference,this.view.spatialReference)||(this.location=new oa({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}};Ea.detach=function(ca={manipulator3D:{}}){ca=ca.manipulator3D;ca.engineLayerReferences--;const ha=
0===ca.engineLayerReferences;ha&&(ca.engineLayerId=null);this._removeResourcesFromStage(ha);this._materialIdReferences=this._engineLayer=this._engineResources=null;this._attached=!1};Ea.onViewChange=function(){this.camera.copyFrom(this.view.state.camera);this._screenLocationDirty=!0;this._updateEngineObject()};Ea.onElevationChange=function(ca){I.projectPoint(this.location,Ka,ca.spatialReference);J.containsPointObject(ca.extent,Ka)&&(this.location=this._location)};Ea._evaluateElevationAlignment=function(ca=
this.location){if(G.isNone(this.elevationInfo))return!1;let ha=null,na=0;const Z=G.unwrapOr(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case "on-the-ground":ha=G.unwrapOr(da.getElevationAtPoint(this.view.elevationProvider,ca,"ground"),0);break;case "relative-to-ground":na=G.unwrapOr(da.getElevationAtPoint(this.view.elevationProvider,ca,"ground"),0)+Z;break;case "relative-to-scene":na=G.unwrapOr(da.getElevationAtPoint(this.view.elevationProvider,ca,"scene"),0)+Z;break;case "absolute-height":na=
Z}return na!==this._elevation.offset||ha!==this._elevation.override?(this._elevation.offset=na,this._elevation.override=ha,!0):!1};Ea._updateEngineObject=function(){if(this._attached)if(this.available){var ca=this._getWorldToScreenObjectScale(),ha=Da;!0===this.autoScaleRenderObjects?(ca*=this._getFocusedSize(this._radius,this.focused),this._calculateObjectTransform(ca,ha)):this._calculateObjectTransform(ca,ha);var {objectsByState:na}=this._ensureEngineResources();ca=(this.focused?2:1)|(this.selected?
8:4);var Z=0<this._noDisplayCount;for(const {stateMask:fa,objects:L}of na)if(Z)for(const qa of L)qa.setVisible(!1);else if(na=0===(fa&65520)||(this.state&fa)===(fa&65520),0!==(fa&15)&&(ca&fa)!==(fa&15)||!na)for(const qa of L)qa.setVisible(!1);else for(const qa of L)qa.setVisible(!0),qa.transformation=ha}else this._removeResourcesFromStage()};Ea._ensureEngineResources=function(){if(G.isNone(this._engineResources)){const ca=G.unwrap(this._engineLayer),ha=[],na=new Set;this.renderObjects.forEach(({material:qa})=>
{na.has(qa)||(ha.push(qa),na.add(qa))});const Z=(qa,va)=>{const {geometry:Ca,material:Aa,transform:Ma}=va;Array.isArray(Ca)?Ca.forEach(Qa=>qa.addGeometry(Qa,Aa,Ma)):qa.addGeometry(Ca,Aa,Ma)},fa=new Map;this._renderObjects.forEach(qa=>{const va=new ea.Object3D({castShadow:!1});Z(va,qa);qa=qa.stateMask||0;const Ca=fa.get(qa)||[];Ca.push(va);fa.set(qa,Ca)});const L=[];fa.forEach((qa,va)=>L.push({stateMask:va,objects:qa}));this._engineResources={objectsByState:L,layer:ca,materials:ha}}this._addResourcesToStage();
return this._engineResources};Ea._addResourcesToStage=function(){if(!this._engineResourcesAddedToStage&&!G.isNone(this._engineResources)){var {objectsByState:ca,layer:ha,materials:na}=this._engineResources;na.forEach(Z=>{const fa=G.unwrap(this._materialIdReferences),L=fa.get(Z.id)||0;0===L&&this.view._stage.add(Z);fa.set(Z.id,L+1)});ca.forEach(({objects:Z})=>{ha.addMany(Z);this.view._stage.addMany(Z)});this._engineResourcesAddedToStage=!0}};Ea._removeResourcesFromStage=function(ca=!1){if(this._engineResourcesAddedToStage&&
!G.isNone(this._engineResources)){var {objectsByState:ha,layer:na,materials:Z}=this._engineResources;ha.forEach(({objects:fa})=>{na.removeMany(fa);this.view._stage.removeMany(fa)});Z.forEach(fa=>{const L=G.unwrap(this._materialIdReferences),qa=L.get(fa.id);1===qa?(this.view._stage.remove(fa),L.delete(fa.id)):L.set(fa.id,qa-1)});ca&&this.view._stage.remove(na);this._engineResourcesAddedToStage=!1}};Ea._getCollisionRadius=function(ca){return this._getFocusedSize(this.radius,!0)*("touch"===ca?this.touchMultiplier:
1)};Ea._getFocusedSize=function(ca,ha){return ca*(ha?this.focusMultiplier:1)};Ea._getWorldToScreenObjectScale=function(){return this._worldSized?1:this.screenLocation.pixelSize};Ea._calculateModelTransformPosition=function(ca){var ha=this._getWorldToScreenObjectScale();ha=this._calculateObjectTransform(ha,wa);return H.set(ca,ha[12],ha[13],ha[14])};Ea._calculateModelTransformOffset=function(ca){const ha=this._calculateModelTransformPosition(ca);return H.subtract(ca,ha,this.renderLocation)};Ea._calculateObjectTransform=
function(ca,ha){P.set(ha,ca,0,0,0,0,ca,0,0,0,0,ca,0,0,0,0,1);this._worldFrame&&P.multiply(ha,ha,this._worldFrame);P.multiply(ha,ha,this._modelTransform);ha[12]+=this.renderLocation[0];ha[13]+=this.renderLocation[1];ha[14]+=this.renderLocation[2];ha[15]=1;G.isSome(this._applyObjectTransform)&&this._applyObjectTransform(ha);return ha};aa._createClass(Ta,[{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(ca){this._elevationInfo=ca;this._renderLocationDirty=this._elevationAlignedLocationDirty=
!0;this._updateEngineObject()}},{key:"renderObjects",get:function(){return this._renderObjects},set:function(ca){this._removeResourcesFromStage();this._engineResources=null;this._renderObjects=ca.slice();this._updateEngineObject()}},{key:"available",get:function(){return this._available},set:function(ca){ca!==this._available&&(this._available=ca,this._updateEngineObject())}},{key:"radius",get:function(){return this._radius},set:function(ca){ca!==this._radius&&(this._radius=ca,this._updateEngineObject())}},
{key:"worldSized",get:function(){return this._worldSized},set:function(ca){ca!==this._worldSized&&(this._worldSized=ca,this._updateEngineObject())}},{key:"modelTransform",get:function(){return this._modelTransform},set:function(ca){ma(ca)&&(this._screenLocationDirty=!0);P.copy(this._modelTransform,ca);this._updateEngineObject()}},{key:"renderLocation",get:function(){if(this._renderLocationDirty)if(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,
this._renderLocation),this.worldOriented){this._worldFrame||(this._worldFrame=N.create());a:{var ca=this.view,ha=this._renderLocation,na=this._worldFrame;switch(ca.viewingMode){case "local":P.identity(na);break a;case "global":ca=w.getReferenceEllipsoid(ca.renderCoordsHelper.spatialReference),I.sphericalPCPFtoLonLatElevation(ha,0,Na,0,ca.radius),I.computeENUToSphericalPCPFLocalRotation(A.deg2rad(Na[0]),A.deg2rad(Na[1]),na)}}}else this._worldFrame&&(this._worldFrame=null);return this._renderLocation},
set:function(ca){this.view.renderCoordsHelper.fromRenderCoords(ca,this._location);this.elevationAlignedLocation=this._location}},{key:"location",get:function(){return this._location},set:function(ca){V.clonePoint(ca,this._location);this._elevationAlignedLocationDirty=this._screenLocationDirty=this._renderLocationDirty=!0;this._updateEngineObject();this.events.emit("location-update",{location:this._location})}},{key:"elevationAlignedLocation",get:function(){if(!this._elevationAlignedLocationDirty)return this._elevationAlignedLocation;
this._evaluateElevationAlignment();this._updateElevationAlignedLocation();return this._elevationAlignedLocation},set:function(ca){V.clonePoint(ca,this._location);this._evaluateElevationAlignment();this._location.z-=this._elevation.offset;this._updateElevationAlignedLocation();this._updateEngineObject();this.events.emit("location-update",{location:this._location})}},{key:"grabbing",get:function(){return this._grabbing},set:function(ca){ca!==this._grabbing&&(this._grabbing=ca,this._setFocused(this._hovering||
this._grabbing),this._updateEngineObject())}},{key:"hovering",get:function(){return this._hovering},set:function(ca){ca!==this._hovering&&(this._hovering=ca,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}},{key:"selected",get:function(){return this._selected},set:function(ca){ca!==this._selected&&(this._selected=ca,this._updateEngineObject(),this.events.emit("select-changed",{action:ca?"select":"deselect"}))}},{key:"state",get:function(){return this._state},set:function(ca){ca!==
this._state&&(this._state=ca,this._updateEngineObject())}},{key:"focused",get:function(){return this._focused}},{key:"screenLocation",get:function(){this.ensureScreenLocation();return this._screenLocation}},{key:"applyObjectTransform",get:function(){return this._applyObjectTransform},set:function(ca){this._applyObjectTransform=ca;this._screenLocationDirty=!0;this._updateEngineObject()}},{key:"test",get:function(){let ca=!1;if(G.isSome(this._engineResources))for(const ha in this._engineResources.objectsByState){const na=
this._engineResources.objectsByState[ha];for(const Z of na.objects)if(Z.isVisible){ca=!0;break}if(ca)break}return{areAnyResourcesVisible:ca}}}]);return Ta}();const ra=z.createScreenPointArray(),ua=T.create(),pa=O.create(),xa=F.create(),wa=N.create(),Da=N.create(),Ja=D.create(),Na=E.create(),Ha=E.create(),Fa=E.create(),Ua=E.create(),Ra=E.create(),La=E.create(),Ka=new oa({x:0,y:0,z:0,spatialReference:null});y.Manipulator3D=K;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulatorUtils":function(){define(["exports",
"../../../../core/maybe","../../../../support/elevationInfoUtils"],function(y,aa,K){y.canMoveZ=function(Y,Q=K.getGraphicEffectiveElevationInfo(Y)){return"on-the-ground"===Q.mode||aa.isNone(Y.geometry)||!Y.geometry.hasZ?!1:!0};y.disableDisplayOnGrab=function(Y,Q){let A=null;const G=Y.events.on("grab-changed",z=>{aa.isSome(A)&&(A.remove(),A=null);"start"===z.action&&(A=Y.disableDisplay());Q&&Q(z)});return{remove(){aa.isSome(A)&&A.remove();G.remove()}}};Object.defineProperty(y,"__esModule",{value:!0})})},
"esri/views/3d/interactive/editingTools/visualElementUtils":function(){define(["exports","../../../../core/maybe","./lineGraphicVisualElementUtils","./originGraphicVisualElementUtils"],function(y,aa,K,Y){y.createVisualElements=function(Q){switch(aa.unwrap(Q.graphic.geometry).type){case "point":case "mesh":return Y.createVisualElements(Q);case "polygon":case "polyline":return K.createVisualElements(Q);default:return null}};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/lineGraphicVisualElementUtils":function(){define("exports ../../../../core/handleUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../support/elevationInfoUtils ../Manipulator3D ./ManipulatorState ./settings ../visualElements/ExtendedLineVisualElement ../visualElements/LaserlineVisualElement ../visualElements/OutlineVisualElement ../../layers/graphics/GraphicState".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B){function H(T,D){const {view:O,graphic:S}=T,V=new N.OutlineVisualElement({view:O,geometry:w(S)?S.geometry:null,elevationInfo:G.getGraphicEffectiveElevationInfo(S),attached:!1});C.settings.visualElements.lineGraphics.shadowStyle.apply(V);C.settings.visualElements.lineGraphics.outline.apply(V);const da=[D.watch("displaying",()=>{V.attached=D.displaying}),D.watch("isDraped",R=>V.isDraped=R),D.on("changed",()=>V.geometry=w(S)?S.geometry:null),aa.destroyHandle(V)];
V.attached=D.displaying;return{visualElement:V,remove:()=>aa.handlesGroup(da).remove()}}function E(T,D,O){const {graphic:S,view:V}=T,da=[];var R=G.getGraphicEffectiveElevationInfo(S);const ba="on-the-ground"===R.mode||!R.offset&&"absolute-height"!==R.mode,ea=new x.ManipulatorState,la=new F.ExtendedLineVisualElement({view:V,extensionType:C.settings.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});C.settings.visualElements.pointGraphics.shadowStyle.apply(la);
R=K.deg2rad(C.settings.visualElements.heightPlaneAngleCutoff);const oa=new P.LaserlineVisualElement({view:V,attached:!1,angleCutoff:R});C.settings.visualElements.heightPlane.apply(oa);let ma=1,ra=1;const ua=()=>{ea.update(T);if(O.displaying&&(!ba||!O.isDraped&&w(S)&&S.geometry.hasZ)){D.laserlineEnabled=!0;var xa=ea.grabbingState&4?C.settings.visualElements.laserlineAlphaMultiplier:1;xa!==ma&&(ma=xa,C.settings.visualElements.lineGraphics.shadowStyle.apply(D,xa),C.settings.visualElements.pointGraphics.shadowStyle.apply(la,
xa));xa=ea.grabbingState&2?C.settings.visualElements.laserlineAlphaMultiplier:1;xa!==ra&&(ra=xa,C.settings.visualElements.heightPlane.apply(oa,xa));xa=1===ea.numSelected?ea.firstSelected:1<ea.numSelected&&Y.isSome(ea.firstGrabbedXY)?ea.firstGrabbedXY:null;Y.isSome(xa)?(la.setStartEndFromWorldDownAtLocation(xa.renderLocation),la.attached=!0):la.attached=!1;I(T,D,oa,ea)}else D.laserlineEnabled=!1,la.attached=!1,oa.attached=!1};C.settings.visualElements.zVerticalLine.apply(la);da.push(O.on("changed",
ua),O.watch("displaying",ua),D.events.on("attachment-origin-changed",ua),aa.destroyHandle(la),aa.destroyHandle(oa));const pa=[];R=()=>{aa.handlesGroup(pa).remove();pa.length=0;T.forEachManipulator(xa=>pa.push(xa.events.on("grab-changed",ua)));T.forEachManipulator(xa=>pa.push(xa.events.on("select-changed",ua)));ua()};R();da.push(T.onManipulatorsChanged(R),aa.refHandle(()=>aa.handlesGroup(pa)));return aa.handlesGroup(da)}function I(T,D,O,S){if(0<S.numSelected){Q.set(J,0,0,0);let V=0;T.forEachManipulator((da,
R)=>{1===R&&da.selected&&da instanceof z.Manipulator3D&&(Q.add(J,J,da.renderLocation),V++)});0<V?(O.heightManifoldTarget=Q.scale(J,J,1/V),O.attached=!0):O.attached=!1}else D=D.attachmentOrigin,Y.isSome(D)&&T.view.renderCoordsHelper.toRenderCoords(D,J)?(O.heightManifoldTarget=J,O.attached=!0):O.attached=!1}function w(T){return Y.isSome(T.geometry)&&("polygon"===T.geometry.type||"polyline"===T.geometry.type)}const J=A.create();y.createGeometryRepresentationVisualElement=H;y.createVisualElements=function(T){const {view:D,
graphic:O}=T,S=new B.GraphicState({graphic:O}),V=H(T,S);T=E(T,V.visualElement,S);const da=[V,T,D.maskOccludee(O),D.trackGraphicState(S)];return{visualElement:V.visualElement,remove:()=>aa.handlesGroup(da).remove()}};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/ManipulatorState":function(){define(["exports","../../../../core/maybe","../Manipulator3D"],function(y,aa,K){let Y=function(){function Q(){this.grabbingState=0;this.firstSelected=this.zManipulator=
null;this.numSelected=0;this.firstGrabbedXY=null}Q.prototype.update=function(A){this.grabbingState=0;this.zManipulator=null;this.numSelected=0;this.firstGrabbedXY=this.firstSelected=null;A.forEachManipulator((G,z)=>{0===z&&(this.zManipulator=G);G instanceof K.Manipulator3D&&(G.selected&&(0===this.numSelected&&(this.firstSelected=G),this.numSelected++),aa.isNone(this.firstGrabbedXY)&&G.grabbing&&1===z&&(this.firstGrabbedXY=G));if(G.grabbing)switch(this.grabbingState|=1,z){case 0:this.grabbingState|=
2;break;case 1:this.grabbingState|=4}})};return Q}();y.ManipulatorState=Y;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/originGraphicVisualElementUtils":function(){define("exports ../../../../core/handleUtils ../../../../core/mathUtils ../../../../core/maybe ../../../../core/watchUtils ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/projection ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/aaBoundingRect ../../../../support/elevationInfoUtils ./ManipulatorState ./settings ../visualElements/ExtendedLineVisualElement ../visualElements/LaserlineVisualElement ../visualElements/PointVisualElement ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../../layers/graphics/GraphicState".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J){function T(ea,la,oa,ma){const {view:ra,graphic:ua}=ea,pa=new B.ExtendedLineVisualElement({view:ra,extensionType:N.settings.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});N.settings.visualElements.zVerticalLine.apply(pa);const xa=new H.LaserlineVisualElement({view:ra,intersectsLineInfinite:!0,attached:!1});N.settings.visualElements.pointGraphics.shadowStyle.apply(xa);var wa=K.deg2rad(N.settings.visualElements.heightPlaneAngleCutoff);
const Da=new H.LaserlineVisualElement({view:ra,attached:!1,angleCutoff:wa});N.settings.visualElements.heightPlane.apply(Da);wa=F.getGraphicEffectiveElevationInfo(ea.graphic);const Ja=w.ElevationContext.fromElevationInfo(wa),Na="on-the-ground"===wa.mode||!wa.offset&&"absolute-height"!==wa.mode,Ha=new P.ManipulatorState;let Fa=1,Ua=1;const Ra=()=>{Ha.update(ea);var La=O(ua),Ka=Na&&(la.isDraped||Y.isNone(La)||!La.hasZ);let Ta=!0;if(!Ka&&Y.isSome(La)){const Ea=I.evaluateElevationAlignmentAtPoint(La,ra.elevationProvider,
Ja,ra.renderCoordsHelper);A.set(R,La.x,La.y,Ea);z.projectVectorToVector(R,La.spatialReference,R,ra.renderCoordsHelper.spatialReference);pa.setStartEndFromWorldDownAtLocation(R);xa.intersectsWorldUpAtLocation=R}else Ta=!1;La=Ha.grabbingState&2?N.settings.visualElements.laserlineAlphaMultiplier:1;La!==Fa&&(Fa=La,N.settings.visualElements.heightPlane.apply(Da,La));La=x.empty(ba);!Ka&&la.displaying&&ma.calculateMapBounds(La)&&z.projectVectorToVector(x.getMin(La,R),ra.spatialReference,R,ra.renderCoordsHelper.spatialReference)?
(Da.heightManifoldTarget=R,Da.attached=!0):Da.attached=!1;La=Ha.grabbingState&4?N.settings.visualElements.laserlineAlphaMultiplier:1;La!==Ua&&(Ua=La,N.settings.visualElements.pointGraphics.shadowStyle.apply(xa,La));Ka=Ta&&la.displaying&&!Ka;xa.attached=Ka;pa.attached=Ka};oa.push(la.watch(["displaying","isDraped"],Ra),la.on("changed",Ra));ea.forEachManipulator(La=>{oa.push(La.events.on("grab-changed",Ra))});oa.push(aa.destroyHandle(xa));oa.push(aa.destroyHandle(pa));oa.push(aa.destroyHandle(Da));Ra()}
function D(ea,la,oa){const {view:ma,graphic:ra}=ea,ua=new E.PointVisualElement({view:ma,geometry:O(ra),elevationInfo:F.getGraphicEffectiveElevationInfo(ra),attached:!1});S(ea,ua,la,oa);oa.push(aa.destroyHandle(ua));return ua}function O(ea){ea=ea.geometry;return Y.isNone(ea)?null:"point"===ea.type?ea:"mesh"===ea.type?ea.anchor.clone():null}function S(ea,la,oa,ma){V(ea,la,oa,ma);N.settings.visualElements.pointGraphics.outline.apply(la);ma.push(Q.init(oa,"displaying",()=>la.attached=oa.displaying))}
function V(ea,la,oa,ma){const {view:ra,graphic:ua}=ea;let pa=null;const xa=wa=>{Y.isSome(pa)&&(pa.remove(),pa=null);oa.isDraped&&Y.isSome(wa)&&(pa=da(ra,wa,()=>{la.geometry=wa}))};ea=()=>{const wa=O(ua);xa(wa);la.geometry=wa};ma.push(oa.on("changed",ea),aa.refHandle(()=>pa));ea()}function da(ea,la,oa){z.projectPointToVector(la,R,ea.elevationProvider.spatialReference);const ma=R[0],ra=R[1];return ea.elevationProvider.on("elevation-change",ua=>{C.containsXY(ua.extent,ma,ra)&&oa()})}const R=G.create(),
ba=x.create();y.createVisualElements=function(ea){const {view:la,graphic:oa}=ea,ma=new J.GraphicState({graphic:oa}),ra=[],ua=D(ea,ma,ra);T(ea,ma,ra,ua);ra.push(la.trackGraphicState(ma));return{visualElement:ua,remove(){aa.handlesGroup(ra).remove()}}};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/config":function(){define(["exports"],function(y){const aa=Math.ceil(70/3*2),K=5*Math.PI/12,Y=1*Math.PI/3;y.ALIGN_ARROWS_SCALE_THRESHOLD=1E6;y.DISC_COLLISION_RADIUS=
80;y.DISC_HEIGHT=.02;y.DISC_RADIUS=70;y.DISC_RADIUS_SMALL=aa;y.DISC_TRANSLATE_ARROW_OFFSET=100;y.DISC_TRANSLATE_ARROW_SIZE=54;y.DRAG_THRESHOLD_PX=10;y.GEOMETRY_SEGMENTS=128;y.HANDLE_COLOR=[1,.5,0];y.INDICATOR_THICKNESS=9;y.INNER_INDICATOR_RADIUS=190;y.OUTER_INDICATOR_RADIUS=213;y.RING_HEIGHT=.5;y.RING_INDICATOR_DELAY_MS=200;y.RING_RADIUS=160;y.RING_RESET_ANIMATION_SPEED_FACTOR=3;y.RING_THICKNESS=24;y.ROTATE_INDICATOR_ARC_LENGTH=K;y.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE=.2;y.ROTATE_INDICATOR_ARROW_TIP_LENGTH=
60;y.ROTATE_INDICATOR_ARROW_TIP_RADIUS=23;y.ROTATE_INDICATOR_DIRECTION_BUFFER=.3;y.SCALE_INDICATOR_ARC_LENGTH=Y;y.SCALE_INDICATOR_DIRECTION_BUFFER=.2;y.SCALE_INDICATOR_OFFSET1=30;y.SCALE_INDICATOR_OFFSET2=53;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/MoveManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/has ../../../../../core/maybe ./config ./Manipulation ./MoveXYAxisManipulation ./MoveXYDiscManipulation ./MoveZManipulation".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F){z=function(P){function N(H){var E=P.call(this)||this;E._handles=new K;E._angleDeferred=null;E._interactive=!0;const {tool:I,view:w,snapToScene:J,radius:T}=H;E._view=w;E.xyManipulation=new C.MoveXYDiscManipulation({tool:I,view:w,snapToScene:J,radius:T});E.xyAxisManipulation=new x.MoveXYAxisManipulation({tool:I,view:w,radius:T});E.zManipulation=new F.MoveZManipulation({tool:I,view:w,radius:T});E.xyManipulation.available=H.xyAvailable;E.xyAxisManipulation.available=H.xyAxisAvailable;
E.zManipulation.available=H.zAvailable;E.autoHideXYAxis();E.forEachManipulator(D=>{E._handles.add(D.events.on("grab-changed",()=>E.updateManipulatorInteractivity()))});return E}aa._inheritsLoose(N,P);var B=N.prototype;B.destroy=function(){this._handles.destroy();this.xyManipulation.destroy();this.xyAxisManipulation.destroy();this.zManipulation.destroy()};B.createGraphicDragPipeline=function(H,E,I){return Y.handlesGroup([this.xyManipulation.createGraphicDragPipeline((w,J,T,D,O)=>H(0,w,J,T,D,O),E,I),
this.xyAxisManipulation.createGraphicDragPipeline((w,J,T,D,O)=>H(1,w,J,T,D,O),E,I),this.zManipulation.createGraphicDragPipeline((w,J,T,D,O)=>H(2,w,J,T,D,O),E,I)])};B.createDragPipeline=function(H,E,I,w){return Y.handlesGroup([this.xyManipulation.createDragPipeline((J,T,D,O,S)=>H(0,J,T,D,O,S),E,I,w),this.xyAxisManipulation.createDragPipeline((J,T,D,O,S)=>H(1,J,T,D,O,S),E,I,w),this.zManipulation.createDragPipeline((J,T,D,O,S)=>H(2,J,T,D,O,S),I)])};B.forEachManipulator=function(H){this.xyManipulation.forEachManipulator(E=>
H(E,1));this.xyAxisManipulation.forEachManipulator(E=>H(E,1));this.zManipulation.forEachManipulator(E=>H(E,0))};B.autoHideXYAxis=function(){const H=this.xyAxisManipulation;var E=this.xyManipulation;if(!Q("esri-mobile")){var I=[];E.forEachManipulator(w=>I.push(w));H.forEachManipulator(w=>I.push(w));E=()=>{const w=[];this.xyAxisVisible?A.isSome(this._angleDeferred)&&(this.angle=this._angleDeferred()):H.forEachManipulator(J=>w.push(J.disableDisplay()));this._handles.remove("disable-xy-axis-display");
this._handles.add(w,"disable-xy-axis-display")};for(const w of I)this._handles.add(w.events.on("focus-changed",E));this._view.inputManager&&this._handles.add(this._view.inputManager.watch("latestPointerType",E));E()}};B.updateManipulatorInteractivity=function(){const H=this.grabbing;this.forEachManipulator(E=>{E.interactive=!H&&this._interactive||E.grabbing})};N.radiusForSymbol=function(H){return(H=A.isSome(H)&&"point-3d"===H.type&&H.symbolLayers)&&0<H.length&&H.some(E=>"icon"===E.type)?G.DISC_RADIUS_SMALL:
G.DISC_RADIUS};aa._createClass(N,[{key:"snapToScene",set:function(H){this.xyManipulation.snapToScene=H}},{key:"angle",set:function(H){this._angleDeferred=null;this.xyAxisManipulation.angle=H}},{key:"angleDeferred",set:function(H){this.xyAxisVisible?this.angle=H():this._angleDeferred=H}},{key:"interactive",set:function(H){this._interactive!==H&&(this._interactive=H,this.updateManipulatorInteractivity())}},{key:"radius",set:function(H){this.xyAxisManipulation.radius=H;this.xyManipulation.radius=H;this.zManipulation.radius=
H}},{key:"displayScale",set:function(H){this.xyManipulation.displayScale=H;this.xyAxisManipulation.displayScale=H}},{key:"xyAxisVisible",get:function(){const H=this.xyManipulation.someManipulator(E=>E.focused)||this.xyAxisManipulation.someManipulator(E=>E.focused);return this._view.inputManager&&"touch"===this._view.inputManager.latestPointerType||H}}]);return N}(z.Manipulation);y.MoveManipulation=z;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/Manipulation":function(){define(["exports",
"../../../../../chunks/_rollupPluginBabelHelpers","../../Manipulator3D"],function(y,aa,K){let Y=function(){function Q(){this._available=!0}var A=Q.prototype;A.hasManipulator=function(G){return this.someManipulator(z=>z===G)};A.someManipulator=function(G){let z=!1;this.forEachManipulator(x=>{!z&&G(x)&&(z=!0)});return z};A.forEachManipulator3D=function(G){this.forEachManipulator((z,x)=>{z instanceof K.Manipulator3D&&G(z,x)})};aa._createClass(Q,[{key:"location",set:function(G){this.forEachManipulator3D(z=>
z.location=G)}},{key:"elevationAlignedLocation",set:function(G){this.forEachManipulator3D(z=>z.elevationAlignedLocation=G)}},{key:"elevationInfo",set:function(G){this.forEachManipulator3D(z=>z.elevationInfo=G)}},{key:"renderLocation",get:function(){let G;this.forEachManipulator3D(z=>{G||(G=z.renderLocation)});return G}},{key:"available",get:function(){return this._available},set:function(G){this._available=G;this.forEachManipulator3D(z=>z.available=G)}},{key:"grabbing",get:function(){return this.someManipulator(G=>
G.grabbing)}},{key:"dragging",get:function(){return this.someManipulator(G=>G.dragging)}}]);return Q}();y.Manipulation=Y;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../Color ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/vectorStacks ../../../../../support/elevationInfoUtils ../../Manipulator3D ../dragEventPipeline3D ../settings ./config ./Manipulation ./moveUtils ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D,O){w=function(S){function V(R){var ba=S.call(this)||this;ba._handles=new Q;ba._arrowManipulatorInfos=[];ba._opaqueMaterial=ba.createMaterial();ba._transparentMaterial=ba.createMaterial(.5);ba._angle=0;ba._scale=1;ba._radius=I.DISC_RADIUS;ba._updateAfterDrag=!1;ba.events=new Y;ba._tool=R.tool;ba._view=R.view;null!=R.radius&&(ba._radius=R.radius);ba._createManipulators();ba.forEachManipulator(ea=>ba._tool.manipulators.add(ea));return ba}aa._inheritsLoose(V,
S);var da=V.prototype;da.destroy=function(){this.forEachManipulator(R=>{this._tool.manipulators.remove(R);R.destroy()});this._handles=G.destroyMaybe(this._handles);this._view=this._tool=null;this._arrowManipulatorInfos.length=0};da.forEachManipulator=function(R){for(const {manipulator:ba}of this._arrowManipulatorInfos)R(ba,1)};da.createGraphicDragPipeline=function(R,ba,ea){const la=ba.graphic,oa=N.getGraphicEffectiveElevationInfo(la),ma=G.unwrap(la.geometry).spatialReference;return J.createGraphicMoveDragPipeline(ba,
ea,ra=>this.createDragPipeline((ua,pa,xa,wa,Da)=>ra(ua,R(ua,pa,xa,wa,Da),xa),oa,ma,la),this._view.state.viewingMode)};da.createDragPipeline=function(R,ba,ea,la){return A.handlesGroup(this._arrowManipulatorInfos.map(({manipulator:oa},ma)=>O.createManipulatorDragEventPipeline(oa,(ra,ua,pa,xa,wa)=>{ua=ua.next(Da=>({...Da,manipulatorType:1})).next(O.dragAtLocation(this._view,ra.elevationAlignedLocation)).next(H.screenToMapXYAtLocation(this._view,ra.elevationAlignedLocation,ba,ea,la)).next(O.constrainToMapAxis(ra.location,
this.angle+(ma+1)*Math.PI*.5)).next(O.addScreenDelta());R(ra,ua,pa,xa,wa)})))};da._updateManipulators=function(){for(let R=0;R<this._arrowManipulatorInfos.length;R++)this._updateArrowManipulator(this._arrowManipulatorInfos[R],R);this._updateManipulatorTransform()};da._updateArrowManipulator=function({manipulator:R,transform:ba},ea){const la=this._radius/I.DISC_RADIUS;var oa=I.DISC_TRANSLATE_ARROW_SIZE*la;const ma=oa*Math.sqrt(3)/2;oa=T.createExtrudedTriangle(ma,oa/2,oa/2,I.DISC_HEIGHT);T.transformInPlace(oa,
z.fromTranslation(P.sm4d.get(),C.set(P.sv3d.get(),0,-ma/3,0)));R.renderObjects=[{geometry:oa,material:this._opaqueMaterial,stateMask:2},{geometry:oa,material:this._transparentMaterial,stateMask:1}];R.radius=ma/3*2.4;R=z.identity(P.sm4d.get());z.fromZRotation(R,ea*Math.PI/2);ea=z.identity(P.sm4d.get());z.fromTranslation(ea,C.set(P.sv3d.get(),0,I.DISC_TRANSLATE_ARROW_OFFSET*la,0));z.multiply(ba,R,ea)};da._createManipulators=function(){for(let R=0;4>R;R++){const ba=this._createArrowManipulator(R);this._arrowManipulatorInfos.push(ba)}this._updateManipulatorTransform()};
da._updateManipulatorTransform=function(){var R=this.angle,ba=z.identity(P.sm4d.get());z.rotate(ba,ba,R,F.fromValues(0,0,1));const ea=z.fromScaling(P.sm4d.get(),C.set(P.sv3d.get(),this.displayScale,this.displayScale,this.displayScale));R=z.identity(P.sm4d.get());z.multiply(R,ea,ba);for(const la of this._arrowManipulatorInfos)ba=z.multiply(P.sm4d.get(),R,la.transform),la.manipulator.modelTransform=ba};da._createArrowManipulator=function(R){const ba=new B.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,
worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:F.fromValues(0,0,1)}}),ea={manipulator:ba,transform:x.create()};this._updateArrowManipulator(ea,R);this._handles.add(ba.events.on("drag",la=>{this._updateAfterDrag&&"end"===la.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}));return ea};da.createMaterial=function(R=1){const ba=K.toUnitRGBA(E.colors.main);ba[3]*=R;return new D.ColorMaterial({color:ba,transparent:1!==R,cullFace:2,
renderOccluded:2})};aa._createClass(V,[{key:"orthogonalAvailable",set:function(R){this._arrowManipulatorInfos[1].manipulator.available=R;this._arrowManipulatorInfos[3].manipulator.available=R}},{key:"angle",get:function(){return this._angle},set:function(R){this._angle=R;this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}},{key:"displayScale",get:function(){return this._scale},set:function(R){this._scale=R;this._updateManipulatorTransform()}},{key:"radius",get:function(){return this._radius},
set:function(R){this._radius!==R&&(this._radius=R,this._updateManipulators())}},{key:"test",get:function(){return{arrowManipulators:this._arrowManipulatorInfos.map(({manipulator:R})=>R)}}}]);return V}(w.Manipulation);y.MoveXYAxisManipulation=w;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/dragEventPipeline3D":function(){define("exports ../../../../core/maybe ../../../../core/screenUtils ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/projection ../../../../geometry/support/plane ../../../../geometry/support/ray ../../../../geometry/support/vector ../../../../geometry/support/vectorStacks ../../../../support/elevationInfoUtils ../../support/geometryUtils/ray ../../webgl-engine/lib/Intersector ../../webgl-engine/lib/verticalOffsetUtils ../../../interactive/dragEventPipeline".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H){function E(ba,ea){return I(ba,()=>ea)}function I(ba,ea){const la=Q.create(),oa=Q.create();let ma=!1;return ra=>{const ua=ea(ra);if("start"===ra.action){var pa=K.screenPointObjectToArray(ra.screenStart,K.castScreenPointArray(C.sv2d.get()));pa=P.fromScreen(ba.state.camera,pa,R);aa.isSome(pa)&&(ma=G.intersectRay(ua,pa,la))}if(!ma)return null;pa=K.screenPointObjectToArray(ra.screenEnd,K.castScreenPointArray(C.sv2d.get()));pa=P.fromScreen(ba.state.camera,pa,R);
return aa.isNone(pa)?null:G.intersectRay(ua,pa,oa)?{...ra,renderStart:la,renderEnd:oa,plane:ua,ray:pa}:null}}function w(ba,ea,la,oa=null,ma=null){let ra=null;return ua=>{if("start"===ua.action&&(ra=ba.sceneIntersectionHelper.intersectElevationFromScreen(K.createScreenPointArray(ua.screenStart.x,ua.screenStart.y),ea,la,ma),aa.isSome(ra)&&aa.isSome(oa)&&!A.projectPoint(ra,ra,oa))||aa.isNone(ra))return null;const pa=ba.sceneIntersectionHelper.intersectElevationFromScreen(K.createScreenPointArray(ua.screenEnd.x,
ua.screenEnd.y),ea,la,ma);return aa.isSome(pa)?aa.isSome(oa)&&!A.projectPoint(pa,pa,oa)?null:{...ua,mapStart:ra,mapEnd:pa}:null}}function J(ba,ea,la,oa=null,ma=null){ea=F.getZForElevationMode(ea,ba,la);return w(ba,la,ea,oa,ma)}function T(ba,ea,la,oa=null,ma=null){return J(ba,la,F.getGraphicEffectiveElevationInfo(ea),oa,ma)}function D(ba,ea){const la=V,oa=da,ma=G.create();ba.renderCoordsHelper.worldUpAtPosition(ea,la);ba=Y.cross(ma,la,Y.subtract(oa,ea,ba.state.camera.eye));Y.cross(ba,ba,la);return G.fromPositionAndNormal(ea,
ba,ma)}function O(ba,ea){const la=Q.create(),oa=Y.length(ea);ba.renderCoordsHelper.worldUpAtPosition(ea,la);const ma=Q.create(),ra=Q.create(),ua=pa=>{Y.subtract(pa,pa,ea);x.projectPoint(la,pa,pa);"global"===ba.viewingMode&&Y.length(pa)*Math.sign(Y.dot(la,pa))<-oa+.001&&Y.subtract(pa,Y.scale(pa,la,.001),ea);Y.add(pa,pa,ea);return pa};return pa=>{pa.renderStart=ua(Y.copy(ma,pa.renderStart));pa.renderEnd=ua(Y.copy(ra,pa.renderEnd));return pa}}function S(ba,ea){const la=ba.renderCoordsHelper;return oa=>
{const ma=la.fromRenderCoords(oa.renderStart,ea),ra=la.fromRenderCoords(oa.renderEnd,ea);return aa.isSome(ma)&&aa.isSome(ra)?{...oa,mapStart:ma,mapEnd:ra}:null}}const V=Q.create(),da=Q.create(),R=z.create();y.convertToMapCoordinates=S;y.hideManipulatorWhileDragging=function(ba){let ea=null;return la=>{switch(la.action){case "start":ea=ba.disableDisplay();break;case "end":case "cancel":aa.isSome(ea)&&(ea.remove(),ea=null)}return la}};y.projectToWorldUp=O;y.screenToMap3D=function(ba,ea=null){const la=
N.newIntersector(ba.state.viewingMode);la.options.selectionMode=!0;la.options.store=0;la.options.hud=!1;const oa=K.createScreenPointArray(),ma={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},ra=Q.create(),ua=aa.unwrapOr(ea,ba.spatialReference),pa=wa=>{ba.map.ground&&1>ba.map.ground.opacity?ma.exclude.add(B.TERRAIN_ID):ma.exclude.delete(B.TERRAIN_ID);ba.sceneIntersectionHelper.intersectIntersectorScreen(K.screenPointObjectToArray(wa,oa),la,ma);wa=la.results.min;if(wa.getIntersectionPoint(ra))wa=
2===wa.intersector?0:1;else if(la.results.ground.getIntersectionPoint(ra))wa=0;else return null;return{location:ba.renderCoordsHelper.fromRenderCoords(ra,ua),surfaceType:wa}};let xa;return wa=>{if("start"===wa.action){var Da=pa(wa.screenStart);xa=aa.isSome(Da)?Da.location:null}if(aa.isNone(xa))return null;Da=pa(wa.screenEnd);return aa.isSome(Da)&&aa.isSome(Da.location)?{...wa,mapStart:xa,mapEnd:Da.location,surfaceType:Da.surfaceType}:null}};y.screenToMapXYAtLocation=J;y.screenToMapXYForGraphic=function(ba,
ea,la,oa){ba=ea.toMap(ba.screenStart,{include:[la]});return aa.isSome(ba)?T(ea,la,ba,oa):null};y.screenToMapXYForGraphicAtLocation=T;y.screenToRenderPlane=E;y.screenToRenderPlaneFromEvent=function(ba){return I(ba,ea=>ea.plane)};y.screenToZConstrained=function(ba,ea,la){let oa=null;const ma=new H.EventPipeline;ma.next(E(ba,D(ba,ea))).next(O(ba,ea)).next(S(ba,la)).next(ra=>{ra.mapEnd.x=ra.mapStart.x;ra.mapEnd.y=ra.mapStart.y;oa=ra});return ra=>{oa=null;ma.execute(ra);return oa}};Object.defineProperty(y,
"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/moveUtils":function(){define(["exports","../../../../../core/maybe","../../../../interactive/dragEventPipeline"],function(y,aa,K){y.createGraphicMoveDragPipeline=function(Y,Q,A,G){const z=Y.graphic,x=(C,F)=>Q({action:C,graphic:z,dxScreen:F.screenDeltaX,dyScreen:F.screenDeltaY});return A((C,F,P)=>{C=F.next(N=>{"start"===N.action&&x("start",N);return N}).next(K.dragGraphic(z,G)).next(N=>{switch(N.action){case "start":case "update":(N.translationX||
N.translationY||N.translationZ)&&x("update",N);break;case "end":x("end",N)}return N});P.next(K.resetGraphic(z)).next(()=>{x("end",{screenDeltaX:0,screenDeltaY:0})});return C})};y.shapeOrientation=function(Y){if(aa.isNone(Y)||"polyline"!==Y.type&&"polygon"!==Y.type)return 0;var Q=("polyline"===Y.type?Y.paths:Y.rings)[0];if(!Q||2>Q.length)return 0;Y=Q[0];Q=Q[1];return Math.atan2(Q[1]-Y[1],Q[0]-Y[0])};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../Color ../../../../../core/Handles ../../../../../core/maybe ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/vectorStacks ../../../../../support/elevationInfoUtils ../../Manipulator3D ../dragEventPipeline3D ../settings ./config ./Manipulation ./moveUtils ../snapping/SnapToScene ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D){E=function(O){function S(da){var R=O.call(this)||this;R._handles=new Y;R._snapToScene=new w.SnapToScene;R._discMaterial=R._createMaterial();R._discMaterialTransparent=R._createMaterial(.5);R._scale=1;R._radius=H.DISC_RADIUS;R._view=da.view;R._tool=da.tool;null!=da.snapToScene&&(R.snapToScene=da.snapToScene);null!=da.radius&&(R._radius=da.radius);R._createManipulator();R.forEachManipulator(ba=>R._tool.manipulators.add(ba));return R}aa._inheritsLoose(S,
O);var V=S.prototype;V.destroy=function(){this._handles.destroy();this.forEachManipulator(da=>{this._tool.manipulators.remove(da);da.destroy()});this._manipulator=this._view=this._tool=null};V.forEachManipulator=function(da){da(this._manipulator,1)};V.createGraphicDragPipeline=function(da,R,ba){const ea=R.graphic,la=F.getGraphicEffectiveElevationInfo(ea),oa=Q.unwrap(ea.geometry).spatialReference;return I.createGraphicMoveDragPipeline(R,ba,ma=>this.createDragPipeline((ra,ua,pa,xa,wa)=>ma(ra,da(ra,
ua,pa,xa,wa),pa),la,oa,ea),this._view.state.viewingMode)};V.createDragPipeline=function(da,R,ba,ea){const la=this._view;return D.createManipulatorDragEventPipeline(this._manipulator,(oa,ma,ra,ua,pa)=>{ma=ma.next(D.dragAtLocation(la,oa.elevationAlignedLocation)).next(N.screenToMapXYAtLocation(la,oa.elevationAlignedLocation,R,ba,ea)).next(this._snapToScene.createDragEventPipelineStep(la,R),this._snapToScene.next).next(xa=>({...xa,manipulatorType:1})).next(D.addScreenDelta());da(oa,ma,ra,ua,pa)})};V._updateManipulatorTransform=
function(){const da=A.fromScaling(C.sm4d.get(),z.set(C.sv3d.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=da};V._createManipulator=function(){this._manipulator=new P.Manipulator3D({view:this._view,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:x.fromValues(0,0,1)},worldOriented:!0});this._updateManipulator()};V._updateManipulator=function(){const da=J.createCylinderGeometry(H.DISC_HEIGHT,
1,H.GEOMETRY_SEGMENTS,x.fromValues(0,0,1),x.fromValues(0,0,0)),R=A.fromScaling(G.create(),x.fromValues(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:da,material:this._discMaterial,transform:R,stateMask:2},{geometry:da,material:this._discMaterialTransparent,transform:R,stateMask:1}];this._manipulator.radius=this._radius/H.DISC_RADIUS*H.DISC_COLLISION_RADIUS};V._createMaterial=function(da=1){const R=K.toUnitRGBA(B.colors.main);R[3]*=da;return new T.ColorMaterial({color:R,
transparent:1!==da,cullFace:2,renderOccluded:2})};aa._createClass(S,[{key:"displayScale",get:function(){return this._scale},set:function(da){this._scale=da;this._updateManipulatorTransform()}},{key:"snapToScene",get:function(){return this._snapToScene.enabled},set:function(da){this._snapToScene.enabled=da}},{key:"radius",get:function(){return this._radius},set:function(da){da!==this._radius&&(this._radius=da,this._updateManipulator())}},{key:"test",get:function(){return{discManipulator:this._manipulator}}}]);
return S}(E.Manipulation);y.MoveXYDiscManipulation=E;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/snapping/SnapToScene":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/maybe","../../../../../support/elevationInfoUtils","../../../../interactive/dragEventPipeline"],function(y,aa,K,Y,Q){let A=function(){function G(){this.lastDragEvent=this.elevationInfo=this.view=null;this.next=new Q.EventPipeline;this._enabled=
!1}var z=G.prototype;z.snap=function(x){x=K.isSome(this.view)?this.view.toMap(x,{exclude:[]}):null;K.isSome(x)&&K.isSome(this.view)&&(x.z=Y.getZForElevationMode(x,this.view,this.elevationInfo));return x};z.createDragEventPipelineStep=function(x,C){this.view=x;this.elevationInfo=C;this.lastDragEvent=null;return F=>{this.lastDragEvent="end"!==F.action?{...F}:null;if(this._enabled){const P=this.snap(F.screenEnd);return K.isSome(P)?{action:F.action,mapStart:F.mapStart,mapEnd:P,screenStart:F.screenStart,
screenEnd:F.screenEnd}:null}return{action:F.action,mapStart:F.mapStart,mapEnd:F.mapEnd,screenStart:F.screenStart,screenEnd:F.screenEnd}}};aa._createClass(G,[{key:"enabled",get:function(){return this._enabled},set:function(x){if(this._enabled!==x&&K.isSome(this.lastDragEvent)){const C=this.lastDragEvent.mapEnd,F=this.snap(this.lastDragEvent.screenEnd);K.isSome(F)&&this.next.execute({action:"update",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===x?F:C,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd})}this._enabled=
x}}]);return G}();y.SnapToScene=A;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/MoveZManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/colorUtils ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../Manipulator3D ../../manipulatorUtils ../dragEventPipeline3D ../settings ./config ./Manipulation ./moveUtils ../../../webgl-engine/lib/GeometryUtil ../../../../interactive/dragEventPipeline".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T){I=function(V){function da(ba){var ea=V.call(this)||this;ea._handles=new Q;ea._radius=E.DISC_RADIUS;ea.events=new Y;ea._tool=ba.tool;ea._view=ba.view;null!=ba.radius&&(ea._radius=ba.radius);ea.createManipulator();ea.forEachManipulator(la=>ea._tool.manipulators.add(la));return ea}aa._inheritsLoose(da,V);var R=da.prototype;R.destroy=function(){this._handles.destroy();this.forEachManipulator(ba=>{this._tool.manipulators.remove(ba);ba.destroy()})};R.forEachManipulator=
function(ba){ba(this._manipulator,0)};R.createGraphicDragPipeline=function(ba,ea,la){const oa=G.unwrap(ea.graphic.geometry).spatialReference;return w.createGraphicMoveDragPipeline(ea,la,ma=>this.createDragPipeline((ra,ua,pa,xa,wa)=>ma(ra,ba(ra,ua,pa,xa,wa),pa),oa),this._view.state.viewingMode)};R.createDragPipeline=function(ba,ea){const la=this._view;return T.createManipulatorDragEventPipeline(this._manipulator,(oa,ma,ra,ua,pa)=>{ma=ma.next(xa=>({...xa,manipulatorType:0})).next(B.screenToZConstrained(la,
oa.renderLocation,ea)).next(T.addScreenDelta());ba(oa,ma,ra,ua,pa)})};R.updateManipulator=function(){var ba=this._radius/E.DISC_RADIUS;const ea=H.settings.zManipulator.height*ba;var la=H.settings.zManipulator.coneHeight*ba;const oa=H.settings.zManipulator.coneWidth*ba;ba*=H.settings.zManipulator.width;var ma=[F.fromValues(0,0,0),F.fromValues(0,0,ea)];ma=J.createTubeGeometry(ma,ba/2,16,!1);const ra=J.createConeGeometry(la,oa/2,16,!1);la=[F.fromValues(0,0,0),F.fromValues(0,0,ea+la)];const ua=(Ja=>{const Na=
x.create();z.translate(Na,Na,[0,0,ea]);z.rotateX(Na,Na,Math.PI/2);Ja&&(Ja=1+2*Ja/oa,z.scale(Na,Na,[Ja,Ja,Ja]));return Na})(0);var pa=(Ja,Na)=>{Na=K.darken(H.settings.zManipulator.color,Na);return[Na.r/255,Na.g/255,Na.b/255,H.settings.zManipulator.color.a*Ja]};const xa=N.createManipulatorMaterial(pa(1,.25),1),wa=N.createManipulatorMaterial(pa(1,0),1),Da=N.createManipulatorMaterial(pa(.7,0),H.settings.zManipulator.renderOccluded);pa=N.createManipulatorMaterial(pa(.85,0),H.settings.zManipulator.renderOccluded);
this._manipulator.renderObjects=[{geometry:ra,transform:ua,material:xa,stateMask:1},{geometry:ma,material:xa,stateMask:1},{geometry:ra,transform:ua,material:wa,stateMask:2},{geometry:ma,material:wa,stateMask:2},{geometry:ra,transform:ua,material:Da,stateMask:1},{geometry:ma,material:Da,stateMask:1},{geometry:ra,transform:ua,material:pa,stateMask:2},{geometry:ma,material:pa,stateMask:2}];this._manipulator.radius=ba/2+2;this._manipulator.collisionType={type:"line",paths:[la]}};R.createManipulator=function(){const ba=
new P.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:"ns-resize",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});ba.applyObjectTransform=ea=>{var la=this._view.state.camera,oa=D;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,oa);const ma=C.dist(la.eye,oa),ra=la.computeRenderPixelSizeAtDist(ma);var ua=C.subtract(O,oa,la.eye);C.normalize(ua,ua);var pa=S;this._view.renderCoordsHelper.worldUpAtPosition(D,
pa);oa=Math.abs(C.dot(ua,pa));ua=C.cross(O,ua,pa);pa=C.cross(O,ua,pa);oa=A.clamp(oa,.01,1);la=1-Math.sqrt(1-oa*oa)/oa/la.fullWidth;oa=this._radius/E.DISC_RADIUS*H.settings.zManipulator.width;C.scale(pa,C.normalize(pa,pa),(1/la-1)*ma+ra*oa);ea[12]-=O[0];ea[13]-=O[1];ea[14]-=O[2]};this._manipulator=ba;this.updateManipulator()};aa._createClass(da,[{key:"radius",get:function(){return this._radius},set:function(ba){ba!==this._radius&&(this._radius=ba,this.updateManipulator())}},{key:"test",get:function(){return{manipulator:this._manipulator}}}]);
return da}(I.Manipulation);const D=F.create(),O=F.create(),S=F.create();y.MoveZManipulation=I;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/Handles ../../../../../core/maybe ../dragEventPipeline3D ./Manipulation ./moveUtils ../../../../interactive/dragEventPipeline ../../../../interactive/GraphicManipulator".split(" "),
function(y,aa,K,Y,Q,A,G,z,x){A=function(C){function F(N){var B=C.call(this)||this;B._handles=new K;B._view=N.view;B._tool=N.tool;B._graphicState=N.graphicState;B._createManipulator();B.forEachManipulator(H=>B._tool.manipulators.add(H));return B}aa._inheritsLoose(F,C);var P=F.prototype;P.destroy=function(){this._handles.destroy();this.forEachManipulator(N=>{this._tool.manipulators.remove(N);N.destroy()});this._graphicState=this._manipulator=this._view=this._tool=null};P.forEachManipulator=function(N){N(this._manipulator,
1)};P.createGraphicDragPipeline=function(N){return G.createGraphicMoveDragPipeline(this._graphicState,N,B=>this.createDragPipeline(B),this._view.state.viewingMode)};P.createDragPipeline=function(N){const B=this._view,H=this._graphicState.graphic,E=Y.isSome(H.geometry)?H.geometry.spatialReference:null;return z.createManipulatorDragEventPipeline(this._manipulator,(I,w,J,T,D)=>{w=w.next(Q.screenToMapXYForGraphic(D,B,H,E)).next(z.addMapDelta()).next(z.addScreenDelta());N(I,w,J,T,D)})};P._createManipulator=
function(){this._manipulator=new x.GraphicManipulator({graphic:this._graphicState.graphic,view:this._view,selectable:!0,cursor:"move"})};return F}(A.Manipulation);y.MoveXYGraphicManipulation=A;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/GraphicManipulator":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../chunks/vec2 ../../chunks/vec3 ../../chunks/vec3f64 ../../geometry/projection ../../support/elevationInfoUtils ../../symbols/support/defaults ../../symbols/support/ElevationInfo ../support/drapedUtils".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T){y.GraphicManipulator=function(S){function V(R){R=S.call(this,R)||this;R.layer=null;R.interactive=!0;R.selectable=!1;R.grabbable=!0;R.dragging=!1;R.cursor=null;R.events=new Q.EventEmitter;R._circleCollisionCache=null;R._graphicSymbolChangedHandle=null;R._originalSymbol=null;return R}aa._inheritsLoose(V,S);var da=V.prototype;da.grabbableForEvent=function(){return!0};da.destroy=function(){this.detachSymbolChanged();this._resetGraphicSymbol();this._set("view",
null)};da.intersectionDistance=function(R){const ba=this.graphic;if(!1===ba.visible)return null;const ea=ba.geometry;if(A.isNone(ea))return null;var la=this._get("focusedSymbol");la=A.isSome(la)?la:ba.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,R,ea,la):this._intersectDistance3D(this.view,R,ba)};da.attach=function(){this.attachSymbolChanged();A.isSome(this.layer)&&this.layer.add(this.graphic)};da.detach=function(){this.detachSymbolChanged();this._resetGraphicSymbol();A.isSome(this.layer)&&
this.layer.remove(this.graphic)};da.attachSymbolChanged=function(){this.detachSymbolChanged();this._graphicSymbolChangedHandle=this.graphic.watch("symbol",R=>{A.isSome(R)&&R!==this.focusedSymbol&&R!==this._originalSymbol&&(this._originalSymbol=R,this._focused&&A.isSome(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))},!0)};da.detachSymbolChanged=function(){A.isSome(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)};da._updateGraphicSymbol=
function(){this.graphic.symbol=this._focused&&A.isSome(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol};da._resetGraphicSymbol=function(){this.graphic.symbol=this._originalSymbol};da._intersectDistance2D=function(R,ba,ea,la){la=la||w.getDefaultSymbol2D(ea);if(A.isNone(la))return null;var oa=this._circleCollisionCache;if("point"!==ea.type||"simple-marker"!==la.type)return T.intersectsDrapedGeometry(ba,ea,R)?1:null;if(A.isNone(oa)||!oa.originalPoint.equals(ea)){const ma=R.spatialReference;
E.canProjectWithoutEngine(ea.spatialReference,ma)&&(oa=E.project(ea,ma),this._circleCollisionCache=oa={originalPoint:ea.clone(),mapPoint:oa,radiusPx:G.pt2px(la.size)})}return A.isSome(oa)?(ba=G.screenPointObjectToArray(ba,O),R=R.toScreen(oa.mapPoint),oa=oa.radiusPx,ea=R.x+G.pt2px(la.xoffset),la=R.y-G.pt2px(la.yoffset),N.squaredDistance(ba,[ea,la])<oa*oa?1:null):null};da._intersectDistance3D=function(R,ba,ea){return(ba=R.toMap(ba,{include:[ea]}))&&E.projectPointToVector(ba,D,R.renderSpatialReference)?
B.distance(D,R.state.camera.eye):null};aa._createClass(V,[{key:"graphic",set:function(R){this._circleCollisionCache=null;this._originalSymbol=R.symbol;this._set("graphic",R);this.attachSymbolChanged()}},{key:"elevationInfo",get:function(){const R="elevationInfo"in this.graphic.layer&&this.graphic.layer.elevationInfo,ba=I.getGraphicEffectiveElevationMode(this.graphic);return new J({mode:ba,offset:R?R.offset:0})}},{key:"focusedSymbol",set:function(R){R!==this._get("focusedSymbol")&&(this._set("focusedSymbol",
R),this._updateGraphicSymbol(),this._circleCollisionCache=null)}},{key:"grabbing",set:function(R){R!==this._get("grabbing")&&(this._set("grabbing",R),this._updateGraphicSymbol())}},{key:"hovering",set:function(R){R!==this._get("hovering")&&(this._set("hovering",R),this._updateGraphicSymbol())}},{key:"selected",set:function(R){R!==this._get("selected")&&(this._set("selected",R),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:R?"select":"deselect"}))}},{key:"_focused",get:function(){return this._get("hovering")||
this._get("grabbing")}}]);return V}(Y);K.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.GraphicManipulator.prototype,"graphic",null);K.__decorate([z.property({readOnly:!0})],y.GraphicManipulator.prototype,"elevationInfo",null);K.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.GraphicManipulator.prototype,"view",void 0);K.__decorate([z.property({value:null})],y.GraphicManipulator.prototype,"focusedSymbol",null);K.__decorate([z.property({constructOnly:!0})],y.GraphicManipulator.prototype,
"layer",void 0);K.__decorate([z.property()],y.GraphicManipulator.prototype,"interactive",void 0);K.__decorate([z.property()],y.GraphicManipulator.prototype,"selectable",void 0);K.__decorate([z.property()],y.GraphicManipulator.prototype,"grabbable",void 0);K.__decorate([z.property({value:!1})],y.GraphicManipulator.prototype,"grabbing",null);K.__decorate([z.property()],y.GraphicManipulator.prototype,"dragging",void 0);K.__decorate([z.property()],y.GraphicManipulator.prototype,"hovering",null);K.__decorate([z.property({value:!1})],
y.GraphicManipulator.prototype,"selected",null);K.__decorate([z.property()],y.GraphicManipulator.prototype,"cursor",void 0);y.GraphicManipulator=K.__decorate([P.subclass("esri.views.interactive.GraphicManipulator")],y.GraphicManipulator);const D=H.create(),O=G.createScreenPointArray();Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/support/drapedUtils":function(){define("exports ../../geometry ../../core/maybe ../../core/unitUtils ../../renderers/support/clickToleranceUtils ../../geometry/Extent".split(" "),
function(y,aa,K,Y,Q,A){function G(x,C,F,P=new A){let N;if("2d"===F.type)N=C*F.resolution;else if("3d"===F.type){var B=F.overlayPixelSizeInMapUnits(x),H=F.basemapSpatialReference;N=K.isSome(H)&&!H.equals(F.spatialReference)?Y.getMetersPerUnitForSR(H)/Y.getMetersPerUnitForSR(F.spatialReference):C*B}C=x.x-N;B=x.y-N;H=x.x+N;x=x.y+N;({spatialReference:F}=F);P.xmin=Math.min(C,H);P.ymin=Math.min(B,x);P.xmax=Math.max(C,H);P.ymax=Math.max(B,x);P.spatialReference=F;return P}const z=new A;y.createQueryGeometry=
G;y.intersectsDrapedGeometry=function(x,C,F){x=F.toMap(x);if(K.isNone(x))return!1;const P=Q.calculateTolerance();return G(x,P,F,z).intersects(C)};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/renderers/support/clickToleranceUtils":function(){define(["exports"],function(y){function aa(Q,A){return A?"xoffset"in A&&A.xoffset?Math.max(Q,Math.abs(A.xoffset)):"yoffset"in A&&A.yoffset?Math.max(Q,Math.abs(A.yoffset||0)):Q:Q}function K(Q,A){if("number"===typeof Q)return Q;if(Q&&Q.stops&&Q.stops.length){{Q=
Q.stops;let G=A=0;for(let z=0;z<Q.length;z++){const x=Q[z].size;"number"===typeof x&&(A+=x,G++)}Q=A/G}return Q}return A}function Y(Q,A){if(!A)return Q;A=A.filter(x=>"size"===x.type).map(x=>{const {maxSize:C,minSize:F}=x;return(K(C,Q)+K(F,Q))/2});let G=0;const z=A.length;if(0===z)return Q;for(let x=0;x<z;x++)G+=A[x];return Math.max(Math.floor(G/z),Q)}y.calculateTolerance=function(Q){const A=Q&&Q.renderer;Q="touch"===(Q&&Q.event&&Q.event.pointerType)?9:6;if(!A)return Q;Q="visualVariables"in A?Y(Q,A.visualVariables):
Q;if("simple"===A.type)return aa(Q,A.symbol);if("unique-value"===A.type){let G=Q;A.uniqueValueInfos.forEach(z=>{G=aa(G,z.symbol)});return G}if("class-breaks"===A.type){let G=Q;A.classBreakInfos.forEach(z=>{G=aa(G,z.symbol)});return G}return Q};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic":function(){define(["exports","../../../../../core/has","../../../../../core/maybe","../../../../../support/elevationInfoUtils"],function(y,
aa,K,Y){y.isSupportedGraphic=function(Q){var A;if("graphics"!==(null==(A=Q.layer)?void 0:A.type))return 1;if(K.isNone(Q.geometry))return 2;switch(Q.geometry.type){case "polygon":case "point":case "polyline":case "mesh":break;case "multipoint":case "extent":return 3;default:return 3}return"on-the-ground"!==Y.getGraphicEffectiveElevationMode(Q)&&Y.hasGraphicFeatureExpressionInfo(Q)?4:0};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/watchUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ./isSupportedGraphic ./ReshapeOperation ../../../../interactive/InteractiveToolBase".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H){y.GraphicReshapeTool=function(E){function I(J){J=E.call(this,J)||this;J._handles=new Q;J._reshapeOperation=null;J._internalGeometryUpdate=!1;J.enableZShape=!0;J.enableZVertex=!0;J.enableMoveGraphic=!0;J.enableMidpoints=!0;J.enableEdgeOffset=!1;J.type="reshape-3d";J.snappingManager=null;J.automaticManipulatorSelection=!1;return J}aa._inheritsLoose(I,E);var w=I.prototype;w.destroy=function(){this._handles=A.destroyMaybe(this._handles);this._reshapeOperation=
A.destroyMaybe(this._reshapeOperation);this._set("view",null);this._set("graphic",null)};w._updateGeometry=function(){const J=N.geometryOfSupportedGraphic(this.graphic);this._reshapeOperation.inputGeometry=A.isSome(J)?J.clone():null};w._updateGraphic=function(){this._handles.remove("onGraphicGeometryChange");this._updateGeometry();if(0===N.isSupportedGraphic(this.graphic)){var J=this.watch("graphic.geometry",()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()},!0);this._handles.add(J,"onGraphicGeometryChange")}};
w.manipulatorSelectionChanged=function(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()};w._updateGeometryInternally=function(J){this._internalGeometryUpdate=!0;this.graphic.geometry=J;this._internalGeometryUpdate=!1};w._onReshapeGeometryChanged=function(){A.isNone(this.graphic)||this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())};w.initialize=function(){this._reshapeOperation=new B.ReshapeOperation({tool:this});this._handles.add([this._reshapeOperation.on("reshape",
J=>{"reshape"===J.type&&this._onReshapeGeometryChanged();this.emit("reshape",J)}),this._reshapeOperation.on("move",J=>{"move"===J.type&&this._onReshapeGeometryChanged();this.emit("move",J)}),this._reshapeOperation.on("vertex-add",J=>{this._onReshapeGeometryChanged();this.emit("vertex-add",J)}),this._reshapeOperation.on("vertex-remove",J=>{this._onReshapeGeometryChanged();this.emit("vertex-remove",J)}),this._reshapeOperation.on("immediate-click",J=>this.emit("immediate-click",J)),this.view.on("pointer-down",
["Shift"],J=>{J.stopPropagation()}),G.init(this,"graphic",()=>{this._updateGraphic()},!0)]);this.complete()};w.undo=function(){A.isSome(this.snappingManager)&&this.snappingManager.doneSnapping();A.isSome(this._reshapeOperation.undo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())};w.redo=function(){A.isSome(this.snappingManager)&&this.snappingManager.doneSnapping();A.isSome(this._reshapeOperation.redo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())};
w.onInputEvent=function(J){"key-down"!==J.type||"Delete"!==J.key&&"Backspace"!==J.key||this._reshapeOperation.removeSelectedVertices()};w.reset=function(){};aa._createClass(I,[{key:"updating",get:function(){var J,T;return null!=(J=null==(T=this._reshapeOperation)?void 0:T.updating)?J:!1}},{key:"canUndo",get:function(){var J,T;return null!=(J=null==(T=this._reshapeOperation)?void 0:T.canUndo)?J:!1}},{key:"canRedo",get:function(){var J,T;return null!=(J=null==(T=this._reshapeOperation)?void 0:T.canRedo)?
J:!1}},{key:"test",get:function(){return{snappingManager:this.snappingManager}}}]);return I}(Y.EventedMixin(H.InteractiveToolBase));K.__decorate([z.property()],y.GraphicReshapeTool.prototype,"_reshapeOperation",void 0);K.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.GraphicReshapeTool.prototype,"view",void 0);K.__decorate([z.property({constructOnly:!0})],y.GraphicReshapeTool.prototype,"graphic",void 0);K.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.GraphicReshapeTool.prototype,
"enableZShape",void 0);K.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.GraphicReshapeTool.prototype,"enableZVertex",void 0);K.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.GraphicReshapeTool.prototype,"enableMoveGraphic",void 0);K.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.GraphicReshapeTool.prototype,"enableMidpoints",void 0);K.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.GraphicReshapeTool.prototype,"enableEdgeOffset",void 0);K.__decorate([z.property({readOnly:!0})],
y.GraphicReshapeTool.prototype,"type",void 0);K.__decorate([z.property({constructOnly:!0})],y.GraphicReshapeTool.prototype,"snappingManager",void 0);K.__decorate([z.property({readOnly:!0})],y.GraphicReshapeTool.prototype,"updating",null);K.__decorate([z.property()],y.GraphicReshapeTool.prototype,"automaticManipulatorSelection",void 0);y.GraphicReshapeTool=K.__decorate([P.subclass("esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool")],y.GraphicReshapeTool);Object.defineProperty(y,
"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic":function(){define(["exports","../../../../../core/maybe","../../../../../geometry/Circle","../../../../../support/elevationInfoUtils"],function(y,aa,K,Y){function Q(A){var G;return"graphics"!==(null==(G=A.layer)?void 0:G.type)?{result:1,geometry:null}:aa.isNone(A.geometry)?{result:2,geometry:null}:"on-the-ground"!==Y.getGraphicEffectiveElevationMode(A)&&Y.hasGraphicFeatureExpressionInfo(A)?{result:4,
geometry:null}:"point"!==A.geometry.type&&"polyline"!==A.geometry.type&&("polygon"!==A.geometry.type||A.geometry instanceof K)?{result:3,geometry:null}:{result:0,geometry:A.geometry}}y.geometryOfSupportedGraphic=function(A){return Q(A).geometry};y.isSupportedGraphic=function(A){return Q(A).result};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/Evented ../../../../../core/HandleOwner ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/watchUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/Polyline ../../../../../layers/graphics/dehydratedFeatures ../../../../../support/elevationInfoUtils ../../../../../symbols/support/utils ../../Manipulator3D ../../manipulatorUtils ../../SnappingVisualizer3D ../dragEventPipeline3D ../manipulatorUtils ../settings ../visualElementUtils ../manipulations/config ../manipulations/MoveManipulation ../manipulations/moveUtils ../manipulations/MoveXYGraphicManipulation ./edgeOffsetUtils ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../../../webgl-engine/lib/GeometryUtil ../../../../interactive/dragEventPipeline ../../../../interactive/editGeometry/EditGeometryOperations ../../../../interactive/snapping/SnappingContext ../../../../interactive/snapping/SnappingDragPipelineStep".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D,O,S,V,da,R,ba,ea,la,oa,ma,ra,ua,pa,xa,wa,Da,Ja,Na,Ha){function Fa(Ka){return"vertex"===Ka.handle.type}y.ReshapeOperation=function(Ka){function Ta(ca){ca=Ka.call(this,ca)||this;ca._vertexManipulatorMaterial=S.createManipulatorMaterial(ba.settings.colorToVec4(ba.settings.reshapeManipulators.vertex.color),ba.settings.reshapeManipulators.vertex.renderOccluded);ca._vertexManipulatorOutlineMaterial=S.createManipulatorOutlineMaterial(ba.settings.colorToVec4(ba.settings.reshapeManipulators.vertex.outlineColor),
ba.settings.reshapeManipulators.vertex.renderOccluded);ca._vertexManipulatorHoverOutlineMaterial=S.createManipulatorOutlineMaterial(ba.settings.colorToVec4(ba.settings.reshapeManipulators.vertex.hoverOutlineColor),ba.settings.reshapeManipulators.vertex.renderOccluded);ca._edgeManipulatorMaterial=S.createManipulatorMaterial(ba.settings.colorToVec4(ba.settings.reshapeManipulators.edge.color),ba.settings.reshapeManipulators.edge.renderOccluded);ca._edgeManipulatorOutlineMaterial=S.createManipulatorOutlineMaterial(ba.settings.colorToVec4(ba.settings.reshapeManipulators.edge.outlineColor),
ba.settings.reshapeManipulators.edge.renderOccluded);ca._edgeOffsetManipulatorMaterial=S.createManipulatorMaterial(ba.settings.colorToVec4(ba.settings.reshapeManipulators.edgeOffset.color),ba.settings.reshapeManipulators.edgeOffset.renderOccluded,!1);ca._edgeOffsetManipulatorHoverMaterial=S.createManipulatorMaterial(ba.settings.colorToVec4(ba.settings.reshapeManipulators.edgeOffset.hoverColor),ba.settings.reshapeManipulators.edgeOffset.renderOccluded,!1);ca._selectedManipulatorMaterial=S.createManipulatorMaterial(ba.settings.colorToVec4(ba.settings.reshapeManipulators.selected.color),
ba.settings.reshapeManipulators.selected.renderOccluded);ca._selectedManipulatorOutlineMaterial=S.createManipulatorOutlineMaterial(ba.settings.colorToVec4(ba.settings.reshapeManipulators.selected.outlineColor),ba.settings.reshapeManipulators.selected.renderOccluded);ca._selectedManipulatorHoverOutlineMaterial=S.createManipulatorOutlineMaterial(ba.settings.colorToVec4(ba.settings.reshapeManipulators.selected.hoverOutlineColor),ba.settings.reshapeManipulators.selected.renderOccluded);ca._selectedIndex=
0;ca._vertexManipulatorGeometry=null;ca._vertexManipulatorOutlineGeometry=null;ca._edgeManipulatorGeometry=null;ca._edgeManipulatorOutlineGeometry=null;ca._edgeOffsetManipulatorGeometryInside=null;ca._edgeOffsetManipulatorGeometryOutside=null;ca._manipulatorHandles=new G;ca._manipulatorInfos=[];ca._editGeometryOperations=null;ca._graphicMoveManipulation=null;ca._moveManipulation=null;ca._numGrabbing=0;ca._numDragging=0;ca._reshapeEventState=0;ca._outlineVisualElement=null;ca.tool=null;ca.outputGeometry=
null;ca._snappingPipeline=new Ha.SnappingPipeline;ca._snappingPipelineHandle=new Ha.SnappingPipeline;ca._vertexLaserLineVisualElement=null;return ca}aa._inheritsLoose(Ta,Ka);var Ea=Ta.prototype;Ea.initialize=function(){const ca=new xa.GraphicState({graphic:this.graphic});this._graphicState=ca;this.handles.add([ca.watch("displaying",ha=>{for(const na of this._manipulatorInfos)na.manipulator.available=ha}),this.view.trackGraphicState(ca)])};Ea.destroy=function(){this._editGeometryOperations=x.destroyMaybe(this._editGeometryOperations);
this._moveManipulation=x.destroyMaybe(this._moveManipulation);this._graphicMoveManipulation=x.destroyMaybe(this._graphicMoveManipulation);this._manipulatorHandles=x.destroyMaybe(this._manipulatorHandles);this.manipulators.removeAll();this._manipulatorInfos=[];this._resetGrabbingDragging()};Ea.removeSelectedVertices=function(){const ca=this._manipulatorInfos.filter(ha=>ha.manipulator.selected&&"vertex"===ha.handle.type);this._removeVertices(ca)};Ea.manipulatorSelectionChanged=function(){this.emit("manipulators-changed")};
Ea._removeManipulators=function(){this._moveManipulation=x.destroyMaybe(this._moveManipulation);this._graphicMoveManipulation=x.destroyMaybe(this._graphicMoveManipulation);this._manipulatorHandles.removeAll();this.manipulators.removeAll();this._manipulatorInfos=[]};Ea._resetGrabbingDragging=function(){this._numDragging=this._numGrabbing=0};Ea._createManipulators=function(){if(!x.isNone(this._editGeometryOperations)){var ca=T.getGraphicEffectiveElevationInfo(this.graphic);for(const ha of this._editGeometryOperations.data.components){for(const na of ha.vertices)this._createVertexOrEdgeManipulator(na,
ca);for(const na of ha.edges)this._createVertexOrEdgeManipulator(na,ca)}this._createGraphicMoveManipulators(ca)}};Ea.redo=function(){if(x.isNone(this._editGeometryOperations))return null;const ca=this._editGeometryOperations.redo();x.isSome(ca)&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators());return ca};Ea.undo=function(){if(x.isNone(this._editGeometryOperations))return null;this.emit("undo");const ca=this._editGeometryOperations.undo();x.isSome(ca)&&
(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators());return ca};Ea._recreateManipulators=function(){this._removeManipulators();this._resetGrabbingDragging();this._createManipulators()};Ea._recreateEditGeometryAndManipulators=function(ca=this.inputGeometry){this._removeManipulators();this._resetGrabbingDragging();x.isNone(ca)||(x.destroyMaybe(this._editGeometryOperations),this._editGeometryOperations=Ja.EditGeometryOperations.fromGeometry(ca,this.view.state.viewingMode),
this._createManipulators())};Ea._perGraphicManipulatorDragAction=function(ca,ha){if("end"!==ha.action){var na=0,Z=[],fa=this._manipulatorInfos.some(L=>"vertex"===L.handle.type&&L.manipulator.selected);ca=1===ca&&fa;for(const L of this._manipulatorInfos)Fa(L)&&(L.manipulator.grabbing||ca&&!L.manipulator.selected||Z.push(L),na++);0!==Z.length&&(this._moveVertices(Z,ha),Z.length===na?(this._updateEventState(1),this.destroyed||this.emit("move",{type:"move",dx:ha.screenDeltaX,dy:ha.screenDeltaY,mover:this.graphic})):
(this._updateEventState(2),this.destroyed||this.emit("reshape",{type:"reshape",mover:this.graphic})))}};Ea._isMultiVertexSelection=function(){let ca=0;for(const ha of this._manipulatorInfos)Fa(ha)&&ha.manipulator.selected&&ca++;return 1<ca};Ea._perVertexManipulatorDragAction=function(ca){this._updateEventState(2);if(!this.destroyed){var {mapDeltaX:ha,mapDeltaY:na,mapDeltaZ:Z}=ca;if(ha||na||Z){var fa=[];for(const L of this._manipulatorInfos)Fa(L)&&(L.manipulator.selected&&!L.manipulator.grabbing||
L===ca.info)&&fa.push(L);this._moveVertices(fa,ca,1);this.emit("reshape",{type:"reshape",mover:this.graphic})}}};Ea._updateEventState=function(ca){if(ca===this._reshapeEventState)return!1;switch(ca){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape-stop",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit("move",
{type:"move-start",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape-stop",mover:this.graphic}),this.destroyed||this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit("reshape",{type:"reshape-start",mover:this.graphic});break;case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit("reshape",{type:"reshape-start",mover:this.graphic})}}if(this.destroyed)return!1;
const ha=this._reshapeEventState!==ca;this._reshapeEventState=ca;return ha};Ea._createGraphicMoveManipulators=function(ca){this._graphicMoveManipulation=new ra.MoveXYGraphicManipulation({tool:this.tool,view:this.view,graphicState:this._graphicState});if(this.enableMoveGraphic){let na=null;this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline((Z,fa,L)=>{fa.next(qa=>this._trackNumDragging(qa)).next(qa=>{"start"===qa.action&&(na=x.unwrap(this._editGeometryOperations).createUndoGroup());
return qa}).next(qa=>{this._perGraphicManipulatorDragAction(0,qa);"end"===qa.action&&(na=x.removeMaybe(na))});L.next(this._cancelDragOperation(()=>na=x.removeMaybe(na)))}))}else this._graphicMoveManipulation.forEachManipulator(na=>{na.grabbable=!1;na.cursor=null});this._graphicMoveManipulation.forEachManipulator(na=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(na,!1),na.events.on("immediate-click",Z=>{this._manipulatorInfos.some(fa=>fa.manipulator.selected)?this._clearSelection():this.emit("immediate-click",
{...Z,graphic:this.graphic});Z.stopPropagation()})]));this._moveManipulation=new oa.MoveManipulation({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZShape&&R.canMoveZ(this.graphic),snapToScene:!1,radius:oa.MoveManipulation.radiusForSymbol(this.graphic.symbol)});this._moveManipulation.forEachManipulator(na=>{this.handles.add([this._watchAndUpdateGrabState(na,!1),na.events.on("immediate-click",Z=>{this._moveManipulation.zManipulation.hasManipulator(na)||this._manipulatorInfos.some(fa=>
fa.manipulator.selected)||this.emit("immediate-click",{...Z,graphic:this.graphic});Z.stopPropagation()})])});this._moveManipulation.elevationInfo={mode:"absolute-height",offset:0};var ha=x.unwrap(this.graphic.geometry).spatialReference;this.handles.add([this._moveManipulation.createDragPipeline((na,Z,fa,L,qa)=>{na=fa.next(va=>this._trackNumDragging(va)).next(va=>{const Ca=this._manipulatorInfos.filter(Aa=>Fa(Aa)&&Aa.manipulator.selected);return 1===va.manipulatorType&&1===Ca.length?{...va,info:Ca[0],
snapOrigin:Ca[0].handle.pos}:{...va,info:null}}).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:va=>!!va.info,cancel:L,snappingManager:this.tool.snappingManager,snappingContext:new Na.SnappingContext({editGeometryOperations:x.unwrap(this._editGeometryOperations),elevationInfo:ca,pointer:qa,excludeFeature:this.graphic,visualizer:new V.SnappingVisualizer3D}),updatingHandles:this.updatingHandles}),this._snappingPipelineHandle.next).next(Da.addMapDelta()).next(va=>{this._perGraphicManipulatorDragAction(1,
va);return va});L.next(this._cancelDragOperation());return na},ca,ha,this.graphic),C.init(this._graphicState,"displaying",()=>{this._updateMoveManipulationPosition()}),this._graphicState.on("changed",()=>this._updateMoveManipulationPosition()),C.init(this._graphicState,"isDraped",()=>{this._graphicState.isDraped?this.handles.add(this.view.elevationProvider.on("elevation-change",()=>this._updateMoveManipulationPosition()),"align-move-manipulation"):this.handles.remove("align-move-manipulation")})]);
this._updateMoveManipulationPosition();ha=ea.createVisualElements({view:this.view,graphic:this.graphic,forEachManipulator:na=>{if(!this.destroyed){x.isSome(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(na);for(const Z of this._manipulatorInfos)na(Z.manipulator,1);this._moveManipulation.forEachManipulator(na)}},onManipulatorsChanged:na=>this.on("manipulators-changed",na)});x.isSome(ha)&&(this._outlineVisualElement=ha.visualElement instanceof pa.OutlineVisualElement?
ha.visualElement:null);x.isSome(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on("attachment-origin-changed",()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()}),this._graphicState.watch("isDraped",()=>this._updateMoveManipulationPosition())]);this._manipulatorHandles.add(ha)};Ea._createEdgeOffsetManipulator=function(ca,ha=T.getGraphicEffectiveElevationInfo(this.graphic)){var na=ba.settings.reshapeManipulators.edgeOffset,Z=na.size/
2,fa=Z+na.collisionPadding;if(x.isNone(this._edgeOffsetManipulatorGeometryInside)||x.isNone(this._edgeOffsetManipulatorGeometryOutside)){Z/=fa;const qa=Z*Math.sqrt(3)/2;this._edgeOffsetManipulatorGeometryInside=wa.createExtrudedTriangle(qa,Z/2,Z/2,na.height,na.offset);this._edgeOffsetManipulatorGeometryOutside=wa.createExtrudedTriangle(-qa,Z/2,Z/2,na.height,-na.offset)}fa=new O.Manipulator3D({view:this.view,renderObjects:[{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorMaterial,
stateMask:1},{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:2},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorMaterial,stateMask:1},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:2}],elevationInfo:"on-the-ground"!==ha.mode||D.isVolumetricSymbol(this.graphic.symbol)?{mode:"absolute-height",offset:0}:ha,worldOriented:!1,focusMultiplier:1,
radius:fa,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionType:{type:"disc",direction:I.fromValues(0,0,1)},collisionPriority:1});Z=new O.Manipulator3D({view:this.view,renderObjects:[],worldSized:!0,worldOriented:!1,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionPriority:-10,cursor:this.enableMoveGraphic?"move":"default"});const L={manipulator:fa,handle:ca,locationUpdateHandle:null,type:"edge",selectedIndex:0,edgeManipulator:Z,elevationInfo:ha,visibilityHandle:null};
this._autoHideEdgeOffsetManipulator(L,na.minSquaredEdgeLength);this._updateEdgeOffsetManipulator(L);ca=this._getManipulatorInfoFromHandle(L.handle.leftVertex).manipulator.events.on("location-update",()=>this._updateEdgeOffsetManipulator(L));na=this._getManipulatorInfoFromHandle(L.handle.rightVertex).manipulator.events.on("location-update",()=>this._updateEdgeOffsetManipulator(L));L.locationUpdateHandle=z.handlesGroup([ca,na]);this._manipulatorHandles.add(L.locationUpdateHandle,fa);this._manipulatorHandles.add([this._watchAndUpdateGrabState(fa,
!0),this._watchAndUpdateGrabState(Z,!0)],fa);this._manipulatorHandles.add(Da.createManipulatorDragEventPipeline(fa,this._createEdgeOffsetPipeline(L,ha)),fa);this._manipulatorHandles.add(Da.createManipulatorDragEventPipeline(Z,(qa,va,Ca,Aa)=>{if("touch"===Aa)this._createEdgeOffsetPipeline(L,ha)(qa,va,Ca);else if(this.enableMoveGraphic){Aa=this.graphic;const Ma=x.isSome(Aa.geometry)?Aa.geometry.spatialReference:null;va.next(Qa=>this._trackNumDragging(Qa)).next(Da.dragAtLocation(this.view,qa.elevationAlignedLocation)).next(da.screenToMapXYAtLocation(this.view,
qa.elevationAlignedLocation,ha,Ma,Aa)).next(Da.addScreenDelta()).next(Da.addMapDelta()).next(Qa=>this._perGraphicManipulatorDragAction(0,Qa));Ca.next(this._cancelDragOperation())}}),fa);ca=qa=>{this._manipulatorInfos.some(va=>va.manipulator.selected)?this._clearSelection():this.emit("immediate-click",{...qa,graphic:this.graphic});qa.stopPropagation()};this._manipulatorHandles.add([fa.events.on("immediate-click",ca),Z.events.on("immediate-click",ca)],fa);this._manipulatorInfos.push(L);this.manipulators.add(fa);
this.manipulators.add(Z);this.emit("manipulators-changed");return L};Ea._autoHideEdgeOffsetManipulator=function(ca,ha){const na=ca.manipulator,Z=ca.edgeManipulator,fa=()=>{x.removeMaybe(ca.visibilityHandle);const L=ua.screenEdgeLengthSquared(this._getManipulatorInfoFromHandle(ca.handle.leftVertex).manipulator.renderLocation,this._getManipulatorInfoFromHandle(ca.handle.rightVertex).manipulator.renderLocation,this.view.state.camera)<ha;if(!na.focused&&!Z.focused||L)na.grabbable=!L,Z.grabbable=!L,ca.visibilityHandle=
z.handlesGroup([na.disableDisplay(),{remove:()=>{na.grabbable=!0;Z.grabbable=this.enableMoveGraphic}}])};this._manipulatorHandles.add([na.events.on("focus-changed",fa),Z.events.on("focus-changed",fa),{remove:()=>{x.removeMaybe(ca.visibilityHandle);this.manipulators.remove(Z)}}],na);fa()};Ea._updateEdgeOffsetManipulator=function(ca){this._updateManipulatorPosition(ca);var ha=x.unwrap(this._editGeometryOperations).data.coordinateHelper,na=ua.createEdgeOffsetIntersectionPlane(this.view,ca.manipulator.elevationAlignedLocation,
ua.createEdgeOffsetOperation(ha,ca.handle,x.unwrap(ca.manipulator.elevationInfo)));ha=this._getManipulatorInfoFromHandle(ca.handle.leftVertex).manipulator.renderLocation;const Z=this._getManipulatorInfoFromHandle(ca.handle.rightVertex).manipulator.renderLocation;na=x.isSome(na)?ua.edgeOffsetRotationMatrix(na,ha,Z):H.IDENTITY;ca.manipulator.modelTransform=na;ca.edgeManipulator.elevationAlignedLocation=ca.manipulator.elevationAlignedLocation;ca.edgeManipulator.modelTransform=na;ha=E.length(E.subtract(Ra,
ha,Z))/2;ca.edgeManipulator.collisionType={type:"line",paths:[[[-ha,0,0],[ha,0,0]]]}};Ea._createEdgeOffsetPipeline=function(ca,ha){return(na,Z,fa)=>{this._clearSelection();const {step:L,cleanup:qa}=this._initializeEdgeOffset(ca,ha);Z.next(va=>this._trackNumDragging(va)).next(Da.dragAtLocation(this.view,na.elevationAlignedLocation)).next(L).next(da.screenToRenderPlaneFromEvent(this.view)).next(da.convertToMapCoordinates(this.view,x.unwrap(this._editGeometryOperations).data.spatialReference)).next(Da.addMapDelta()).next(this._applyEdgeOffsetStep(ca)).next(va=>
{"end"===va.action&&qa()});fa.next(va=>{qa();return va}).next(this._cancelDragOperation())}};Ea._initializeEdgeOffset=function(ca,ha){var na=x.unwrap(this._editGeometryOperations);const Z=ua.createEdgeOffsetOperation(na.data.coordinateHelper,ca.handle,ha);ha=na.createUndoGroup();const fa=ua.createEdgeOffsetIntersectionPlane(this.view,ca.manipulator.elevationAlignedLocation,Z);Z.requiresSplitEdgeLeft&&this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(ca.handle.leftVertex.leftEdge),1);Z.requiresSplitEdgeRight&&
this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(ca.handle.rightVertex.rightEdge),0);const L=()=>new w({paths:[[ca.handle.leftVertex.pos,ca.handle.rightVertex.pos]],spatialReference:x.unwrap(this._editGeometryOperations).data.spatialReference}),qa=new pa.OutlineVisualElement({view:this.view,isDraped:this._graphicState.isDraped,geometry:L(),elevationInfo:ca.elevationInfo,width:ba.settings.visualElements.lineGraphics.outline.width,color:ba.settings.colorToVec4(ba.colors.main),attached:!0});
let va;const Ca=()=>{this._cleanEdgeOffsetCollapsedEdges(ca);va=x.removeMaybe(va)};na=this.on("undo",Ca);va=z.handlesGroup([z.destroyHandle(qa),this._graphicState.watch("isDraped",Aa=>qa.isDraped=Aa),this._graphicState.on("changed",()=>qa.geometry=L()),ha,na]);return{step:Aa=>x.isNone(Z)||x.isNone(fa)?(Ca(),null):{...Aa,operation:Z,plane:fa},cleanup:Ca}};Ea._applyEdgeOffsetStep=function(ca){return ha=>{if(this.destroyed||x.isNone(ha.operation))return ha;this._updateEventState(2);const {mapDeltaX:na,
mapDeltaY:Z,mapDeltaZ:fa}=ha;if(na||Z||fa)this._offsetEdge(ca,ha),this.emit("reshape",{type:"reshape",mover:this.graphic});return ha}};Ea._cleanEdgeOffsetCollapsedEdges=function(ca){var ha,na;const Z=null==(ha=ca.handle.leftVertex.leftEdge)?void 0:ha.leftVertex;ha=ca.handle.leftVertex;const fa=null==(na=ca.handle.rightVertex.rightEdge)?void 0:na.rightVertex;ca=ca.handle.rightVertex;na=x.unwrap(this._editGeometryOperations).data.coordinateHelper;const L=[];Z&&1E-6>na.distance(Z.pos,ha.pos)&&L.push(this._getManipulatorInfoFromHandle(ha));
(1E-6>na.distance(ha.pos,ca.pos)||fa&&1E-6>na.distance(fa.pos,ca.pos))&&L.push(this._getManipulatorInfoFromHandle(ca));L.length&&this._removeVertices(L)};Ea._computeVertexManipulatorSizeAndOutline=function(ca){const ha=ca.size/2,na=ha+ca.collisionPadding;return{size:ha/na,outlineSize:(ha+ca.outlineSize)/na}};Ea._createVertexOrEdgeManipulator=function(ca,ha=T.getGraphicEffectiveElevationInfo(this.graphic)){if("edge"===ca.type){if(this.enableEdgeOffset)return this._createEdgeOffsetManipulator(ca,ha);
if(!this.enableMidpoints)return null}if(x.isNone(this._vertexManipulatorGeometry)||x.isNone(this._vertexManipulatorOutlineGeometry)){const {size:fa,outlineSize:L}=this._computeVertexManipulatorSizeAndOutline(ba.settings.reshapeManipulators.vertex);this._vertexManipulatorGeometry=wa.createSphereGeometry(fa,16,16);this._vertexManipulatorOutlineGeometry=wa.createSphereGeometry(L,16,16)}if(x.isNone(this._edgeManipulatorGeometry)||x.isNone(this._edgeManipulatorOutlineGeometry)){const {size:fa,outlineSize:L}=
this._computeVertexManipulatorSizeAndOutline(ba.settings.reshapeManipulators.edge);this._edgeManipulatorGeometry=wa.createSphereGeometry(fa,16,16);this._edgeManipulatorOutlineGeometry=wa.createSphereGeometry(L,16,16)}var na=x.isSome(this.graphic.geometry)&&"point"===this.graphic.geometry.type?[]:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:La.Vertex|4},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,
stateMask:La.Vertex|5},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:La.Vertex|6},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}];this.enableMidpoints&&na.push(...[{geometry:this._edgeManipulatorGeometry,
material:this._vertexManipulatorMaterial,stateMask:La.Edge|6},{geometry:this._edgeManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:La.Edge|6},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:La.Edge|5},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:La.Edge|5}]);na=new O.Manipulator3D({view:this.view,renderObjects:na,elevationInfo:ha,focusMultiplier:1,touchMultiplier:1,
available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(na,ca,ha);const Z="edge"===ca.type?{manipulator:na,handle:ca,locationUpdateHandle:null,type:"edge",selectedIndex:0}:{manipulator:na,handle:ca,type:"vertex",selectedIndex:0};this._manipulatorInfos.push(Z);this.manipulators.add(na);this._updateManipulatorPosition(Z);if("edge"===Z.type){ca=this._getManipulatorInfoFromHandle(Z.handle.leftVertex).manipulator.events.on("location-update",()=>this._updateManipulatorPosition(Z));
const fa=this._getManipulatorInfoFromHandle(Z.handle.rightVertex).manipulator.events.on("location-update",()=>this._updateManipulatorPosition(Z));Z.locationUpdateHandle=z.handlesGroup([ca,fa]);this._manipulatorHandles.add(Z.locationUpdateHandle,na)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(na,!0),na);ca=Da.createManipulatorDragEventPipeline(na,(fa,L,qa,va)=>{let Ca=null;L.next(Aa=>this._trackNumDragging(Aa)).next(Aa=>{"start"===Aa.action&&(Ca=x.unwrap(this._editGeometryOperations).createUndoGroup());
if("edge"===Z.handle.type){const Ma=this._splitEdgeManipulator(Z);return{...Aa,info:Ma,snapOrigin:Ma.handle.pos}}return{...Aa,info:Z,snapOrigin:Z.handle.pos}}).next(Da.dragAtLocation(this.view,fa.elevationAlignedLocation)).next(da.screenToMapXYForGraphicAtLocation(this.view,this.graphic,fa.elevationAlignedLocation,fa.location.spatialReference,this.graphic)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this._isMultiVertexSelection(),cancel:qa,snappingManager:this.tool.snappingManager,
snappingContext:new Na.SnappingContext({editGeometryOperations:x.unwrap(this._editGeometryOperations),elevationInfo:ha,pointer:va,excludeFeature:this.graphic,visualizer:new V.SnappingVisualizer3D}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next(Da.addMapDelta()).next(Aa=>{this._perVertexManipulatorDragAction(Aa);"end"===Aa.action&&(Ca=x.removeMaybe(Ca))});qa.next(this._cancelDragOperation(()=>Ca=x.removeMaybe(Ca)))});this._manipulatorHandles.add(ca,na);this._manipulatorHandles.add([na.events.on("immediate-click",
fa=>this._manipulatorClickCallback(fa,Z)),na.events.on("select-changed",()=>{Z.selectedIndex=++this._selectedIndex;this._updateMoveManipulationPosition()})],na);this.emit("manipulators-changed");return Z};Ea._trackNumDragging=function(ca){switch(ca.action){case "start":this._numDragging++;break;case "end":this._numDragging--}return ca};Ea._cancelDragOperation=function(ca){return()=>{this._numDragging--;this.undo();this.outputGeometry=x.isSome(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:
null;x.isSome(this.tool.snappingManager)&&this.tool.snappingManager.doneSnapping();switch(this._reshapeEventState){case 1:this.emit("move",{type:"move",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape",mover:this.graphic})}ca&&ca();this.destroyed||this._updateEventState(0)}};Ea._setTypeSpecificManipulatorSettings=function(ca,ha,na){switch(ha.type){case "vertex":ca.state=La.Vertex;ca.selectable=!0;ca.cursor="move";ca.collisionPriority=2;ca.radius=ba.settings.reshapeManipulators.vertex.size/
2+ba.settings.reshapeManipulators.vertex.collisionPadding;ca.elevationInfo=na;ca.interactive=x.isSome(this.graphic.geometry)&&"point"!==this.graphic.geometry.type;break;case "edge":ca.state=La.Edge,ca.selectable=!1,ca.cursor="copy",ca.collisionPriority=-1,ca.radius=ba.settings.reshapeManipulators.edge.size/2+ba.settings.reshapeManipulators.edge.collisionPadding,ca.elevationInfo="on-the-ground"!==na.mode||D.isVolumetricSymbol(this.graphic.symbol)?{mode:"absolute-height",offset:0}:na}};Ea._watchAndUpdateGrabState=
function(ca,ha){return ca.events.on("grab-changed",na=>{if("start"===na.action)ha&&this._updateSelection(ca),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing;if("touch"!==na.pointerType||this.enableEdgeOffset)this._manipulatorInfos.forEach(Z=>{Z.manipulator.interactive=!this._numGrabbing&&x.isSome(this.graphic.geometry)&&"point"!==this.graphic.geometry.type;"edgeManipulator"in Z&&(Z.edgeManipulator.interactive=
!this._numGrabbing)}),x.unwrap(this._graphicMoveManipulation).forEachManipulator(Z=>Z.interactive=!this._numGrabbing)})};Ea._clearSelection=function(){for(const ca of this._manipulatorInfos)ca.manipulator.grabbing||(ca.manipulator.selected=!1)};Ea._updateSelection=function(ca){ca.grabbing&&!ca.selected&&ca.selectable&&(this._clearSelection(),ca.selected=!0,this.emit("manipulators-changed"))};Ea._removeManipulator=function(ca){ca&&(this._manipulatorHandles.remove(ca.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(ca),
1),this.manipulators.remove(ca.manipulator),this.emit("manipulators-changed"))};Ea._getManipulatorInfoFromHandle=function(ca){if(ca)for(const ha of this._manipulatorInfos)if(ca===ha.handle)return ha;return null};Ea._updateManipulatorPosition=function(ca){if(ca){var ha=x.unwrap(this._editGeometryOperations);if("vertex"===ca.handle.type)ca.manipulator.location=ha.data.coordinateHelper.vectorToDehydratedPoint(ca.handle.pos,Ua),ca.manipulator.grabbing&&x.isSome(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=
ca.manipulator.renderLocation);else if("edge"===ca.handle.type){var na=this._getManipulatorInfoFromHandle(ca.handle.leftVertex).manipulator,Z=this._getManipulatorInfoFromHandle(ca.handle.rightVertex).manipulator;x.isSome(ca.manipulator.elevationInfo)&&"on-the-ground"===ca.manipulator.elevationInfo.mode?(na=na.location,Z=Z.location,ca.manipulator.location=J.makeDehydratedPoint(na.x+.5*(Z.x-na.x),na.y+.5*(Z.y-na.y),na.hasZ&&Z.hasZ?0:void 0,ha.data.spatialReference)):(E.lerp(Ra,na.renderLocation,Z.renderLocation,
.5),ca.manipulator.renderLocation=Ra)}}};Ea._splitEdgeManipulator=function(ca,ha=.5){var na=x.unwrap(this._editGeometryOperations);ha=x.unwrap(na.splitEdge(ca.handle,ha).createdVertex);ca.locationUpdateHandle.remove();ca.locationUpdateHandle=void 0;var Z=T.getGraphicEffectiveElevationInfo(this.graphic);let fa;this.enableEdgeOffset?(this._removeManipulator(ca),fa=this._createVertexOrEdgeManipulator(ha)):(fa=ca,fa.handle=ha,fa.type="vertex",this._setTypeSpecificManipulatorSettings(ca.manipulator,ca.handle,
Z));ha.leftEdge&&this._createVertexOrEdgeManipulator(ha.leftEdge);ha.rightEdge&&this._createVertexOrEdgeManipulator(ha.rightEdge);this.outputGeometry=na.data.geometry;this._updateManipulatorPosition(fa);this._updateSelection(ca.manipulator);ca=this._updateEventState(2);Z=na.data.coordinateHelper.vectorToArray(fa.handle.pos);na=na.data.components.indexOf(ha.component);this.emit("vertex-add",{type:"vertex-add",vertices:[{coordinates:Z,componentIndex:na,vertexIndex:x.unwrap(ha.index)}],added:Z});ca&&
this._updateEventState(0);return fa};Ea._updateMoveManipulationPosition=function(){const ca=E.set(Ra,0,0,0);let ha=0,na=!1;var Z=null;let fa=null;for(var L of this._manipulatorInfos)if(Fa(L))if(L.manipulator.selected)if(ha++,E.add(ca,ca,L.manipulator.renderLocation),x.isNone(Z)||L.selectedIndex>Z.selectedIndex)fa=Z,Z=L;else{if(x.isNone(fa)||L.selectedIndex>fa.selectedIndex)fa=L}else na=!0;0!==ha?(L=this._graphicState.displaying,this._moveManipulation.xyManipulation.available=L,this._moveManipulation.xyAxisManipulation.available=
L,this._moveManipulation.zManipulation.available=L&&this.enableZVertex&&R.canMoveZ(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=L&&1!==ha):(L=this._graphicState.displaying&&this.enableMoveGraphic,this._moveManipulation.xyManipulation.available=L,this._moveManipulation.xyAxisManipulation.available=L,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=L,this._moveManipulation.zManipulation.available=L&&this.enableZShape&&R.canMoveZ(this.graphic));if(0!==ha){L=
0;if(x.isSome(Z)){const qa=Z.handle.pos,va=x.isSome(fa)?fa.handle.pos:Z.handle.leftEdge&&Z.handle.leftEdge.leftVertex?Z.handle.leftEdge.leftVertex.pos:null;Z=!x.isSome(fa)&&Z.handle.rightEdge&&Z.handle.rightEdge.rightVertex?Z.handle.rightEdge.rightVertex.pos:null;va&&Z?this._moveManipulation.xyAxisManipulation.available=!1:va?L=Math.atan2(qa[1]-va[1],qa[0]-va[0])+Math.PI/2:Z&&(L=Math.atan2(Z[1]-qa[1],Z[0]-qa[0])+Math.PI/2)}this._moveManipulation.angle=L;this._moveManipulation.radius=la.DISC_RADIUS_SMALL}else this._moveManipulation.angleDeferred=
()=>ma.shapeOrientation(x.unwrap(this.graphic.geometry)),this._moveManipulation.radius=oa.MoveManipulation.radiusForSymbol(this.graphic.symbol);0!==ha&&na?(E.scale(ca,ca,1/ha),Ua.spatialReference=x.unwrap(this._editGeometryOperations).data.spatialReference,Ua.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(ca,Ua),this._moveManipulation.elevationAlignedLocation=Ua):x.isSome(this._outlineVisualElement)&&!this._graphicState.isDraped&&x.isSome(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=
this._outlineVisualElement.attachmentOrigin:S.placeAtGraphic(this.view,this._moveManipulation,this.graphic)};Ea._removeVertices=function(ca){var ha=[];const na=x.unwrap(this._editGeometryOperations);for(var Z of ca)"vertex"===Z.handle.type&&na.canRemoveVertex()&&(ha.push(Z.handle),this._removeManipulator(Z),this._removeManipulator(this._getManipulatorInfoFromHandle(Z.handle.leftEdge)),this._removeManipulator(this._getManipulatorInfoFromHandle(Z.handle.rightEdge)),(ca=x.unwrap(na.removeVertices([Z.handle]).removedVertices[0].createdEdge))&&
this._createVertexOrEdgeManipulator(ca));if(0<ha.length&&(ha=ha.map(fa=>{const L=na.data.components.indexOf(fa.component);return{coordinates:na.data.coordinateHelper.vectorToArray(fa.pos),componentIndex:L,vertexIndex:x.unwrap(fa.index)}}),this.outputGeometry=na.data.geometry,Z=this._updateEventState(2),!this.destroyed&&(this.emit("vertex-remove",{type:"vertex-remove",removed:ha.map(fa=>fa.coordinates),vertices:ha}),!this.destroyed))){if(Z&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}};
Ea._moveVertices=function(ca,ha,na="start"===ha.action?0:1){const Z=x.unwrap(this._editGeometryOperations);Z.moveVertices(ca.map(fa=>fa.handle),ha.mapDeltaX,ha.mapDeltaY,ha.mapDeltaZ,na);this.outputGeometry=Z.data.geometry;for(const fa of ca)this._updateManipulatorPosition(fa)};Ea._offsetEdge=function(ca,ha){if(!x.isNone(ha.operation)){var na=x.unwrap(this._editGeometryOperations),Z=ha.operation.clone();Z.distance=ha.operation.signedDistanceToPoint(ha.mapEnd);na.updateVertices([ca.handle.leftVertex,
ca.handle.rightVertex],Z);this.outputGeometry=na.data.geometry;this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(ca.handle.leftVertex));this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(ca.handle.rightVertex))}};Ea._manipulatorClickCallback=function(ca,ha){ca.shiftKey||this._clearSelection();"vertex"===ha.handle.type&&(ha.manipulator.selected=!ha.manipulator.selected);"vertex"===ha.handle.type&&2===ca.button&&this._removeVertices([ha]);"edge"===ha.handle.type&&0===
ca.button&&this._splitEdgeManipulator(ha);ca.stopPropagation()};aa._createClass(Ta,[{key:"inputGeometry",get:function(){return x.isSome(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:null},set:function(ca){this._recreateEditGeometryAndManipulators(ca)}},{key:"updating",get:function(){return this.updatingHandles.updating}},{key:"manipulators",get:function(){return this.tool.manipulators}},{key:"view",get:function(){return this.tool.view}},{key:"graphic",get:function(){return this.tool.graphic}},
{key:"enableZShape",get:function(){return this.tool.enableZShape}},{key:"enableZVertex",get:function(){return this.tool.enableZVertex}},{key:"enableMoveGraphic",get:function(){return this.tool.enableMoveGraphic}},{key:"enableMidpoints",get:function(){return this.tool.enableMidpoints}},{key:"enableEdgeOffset",get:function(){return this.tool.enableEdgeOffset}},{key:"canRedo",get:function(){return x.isSome(this._editGeometryOperations)&&this._editGeometryOperations.canRedo}},{key:"canUndo",get:function(){return x.isSome(this._editGeometryOperations)&&
this._editGeometryOperations.canUndo}}]);return Ta}(Q.EventedMixin(A.HandleOwner));K.__decorate([F.property({constructOnly:!0})],y.ReshapeOperation.prototype,"tool",void 0);K.__decorate([F.property()],y.ReshapeOperation.prototype,"inputGeometry",null);K.__decorate([F.property()],y.ReshapeOperation.prototype,"outputGeometry",void 0);K.__decorate([F.property({readOnly:!0})],y.ReshapeOperation.prototype,"updating",null);y.ReshapeOperation=K.__decorate([B.subclass("esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation")],
y.ReshapeOperation);const Ua=J.makeDehydratedPoint(0,0,null,null),Ra=I.create();var La;(function(Ka){Ka.Vertex=16;Ka.Edge=32})(La||(La={}));Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/reshapeGraphic/edgeOffsetUtils":function(){define("exports ../../../../../core/maybe ../../../../../core/screenUtils ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/plane ../../../../../layers/graphics/dehydratedFeatures ../../../../interactive/editGeometry/operations/OffsetEdgeVertex".split(" "),
function(y,aa,K,Y,Q,A,G,z,x){function C(F,P,N){N=z.makeDehydratedPoint(P.x+N[0],P.y+N[1],P.z+N[2],P.spatialReference);const B=A.create(),H=A.create();return F.renderCoordsHelper.toRenderCoords(P,B)&&F.renderCoordsHelper.toRenderCoords(N,H)?Q.direction(H,B,H):null}y.createEdgeOffsetIntersectionPlane=function(F,P,N){const B=A.create();if(!F.renderCoordsHelper.toRenderCoords(P,B))return null;var H=C(F,P,G.normal(N.plane));F=C(F,P,N.edgeDirection);if(aa.isNone(H)||aa.isNone(F))return null;H=Q.cross(A.create(),
H,F);return G.fromPositionAndNormal(B,H,G.create())};y.createEdgeOffsetOperation=function(F,P,N){return new x.OffsetEdgeVertex(F,"on-the-ground"===N.mode?1:0,P,0)};y.edgeOffsetRotationMatrix=function(F,P,N){F=G.normal(F);P=Q.direction(A.create(),P,N);N=Q.cross(A.create(),P,F);F=Q.cross(A.create(),P,N);return Y.fromValues(P[0],P[1],P[2],0,N[0],N[1],N[2],0,F[0],F[1],F[2],0,0,0,0,1)};y.screenEdgeLengthSquared=function(F,P,N){F=N.projectToRenderScreen(F,K.createRenderScreenPointArray3());P=N.projectToRenderScreen(P,
K.createRenderScreenPointArray3());return aa.isSome(F)&&aa.isSome(P)?Q.squaredLength(Q.subtract(F,F,P)):0};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Evented ../../../../../core/HandleOwner ../../../../../core/handleUtils ../../../../../core/maybe ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../geometry/Point ../../../../../support/elevationInfoUtils ../../Manipulator3D ../../manipulatorUtils ../../SnappingVisualizer3D ../manipulatorUtils ../visualElementUtils ../manipulations/config ../manipulations/MoveManipulation ./GraphicScaleRotateTransform ./ScaleRotateMeshAdapter ./ScaleRotateObjectSymbol3DAdapter ./undoRecords ../../../layers/graphics/GraphicState ../../../../interactive/InteractiveToolBase ../../../../interactive/editGeometry/EditGeometryOperations ../../../../interactive/snapping/SnappingContext ../../../../interactive/snapping/SnappingDragPipelineStep".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D,O,S,V,da,R,ba,ea,la,oa){y.GraphicTransformTool=function(ma){function ra(pa){pa=ma.call(this,pa)||this;pa.enableZ=!0;pa.enableRotation=!0;pa.enableScaling=!0;pa.type="transform-3d";pa.scaleRotate=null;pa.snappingPipeline=new oa.SnappingPipeline;return pa}aa._inheritsLoose(ra,ma);var ua=ra.prototype;ua.initialize=function(){this.graphicState=new R.GraphicState({graphic:this.graphic});this.moveManipulation=new D.MoveManipulation({tool:this,view:this.view,
snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&w.canMoveZ(this.graphic),radius:D.MoveManipulation.radiusForSymbol(this.graphic.symbol)});this.moveManipulation.forEachManipulator(xa=>this.handles.add(xa.events.on("immediate-click",wa=>{this.emit("immediate-click",{...wa,graphic:this.graphicState.graphic});wa.stopPropagation()})));this.moveManipulation.elevationInfo=B.getGraphicEffectiveElevationInfo(this.graphic);const pa=this.graphic.geometry;this.moveManipulation.createGraphicDragPipeline((xa,
wa,Da,Ja,Na)=>{G.isSome(pa)&&0===xa&&(Da=Da.next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:new la.SnappingContext({elevationInfo:B.getGraphicEffectiveElevationInfo(this.graphic),pointer:Na,editGeometryOperations:ea.EditGeometryOperations.fromGeometry(new N({spatialReference:pa.spatialReference}),this.view.state.viewingMode),visualizer:new I.SnappingVisualizer3D,excludeFeature:this.graphic}),snappingManager:this.snappingManager,updatingHandles:this.updatingHandles,cancel:Ja}),
this.snappingPipeline.next));return Da},this.graphicState,xa=>{const {action:wa,graphic:Da,dxScreen:Ja,dyScreen:Na}=xa;xa={graphic:Da,dxScreen:Ja,dyScreen:Na};switch(wa){case "start":this.emit("graphic-translate-start",xa);this.emit("record-undo",{record:this.createGeometryUndoRecord()});break;case "update":this.emit("graphic-translate",xa);break;case "end":this.emit("graphic-translate-stop",xa)}});this.moveManipulation.angle=G.isSome(this.scaleRotate)?this.scaleRotate.angle:0;this.scaleRotateAdapter=
this.createScaleRotateAdapter();this.handles.add(this.scaleRotateAdapter.watch("angle",()=>this.updateMoveAngle()));if(this.enableScaling||this.enableRotation)this.scaleRotate=new O.GraphicScaleRotateTransform({tool:this,mode:this.enableScaling&&this.enableRotation?null:this.enableScaling?"scale":"rotate",adapter:this.scaleRotateAdapter}),this.handles.add(this.scaleRotate.events.on("scale-changed",()=>this.onScaleChanged()));this.handles.add([J.createVisualElements({view:this.view,graphic:this.graphic,
forEachManipulator:xa=>this.forEachManipulator(xa),onManipulatorsChanged:()=>A.makeHandle()}),this.graphicState.on("changed",()=>this.onGeometryChanged()),this.hideManipulatorsForGraphicState(),this.view.watch("scale",()=>this.updateMoveAngle())]);this.handles.add(this.view.trackGraphicState(this.graphicState));this.onGeometryChanged();this.updateMoveAngle();this.forEachManipulator(xa=>{xa instanceof H.Manipulator3D&&this.handles.add(xa.events.on("grab-changed",()=>this.updateManipulatorsInteractive()))});
this.complete()};ua.updateManipulatorsInteractive=function(){G.isNone(this.scaleRotate)||(this.scaleRotate.interactive=!this.moveManipulation.grabbing,this.moveManipulation.interactive=!this.scaleRotate.grabbing)};ua.createScaleRotateAdapter=function(){return G.isSome(this.graphic.geometry)&&"mesh"===this.graphic.geometry.type?new S.ScaleRotateMeshAdapter({graphic:this.graphic,geometry:this.graphic.geometry,viewingMode:this.view.state.viewingMode}):new V.ScaleRotateObjectSymbol3DAdapter({graphic:this.graphic,
sizeFilter:pa=>this.enforceNonZeroSize(pa),findLayerView:()=>this.view.allLayerViews.find(pa=>pa.layer===this.graphic.layer)})};ua.forEachManipulator=function(pa){this.moveManipulation.forEachManipulator(pa);G.isSome(this.scaleRotate)&&this.scaleRotate.forEachManipulator(pa)};ua.hideManipulatorsForGraphicState=function(){return this.graphicState.watch("displaying",pa=>{this.forEachManipulator(xa=>xa.available=pa);this.moveManipulation.zManipulation.available=pa&&this.enableZ&&w.canMoveZ(this.graphic)})};
ua.createGeometryUndoRecord=function(){return da.createGraphicGeometryUndoRecord(this.graphic)};ua.destroy=function(){this.moveManipulation.destroy();this.scaleRotate=G.destroyMaybe(this.scaleRotate);this.scaleRotateAdapter=G.destroyMaybe(this.scaleRotateAdapter);this._set("view",null);this._set("graphic",null)};ua.reset=function(){};ua.onDetach=function(){G.isSome(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()};ua.onHide=function(){G.isSome(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()};
ua.onScaleChanged=function(){if(!G.isNone(this.scaleRotate)){var pa=this.scaleRotate.getScale();this.moveManipulation.displayScale=pa}};ua.updateMoveAngle=function(){this.moveManipulation.angle=2===this.view.state.viewingMode||this.view.scale<T.ALIGN_ARROWS_SCALE_THRESHOLD?this.scaleRotateAdapter.angle:0};ua.onGeometryChanged=function(){E.placeAtGraphic(this.view,this,this.graphic)};ua.enforceNonZeroSize=function(pa){return pa||this.view.state.camera.computeRenderPixelSizeAt(this.moveManipulation.renderLocation)};
aa._createClass(ra,[{key:"snapToScene",set:function(pa){this.moveManipulation&&(this.moveManipulation.snapToScene=pa);this._set("snapToScene",pa)}},{key:"updating",get:function(){return this.updatingHandles.updating}},{key:"location",set:function(pa){this.moveManipulation.location=pa;G.isSome(this.scaleRotate)&&(this.scaleRotate.location=pa)}},{key:"elevationAlignedLocation",set:function(pa){this.moveManipulation.elevationAlignedLocation=pa;G.isSome(this.scaleRotate)&&(this.scaleRotate.elevationAlignedLocation=
pa)}},{key:"test",get:function(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,zManipulator:this.moveManipulation.zManipulation.test.manipulator,ringManipulator:G.isSome(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}}]);return ra}(Q.HandleOwnerMixin(Y.EventedMixin(ba.InteractiveToolBase)));K.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.GraphicTransformTool.prototype,
"view",void 0);K.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.GraphicTransformTool.prototype,"graphic",void 0);K.__decorate([z.property({constructOnly:!0,nonNullable:!0})],y.GraphicTransformTool.prototype,"enableZ",void 0);K.__decorate([z.property()],y.GraphicTransformTool.prototype,"enableRotation",void 0);K.__decorate([z.property()],y.GraphicTransformTool.prototype,"enableScaling",void 0);K.__decorate([z.property({value:!1})],y.GraphicTransformTool.prototype,"snapToScene",null);
K.__decorate([z.property({constructOnly:!0})],y.GraphicTransformTool.prototype,"snappingManager",void 0);K.__decorate([z.property({readOnly:!0})],y.GraphicTransformTool.prototype,"type",void 0);K.__decorate([z.property({readOnly:!0})],y.GraphicTransformTool.prototype,"updating",null);y.GraphicTransformTool=K.__decorate([P.subclass("esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool")],y.GraphicTransformTool);Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/scheduling ../../../../../core/screenUtils ../../../../../core/watchUtils ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/plane ../../../../../geometry/support/ray ../../../../../geometry/support/vectorStacks ../../../../../support/elevationInfoUtils ../../Manipulator3D ../../manipulatorUtils ../dragEventPipeline3D ../manipulations/config ../../../support/mathUtils ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D,O,S,V,da){function R(pa,xa){var wa=P.subtract(E.sv3d.get(),xa.renderStart,pa.origin);pa=P.subtract(E.sv3d.get(),xa.renderEnd,pa.origin);wa=P.length(wa);pa=P.length(pa);return 0===wa?0:pa/wa}function ba(pa,xa,wa,Da){const {renderStart:Ja,renderEnd:Na}=pa;var Ha=ea(Ja,Da,E.sv3d.get());pa=ea(Na,Da,E.sv3d.get());if(P.squaredDistance(Ha,pa)<D.DRAG_THRESHOLD_PX*D.DRAG_THRESHOLD_PX)return null;const Fa=P.subtract(E.sv3d.get(),Ja,wa);xa=P.cross(E.sv3d.get(),
Fa,B.normal(xa));xa=P.add(E.sv3d.get(),Ja,xa);wa=ea(wa,Da,E.sv3d.get());Da=ea(xa,Da,E.sv3d.get());xa=P.subtract(E.sv3d.get(),Da,Ha);Da=P.subtract(E.sv3d.get(),Ha,wa);Ha=H.wrap(Ha,xa);Da=H.wrap(wa,Da);return H.distance2(Ha,pa)<H.distance2(Da,pa)?"rotate":"scale"}function ea(pa,xa,wa){xa.projectToScreen(pa,ua);return P.set(wa,ua[0],ua[1],0)}function la(pa,xa){let wa=null,Da=1;const Ja=()=>Da;return{start:()=>{Da=pa.getScale();wa=pa.getScale;pa.getScale=Ja;xa()},update:Na=>{Da+=((Da+1)/2-Da)*Math.min(Na*
D.RING_RESET_ANIMATION_SPEED_FACTOR,1);xa();return.01>Math.abs(Da-1)?1:0},destroy:()=>{pa.getScale=wa;xa()}}}function oa(pa,xa){let wa=0,Da=null;const Ja=()=>!1;return{start:()=>{Da=pa.getFocused;pa.getFocused=Ja;wa=0;xa()},update:Na=>{wa+=Na;return!Da()||wa>D.RING_INDICATOR_DELAY_MS?1:0},destroy:()=>{pa.getFocused=Da;xa()}}}var ma;(function(pa){pa.ScaleIn=32;pa.ScaleOut=64;pa.RotateLeft=128;pa.RotateRight=256;pa.Unlocked=1024;pa.DelayedFocused=2048;pa.TouchInput=32768})(ma||(ma={}));let ra=function(){function pa(wa){this.mode=
null;this._handles=new Y;this._activeAnimation=this._scaleRotateDragData=null;this.events=new K;this.getFocused=()=>this.ringManipulator.focused;this.getScale=()=>A.isSome(this._scaleRotateDragData)&&"scale"===this._scaleRotateDragData.mode?this.adapter.scale:1;this.tool=wa.tool;this.mode=wa.mode;this.adapter=wa.adapter;this.createManipulator();this.updateDragState();this.updateManipulatorTransform()}var xa=pa.prototype;xa.destroy=function(){A.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),
this._activeAnimation=null);this._handles=A.destroyMaybe(this._handles);this.tool.manipulators.remove(this.ringManipulator);this.ringManipulator=null};xa.startAnimation=function(wa){this.cancelActiveAnimation();wa.start();const Da=G.addFrameTask({update:({deltaTime:Ja})=>{wa.update(Ja)&&this.cancelActiveAnimation()}});this._activeAnimation={...wa,frameTask:Da}};xa.cancelActiveAnimation=function(){A.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=A.destroyMaybe(this._activeAnimation))};
xa.forEachManipulator=function(wa){wa(this.ringManipulator,4)};xa.createManipulator=function(){this.ringManipulator=this.createRingManipulator();this.tool.manipulators.add(this.ringManipulator);const wa=this.tool.graphicState.graphic,Da=da.createManipulatorDragEventPipeline(this.ringManipulator,(Ja,Na,Ha)=>{this._scaleRotateDragData=null;this.adapter.restart();const Fa={mode:"none",origin:N.clone(Ja.renderLocation),initialAngle:this.adapter.angle,angle:0,angleDir:0,scaleDir:0};this._scaleRotateDragData=
Fa;this.updateDragState();const Ua=E.sv3d.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(Ja.renderLocation,Ua);Na.next(T.screenToRenderPlane(this.tool.view,B.fromPositionAndNormal(Ja.renderLocation,Ua,B.create()))).next(Ra=>{var La=B.normal(Ra.plane);La=J.calculateInputRotationTransform(Ra.renderStart,Ra.renderEnd,Fa.origin,La);var Ka=O.cyclicalPI.shortestSignedDiff(Fa.angle,La);Fa.angleDir=Q.clamp(Fa.angleDir+Ka,-D.ROTATE_INDICATOR_DIRECTION_BUFFER,D.ROTATE_INDICATOR_DIRECTION_BUFFER);
Fa.angle=La;Ka=R(Fa,Ra);Fa.scaleDir=Q.clamp(Fa.scaleDir+(Ka-this.adapter.scale),-D.SCALE_INDICATOR_DIRECTION_BUFFER,D.SCALE_INDICATOR_DIRECTION_BUFFER);this.onScaleChanged();if("none"===Fa.mode){const Ta=this.mode||ba(Ra,Ra.plane,Fa.origin,this.tool.view.state.camera);if(A.isSome(Ta)){switch(Ta){case "rotate":this.tool.emit("graphic-rotate-start",{graphic:wa,angle:0});this.tool.emit("record-undo",{record:this.adapter.createUndoRecord()});break;case "scale":this.tool.emit("graphic-scale-start",{graphic:wa,
xScale:1,yScale:1}),this.tool.emit("record-undo",{record:this.adapter.createUndoRecord()})}Fa.mode=Ta}}switch(Fa.mode){case "rotate":this.adapter.angle=Fa.initialAngle+La;break;case "scale":this.adapter.scale=Ka,this.onScaleChanged()}this.updateDragState();this.updateManipulatorTransform();switch(Ra.action){case "start":case "update":switch(Fa.mode){case "rotate":this.tool.emit("graphic-rotate",{graphic:wa,angle:Q.rad2deg(Fa.angle)});break;case "scale":this.tool.emit("graphic-scale",{graphic:wa,xScale:Ka,
yScale:Ka})}break;case "end":switch(Fa.mode){case "rotate":this.tool.emit("graphic-rotate-stop",{graphic:wa,angle:Q.rad2deg(Fa.angle)});break;case "scale":this.tool.emit("graphic-scale-stop",{graphic:wa,xScale:Ka,yScale:Ka})}}"end"===Ra.action&&(this.startAnimation(la(this,()=>this.onScaleChanged())),this._scaleRotateDragData=null,this.updateDragState())});Ha.next(()=>{this.adapter.cancel();if(A.isSome(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case "rotate":this.tool.emit("graphic-rotate-stop",
{graphic:wa,angle:0});break;case "scale":this.tool.emit("graphic-scale-stop",{graphic:wa,xScale:1,yScale:1})}this.startAnimation(la(this,()=>this.onScaleChanged()));this._scaleRotateDragData=null;this.updateDragState()}})});this._handles.add(Da);this._handles.add([this.ringManipulator.events.on("focus-changed",Ja=>{"focus"===Ja.action?this.startAnimation(oa(this,()=>this.updateDelayedFocusedState())):this.updateDelayedFocusedState()}),this.ringManipulator.events.on("immediate-click",Ja=>{Ja.stopPropagation()}),
x.init(this.tool.graphicState,"displaying",Ja=>this.ringManipulator.available=Ja)])};xa.onScaleChanged=function(){this.events.emit("scale-changed");this.updateManipulatorTransform()};xa.updateDelayedFocusedState=function(){this.ringManipulator.updateStateEnabled(ma.DelayedFocused,this.getFocused())};xa.updateDragState=function(){this.ringManipulator.updateStateEnabled(ma.Unlocked,!(A.isSome(this._scaleRotateDragData)&&"none"!==this._scaleRotateDragData.mode));if(A.isSome(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case "rotate":this.ringManipulator.updateStateEnabled(ma.ScaleIn|
ma.ScaleOut,!1);this.ringManipulator.updateStateEnabled(ma.RotateLeft,0>this._scaleRotateDragData.angleDir);this.ringManipulator.updateStateEnabled(ma.RotateRight,0<=this._scaleRotateDragData.angleDir);break;case "scale":this.ringManipulator.updateStateEnabled(ma.RotateLeft|ma.RotateRight,!1),this.ringManipulator.updateStateEnabled(ma.ScaleIn,0>this._scaleRotateDragData.scaleDir),this.ringManipulator.updateStateEnabled(ma.ScaleOut,0<=this._scaleRotateDragData.scaleDir)}else this.ringManipulator.updateStateEnabled(ma.ScaleIn|
ma.ScaleOut|ma.RotateLeft|ma.RotateRight,!1)};xa.updateManipulatorTransform=function(){const wa=C.identity(E.sm4d.get());C.rotate(wa,wa,this.adapter.angle,N.fromValues(0,0,1));var Da=this.getScale();Da=C.fromScaling(E.sm4d.get(),P.set(E.sv3d.get(),Da,Da,Da));const Ja=C.identity(E.sm4d.get());C.multiply(Ja,Da,wa);this.ringManipulator.modelTransform=Ja};xa.createRingManipulator=function(){var wa=(Z,fa,L)=>{const qa=[],va=Math.ceil(D.GEOMETRY_SEGMENTS*(fa-Z)/(2*Math.PI));for(let Ca=0;Ca<va+1;Ca++){const Aa=
Z+Ca*(fa-Z)/va;qa.push(N.fromValues(L*Math.cos(Aa),L*Math.sin(Aa),0))}return qa},Da=(Z,fa)=>S.createPathExtrusionGeometry([[-fa/2,0],[fa/2,0],[fa/2,D.RING_HEIGHT/2],[-fa/2,D.RING_HEIGHT/2]],Z,[],[],!1),Ja=wa(0,2*Math.PI,D.RING_RADIUS),Na=Da(Ja,D.RING_THICKNESS),Ha=[],Fa=[];const Ua=[];for(var Ra=0;2>Ra;Ra++){var La=Ra*Math.PI-Math.PI/4,Ka=Math.PI/2-D.ROTATE_INDICATOR_ARC_LENGTH,Ta=La+Ka;La=La+Math.PI/2-Ka;Ka=wa(Ta,La,D.INNER_INDICATOR_RADIUS);var Ea=Da(Ka,D.INDICATOR_THICKNESS);Ua.push(Ka);Ua.push(wa(Ta,
La,D.OUTER_INDICATOR_RADIUS-D.RING_THICKNESS/2));Ha.push(Ea);Fa.push(Ea);for(Ea=0;2>Ea;Ea++){var ca=0===Ea,ha=F.create();if(ca){C.scale(ha,ha,[1,-1,1]);C.rotate(ha,ha,-Ta,[0,0,1]);var na=Math.round(D.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE*(Ka.length-1));ha[12]=Ka[na][0];ha[13]=Ka[na][1];ha[14]=Ka[na][2]}else C.rotate(ha,ha,La,[0,0,1]),na=Math.round((1-D.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE)*(Ka.length-1)),ha[12]=Ka[na][0],ha[13]=Ka[na][1],ha[14]=Ka[na][2];na=S.createExtrudedTriangle(D.ROTATE_INDICATOR_ARROW_TIP_LENGTH,
0,D.ROTATE_INDICATOR_ARROW_TIP_RADIUS,D.RING_HEIGHT);S.transformInPlace(na,ha);(ca?Ha:Fa).push(na)}}Ra=[];for(Ta=0;2>Ta;Ta++)La=Ta*Math.PI-Math.PI/4,Ka=Math.PI/2-D.SCALE_INDICATOR_ARC_LENGTH,La=wa(La+Ka,La+Math.PI/2-Ka,D.OUTER_INDICATOR_RADIUS),Ra.push(Da(La,D.INDICATOR_THICKNESS));Ta=wa(0,2*Math.PI,D.RING_RADIUS+D.SCALE_INDICATOR_OFFSET1);La=wa(0,2*Math.PI,D.RING_RADIUS+D.SCALE_INDICATOR_OFFSET2);Ta=Da(Ta,D.INDICATOR_THICKNESS);La=Da(La,D.INDICATOR_THICKNESS);Ka=wa(0,2*Math.PI,D.RING_RADIUS-D.SCALE_INDICATOR_OFFSET1);
Ea=wa(0,2*Math.PI,D.RING_RADIUS-D.SCALE_INDICATOR_OFFSET2);wa=Da(Ka,D.INDICATOR_THICKNESS);Da=Da(Ea,D.INDICATOR_THICKNESS);Ka=this.createMaterial();Ea=this.createMaterial(.66);ha=this.createMaterial(.5);ca=this.createMaterial(.33);Na=[{geometry:Na,material:Ka,stateMask:ma.DelayedFocused},{geometry:Na,material:ha,stateMask:0}];this.mode&&"scale"!==this.mode||(Na=Na.concat([{geometry:Ra,material:Ka,stateMask:ma.DelayedFocused|ma.Unlocked},{geometry:Ta,material:Ea,stateMask:ma.DelayedFocused|ma.ScaleIn},
{geometry:La,material:ca,stateMask:ma.DelayedFocused|ma.ScaleIn},{geometry:wa,material:Ea,stateMask:ma.DelayedFocused|ma.ScaleOut},{geometry:Da,material:ca,stateMask:ma.DelayedFocused|ma.ScaleOut}]));this.mode&&"rotate"!==this.mode||(Na=Na.concat([{geometry:Fa,material:Ka,stateMask:ma.DelayedFocused|ma.Unlocked},{geometry:Ha,material:Ka,stateMask:ma.DelayedFocused|ma.RotateLeft},{geometry:Fa,material:Ka,stateMask:ma.DelayedFocused|ma.RotateRight}]));Ja=[Ja,...Ua];return new w.Manipulator3D({view:this.tool.view,
renderObjects:Na,autoScaleRenderObjects:!1,worldOriented:!0,radius:D.RING_THICKNESS,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:I.getGraphicEffectiveElevationInfo(this.tool.graphicState.graphic),collisionType:{type:"ribbon",paths:Ja,direction:N.fromValues(0,0,1)}})};xa.createMaterial=function(wa=1){const Da=[...D.HANDLE_COLOR,wa];return new V.ColorMaterial({color:Da,transparent:1!==wa,cullFace:2,renderOccluded:2})};aa._createClass(pa,[{key:"angle",get:function(){return this.adapter.angle}},
{key:"scale",get:function(){return this.adapter.scale}},{key:"location",set:function(wa){this.ringManipulator.location=wa}},{key:"elevationAlignedLocation",set:function(wa){this.ringManipulator.elevationAlignedLocation=wa}},{key:"grabbing",get:function(){return this.ringManipulator.grabbing}},{key:"interactive",set:function(wa){this.ringManipulator.interactive=wa}},{key:"test",get:function(){return{ringManipulator:this.ringManipulator}}}]);return pa}();const ua=z.createScreenPointArray();y.GraphicScaleRotateTransform=
ra;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/transformGraphic/ScaleRotateMeshAdapter":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/HandleOwner ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/reactiveUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../geometry/support/axisAngleDegrees ./undoRecords".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B){y.ScaleRotateMeshAdapter=function(H){function E(w){w=H.call(this,w)||this;w.angle=0;w.scale=1;w.initialAngle=0;w.previousAngle=0;w.previousScale=1;return w}aa._inheritsLoose(E,H);var I=E.prototype;I.initialize=function(){this.restart()};I.restart=function(){this.handles.remove("scale-heading-update-key");const w=this.geometry.transform;this.scale=1;if(A.isSome(w)){const J=N.axis(w.rotation)[2];.999999<Math.abs(J)&&(this.angle=Q.deg2rad(N.angle(w.rotation))*Math.sign(J))}this.previousAngle=
this.initialAngle=this.angle;this.previousScale=this.scale;this.handles.add(G.react(()=>({angle:this.angle,scale:this.scale}),J=>this.update(J),G.sync),"scale-heading-update-key")};I.cancel=function(){this.scale=1;this.angle=this.initialAngle};I.createUndoRecord=function(){return B.createGraphicGeometryUndoRecord(this.graphic)};I.update=function({scale:w,angle:J}){const T=this.geometry.anchor,D=1===this.viewingMode;w!==this.previousScale&&(this.geometry.scale(w/this.previousScale,{origin:T,geographic:D}),
this.previousScale=w,this.graphic.notifyGeometryChanged());J!==this.previousAngle&&(this.geometry.rotate(0,0,Q.rad2deg(J-this.previousAngle),{origin:T,geographic:D}),this.previousAngle=J,this.graphic.notifyGeometryChanged())};return E}(Y.HandleOwner);K.__decorate([z.property({constructOnly:!0})],y.ScaleRotateMeshAdapter.prototype,"graphic",void 0);K.__decorate([z.property({constructOnly:!0})],y.ScaleRotateMeshAdapter.prototype,"geometry",void 0);K.__decorate([z.property({constructOnly:!0})],y.ScaleRotateMeshAdapter.prototype,
"viewingMode",void 0);K.__decorate([z.property()],y.ScaleRotateMeshAdapter.prototype,"angle",void 0);K.__decorate([z.property()],y.ScaleRotateMeshAdapter.prototype,"scale",void 0);y.ScaleRotateMeshAdapter=K.__decorate([P.subclass("esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateMeshAdapter")],y.ScaleRotateMeshAdapter);Object.defineProperty(y,"__esModule",{value:!0})})},"esri/geometry/support/axisAngleDegrees":function(){define(["exports","../../core/mathUtils","../../chunks/quat",
"../../chunks/quatf64","../../chunks/vec3"],function(y,aa,K,Y,Q){function A(B=C){return[B[0],B[1],B[2],B[3]]}function G(B,H,E,I,w=A()){w[0]=B;w[1]=H;w[2]=E;w[3]=I;return w}function z(B){return aa.deg2rad(B[3])}function x(B,H){B[3]=H;return B}const C=[0,0,1,0],F=Y.create(),P=Y.create(),N=A();y.UP=C;y.angle=function(B){return B[3]};y.angleRad=z;y.axis=function(B){return B};y.compose=function(B,H,E=A()){K.setAxisAngle(F,B,z(B));K.setAxisAngle(P,H,z(H));K.multiply(F,P,F);return x(E,aa.rad2deg(K.getAxisAngle(E,
F)))};y.copy=function(B,H=A()){return G(B[0],B[1],B[2],B[3],H)};y.create=A;y.fromAxisAndAngle=function(B,H,E=A()){Q.copy(E,B);E[3]=H;return E};y.fromPoints=function(B,H,E=A()){Q.cross(E,B,H);Q.normalize(E,E);E[3]=-Q.angle(B,H);return E};y.fromValues=G;y.setAngle=x;y.wrap=function(B,H,E,I){return G(B,H,E,I,N)};y.wrapAxisAngle=function(B,H){return G(B[0],B[1],B[2],H,N)};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/transformGraphic/undoRecords":function(){define(["exports",
"../../../../../core/maybe"],function(y,aa){function K(A){let G=A.geometry,z=aa.none;return{undo(x){z=x.geometry;x.geometry=G},redo(x){G=x.geometry;x.geometry=z}}}function Y(A,G){let z=G.clone(),x=null;return{undo:C=>{x=aa.isSome(A.transform)?A.transform.clone():null;A.transform=z;C.notifyGeometryChanged()},redo:C=>{z=aa.isSome(A.transform)?A.transform.clone():null;A.transform=x;C.notifyGeometryChanged()}}}function Q(A){let G=A.vertexAttributes.clonePositional(),z;return{undo:x=>{z=A.vertexAttributes.clonePositional();
A.vertexAttributes=G;x.notifyGeometryChanged()},redo:x=>{G=A.vertexAttributes.clonePositional();A.vertexAttributes=z;x.notifyGeometryChanged()}}}y.createGraphicGeometryUndoRecord=function(A){aa.isSome(A.geometry)&&"mesh"===A.geometry.type?(A=A.geometry,A=aa.isSome(A.transform)?Y(A,A.transform):Q(A)):A=K(A);return A};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/transformGraphic/ScaleRotateObjectSymbol3DAdapter":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/HandleOwner ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/reactiveUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P){y.ScaleRotateObjectSymbol3DAdapter=function(N){function B(E){E=N.call(this,E)||this;E.angle=0;E.scale=1;E.symbol=null;E.initialAngle=0;return E}aa._inheritsLoose(B,N);var H=B.prototype;H.initialize=function(){this.restart()};H.restart=function(){this.handles.remove("scale-heading-update-key");const E=A.isSome(this.graphic.symbol)&&"point-3d"===this.graphic.symbol.type?this.graphic.symbol:A.none;this.symbol=A.isSome(E)?E.clone():null;this.initialSizes=[];if(A.isSome(E)){const I=
this.findLayerView();A.isSome(I)&&(this.initialSizes=E.symbolLayers.map(w=>"object"===w.type?I.getSymbolLayerSize(E,w):null).toArray())}this.angle=0;A.isSome(E)&&E.symbolLayers.some(I=>"object"===I.type&&A.isSome(I.heading)?(this.angle=-Q.deg2rad(I.heading),!0):!1);this.initialAngle=this.angle;this.scale=1;this.handles.add(G.react(()=>({angle:this.angle,scale:this.scale}),I=>this.updateSymbol(I),G.sync),"scale-heading-update-key")};H.cancel=function(){this.graphic.symbol=this.symbol};H.createUndoRecord=
function(){let E=this.graphic.symbol,I=null;return{undo:w=>{I=w.symbol;w.symbol=E;this.restart()},redo:w=>{E=w.symbol;w.symbol=I;this.restart()}}};H.updateSymbol=function({scale:E,angle:I}){var w=this.graphic.symbol;if(!A.isNone(this.symbol)&&!A.isNone(w)&&"point-3d"===w.type){w=w.clone();var J=-Q.rad2deg(I-this.initialAngle),T=!1;this.forEachObjectSymbolLayerPair(this.symbol,w,(D,O,S)=>{D=A.unwrapOr(D.heading,0)+J;O.heading!==D&&(O.heading=D,T=!0);S=this.initialSizes[S];A.isSome(S)&&"width"in S&&
(S.width=this.sizeFilter(S.width),S.height=this.sizeFilter(S.height),S.depth=this.sizeFilter(S.depth),D=S.width*E,O.width!==D&&(O.width=D,T=!0),D=S.depth*E,O.depth!==D&&(O.depth=D,T=!0),S=S.height*E,O.height!==S&&(O.height=S,T=!0))});T&&(this.graphic.symbol=w)}};H.forEachObjectSymbolLayerPair=function(E,I,w){E.symbolLayers.forEach((J,T)=>{const D=I.symbolLayers.getItemAt(T);"object"===J.type&&"object"===D.type&&w(J,D,T)})};return B}(Y.HandleOwner);K.__decorate([z.property()],y.ScaleRotateObjectSymbol3DAdapter.prototype,
"angle",void 0);K.__decorate([z.property()],y.ScaleRotateObjectSymbol3DAdapter.prototype,"scale",void 0);K.__decorate([z.property({constructOnly:!0})],y.ScaleRotateObjectSymbol3DAdapter.prototype,"graphic",void 0);K.__decorate([z.property()],y.ScaleRotateObjectSymbol3DAdapter.prototype,"symbol",void 0);K.__decorate([z.property({constructOnly:!0})],y.ScaleRotateObjectSymbol3DAdapter.prototype,"findLayerView",void 0);K.__decorate([z.property({constructOnly:!0})],y.ScaleRotateObjectSymbol3DAdapter.prototype,
"sizeFilter",void 0);y.ScaleRotateObjectSymbol3DAdapter=K.__decorate([P.subclass("esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateObjectSymbol3DAdapter")],y.ScaleRotateObjectSymbol3DAdapter);Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/handleUtils ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/screenUtils ../../../../../core/unitUtils ../../../../../core/watchUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../chunks/mat4 ../../../../../chunks/vec2 ../../../../../chunks/vec2f64 ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/aaBoundingRect ../../../../../chunks/boundedPlane ../../../../../geometry/support/plane ../../../../../geometry/support/ray ../../../../../geometry/support/vectorStacks ../../../../../support/elevationInfoUtils ../../Manipulator3D ../../manipulatorUtils ../../analysisTools/slice/sliceToolUtils ../../analysisTools/slice/images/Factory ../dragEventPipeline3D ../manipulatorUtils ../visualElementUtils ../manipulations/MoveXYGraphicManipulation ./PreserveAspectRatio ../../visualElements/OutlineVisualElement ../../../layers/graphics/elevationAlignmentUtils ../../../layers/graphics/ElevationContext ../../../layers/graphics/GraphicState ../../../support/geometryUtils/ray ../../../../interactive/dragEventPipeline ../../../../interactive/InteractiveToolBase ../../../../interactive/editGeometry/EditGeometryOperations ../../../../interactive/editGeometry/support/editPlaneUtils".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D,O,S,V,da,R,ba,ea,la,oa,ma,ra,ua,pa,xa,wa,Da,Ja,Na,Ha,Fa,Ua,Ra,La,Ka){y.ExtentTransformTool=function(Ta){function Ea(ha){ha=Ta.call(this,ha)||this;ha.enableZ=!0;ha.enableRotation=!0;ha.enableScaling=!0;ha._preserveAspectRatio=new wa.PreserveAspectRatio;ha.grabbing=!1;ha.inputState=null;ha.type="transform-3d";ha.handles=new Q;ha.moveZManipulator=null;ha.resizeManipulators=null;ha.rotateManipulator=null;ha.attachmentOrigin=null;ha.outlineVisualElement=
null;ha.mapBounds=S.create();ha.mapBoundsStart=S.create();ha.displayBounds=S.create();ha.displayBoundsStart=S.create();ha.displayBoundsMarginStart=0;ha.resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}];return ha}aa._inheritsLoose(Ea,Ta);var ca=Ea.prototype;ca.initialize=function(){this.graphicState=new Ha.GraphicState({graphic:this.graphic});this.editGeometryOperations=La.EditGeometryOperations.fromGeometry(this.graphic.geometry,
this.view.state.viewingMode);this.graphicMoveManipulation=new xa.MoveXYGraphicManipulation({tool:this,view:this.view,graphicState:this.graphicState});this.handles.add(this.createMoveXYGraphicDragPipeline());this.moveZManipulator=oa.createShiftManipulator(this.view,0);this.moveZManipulator.state|=oa.IsShiftEdgeOnScreenFlag;this.handles.add(this.watch("enableZ",()=>this.updateManipulatorAvailability(this.moveZManipulator,0)));this.handles.add(this.createMoveZDragPipeline());this.manipulators.add(this.moveZManipulator);
this.resizeManipulators=this.resizeHandles.map(na=>{const Z=oa.createResizeManipulator(this.view,na);this.handles.add(this.watch("enableScaling",()=>this.updateManipulatorAvailability(Z,2)));Z.events.on("grab-changed",fa=>this.onResizeGrab(fa));this.handles.add(this.createResizeDragPipeline(Z,na));return Z});this.manipulators.addMany(this.resizeManipulators);this.rotateManipulatorTexture=ma.getRotateHeadingTexture(this.view.toolViewManager.textures);this.rotateManipulator=oa.createRotateManipulator(this.view,
this.rotateManipulatorTexture.texture);this.handles.add(this.watch("enableRotation",()=>this.updateManipulatorAvailability(this.rotateManipulator,3)));this.rotateManipulator.events.on("grab-changed",na=>{this.onRotateGrab(na)});this.handles.add(this.createRotateDragPipeline(this.rotateManipulator));this.manipulators.add(this.rotateManipulator);this.calculateMapBounds();this.updateDisplayBounds();var ha=pa.createVisualElements({view:this.view,graphic:this.graphic,forEachManipulator:na=>this.forEachManipulator(na),
onManipulatorsChanged:()=>A.makeHandle()});z.isSome(ha)&&(this.outlineVisualElement=ha.visualElement instanceof Da.OutlineVisualElement?ha.visualElement:null);z.isSome(this.outlineVisualElement)&&this.handles.add(this.outlineVisualElement.events.on("attachment-origin-changed",()=>this.updateDisplayBounds()));this.handles.add(ha);this.handles.add([this.graphicState.on("changed",()=>this.onGeometryChanged()),this.graphicState.watch("displaying",()=>this.updateAllManipulatorAvailability()),F.init(this.graphicState,
"isDraped",()=>this.graphicDrapedChanged()),this.view.trackGraphicState(this.graphicState)]);(ha=this.view.pointsOfInterest)&&this.handles.add(ha.centerOnSurfaceFrequent.watch("location",()=>this.updateDisplayBounds()));this.forEachManipulator(na=>{this.handles.add(na.events.on("grab-changed",()=>{this.grabbing=na.grabbing;this.updateAllManipulatorAvailability()}))});this.forEachManipulator((na,Z)=>{this.handles.add(na.events.on("immediate-click",fa=>{1===Z&&this.emit("immediate-click",{...fa,graphic:this.graphic});
fa.stopPropagation()}))});this.onGeometryChanged();this.updateAllManipulatorAvailability();this.complete()};ca.graphicDrapedChanged=function(){this.handles.remove("draped-elevation-changes");this.updateDisplayBounds();this.graphicState.isDraped&&this.handles.add(this.view.elevationProvider.on("elevation-change",ha=>{z.isSome(this.attachmentOrigin)&&O.containsXY(ha.extent,this.attachmentOrigin.x,this.attachmentOrigin.y)&&this.updateDisplayBounds()}),"draped-elevation-changes")};ca.updateAllManipulatorAvailability=
function(){this.forEachManipulator((ha,na)=>this.updateManipulatorAvailability(ha,na))};ca.updateManipulatorAvailability=function(ha,na){const Z=this.grabbing&&!ha.grabbing;ha.interactive=!Z;if(ha instanceof ea.Manipulator3D){const fa=this.graphicState.displaying,L=this.enableZ&&ua.canMoveZ(this.graphic);switch(na){case 3:ha.available=fa&&this.enableRotation;break;case 2:ha.available=fa&&(this.enableScaling||this.enableRotation||L);ha.interactive=!Z&&this.enableScaling;ha.state=this.enableScaling?
oa.resizeNormal:oa.resizeOutlineOnly;break;case 0:ha.available=fa&&L;break;default:ha.available=fa}}};ca.forEachManipulator=function(ha){this.graphicMoveManipulation.forEachManipulator(ha);this.resizeManipulators.forEach(na=>ha(na,2));ha(this.rotateManipulator,3);ha(this.moveZManipulator,0)};ca.destroy=function(){this.rotateManipulatorTexture.release();this.handles.destroy();this.graphicMoveManipulation.destroy();this.editGeometryOperations.destroy();this._set("view",null);this._set("graphic",null)};
ca.reset=function(){};ca.onDetach=function(){this.displayBounds=this.mapBounds=null};ca.onGeometryChanged=function(){this.updateDisplayBounds()};ca.calculateMapBounds=function(){const ha=this.graphic.geometry,na=this.editGeometryOperations.data;var Z=na.components[0].edges[0];Z=w.subtract(R.sv2d.get(),Z.leftVertex.pos,Z.rightVertex.pos);w.normalize(Z,Z);var fa=z.unwrapOr(la.getGraphicAttachmentOrigin(this.view,this.graphic),ha.extent.center);fa=80*this.view.pixelSizeAt(fa);const L=this.view.spatialReference;
L!==ha.spatialReference&&(fa*=C.getMetersPerUnitForSR(L)/C.getMetersPerUnitForSR(ha.spatialReference));Ka.calculateOrientedBounds(Z,na,fa,this.mapBounds)};ca.updateDisplayBounds=function(){const ha=this.graphic.geometry;if(!z.isNone(ha)){var na=z.isSome(this.outlineVisualElement)&&!this.graphicState.isDraped&&z.isSome(this.outlineVisualElement.attachmentOrigin)?this.outlineVisualElement.attachmentOrigin:la.getGraphicAttachmentOrigin(this.view,this.graphic);this.attachmentOrigin=z.unwrapOr(na,ha.extent.center);
na=z.isSome(na)?na.z:Ja.evaluateElevationAlignmentAtPoint(this.mapBounds.origin,this.view.elevationProvider,Na.ElevationContext.fromElevationInfo(ba.getGraphicEffectiveElevationInfo(this.graphic)),this.view.renderCoordsHelper);var Z=S.copy(this.mapBounds);Z.origin[2]=na;Ka.mapPlaneToRenderPlane(Z,this.view.renderCoordsHelper,ha.spatialReference,this.displayBoundsMargin,this.displayBounds);this.updateManipulators()}};ca.createMoveXYGraphicDragPipeline=function(){return this.graphicMoveManipulation.createDragPipeline((ha,
na,Z)=>this.applyGraphicMoveSteps(na,Z))};ca.createMoveZDragPipeline=function(){const ha=this.view,na=this.editGeometryOperations.data.spatialReference;return Ua.createManipulatorDragEventPipeline(this.moveZManipulator,(Z,fa,L)=>{Z=D.clone(Z.renderLocation);fa=fa.next(ra.screenToZConstrained(ha,Z,na)).next(Ua.addScreenDelta());this.applyGraphicMoveSteps(fa,L)})};ca.applyGraphicMoveSteps=function(ha,na){ha=ha.next(Z=>{"start"===Z.action&&(this.inputState={type:"move"},S.copy(this.mapBounds,this.mapBoundsStart),
this.emit("graphic-translate-start",{graphic:this.graphic,dxScreen:Z.screenDeltaX,dyScreen:Z.screenDeltaY}));return Z}).next(Ua.addMapDelta()).next(this.moveDragUpdateGeometry()).next(Z=>{const fa={graphic:this.graphic,dxScreen:Z.screenDeltaX,dyScreen:Z.screenDeltaY};switch(Z.action){case "start":case "update":(Z.mapEnd.x-Z.mapStart.x||Z.mapEnd.y-Z.mapStart.y||Z.mapEnd.z-Z.mapStart.z)&&this.emit("graphic-translate",fa);break;case "end":this.inputState=null,this.emit("graphic-translate-stop",fa)}return Z});
na.next(()=>{z.isSome(this.inputState)&&this.emit("graphic-translate-stop",{graphic:this.graphic,dxScreen:0,dyScreen:0});this.cancel()});return ha};ca.moveDragUpdateGeometry=function(){return ha=>{if(z.isNone(this.inputState)||"move"!==this.inputState.type)return ha;var na=[];for(const Z of this.editGeometryOperations.data.components)na.push(...Z.vertices);na=this.editGeometryOperations.moveVertices(na,ha.mapDeltaX,ha.mapDeltaY,ha.mapDeltaZ,"start"===ha.action?0:1);Ka.apply(na,this.mapBounds);this.graphic.geometry=
this.editGeometryOperations.data.geometry;return ha}};ca.onResizeGrab=function(ha){"start"===ha.action&&(ha=this.calculatePickRay(ha.screenPoint),V.intersectRay(this.displayBounds.plane,ha,R.sv3d.get())&&(S.copy(this.displayBounds,this.displayBoundsStart),S.copy(this.mapBounds,this.mapBoundsStart),this.displayBoundsMarginStart=this.displayBoundsMargin,this.inputState={type:"resize"}))};ca.createResizeDragPipeline=function(ha,na){return Ua.createManipulatorDragEventPipeline(ha,(Z,fa,L)=>{z.isNone(this.inputState)||
(fa.next(qa=>{"start"===qa.action&&this.emit("graphic-scale-start",{graphic:this.graphic,xScale:1,yScale:1});return qa}).next(ra.screenToRenderPlane(this.view,this.displayBoundsStart.plane)).next(qa=>({...qa,handle:na})).next(this.resizeDragRenderPlaneToFactors()).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(this.resizeDragUpdateGeometry()).next(qa=>{const va={graphic:this.graphic,xScale:qa.factor1,yScale:qa.factor2};switch(qa.action){case "start":case "update":this.emit("graphic-scale",
va);break;case "end":this.inputState=null,this.emit("graphic-scale-stop",va)}return qa}),L.next(()=>{z.isSome(this.inputState)&&this.emit("graphic-scale-stop",{graphic:this.graphic,xScale:1,yScale:1});this.cancel()}))})};ca.resizeDragRenderPlaneToFactors=function(){return ha=>{const na=this.displayBoundsStart,Z=ha.handle.direction,fa=this.displayBoundsMargin,L=this.displayBoundsMarginStart;var qa=T.copy(R.sv3d.get(),na.origin);T.scaleAndAdd(qa,qa,na.basis1,-Z[0]);T.scaleAndAdd(qa,qa,na.basis2,-Z[1]);
const va=T.subtract(R.sv3d.get(),ha.renderEnd,qa),Ca=T.subtract(R.sv3d.get(),ha.renderStart,qa),Aa=oa.isDiagonalResizeHandle(ha.handle);qa=oa.calculateDiagonalResizeHandleScale(na);const Ma=oa.calculateDiagonalResizeHandleScale(this.displayBounds)/qa;qa=(Qa,Sa)=>{if(0===Qa)return 1;let Xa=T.length(Sa),Ba=.5*Qa*T.dot(Sa,va)/Xa;const g=0>Ba?-1:1;Aa&&(Qa=Xa-.5*Qa*T.dot(Sa,Ca)/Xa,Ba+=Qa*g*Ma);Qa=Xa<1.5*L?1:1E-6;Xa=Math.max(Xa-L,1E-6);0<g&&(Ba-=fa);return g*Math.max(Ba/Xa*g,Qa)};return{...ha,factor1:qa(Z[0],
na.basis1),factor2:qa(Z[1],na.basis2)}}};ca.resizeDragUpdateGeometry=function(){return ha=>{var na=T.copy(D.create(),this.mapBoundsStart.origin);T.scaleAndAdd(na,na,this.mapBoundsStart.basis1,-ha.handle.direction[0]);T.scaleAndAdd(na,na,this.mapBoundsStart.basis2,-ha.handle.direction[1]);const Z=w.set(J.create(),this.mapBoundsStart.basis1[0],this.mapBoundsStart.basis1[1]);w.normalize(Z,Z);const fa=[];for(const L of this.editGeometryOperations.data.components)fa.push(...L.vertices);na=this.editGeometryOperations.scaleVertices(fa,
na,Z,ha.factor1,ha.factor2,"start"===ha.action?0:1,1);S.copy(this.mapBoundsStart,this.mapBounds);Ka.apply(na,this.mapBounds);this.graphic.geometry=this.editGeometryOperations.data.geometry;return ha}};ca.onRotateGrab=function(ha){if("start"===ha.action){var na=oa.createRotatePlane(this.displayBounds,this.view.renderCoordsHelper,1,V.create());ha=this.calculatePickRay(ha.screenPoint);V.intersectRay(na,ha,R.sv3d.get())&&(S.copy(this.displayBounds,this.displayBoundsStart),S.copy(this.mapBounds,this.mapBoundsStart),
this.inputState={type:"rotate",rotatePlane:na})}};ca.createRotateDragPipeline=function(ha){return Ua.createManipulatorDragEventPipeline(ha,(na,Z,fa)=>{na=this.inputState;z.isNone(na)||(Z.next(L=>{"start"===L.action&&this.emit("graphic-rotate-start",{graphic:this.graphic,angle:0});return L}).next(ra.screenToRenderPlane(this.view,na.rotatePlane)).next(this.rotateDragRenderPlaneToRotate(na)).next(this.rotateDragUpdateGeometry()).next(L=>{const qa={graphic:this.graphic,angle:G.rad2deg(L.rotateAngle)};
switch(L.action){case "start":case "update":this.emit("graphic-rotate",qa);break;case "end":this.inputState=null,this.emit("graphic-rotate-stop",qa)}return L}),fa.next(()=>{z.isSome(this.inputState)&&this.emit("graphic-rotate-stop",{graphic:this.graphic,angle:0});this.cancel()}))})};ca.rotateDragRenderPlaneToRotate=function(ha){return na=>{const Z=V.normal(ha.rotatePlane),fa=la.calculateInputRotationTransform(na.renderStart,na.renderEnd,this.displayBounds.origin,Z);return{...na,rotateAxis:Z,rotateAngle:fa}}};
ca.rotateDragUpdateGeometry=function(){return ha=>{var na=T.copy(D.create(),this.mapBoundsStart.origin);const Z=[];for(const fa of this.editGeometryOperations.data.components)Z.push(...fa.vertices);na=this.editGeometryOperations.rotateVertices(Z,na,ha.rotateAngle,"start"===ha.action?0:1,1);S.copy(this.mapBoundsStart,this.mapBounds);Ka.apply(na,this.mapBounds);this.graphic.geometry=this.editGeometryOperations.data.geometry;return ha}};ca.calculatePickRay=function(ha){const na=da.create();ha=x.screenPointObjectToArray(ha);
Fa.fromScreen(this.view.state.camera,ha,na);T.normalize(na.direction,na.direction);return na};ca.updateManipulators=function(){if(this.visible){var ha=oa.calculateBoundedPlaneTranslateRotate(this.displayBounds,R.sm4d.get());oa.updateRotateHeadingHandle(this.rotateManipulator,ha,this.displayBounds,this.view.renderCoordsHelper);this.updateZMoveHandle(this.moveZManipulator,ha);this.resizeManipulators.forEach((na,Z)=>{oa.updateResizeHandle(na,this.resizeHandles[Z],ha,this.displayBounds)})}};ca.updateZMoveHandle=
function(ha,na){var Z=this.displayBounds;Z=T.subtract(R.sv3d.get(),Z.origin,Z.basis1);const fa=R.sm4d.get();I.rotateZ(fa,na,2*Math.PI/2);fa[12]=0;fa[13]=0;fa[14]=0;ha.modelTransform=fa;ha.renderLocation=Z};ca.cancel=function(){const ha=this.editGeometryOperations.lastOperation;z.isNone(ha)||(this.editGeometryOperations.undo(),this.graphic.geometry=this.editGeometryOperations.data.geometry,Ka.unapply(ha,this.mapBounds),this.updateDisplayBounds(),this.inputState=null)};ca.undo=function(){if(z.isSome(this.inputState))this.view.activeTool=
null;else if(this.canUndo){const ha=this.editGeometryOperations.undo();this.graphic.geometry=this.editGeometryOperations.data.geometry;Ka.unapply(z.unwrap(ha),this.mapBounds);this.updateDisplayBounds()}};ca.redo=function(){if(this.canRedo){const ha=this.editGeometryOperations.redo();this.graphic.geometry=this.editGeometryOperations.data.geometry;Ka.apply(z.unwrap(ha),this.mapBounds);this.updateDisplayBounds()}};aa._createClass(Ea,[{key:"preserveAspectRatio",get:function(){return this._preserveAspectRatio.enabled},
set:function(ha){this._preserveAspectRatio.enabled=ha;this._set("preserveAspectRatio",ha)}},{key:"displayBoundsMargin",get:function(){const ha=this.view.pointsOfInterest;return 10*this.view.pixelSizeAt(ha?ha.centerOnSurfaceFrequent.location:this.editGeometryOperations.data.geometry.extent.center)}},{key:"canUndo",get:function(){return this.editGeometryOperations.canUndo}},{key:"canRedo",get:function(){return this.editGeometryOperations.canRedo}},{key:"test",get:function(){return{resizeManipulators:this.resizeManipulators,
rotateManipulator:this.rotateManipulator,moveZManipulator:this.moveZManipulator}}}]);return Ea}(Y.EventedMixin(Ra.InteractiveToolBase));K.__decorate([P.property({constructOnly:!0,nonNullable:!0})],y.ExtentTransformTool.prototype,"view",void 0);K.__decorate([P.property({constructOnly:!0,nonNullable:!0})],y.ExtentTransformTool.prototype,"graphic",void 0);K.__decorate([P.property({constructOnly:!0,nonNullable:!0})],y.ExtentTransformTool.prototype,"enableZ",void 0);K.__decorate([P.property()],y.ExtentTransformTool.prototype,
"enableRotation",void 0);K.__decorate([P.property()],y.ExtentTransformTool.prototype,"enableScaling",void 0);K.__decorate([P.property()],y.ExtentTransformTool.prototype,"preserveAspectRatio",null);K.__decorate([P.property()],y.ExtentTransformTool.prototype,"grabbing",void 0);K.__decorate([P.property()],y.ExtentTransformTool.prototype,"inputState",void 0);K.__decorate([P.property({readOnly:!0})],y.ExtentTransformTool.prototype,"type",void 0);y.ExtentTransformTool=K.__decorate([E.subclass("esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool")],
y.ExtentTransformTool);y.EPSILON=1E-6;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/analysisTools/slice/sliceToolUtils":function(){define("exports ../../../../../geometry ../../../../../core/compilerUtils ../../../../../core/Logger ../../../../../core/mathUtils ../../../../../core/maybe ../../../../../core/screenUtils ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../chunks/quat ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/projection ../../../../../chunks/boundedPlane ../../../../../geometry/support/plane ../../../../../geometry/support/ray ../../../../../geometry/support/vector ../../../../../geometry/support/vectorStacks ../../Manipulator3D ../../manipulatorUtils ./sliceToolConfig ../../visualElements/LineVisualElement ../../visualElements/SlicePlaneVisualElement ../../../support/ElevationProvider ../../../support/RenderCoordsHelper ../../../support/geometryUtils/ray ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../webgl-engine/materials/ImageMaterial ../../../webgl-engine/materials/NativeLineMaterial ../../../webgl-engine/materials/RibbonLineMaterial ../../../../../widgets/Slice/SlicePlane ../../../../../geometry/Extent".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E,I,w,J,T,D,O,S,V,da,R,ba,ea,la,oa,ma,ra,ua,pa){function xa(Z,fa,L,qa,va,Ca){const Aa=F.dot(Z,fa),Ma=w.sv3d.get(),Qa=w.sv3d.get();switch(0===qa?Math.abs(Aa)>D.VERTICAL_DOT_THRESHOLD?1:2:qa){case 2:F.cross(Ma,Math.abs(Aa)<=D.SMALL_ANGLE_DOT_THRESHOLD?Z:L.viewUp,fa);F.copy(Qa,fa);break;case 1:F.cross(Ma,L.viewUp,fa);F.cross(Qa,fa,Ma);break;case 3:F.cross(Ma,Math.abs(Aa)<=D.SMALL_ANGLE_DOT_THRESHOLD?fa:L.viewUp,Z),F.cross(Qa,Z,Ma)}Z=F.cross(w.sv3d.get(),Ma,Qa);
0<F.dot(Z,L.viewForward)&&F.scale(Qa,Qa,-1);F.normalize(va,Ma);F.normalize(Ca,Qa)}function wa(Z,fa,L){var qa=fa.worldUpAtPosition(Z.origin,w.sv3d.get());fa=Z.basis1;qa=I.angleAroundAxis(qa,Z.basis2,Z.basis1)+na;return B.rotate(Z,Math.round(qa/na)*na-qa,fa,L)}function Da(Z,fa){switch(fa){case 0:return{basis:Z.basis1,direction:1,position:F.add(w.sv3d.get(),Z.origin,Z.basis1),edge:fa};case 1:return{basis:Z.basis2,direction:1,position:F.add(w.sv3d.get(),Z.origin,Z.basis2),edge:fa};case 2:return{basis:Z.basis1,
direction:-1,position:F.subtract(w.sv3d.get(),Z.origin,Z.basis1),edge:fa};case 3:return{basis:Z.basis2,direction:-1,position:F.subtract(w.sv3d.get(),Z.origin,Z.basis2),edge:fa}}}function Ja(Z,fa,L){const qa=L.projectToRenderScreen(F.add(w.sv3d.get(),Z,fa),G.castRenderScreenPointArray3(w.sv3d.get()));Z=L.projectToRenderScreen(F.subtract(w.sv3d.get(),Z,fa),G.castRenderScreenPointArray3(w.sv3d.get()));return F.squaredLength(F.subtract(qa,qa,Z))}function Na(Z){const fa=F.length(Z.basis1);Z=F.length(Z.basis2);
return D.RESIZE_HANDLE_EDGE_PADDING_FRAC*Math.min(fa,Z)}function Ha(Z){return 0!==Z.direction[0]&&0!==Z.direction[1]}function Fa(Z,fa,L){const qa=va=>{const Ca=(va?fa:Z).slice(0);var Aa=F.subtract(w.sv3d.get(),Ca[0],Ca[1]);F.normalize(Aa,Aa);var Ma=F.subtract(w.sv3d.get(),Ca[Ca.length-1],Ca[Ca.length-2]);F.normalize(Ma,Ma);if(0<L.padding){var Qa=F.scale(P.create(),Ma,-L.padding);Ca[Ca.length-1]=F.add(Qa,Qa,Ca[Ca.length-1]);L.bothEnds&&(Qa=F.scale(P.create(),Aa,-L.padding),Ca[0]=F.add(Qa,Qa,Ca[0]))}var Sa=
va?L.tipFocusMultiplier:1;Qa=L.tipLength*(L.focusTipLength?Sa:1);const Xa=L.tipRadius*Sa;Sa=z.identity(w.sm4d.get());if(0<L.padding){var Ba=Qa/4,g=F.set(w.sv3d.get(),0,Ba,0);Ba=1+L.padding/Ba;z.translate(Sa,Sa,g);z.scale(Sa,Sa,F.set(w.sv3d.get(),Ba,Ba,Ba));z.translate(Sa,Sa,F.scale(g,g,-1/Ba))}Ba=z.identity(x.create());g=P.fromValues(0,1,0);Ma=z.fromQuat(x.create(),C.rotationTo(w.sq4d.get(),g,Ma));Ma[12]=Ca[Ca.length-1][0];Ma[13]=Ca[Ca.length-1][1];Ma[14]=Ca[Ca.length-1][2];z.multiply(Ma,Ma,Sa);{va=
L.tubeRadius*(va?L.tubeFocusMultiplier:1)+L.padding;var u=L.flat;const c=[];if(A.isSome(u))c.push([va,u.thickness/2],[-va,u.thickness/2],[-va,-u.thickness/2],[va,-u.thickness/2]);else for(u=0;12>u;u++){const a=u/12*2*Math.PI;c.push([Math.cos(a)*va,Math.sin(a)*va])}va=ea.createPathExtrusionGeometry(c,Ca,[],[],!1)}va=[{part:"tube",geometry:va,transform:Ba}];let l;A.isSome(L.flat)?Ba=ea.createExtrudedTriangle(Qa,Xa,Xa,L.flat.thickness):(Ba=ea.createConeGeometry(Qa,Xa,24,!1,!1,!0),l=ea.createConeGeometry(Qa,
Xa,24,!1,!0,!1));va.push({part:"tip",geometry:Ba,transform:Ma});l&&va.push({part:"cap",geometry:l,transform:Ma});L.bothEnds&&(Aa=z.fromQuat(x.create(),C.rotationTo(w.sq4d.get(),g,Aa)),Aa[12]=Ca[0][0],Aa[13]=Ca[0][1],Aa[14]=Ca[0][2],z.multiply(Aa,Aa,Sa),va.push({part:"tip",geometry:Ba,transform:Aa}),l&&va.push({part:"cap",geometry:l,transform:Aa}));return va};return{normal:qa(!1),focused:qa(!0)}}function Ua(Z,fa){const L=F.subtract(P.create(),Z[Z.length-1],Z[Z.length-2]);F.normalize(L,L);F.scale(L,
L,D.ROTATE_HEADING_TIP_LENGTH);F.add(L,L,Z[Z.length-1]);return fa?(fa=F.subtract(P.create(),Z[0],Z[1]),F.normalize(fa,fa),F.scale(fa,fa,D.ROTATE_HEADING_TIP_LENGTH),F.add(fa,fa,Z[0]),[fa,...Z,L]):[...Z,L]}function Ra(Z,fa,L){if(A.isNone(Z))return null;const qa=Z.origin,va=w.sv3d.get(),Ca=w.sv3d.get(),Aa=w.sv3d.get(),Ma=w.sv3d.get();F.add(va,qa,Z.basis1);F.add(va,va,Z.basis2);F.add(Ca,qa,Z.basis1);F.sub(Ca,Ca,Z.basis2);F.sub(Aa,qa,Z.basis1);F.sub(Aa,Aa,Z.basis2);F.sub(Ma,qa,Z.basis1);F.add(Ma,Ma,Z.basis2);
let Qa,Sa,Xa,Ba,g,u;for(const l of[va,Ca,Aa,Ma]){Z=fa.fromRenderCoords(l,l,L);if(A.isNone(Z))return null;Qa=null==Qa?Z[0]:Math.min(Qa,Z[0]);Sa=null==Sa?Z[0]:Math.max(Sa,Z[0]);Xa=null==Xa?Z[1]:Math.min(Xa,Z[1]);Ba=null==Ba?Z[1]:Math.max(Ba,Z[1]);g=null==g?Z[2]:Math.min(g,Z[2]);u=null==u?Z[2]:Math.max(u,Z[2])}return new pa({xmin:Qa,xmax:Sa,ymin:Xa,ymax:Ba,zmin:g,zmax:u,spatialReference:L})}function La(Z,fa,L,qa,va,Ca,Aa=B.create()){if(!Ca.toRenderCoords(Z,Aa.origin))return ca.error(`Failed to project slice plane position, projection from ${Z.spatialReference.wkid} is not supported`),
null;Ca.worldBasisAtPosition(Aa.origin,0,Aa.basis1);Ca.worldBasisAtPosition(Aa.origin,1,Aa.basis2);H.fromVectorsAndPoint(Aa.basis2,Aa.basis1,Aa.origin,Aa.plane);B.rotate(Aa,-Q.deg2rad(fa),B.normal(Aa),Aa);B.rotate(Aa,Q.deg2rad(L),Aa.basis1,Aa);F.scale(Aa.basis1,Aa.basis1,qa/2);F.scale(Aa.basis2,Aa.basis2,va/2);B.updateUnboundedPlane(Aa);return Aa}function Ka(Z,fa){if(A.isNone(Z)||A.isNone(Z.position))return null;const L=N.tryProjectWithZConversion(Z.position,fa);if(A.isNone(L))return null;fa=da.RenderCoordsHelper.renderUnitScaleFactor(Z.position.spatialReference,
fa);return{position:L,heading:Z.heading,tilt:Z.tilt,renderWidth:Z.width*fa,renderHeight:Z.height*fa}}function Ta(Z,fa,L,qa=B.create()){Z=Ka(Z,fa.spatialReference);return A.isNone(Z)?null:Ea(Z,fa,L,qa)}function Ea(Z,fa,L,qa=B.create()){if(A.isNone(Z))return null;let va=Z.position;!Z.position.hasZ&&A.isSome(fa.elevationProvider)&&(va=Z.position.clone(),va.z=A.unwrapOr(V.getElevationAtPoint(fa.elevationProvider,Z.position),0));Z=La(va,Z.heading,Z.tilt,Z.renderWidth,Z.renderHeight,fa.renderCoordsHelper,
qa);!L.tiltEnabled&&A.isSome(Z)&&wa(Z,fa.renderCoordsHelper,Z);return Z}const ca=Y.getLogger("esri.views.3d.interactive.analysisTools.slice.sliceToolUtils"),ha=E.create(),na=Math.PI/2;y.DidPointerMoveRecentlyFlag=16;y.IsShiftEdgeOnScreenFlag=32;y.addArrowTips=Ua;y.calculateBoundedPlaneTranslateRotate=function(Z,fa){return T.calculateTranslateRotateFromBases(Z.basis1,Z.basis2,Z.origin,fa)};y.calculateDiagonalResizeHandleScale=function(Z){return Na(Z)};y.calculatePlaneHalfSize=function(Z,fa){return D.INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION*
Math.min(fa.width,fa.height)*fa.computeRenderPixelSizeAt(Z)};y.calculateResizeHandlePadding=Na;y.calculateScreenSpaceBasisLength2=Ja;y.createArrowGeometry=Fa;y.createGridVisualElement=function(Z){return new S.SlicePlaneVisualElement({view:Z,attached:!0,backgroundColor:[...D.PLANE_BACKGROUND_COLOR],gridColor:D.GRID_COLOR,gridWidth:4,renderOccluded:4})};y.createOutlineVisualElement=function(Z){return new O.LineVisualElement({view:Z,attached:!0,color:D.PLANE_OUTLINE_COLOR,width:D.PLANE_OUTLINE_WIDTH,
writeDepthEnabled:!1,renderOccluded:4,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})};y.createPlane=function(Z,fa,L,qa,va,Ca,Aa,Ma){Aa=Aa.worldUpAtPosition(Z,w.sv3d.get());xa(fa,Aa,va,Ca,Ma.basis1,Ma.basis2);F.scale(Ma.basis1,Ma.basis1,L);F.scale(Ma.basis2,Ma.basis2,qa);F.copy(Ma.origin,Z);H.fromVectorsAndPoint(Ma.basis2,Ma.basis1,Ma.origin,Ma.plane);return Ma};y.createResizeManipulator=function(Z,fa){const L=(fa=Ha(fa))?[P.fromValues(1,0,0),P.fromValues(0,0,0),P.fromValues(0,1,0)]:
[P.fromValues(1,0,0),P.fromValues(-1,0,0)];var qa=ea.createPolylineGeometry(L);const va=D.RESIZE_HANDLE_COLOR,Ca=Xa=>new ra.RibbonLineMaterial({color:va,width:Xa,renderOccluded:4}),Aa=()=>new ma.NativeLineMaterial({color:va,renderOccluded:4}),Ma=fa?D.RESIZE_HANDLE_CORNER_WIDTH:D.RESIZE_HANDLE_EDGE_WIDTH,Qa=Ma*D.DISPLAY_FOCUS_MULTIPLIER,Sa=D.RESIZE_HANDLE_EDGE_WIDTH;qa=[{geometry:qa,material:1<Ma?Ca(Ma):Aa(),stateMask:17},{geometry:qa,material:1<Qa?Ca(Qa):Aa(),stateMask:18},{geometry:qa,material:1<
Sa?Ca(Sa):Aa(),stateMask:32}];Z=new J.Manipulator3D({view:Z,renderObjects:qa,collisionType:{type:"line",paths:[L]},autoScaleRenderObjects:!1,worldSized:!0,radius:fa?D.RESIZE_HANDLE_CORNER_INPUT_RADIUS:D.RESIZE_HANDLE_EDGE_INPUT_RADIUS});Z.state=16;return Z};y.createRotateManipulator=function(Z,fa){var L=new oa.ImageMaterial({transparent:!0,writeDepth:!1,textureId:fa.id,renderOccluded:16});const qa=D.ROTATE_HEADING_OFFSET_DISTANCE;fa=D.ROTATE_HEADING_DISC_RADIUS;const va=fa*D.ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER,
Ca=Sa=>{const Xa=new Uint32Array([0,1,2,2,3,0]);return new ba.Geometry([["position",{size:3,data:[qa-Sa,-Sa,0,qa+Sa,-Sa,0,qa+Sa,Sa,0,qa-Sa,Sa,0],exclusive:!0}],["uv0",{size:2,data:[0,0,1,0,1,1,0,1]}]],[["position",Xa],["uv0",Xa]])},Aa=ea.createPolylineGeometry([[0,0,0],[qa-fa,0,0]]),Ma=ea.createPolylineGeometry([[0,0,0],[qa-va,0,0]]),Qa=new ma.NativeLineMaterial({color:D.ROTATE_HEADING_CALLOUT_COLOR,renderOccluded:4});L=[{geometry:Ca(fa),material:L,stateMask:17},{geometry:Aa,material:Qa,stateMask:17},
{geometry:Ca(va),material:L,stateMask:18},{geometry:Ma,material:Qa,stateMask:18}];return new J.Manipulator3D({view:Z,renderObjects:L,autoScaleRenderObjects:!1,collisionType:{type:"disc",direction:[0,0,1],offset:[qa,0,0]},collisionPriority:1,radius:fa/2,state:16})};y.createRotatePlane=function(Z,fa,L,qa){fa=fa.worldUpAtPosition(Z.origin,w.sv3d.get());const va=w.sv3d.get();switch(L){case 1:F.copy(va,fa);break;case 2:F.copy(va,Z.basis1)}return H.fromPositionAndNormal(Z.origin,va,qa)};y.createShiftManipulator=
function(Z,fa=1){var L=0===fa?D.SHIFT_RESTART_OFFSET_DISTANCE:0;const qa=[P.fromValues(L,0,-D.SHIFT_RESTART_ARROW_LENGTH/2),P.fromValues(L,0,D.SHIFT_RESTART_ARROW_LENGTH/2)];fa=Ua(qa,!0);var va=(g,u)=>Fa(qa,qa,{tubeRadius:D.SHIFT_RESTART_TUBE_RADIUS,tipRadius:D.SHIFT_RESTART_TIP_RADIUS,tipLength:D.SHIFT_RESTART_TIP_LENGTH,tubeFocusMultiplier:D.SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,tipFocusMultiplier:D.SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,padding:g,bothEnds:!0,flat:null,focusTipLength:!0,addCap:u});const Ca=
va(0,!1);va=va(D.SHIFT_RESTART_ARROW_OUTLINE_WIDTH,!0);const Aa=new la.ColorMaterial({color:D.SHIFT_RESTART_ARROW_TIP_COLOR,cullFace:2,renderOccluded:16}),Ma=new la.ColorMaterial({color:D.SHIFT_RESTART_ARROW_CAP_COLOR,cullFace:2,renderOccluded:16}),Qa=new la.ColorMaterial({color:D.SHIFT_RESTART_TUBE_COLOR,cullFace:2,renderOccluded:16}),Sa=new la.ColorMaterial({color:D.SHIFT_RESTART_OUTLINE_COLOR,transparent:!0,writeDepth:!1,cullFace:1,renderOccluded:2}),Xa=ea.createPolylineGeometry([[L,0,0],[L-D.SHIFT_RESTART_OFFSET_DISTANCE,
0,0]]);L=ea.createPolylineGeometry([[L,0,0],[L-D.SHIFT_RESTART_OFFSET_DISTANCE,0,0]]);const Ba=new ma.NativeLineMaterial({color:D.SHIFT_RESTART_CALLOUT_COLOR,renderOccluded:4});return new J.Manipulator3D({view:Z,renderObjects:[...Ca.normal.map(({part:g,geometry:u,transform:l})=>({geometry:u,material:"tip"===g?Aa:"cap"===g?Ma:Qa,transform:l,stateMask:17})),...va.normal.map(({geometry:g,transform:u})=>({geometry:g,material:Sa,transform:u,stateMask:17})),{geometry:Xa,material:Ba,stateMask:49},...Ca.focused.map(({part:g,
geometry:u,transform:l})=>({geometry:u,material:"tip"===g?Aa:"cap"===g?Ma:Qa,transform:l,stateMask:18})),...va.focused.map(({geometry:g,transform:u})=>({geometry:g,material:Sa,transform:u,stateMask:18})),{geometry:L,material:Ba,stateMask:50}],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[fa]},collisionPriority:1,radius:D.SHIFT_RESTART_TIP_RADIUS,state:16})};y.createShiftPlane=function(Z,fa,L,qa){L=F.cross(w.sv3d.get(),fa,L);F.cross(L,L,fa);return H.fromPositionAndNormal(Z,L,qa)};y.forceHorizontalOrVertical=
wa;y.isAlwaysDrapedLayer=function(Z){switch(Z.type){case "analysis":case "building-scene":case "csv":case "feature":case "geo-rss":case "geojson":case "graphics":case "group":case "integrated-mesh":case "kml":case "map-notes":case "ogc-feature":case "point-cloud":case "route":case "scene":case "stream":case "voxel":case "subtype-group":case "unknown":case "unsupported":case "wfs":case null:return!1;case "base-dynamic":case "base-elevation":case "base-tile":case "bing-maps":case "elevation":case "imagery":case "imagery-tile":case "map-image":case "open-street-map":case "tile":case "vector-tile":case "wcs":case "web-tile":case "wms":case "wmts":return!0;
default:return K.neverReached(Z.type),!1}};y.isDiagonalResizeHandle=Ha;y.isIBuildingSceneLayerView3D=function(Z){return A.isSome("building-scene-3d"===Z.type?Z:null)};y.normalToBases=xa;y.planeToExtent=Ra;y.planeToShape=function(Z,fa,L,qa=new ua){if(A.isNone(Z))return null;var {renderCoordsHelper:va}=fa,Ca=va.fromRenderCoords(Z.origin,fa.spatialReference);if(A.isNone(Ca))return null;Ca=N.tryProjectWithZConversion(Ca,L);if(A.isNone(Ca))return null;qa.position=Ca;Ca=va.worldUpAtPosition(Z.origin,w.sv3d.get());
va=va.worldBasisAtPosition(Z.origin,1,w.sv3d.get());const Aa=2*F.length(Z.basis1),Ma=2*F.length(Z.basis2);fa=da.RenderCoordsHelper.renderUnitScaleFactor(fa.spatialReference,L);qa.width=Aa*fa;qa.height=Ma*fa;qa.tilt=Q.rad2deg(I.angleAroundAxis(Ca,Z.basis2,Z.basis1)+na);qa.heading=Q.rad2deg(I.angleAroundAxis(Z.basis1,va,Ca)-na);return qa};y.projectShape=Ka;y.projectedShapeToPlane=Ea;y.resizeNormal=16;y.resizeOutlineOnly=32;y.resizePlane=function(Z,fa,L,qa,va,Ca){const Aa=F.copy(w.sv3d.get(),va.origin);
F.add(Aa,Aa,F.scale(w.sv3d.get(),va.basis1,0>Z.direction[0]?1:-1));F.add(Aa,Aa,F.scale(w.sv3d.get(),va.basis2,0>Z.direction[1]?1:-1));var Ma=F.length(va.basis1);const Qa=F.length(va.basis2);L=F.subtract(w.sv3d.get(),L,Aa);var Sa=F.subtract(w.sv3d.get(),fa,Aa);let Xa=0;fa=0;if(Ha(Z)){var Ba=Na(va);const g=Na(Ca);Xa=Ma-.5*Z.direction[0]*F.dot(va.basis1,Sa)/Ma;fa=Qa-.5*Z.direction[1]*F.dot(va.basis2,Sa)/Qa;Sa=g/Ba;Xa*=Sa;fa*=Sa}Sa=.5*Z.direction[0]*F.dot(va.basis1,L)/Ma;Ba=.5*Z.direction[1]*F.dot(va.basis2,
L)/Qa;L=Xa+Sa;fa+=Ba;Ma=F.scale(w.sv3d.get(),va.basis1,L/Ma);va=F.scale(w.sv3d.get(),va.basis2,fa/Qa);(0>=L||Ja(Ca.origin,Ma,qa)<=D.PLANE_MIN_BASIS_SCREEN_LEN2)&&F.copy(Ma,Ca.basis1);(0>=fa||Ja(Ca.origin,va,qa)<=D.PLANE_MIN_BASIS_SCREEN_LEN2)&&F.copy(va,Ca.basis2);qa=F.copy(w.sv3d.get(),Aa);F.add(qa,qa,F.scale(w.sv3d.get(),Ma,0>Z.direction[0]?-1:1));F.add(qa,qa,F.scale(w.sv3d.get(),va,0>Z.direction[1]?-1:1));return B.fromValues(qa,Ma,va,Ca)};y.shapeToExtent=function(Z,fa,L){if(A.isNone(Z)||A.isNone(Z.position))return null;
const {spatialReference:qa}=Z.position;L=Ta(Z,{renderCoordsHelper:fa,spatialReference:qa},L);fa=Ra(L,fa,qa);!Z.position.hasZ&&A.isSome(fa)&&(fa.zmin=null,fa.zmax=null);return fa};y.shapeToPlane=Ta;y.updateResizeHandle=function(Z,fa,L,qa){var va=F.length(qa.basis1);const Ca=F.length(qa.basis2);var Aa=Na(qa);const Ma=Na(qa),Qa=F.set(w.sv3d.get(),0,0,0);F.add(Qa,F.scale(w.sv3d.get(),qa.basis1,fa.direction[0]),F.scale(w.sv3d.get(),qa.basis2,fa.direction[1]));F.add(Qa,qa.origin,Qa);qa=0;let Sa=1;Ha(fa)?
(1===fa.direction[0]&&-1===fa.direction[1]?qa=na:1===fa.direction[0]&&1===fa.direction[1]?qa=Math.PI:-1===fa.direction[0]&&1===fa.direction[1]&&(qa=3*Math.PI/2),Sa=Ma):(qa=0!==fa.direction[0]?1:2,va=1===qa?Ca:va,qa=1===qa?na:0,Sa=va-Aa);Aa=z.identity(w.sm4d.get());z.rotateZ(Aa,Aa,qa);z.scale(Aa,Aa,F.set(w.sv3d.get(),Sa,Sa,Sa));z.multiply(Aa,L,Aa);Aa[12]=0;Aa[13]=0;Aa[14]=0;Z.modelTransform=Aa;Z.renderLocation=Qa};y.updateRotateHeadingHandle=function(Z,fa,L,qa){qa=qa.worldUpAtPosition(L.origin,w.sv3d.get());
const va=Da(L,0),Ca=z.identity(w.sm4d.get());z.rotateZ(Ca,Ca,va.edge*Math.PI/2);z.rotateX(Ca,Ca,-(I.angleAroundAxis(qa,L.basis2,L.basis1)+na));z.multiply(Ca,fa,Ca);Ca[12]=0;Ca[13]=0;Ca[14]=0;Z.modelTransform=Ca;Z.renderLocation=va.position};y.updateRotateTiltHandle=function(Z,fa,L){L=Da(L,1);const qa=z.identity(w.sm4d.get());z.rotateZ(qa,qa,L.edge*Math.PI/2);z.rotateX(qa,qa,na);z.multiply(qa,fa,qa);qa[12]=0;qa[13]=0;qa[14]=0;Z.modelTransform=qa;Z.renderLocation=L.position};y.updateShiftRestartHandle=
function(Z,fa,L,qa){var va=Da(L,2);const Ca=w.sm4d.get();z.rotateZ(Ca,fa,va.edge*Math.PI/2);fa=F.normalize(w.sv3d.get(),va.basis);fa=F.scale(w.sv3d.get(),fa,va.direction*qa.computeScreenPixelSizeAt(va.position)*D.SHIFT_RESTART_OFFSET_DISTANCE);F.add(fa,fa,va.position);va=qa.projectToRenderScreen(fa,G.castRenderScreenPointArray3(w.sv3d.get()));{const [Ma,Qa,Sa,Xa]=qa.viewport;var Aa=Math.min(Sa,Xa)/16;let Ba=!0;va[0]<Ma+Aa?(va[0]=Ma+Aa,Ba=!1):va[0]>Ma+Sa-Aa&&(va[0]=Ma+Sa-Aa,Ba=!1);va[1]<Qa+Aa?(va[1]=
Qa+Aa,Ba=!1):va[1]>Qa+Xa-Aa&&(va[1]=Qa+Xa-Aa,Ba=!1);Aa=Ba}R.fromRender(qa,va,ha);F.normalize(ha.direction,ha.direction);qa=w.sv3d.get();!Aa&&B.intersectRay(L,ha,qa)&&(fa=qa);Ca[12]=0;Ca[13]=0;Ca[14]=0;Z.modelTransform=Ca;Z.renderLocation=P.clone(fa);Z.state=Aa?Z.state|32:Z.state&-33};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/analysisTools/slice/sliceToolConfig":function(){define(["exports","../../../../../core/has","../../../../../core/mathUtils"],function(y,aa,
K){aa=aa("mac")?"Meta":"Control";const Y=Math.cos(K.deg2rad(45));K=Math.cos(K.deg2rad(5));var Q=[1,.5,0];const A=[...Q,.7],G=[...Q,.5],z=[...Q,1],x=[...Q,1],C=[...Q,1];Q=[...Q,1];y.DISPLAY_FOCUS_MULTIPLIER=2;y.GRID_COLOR=G;y.INITIAL_DEPTH_OFFSET_FRAC=.02;y.INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION=.4;y.PLANE_BACKGROUND_COLOR=[0,0,0,.04];y.PLANE_MIN_BASIS_SCREEN_LEN2=1600;y.PLANE_OUTLINE_COLOR=A;y.PLANE_OUTLINE_WIDTH=1;y.PLANE_PREVIEW_OUTLINE_WIDTH=2;y.POINTER_MOVE_TIMER_MS=2500;y.PREVIEW_FADE_DOT_THRESHOLD=
.95;y.PREVIEW_FADE_DURATION_SECONDS=.3;y.RESIZE_HANDLE_COLOR=Q;y.RESIZE_HANDLE_CORNER_INPUT_RADIUS=6;y.RESIZE_HANDLE_CORNER_WIDTH=4;y.RESIZE_HANDLE_EDGE_INPUT_RADIUS=4;y.RESIZE_HANDLE_EDGE_PADDING_FRAC=.3;y.RESIZE_HANDLE_EDGE_WIDTH=1;y.ROTATE_HEADING_CALLOUT_COLOR=z;y.ROTATE_HEADING_DISC_RADIUS=27;y.ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER=1.1;y.ROTATE_HEADING_OFFSET_DISTANCE=40;y.ROTATE_HEADING_TIP_LENGTH=12;y.SHIFT_RESTART_ARROW_CAP_COLOR=[1,.8,.6,1];y.SHIFT_RESTART_ARROW_LENGTH=48;y.SHIFT_RESTART_ARROW_OUTLINE_WIDTH=
2.25;y.SHIFT_RESTART_ARROW_TIP_COLOR=[1,1,1,1];y.SHIFT_RESTART_CALLOUT_COLOR=x;y.SHIFT_RESTART_OFFSET_DISTANCE=40;y.SHIFT_RESTART_OUTLINE_COLOR=C;y.SHIFT_RESTART_TIP_FOCUS_MULTIPLIER=1.15;y.SHIFT_RESTART_TIP_LENGTH=22.5;y.SHIFT_RESTART_TIP_RADIUS=11;y.SHIFT_RESTART_TUBE_COLOR=[1,.93,.86,1];y.SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER=1.15;y.SHIFT_RESTART_TUBE_RADIUS=3;y.SMALL_ANGLE_DOT_THRESHOLD=K;y.VERTICAL_DOT_THRESHOLD=Y;y.forceHorizontalModifier=aa;y.forceVerticalModifier="Shift";Object.defineProperty(y,
"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/LineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ./Object3DVisualElement ../../layers/graphics/lineUtils ../../webgl-engine/materials/RibbonLineMaterial".split(" "),function(y,aa,K,Y,Q,A,G,z,x,C,F,P){C=function(B){function H(I){var w=
B.call(this,I)||this;w._renderOccluded=4;w._width=1;w._color=x.fromValues(1,0,1,1);w._innerWidth=1;w._innerColor=null;w._stipplePattern=null;w._stippleOffColor=null;w._stipplePreferContinuous=!0;w._writeDepthEnabled=!0;w._falloff=0;w._polygonOffset=!1;w.applyProps(I);return w}aa._inheritsLoose(H,B);var E=H.prototype;E.setGeometryFromRenderSpacePoint=function(I){const w=[];w.push([[I[0]-1E3,I[1]+0,I[2]+0],[I[0]+1E3,I[1]+0,I[2]+0]]);w.push([[I[0]-0,I[1]-1E3,I[2]+0],[I[0]+0,I[1]+1E3,I[2]+0]]);w.push([[I[0]-
0,I[1]+0,I[2]-1E3],[I[0]+0,I[1]+0,I[2]+1E3]]);this.geometry=w};E.setGeometryFromExtent=function(I){const w=this.view.spatialReference,J=G.create(),T=G.create(),D=[];A.set(J,I[0],I[1],100);this.view.renderCoordsHelper.toRenderCoords(J,w,T);D.push([T[0],T[1],T[2]]);A.set(J,I[2],I[1],100);this.view.renderCoordsHelper.toRenderCoords(J,w,T);D.push([T[0],T[1],T[2]]);A.set(J,I[2],I[3],100);this.view.renderCoordsHelper.toRenderCoords(J,w,T);D.push([T[0],T[1],T[2]]);A.set(J,I[0],I[3],100);this.view.renderCoordsHelper.toRenderCoords(J,
w,T);D.push([T[0],T[1],T[2]]);A.set(J,I[0],I[1],100);this.view.renderCoordsHelper.toRenderCoords(J,w,T);D.push([T[0],T[1],T[2]]);A.set(J,I[0],I[1],100);this.view.renderCoordsHelper.toRenderCoords(J,w,T);D.push([T[0],T[1],T[2]]);this.geometry=[D]};E.setGeometryFromFrustum=function(I){const w=[];I.lines.forEach(J=>{w.push([J.origin[0],J.origin[1],J.origin[2]]);w.push([J.endpoint[0],J.endpoint[1],J.endpoint[2]])});this.geometry=[w]};E.setGeometryFromBoundedPlane=function(I){const w=[],J=I.origin,T=I.basis1;
I=I.basis2;const D=G.create(),O=G.create(),S=G.create(),V=G.create();D[0]=J[0]-.5*T[0]-.5*I[0];D[1]=J[1]-.5*T[1]-.5*I[1];D[2]=J[2]-.5*T[2]-.5*I[2];O[0]=J[0]-.5*T[0]+.5*I[0];O[1]=J[1]-.5*T[1]+.5*I[1];O[2]=J[2]-.5*T[2]+.5*I[2];S[0]=J[0]+.5*T[0]+.5*I[0];S[1]=J[1]+.5*T[1]+.5*I[1];S[2]=J[2]+.5*T[2]+.5*I[2];V[0]=J[0]+.5*T[0]-.5*I[0];V[1]=J[1]+.5*T[1]-.5*I[1];V[2]=J[2]+.5*T[2]-.5*I[2];w.push([D[0],D[1],D[2]]);w.push([O[0],O[1],O[2]]);w.push([S[0],S[1],S[2]]);w.push([V[0],V[1],V[2]]);w.push([D[0],D[1],D[2]]);
this.geometry=[w]};E.setGeometryFromSegment=function(I){const w=I.endRenderSpace;Y.identity(N);Y.translate(N,N,w);this.transform=N;({points:I}=I.createRenderGeometry(w,this.view.renderCoordsHelper));this.geometry=[I]};E.setGeometryFromSegments=function(I,w=G.ZEROS){Y.identity(N);Y.translate(N,N,w);this.transform=N;this.geometry=I.map(J=>J.createRenderGeometry(w,this.view.renderCoordsHelper).points)};E.createExternalResources=function(){this._material=new P.RibbonLineMaterial(this.materialParameters)};
E.destroyExternalResources=function(){this._material=null};E.createGeometries=function(I){const w=this._createLineGeometries();if(0!==w.length)for(let J=0;J<w.length;++J){const T=F.createGeometry(w[J]);I.addGeometry(T,this._material)}};E.forEachExternalMaterial=function(I){I(this._material)};E._updateMaterial=function(){this.attached&&this._material.setParameters(this.materialParameters)};E._createLineGeometries=function(){const I=this.geometry;if(K.isNone(I)||0===I.length)return[];const w=[];I.forEach(J=>
{const T=new Float64Array(3*J.length);J.forEach((D,O)=>{T[3*O]=D[0];T[3*O+1]=D[1];T[3*O+2]=D[2]});w.push({overlayInfo:null,attributeData:{position:T},removeDuplicateStartEnd:0})});return w};aa._createClass(H,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(I){I!==this._renderOccluded&&(this._renderOccluded=I,this._updateMaterial())}},{key:"geometry",get:function(){return this._geometry},set:function(I){this._geometry=I;this.recreateGeometry()}},{key:"width",get:function(){return this._width},
set:function(I){I!==this._width&&(this._width=I,this._updateMaterial())}},{key:"color",get:function(){return this._color},set:function(I){z.exactEquals(I,this._color)||(z.copy(this._color,I),this._updateMaterial())}},{key:"innerWidth",get:function(){return this._innerWidth},set:function(I){I!==this._innerWidth&&(this._innerWidth=I,this._updateMaterial())}},{key:"innerColor",get:function(){return this._innerColor},set:function(I){if(K.isSome(I)){if(K.isNone(this._innerColor)||!z.exactEquals(I,this._innerColor))this._innerColor=
z.copy(x.create(),I),this._updateMaterial()}else K.isSome(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}},{key:"stipplePattern",get:function(){return this._stipplePattern},set:function(I){const w=K.isSome(I)!==K.isSome(this._stipplePattern);this._stipplePattern=I;w?this.recreate():this._updateMaterial()}},{key:"stippleOffColor",get:function(){return this._stippleOffColor},set:function(I){if(K.isNone(I)||K.isNone(this._stippleOffColor)||!z.exactEquals(I,this._stippleOffColor))this._stippleOffColor=
K.isSome(I)?x.clone(I):null,this._updateMaterial()}},{key:"stipplePreferContinuous",get:function(){return this._stipplePreferContinuous},set:function(I){this._stipplePreferContinuous!==I&&(this._stipplePreferContinuous=I,this._updateMaterial())}},{key:"writeDepthEnabled",get:function(){return this._writeDepthEnabled},set:function(I){this._writeDepthEnabled!==I&&(this._writeDepthEnabled=I,this._updateMaterial())}},{key:"falloff",get:function(){return this._falloff},set:function(I){I!==this._falloff&&
(this._falloff=I,this._updateMaterial())}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(I){I!==this._polygonOffset&&(this._polygonOffset=I,this._updateMaterial())}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,polygonOffset:this._polygonOffset,
renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}}]);return H}(C.Object3DVisualElement);const N=Q.create();y.LineVisualElement=C;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/SlicePlaneVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec4 ../../../../chunks/vec4f32 ./Object3DVisualElement ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/SlicePlaneMaterial".split(" "),
function(y,aa,K,Y,Q,A,G,z){A=function(x){function C(P){var N=x.call(this,P)||this;N._material=null;N._renderOccluded=4;N._gridWidth=1;N._gridColor=Q.fromValues(1,0,0,1);N._backgroundColor=Q.fromValues(1,0,0,1);N.applyProps(P);return N}aa._inheritsLoose(C,x);var F=C.prototype;F.createExternalResources=function(){this._material=new z.SlicePlaneMaterial(this.materialParameters)};F.destroyExternalResources=function(){this._material=null};F.forEachExternalMaterial=function(P){K.isSome(this._material)&&
P(this._material)};F.createGeometries=function(P){if(K.isSome(this._material)){const N=G.createSquareGeometry();P.addGeometry(N,this._material)}};F._updateMaterial=function(){K.isSome(this._material)&&this._material.setParameters(this.materialParameters)};aa._createClass(C,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(P){P!==this._renderOccluded&&(this._renderOccluded=P,this._updateMaterial())}},{key:"gridWidth",get:function(){return this._gridWidth},set:function(P){this._gridWidth!==
P&&(this._gridWidth=P,this._updateMaterial())}},{key:"gridColor",get:function(){return this._gridColor},set:function(P){Y.copy(this._gridColor,P);this._updateMaterial()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(P){Y.copy(this._backgroundColor,P);this._updateMaterial()}},{key:"materialParameters",get:function(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}}]);return C}(A.Object3DVisualElement);
y.SlicePlaneVisualElement=A;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/materials/SlicePlaneMaterial":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/GLMaterial ../lib/Material ./internal/DefaultBufferWriter ./internal/MaterialUtil ../shaders/SlicePlaneMaterialTechnique".split(" "),function(y,aa,K,Y,Q,A,G,z,x){let C=function(N){function B(E){E=N.call(this,
E,P)||this;E._config=new Y.ShaderTechniqueConfiguration;return E}aa._inheritsLoose(B,N);var H=B.prototype;H.intersect=function(E,I,w,J,T,D,O){return z.intersectTriangleGeometry(E,I,J,T,D,void 0,O)};H.createBufferWriter=function(){return new G.DefaultBufferWriter(G.PositionUVLayout)};H.requiresSlot=function(E){return 7===E};H.createGLMaterial=function(E){return 0===E.output?new F(E):null};H.getTechniqueConfig=function(){return this._config};return B}(A.Material),F=function(N){function B(E){E=N.call(this,
E)||this;E.ensureTechnique(x.SlicePlaneMaterialTechnique,null);return E}aa._inheritsLoose(B,N);var H=B.prototype;H.updateParameters=function(){return K.unwrap(this.technique)};H.beginSlot=function(){return K.unwrap(this.technique)};H.bind=function(E,I){I.bindPass(this._material.parameters,E)};return B}(Q);const P={backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4,...A.materialParametersDefaults};y.SlicePlaneMaterial=C;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../core/shaderLibrary/util/View.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/DefaultVertexAttributeLocations ../lib/Program ../../../../chunks/SlicePlaneMaterial.glsl ../../../webgl/renderState".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C){A=function(F){function P(){return F.apply(this,arguments)||this}K._inheritsLoose(P,F);var N=P.prototype;N.initializeProgram=function(B){const H=P.shader.get().build();return new z.Program(B.rctx,H,G.Default3D)};N.bindPass=function(B,H){Y.bindProjectionMatrix(this.program,H.camera.projectionMatrix);this.program.setUniform4fv("backgroundColor",B.backgroundColor);this.program.setUniform4fv("gridColor",B.gridColor);this.program.setUniform1f("gridWidth",B.gridWidth)};N.bindDraw=
function(B){Y.bindView(this.program,B);this.program.rebindTextures()};N.initializePipeline=function(){return C.makePipelineState({blending:C.separateBlendingParams(1,1,771,771),depthTest:{func:513},colorWrite:C.defaultColorWriteParams})};return P}(A.ShaderTechnique);A.shader=new Q.ReloadableShaderModule(x.SlicePlaneMaterialShader,()=>new Promise((F,P)=>y(["./SlicePlaneMaterial.glsl"],F,P)));aa.SlicePlaneMaterialTechnique=A;Object.defineProperty(aa,"__esModule",{value:!0})})},"esri/chunks/SlicePlaneMaterial.glsl":function(){define(["exports",
"../views/3d/webgl-engine/core/shaderModules/interfaces","../views/3d/webgl-engine/core/shaderModules/ShaderBuilder"],function(y,aa,K){function Y(){const A=new K.ShaderBuilder;A.extensions.add("GL_OES_standard_derivatives");A.vertex.uniforms.add("proj","mat4").add("view","mat4");A.attributes.add("position","vec3");A.attributes.add("uv0","vec2");A.varyings.add("vUV","vec2");A.vertex.code.add(aa.glsl`void main(void) {
vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);
}`);A.fragment.uniforms.add("backgroundColor","vec4").add("gridColor","vec4").add("ratio","float").add("gridWidth","float");A.fragment.code.add(aa.glsl`void main() {
const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
gl_FragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;
}`);return A}const Q=Object.freeze({__proto__:null,build:Y});y.SlicePlaneMaterialShader=Q;y.build=Y})},"esri/views/3d/webgl-engine/materials/ImageMaterial":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../lib/GLMaterials ../lib/GLMaterialTexture ../lib/Material ../lib/OrderIndependentTransparency ./internal/DefaultBufferWriter ./internal/MaterialUtil ../shaders/ImageMaterialTechnique".split(" "),function(y,aa,K,Y,Q,A,G,z,x){let C=function(N){function B(E){E=N.call(this,E,
P)||this;E.supportsEdges=!0;E.techniqueConfig=new x.ImageMaterialTechniqueConfiguration;return E}aa._inheritsLoose(B,N);var H=B.prototype;H.getTechniqueConfig=function(E,I){this.techniqueConfig.output=E;this.techniqueConfig.cullFace=this.parameters.cullFace;this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled;this.techniqueConfig.transparent=this.parameters.transparent;this.techniqueConfig.writeDepth=this.parameters.writeDepth;this.techniqueConfig.sceneHasOcludees=this.parameters.sceneHasOcludees;
this.techniqueConfig.transparencyPassType=I.transparencyPassType;this.techniqueConfig.enableOffset=I.camera.relativeElevation<A.OITPolygonOffsetLimit;this.techniqueConfig.multipassTerrainEnabled=I.multipassTerrainEnabled;this.techniqueConfig.cullAboveGround=I.cullAboveGround;return this.techniqueConfig};H.intersect=function(E,I,w,J,T,D,O){z.intersectTriangleGeometry(E,I,J,T,D,void 0,O)};H.requiresSlot=function(E,I){return 20===E?!0:4===K.outputFromPass(I)?2===E:E===(this.parameters.transparent?this.parameters.writeDepth?
4:7:2)};H.createGLMaterial=function(E){return 0===E.output||7===E.output||4===E.output?new F(E):void 0};H.createBufferWriter=function(){return new G.DefaultBufferWriter(G.PositionUVLayout)};return B}(Q.Material),F=function(N){function B(E){return N.call(this,{...E,...E.material.parameters})||this}aa._inheritsLoose(B,N);var H=B.prototype;H.updateParameters=function(E){this.updateTexture(this._material.parameters.textureId);return this.ensureTechnique(x.ImageMaterialTechnique,E)};H._updateOccludeeState=
function(E){E.hasOccludees!==this._material.parameters.sceneHasOcludees&&(this._material.setParameters({sceneHasOcludees:E.hasOccludees}),this.updateParameters(E))};H.beginSlot=function(E){0!==this._output&&7!==this._output||this._updateOccludeeState(E);return this.updateParameters(E)};H.bind=function(E,I){this.bindTextures(I.program);this.bindTextureScale(I.program);I.bindPass(this._material.parameters,E)};return B}(Y);const P={transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,
opacity:1,textureId:null,initTextureTransparent:!0,...Q.materialParametersDefaults};y.ImageMaterial=C;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/shaders/ImageMaterialTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../core/shaderLibrary/Slice.glsl ../core/shaderLibrary/shading/MultipassTerrainTest.glsl ../core/shaderLibrary/util/View.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../lib/OrderIndependentTransparency ../lib/Program ../lib/StencilUtils ../../../../chunks/ImageMaterial.glsl ../../../webgl/renderState".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N,B,H,E){x=function(w){function J(){return w.apply(this,arguments)||this}K._inheritsLoose(J,w);var T=J.prototype;T.initializeProgram=function(D){var O=J.shader.get();const S=this.configuration;O=O.build({output:S.output,slicePlaneEnabled:S.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,OITEnabled:0===S.transparencyPassType,multipassTerrainEnabled:S.multipassTerrainEnabled,cullAboveGround:S.cullAboveGround});return new N.Program(D.rctx,
O,F.Default3D)};T.bindPass=function(D,O){G.bindProjectionMatrix(this.program,O.camera.projectionMatrix);this.program.setUniform1f("opacity",D.opacity);O.multipassTerrainEnabled&&(this.program.setUniform2fv("cameraNearFar",O.camera.nearFar),this.program.setUniform2fv("inverseViewport",O.inverseViewport),A.bindMultipassTerrainTexture(this.program,O))};T.bindDraw=function(D){G.bindView(this.program,D);Q.bindSliceUniformsWithOrigin(this.program,this.configuration,D);this.program.rebindTextures()};T.setPipelineState=
function(D,O){const S=this.configuration,V=3===D,da=2===D;return E.makePipelineState({blending:0!==S.output&&7!==S.output||!S.transparent?null:V?I:P.OITBlending(D),culling:E.cullingParams(S.cullFace),depthTest:{func:P.OITDepthTest(D)},depthWrite:V?S.writeDepth&&E.defaultDepthWriteParams:P.OITDepthWrite(D),colorWrite:E.defaultColorWriteParams,stencilWrite:S.sceneHasOcludees?B.stencilWriteMaskOn:null,stencilTest:S.sceneHasOcludees?O?B.stencilToolMaskBaseParams:B.stencilBaseAllZerosParams:null,polygonOffset:V||
da?null:P.getOITPolygonOffset(S.enableOffset)})};T.initializePipeline=function(){this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0);return this.setPipelineState(this.configuration.transparencyPassType,!1)};T.getPipelineState=function(D,O){return O?this._occludeePipelineState:w.prototype.getPipelineState.call(this,D,O)};return J}(x.ShaderTechnique);x.shader=new z.ReloadableShaderModule(H.ImageMaterialShader,()=>new Promise((w,J)=>y(["./ImageMaterial.glsl"],
w,J)));const I=E.simpleBlendingParams(1,771);z=function(w){function J(){var T=w.apply(this,arguments)||this;T.output=0;T.cullFace=0;T.slicePlaneEnabled=!1;T.transparent=!1;T.enableOffset=!0;T.writeDepth=!0;T.sceneHasOcludees=!1;T.transparencyPassType=3;T.multipassTerrainEnabled=!1;T.cullAboveGround=!1;return T}K._inheritsLoose(J,w);return J}(C.ShaderTechniqueConfiguration);Y.__decorate([C.parameter({count:8})],z.prototype,"output",void 0);Y.__decorate([C.parameter({count:3})],z.prototype,"cullFace",
void 0);Y.__decorate([C.parameter()],z.prototype,"slicePlaneEnabled",void 0);Y.__decorate([C.parameter()],z.prototype,"transparent",void 0);Y.__decorate([C.parameter()],z.prototype,"enableOffset",void 0);Y.__decorate([C.parameter()],z.prototype,"writeDepth",void 0);Y.__decorate([C.parameter()],z.prototype,"sceneHasOcludees",void 0);Y.__decorate([C.parameter({count:4})],z.prototype,"transparencyPassType",void 0);Y.__decorate([C.parameter()],z.prototype,"multipassTerrainEnabled",void 0);Y.__decorate([C.parameter()],
z.prototype,"cullAboveGround",void 0);aa.ImageMaterialTechnique=x;aa.ImageMaterialTechniqueConfiguration=z;Object.defineProperty(aa,"__esModule",{value:!0})})},"esri/chunks/ImageMaterial.glsl":function(){define("exports ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl ../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder".split(" "),
function(y,aa,K,Y,Q,A,G,z,x){function C(P){const N=new x.ShaderBuilder;N.include(K.Transform,{linearDepth:!1});N.vertex.uniforms.add("proj","mat4").add("view","mat4");N.attributes.add("position","vec3");N.attributes.add("uv0","vec2");N.varyings.add("vpos","vec3");P.multipassTerrainEnabled&&N.varyings.add("depth","float");N.vertex.uniforms.add("textureCoordinateScaleFactor","vec2");N.vertex.code.add(z.glsl`
    void main(void) {
      vpos = position;
      ${P.multipassTerrainEnabled?"depth \x3d (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0 * textureCoordinateScaleFactor;
      gl_Position = transformPosition(proj, view, vpos);
    }
  `);N.include(aa.Slice,P);P.multipassTerrainEnabled&&(N.fragment.include(Y.ReadLinearDepth),N.include(Q.multipassTerrainTest,P));N.fragment.uniforms.add("tex","sampler2D");N.fragment.uniforms.add("opacity","float");N.varyings.add("vTexCoord","vec2");7===P.output?N.fragment.code.add(z.glsl`
    void main() {
      discardBySlice(vpos);
      ${P.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}

      float alpha = texture2D(tex, vTexCoord).a * opacity;
      if (alpha  < ${z.glsl.float(A.defaultMaskAlphaCutoff)}) {
        discard;
      }

      gl_FragColor = vec4(alpha);
    }
    `):(N.fragment.include(G.ColorConversion),N.fragment.code.add(z.glsl`
    void main() {
      discardBySlice(vpos);
      ${P.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}
      gl_FragColor = texture2D(tex, vTexCoord) * opacity;

      if (gl_FragColor.a < ${z.glsl.float(A.defaultMaskAlphaCutoff)}) {
        discard;
      }

      gl_FragColor = highlightSlice(gl_FragColor, vpos);
      ${P.OITEnabled?"gl_FragColor \x3d premultiplyAlpha(gl_FragColor);":""}
    }
    `));return N}const F=Object.freeze({__proto__:null,build:C});y.ImageMaterialShader=F;y.build=C})},"esri/widgets/Slice/SlicePlane":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/persistable ../../views/3d/support/mathUtils ../../geometry/Point".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C,F,P,N){var B;K=B=function(H){function E(w){w=H.call(this,w)||this;w.type="plane";w.position=null;w.heading=0;w.tilt=0;w.width=10;w.height=10;return w}y._inheritsLoose(E,H);var I=E.prototype;I.clone=function(){return new B({position:Q.clone(this.position),heading:this.heading,tilt:this.tilt,width:this.width,height:this.height})};I.equals=function(w){return this.heading===w.heading&&this.tilt===w.tilt&&A.equalsMaybe(this.position,w.position)&&this.width===w.width&&this.height===
w.height};return E}(Y.JSONSupport);aa.__decorate([G.property({readOnly:!0,json:{read:!1,write:!0}})],K.prototype,"type",void 0);aa.__decorate([G.property({type:N}),F.persistable()],K.prototype,"position",void 0);aa.__decorate([G.property({type:Number,nonNullable:!0,range:{min:0,max:360}}),F.persistable(),z.cast(H=>P.cyclicalDeg.normalize(C.ensureNumber(H),0,!0))],K.prototype,"heading",void 0);aa.__decorate([G.property({type:Number,nonNullable:!0,range:{min:0,max:360}}),F.persistable(),z.cast(H=>P.cyclicalDeg.normalize(C.ensureNumber(H),
0,!0))],K.prototype,"tilt",void 0);aa.__decorate([G.property({type:Number,nonNullable:!0}),F.persistable()],K.prototype,"width",void 0);aa.__decorate([G.property({type:Number,nonNullable:!0}),F.persistable()],K.prototype,"height",void 0);return K=B=aa.__decorate([x.subclass("esri.widgets.Slice.SlicePlane")],K)})},"esri/views/3d/interactive/analysisTools/slice/images/Factory":function(){define(["exports","./heading-rotate-png","./tilt-rotate-png","../../../../webgl-engine/lib/Texture"],function(y,
aa,K,Y){const Q={mipmap:!0,preMultiplyAlpha:!0,width:64,height:64};y.getRotateHeadingTexture=function(A){return A.fromData(aa,()=>new Y.Texture(aa,Q))};y.getTiltRotateTexture=function(A){return A.fromData(K,()=>new Y.Texture(K,Q))};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/3d/interactive/analysisTools/slice/images/heading-rotate-png":function(){define(function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACuFBMVEUAAAD/AAD/gAD/VQD/gAD/bQD/gAD/cQD/gAD/dAD/eAD/gAD/gAD/egD/gAD/ewD/gAD/fAD/gAD/fQD/gAD/fQD/fQD/egD/fQD/gAD/fQD/ewD/fQD/gAD/gAD/fQD/gAD/fAD/fgD/fgD/fAD/fgD/fAD/fgD/fAD/fgD/gAD/fAD/fgD/fAD/fQD/fgD/fgD/fQD/fgD/fgD/fQD/fgD/fQD/fQD/fgD/fgD/fQD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fgD/gAL/fgD/gAb/gAT/gwr/gQj/hA7/hAz/hxH/iBP/ixn/iRf/jBz/jR7/jyP/kCX/kyr/lS7/lCz/li//mTT/mTf/nDr/mjn/nTz/n0H/nT//oET/oEL/okf/oEX/o0r/pU3/o0v/pU//qFL/plH/qFX/qFP/qVb/q1n/rV3/rFz/rmD/rl7/sGL/rmH/tW3/s2v/tW//tW7/t3L/tnD/uHT/unb/unn/unf/vHv/vX3/v4D/vX7/w4n/xY3/xIv/x4//xY3/x5H/yZP/x5H/yJP/y5f/yZX/zZv/y5n/zZ3/zJv/z5//z6D/z6H/0aT/0KP/0qb/06j/1av/06r/1q3/1q//17H/2rb/2rb/2rj/3bz/4MH/38D/38H/4sX/4MT/48f/4sb/4sf/5Mr/5s3/5cz/5s3/59D/59D/6dT/6dP/6dT/6tb/6tX/6tf/69n/69j/7dr/7Nn/7dz/7dv/7t3/7t7/7t3/7+H/8eL/8uX/8eP/8+j/8+f/9On/8+j/9Or/9ez/9e3/9ez/9e3/9+//9+7/+PD/9+//+PH/+PD/+fL/+PH/+fT/+vX/+fT/+vb/+vX/+/b/+vb/+/j/+/j//Pr//Pn//fv//v3//vz//fz//fv//v3//fz//////v7//v3///9vf1WOAAAA53RSTlMAAQIDBgcICQoLERIYGRobKCkqKywtLzAxMjM4OTo+P0BAQUVGR0hPUFFSUlNUWlthYmNlZmdoamtvcHR1dnd4eXx9f4CAgYGCgoODhIWGhoeIiYqLjIyNjo+QkJGSkpOTlJSVlpaXmJiZmZqbnJydnZ6eoqKjo6Skpaanp6ipqqqvsLCxsbKzs7S1tbe3uLi5uru8vL2+wMDBwsTGx8jLzc3O0NDR0dLT1dXW19ja2tvc3N3e3t/f4ODh4uLl5ufn6urr6+zt7u7v8PDx8fLy8/P09fX29vf3+Pn6+vv8/Pz8/f3+/v7EBDCzAAADmklEQVR42qXXd3sUVRQG8BNDKkU3KLYUIFkLLBo0yRJNBszuuwQlGISIDUTFhljAhhUbtlXEYEcjoEJUNCqKPXZUUCDU0FvI+RpkZpa5c9iZzMzD7+/d88yde+95z5CbvIIhIyqrtbo6rboyUlKQR4GcGI7GIMSi4QHkU1bRKDgaVZRF3nKGanClDc4hD4Nq0CvtzAzqRd8L4GlkX3IVGg0fxpxMzjLOgk9hx2VkRuBbJNPh/+cjpQnezkuvcC6Q8vVseItkkKTWP6Pr17HwVkbCQFg+YJ4P3U0vtrS1t//c9u6zM+DgFLH/av+m7Gfe1IhpLf+ysmbxVBxrdD4ptvPzDvdY2trNUvfytBLlZDkdloZt3GPvPk5z8K0EpFMpJacWlmTqmdnBd1dBqMkm01BY4n+waTsb1nd0drHl/2kQSsiQpcHyKKd0MP/YfOt4AJfPWtTOKRumw04z+0MRlNV81PezoNz5JZv+boRdIemisMxkS+ck2M3rZMPHskcZ/Q/KR6y8D2HqWjbMh11/IgrDfoiU7lsgXGNW6GgQB1quYPrClk9+WnuITash3WGWfw02VUR5MUCKX3n7w8m3P1z121xIzazbMg5KLJcK4Ntl5vV4EDYhGgz/XmDdcnmWRsC/iQeM1wibYVSBAL5g3WQoF9JFCOBN1t0PpZo0BDCPdU9BqaU6BPAA65JQLglWYDbrFooCGgJ4jHXPiSUEeokvse4hKNXBtnEF624W2xiBf/GN3GP3pVCG0xAIE57+9h64uZd1bbApFpcpMXfFLuaVcLOKdS/DJiSu87UHucfhOb0+wIEmeZ0pCqWVdX+Nh5MJ61i3BDaVsqVhphkCnyaQrt68SYdvhE0pEQ2AzRI2LBuX3k1a2fAe7PoRyTU0/seGb66ANPkHNqxpEG1dBIvhvkNs2PLMWCiJ5FY27LlbBouMNsOTXWz6p/lqmK57fR2buh+HjDYVrsqCLhWmK5cuXvbZBhUVzzuGK+XUwO6J3exs5yMQLs6mlNMg3PY7O/nlBkiDyDISQv2CHXysrckEpHI5ZEmTXpUzyp+vTOx1yHLIp/icN74y927z54vuiiNNiISwc5hNub6pHoo8xNI5CCSS4T5sw/ewLZ1wNnwbnklOyuBPrJRcnKTBhzEDyVV+OTyV5x/fZ98Z5CG7RIOr2pJs8tanMApH0cI+5FP/sqoYhFhVaT8KJDdUHKkwP/8rhhWHct1+dwRTps/cplDIpwAAAABJRU5ErkJggg\x3d\x3d"})},
"esri/views/3d/interactive/analysisTools/slice/images/tilt-rotate-png":function(){define(function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACtVBMVEUAAAD/AAD/gAD/VQD/gAD/gAD/bQD/gAD/cQD/gAD/dAD/gAD/gAD/eAD/gAD/eQD/gAD/egD/gAD/ewD/fAD/gAD/gAD/fAD/gAD/fQD/fQD/gAD/fQD/egD/fQD/gAD/egD/fQD/gAD/ewD/gAD/ewD/gAD/ewD/fQD/fQD/gAD/ewD/fQD/gAD/fAD/gAD/fAD/fgD/gAD/fAD/fgD/fAD/fgD/gAD/fAD/fgD/fAD/fgD/fQD/fQD/fgD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fQD/fgD/gAL/fgD/gAb/gAT/gwr/hAz/hxH/hQ//iBX/iBP/ixn/iRf/jBr/jR7/jyP/jyL/kif/kCX/kyr/lS7/lCz/ljH/li//mTX/nDr/mjn/nTz/oEL/okf/o0r/pU3/pU7/qFL/plH/qFX/q1j/q1r/rl7/sGL/rmH/s2v/tW//tW7/t3L/uHL/unb/unf/vHv/vX3/v4D/vX7/v4D/wYT/v4L/wYX/x4//x5H/yZX/y5n/zZv/y5n/zJv/zZ3/zp//0aL/z6H/1Kr/1av/06r/1q//17H/2bT/2LP/2rb/27n/3bz/3r7/37//4MH/38D/4ML/4sX/4sb/4sf/48n/5cv/48r/5cz/5s7/6dT/6tb/69j/69n/7Nn/7dv/7dz/7t7/7t3/7+H/7+D/7+H/8eL/8uX/8uX/8ub/8+j/8+f/9On/9er/9Or/9ez/9e3/9ez/9u7/9e3/9+//9+7/+PD/+PH/+fT/+fL/+vb/+vX/+vb/+/f/+vb//Pn/+/j//Pr//Pn//fv//Pr//fv//v3//fz//////v7//v3///8ZYzD6AAAA5nRSTlMAAQIDBAYHCAkKCwwQERITGBkaGyUmKCkqKy0uLzAxMjIzNDQ2Njg4OTs+Pj9AQEJCQ0RERUZHUlJTVFVWWFlfYGFiY2RlZmdoaWprbG1ucHFyc3R1dnd4eXp8f4CAgYGCg4SEhYWGhoeIiYmKiouMjI2Nj5CQkZOUlZaXmJiZmpudnp6io6OkpaanqKmqqqusrK2xs7W2t7e4ubq7u7/AwMLExcXGyMrLzM3NztDR0tPU1NXW29zd3t/g4eLi5OTl5ufo6erq6+zs7e7u7+/w8PHy9PT29vf4+Pn5+vr7+/z9/f7+/pNrFTEAAAO8SURBVHjaldf5W1RVGAfwl4kGxa2yIDPbF82EJhkVUEOiUiDMcJa482XCijStNLLVpoWCbLHFaZUoMSkq2wgtW8mobFcryiiWkffv6J557jh3zj33zvD56f3h3vM873nP+z7nkJ3cPE9JxdX+OgSWX15aMG0CjcnUoiuRSls2byplyH1eDZSqZrkz+d0ThC1/QQ45c521Eo58p5GTSZcirbIpZGtGEBkI5pNaVhEyo3mzSCF7ITJW7CKLYxbDTsPG5qe33QezxdkkySqGndYY615CilI5Cy9sRVjYgVRzKcXJGmzdwsKHkEwnkylB2AsNse5zSIITKWkJnPzCut8gW5IsxRlw9CnrRuohO5MM43xw9D4Lt0JWm2jOOXD2Ogv3w6LQaGA/nL3AwuOwCLpJmIU0nmDheVidQ0IV0niAhQ5YVcfnH2zcCMNtLLwHheOJaB5s7OxuQlx4hHV7oeAhokrYaOeBjkYIv7LuJyhUEU3QYONFZj4YrQfwGeuGQrDSxtM0KK2N7h5koa8V+ICFdVA4SX2Kbt5xmA2j7SHsZGETFOZQqarwhzjhUAuAl1nYDIUFdAVkoe0s/LiLmT9eD91TLDwHhXJaDtmbrPvyEWzg4dfCEB5kYTsUrqIgJK8w8/C2MHDDgWYgromFXVDwkQbDRsRFhpkHWyHcBMO1oyzSgcI1VGdEd8V6o6uA8D7m2BZIDrJuPxTqKGBEnczc33nHFmZ+A7IvWDegTmEF4lb1s3Dk+wH+oxGyj1hYC6saqkDcVk74u6cJsk4W7oXVZVSCuK84aXTP5pBcGeFRWM2nQmMPOw+zyQ9t62DyLAtRWM2mPBgao1+zyVD3wyEkPMTCq7DKo/Gmdo50DbDJd22JbbudhXdgoeUSVcNkTfRbNvnv3U0QGmKs2w2LpUR0MVI1d4+wSW/0egC/i7APFkXKobq+7Wc2+avrHvSK4B/1UKUaWNQ/1nOEk2Kf7GdhNSTLSDgfKhvaDrDsbkhmkuAOQKnhmb2cqkVuBDfFeWDnzo4/2WQrUl2QuB7XwtZ1T+7ho9qRYmUOGc6Gk8hb/xoLvI0Up1KCqxyOVkf3sdADs0soaVIQaUS6Bpm/gUlgMplMR1pron39SNLyKcVcpBduCQMJXpLMx5gsdJEkexHGYJGLLFzFyFhJNilkeTVkxkM28oPIQOAUsjW5DGmVTSQnM3xwVHt6FjnLudAPW4GLMnq7zqyEUvW5x1KGTvAulSqiVRYeR2OSmz+7uKLGpwX8K8oXFJw4zu67/wFaspwc84wT2QAAAABJRU5ErkJggg\x3d\x3d"})},
"esri/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/maybe","../../analysisTools/slice/sliceToolUtils","../../../../interactive/dragEventPipeline"],function(y,aa,K,Y,Q){let A=function(){function G(){this.lastDragEvent=null;this.next=new Q.EventPipeline;this._enabled=!1}var z=G.prototype;z.createDragEventPipelineStep=function(){this.lastDragEvent=null;return x=>{this.lastDragEvent=
"end"!==x.action?{...x}:null;this._enabled&&this.adjustScaleFactors(x);return x}};z.adjustScaleFactors=function(x){const C=Y.isDiagonalResizeHandle(x.handle)?Math.max(Math.abs(x.factor1),Math.abs(x.factor2)):0===x.handle.direction[0]?Math.abs(x.factor2):Math.abs(x.factor1);x.factor1=0>x.factor1?-C:C;x.factor2=0>x.factor2?-C:C};aa._createClass(G,[{key:"enabled",get:function(){return this._enabled},set:function(x){if(this._enabled!==x&&K.isSome(this.lastDragEvent)){const C={...this.lastDragEvent,action:"update"};
x&&this.adjustScaleFactors(C);this.next.execute(C)}this._enabled=x}},{key:"test",get:function(){return{adjustScaleFactors:x=>this.adjustScaleFactors(x)}}}]);return G}();y.PreserveAspectRatio=A;Object.defineProperty(y,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/support/editPlaneUtils":function(){define("exports ../../../../chunks/vec2 ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../chunks/boundedPlane ../../../../geometry/support/vectorStacks ../operations/MoveVertex ../operations/RotateVertex ../operations/ScaleVertex ../operations/UpdateVertices".split(" "),
function(y,aa,K,Y,Q,A,G,z,x,C){function F(H,E,I){if(H instanceof C.UpdateVertices){if(H.operation instanceof G.MoveVertex)return P(H.operation,E,I),!0;if(H.operation instanceof z.RotateVertex)return N(H.operation,E,I),!0;if(H.operation instanceof x.ScaleVertex)return B(H.operation,E,I),!0}return!1}function P(H,E,I=!1){I=I?-1:1;H=Y.fromValues(I*H.dx,I*H.dy,I*H.dz);K.add(E.origin,E.origin,H)}function N(H,E,I=!1){H=I?-H.angle:H.angle;K.rotateZ(E.basis1,E.basis1,Y.ZEROS,H);K.rotateZ(E.basis2,E.basis2,
Y.ZEROS,H)}function B(H,E,I=!1){const w=I?1/H.factor1:H.factor1;I=I?1/H.factor2:H.factor2;K.scale(E.basis1,E.basis1,w);K.scale(E.basis2,E.basis2,I);aa.projectAndScale(E.origin,E.origin,H.origin,H.axis1,w);aa.projectAndScale(E.origin,E.origin,H.origin,H.axis2,I)}y.apply=function(H,E){return F(H,E,!1)};y.calculateOrientedBounds=function(H,E,I,w){w||(w=Q.create());const J=aa.set(A.sv2d.get(),H[1],-H[0]),T=aa.set(A.sv2d.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),D=aa.set(A.sv2d.get(),Number.NEGATIVE_INFINITY,
Number.NEGATIVE_INFINITY),O=A.sv2d.get();E.components.forEach(S=>S.vertices.forEach(V=>{V=V.pos;aa.set(O,aa.dot(H,V),aa.dot(J,V));aa.min(T,T,O);aa.max(D,D,O)}));E=aa.set(A.sv2d.get(),1E-6>D[0]-T[0]?I/2:0,1E-6>D[1]-T[1]?I/2:0);aa.subtract(T,T,E);aa.add(D,D,E);aa.scale(w.basis1,H,(D[0]-T[0])/2);aa.scale(w.basis2,J,(D[1]-T[1])/2);aa.set(w.origin,T[0]*H[0]+T[1]*J[0],T[0]*H[1]+T[1]*J[1]);aa.add(w.origin,w.origin,w.basis1);aa.add(w.origin,w.origin,w.basis2);return w};y.mapPlaneToRenderPlane=function(H,
E,I,w=0,J){J||(J=Q.create());E.toRenderCoords(H.origin,I,J.origin);var T=A.sv3d.get();K.add(T,H.origin,H.basis1);K.add(T,T,H.basis2);E.toRenderCoords(T,I,T);var D=A.sv3d.get();K.add(D,H.origin,H.basis1);K.subtract(D,D,H.basis2);E.toRenderCoords(D,I,D);const O=A.sv3d.get();K.subtract(O,H.origin,H.basis1);K.subtract(O,O,H.basis2);E.toRenderCoords(O,I,O);const S=A.sv3d.get();K.subtract(S,H.origin,H.basis1);K.add(S,S,H.basis2);E.toRenderCoords(S,I,S);H=K.lerp(A.sv3d.get(),T,D,.5);K.subtract(H,H,J.origin);
E=K.lerp(A.sv3d.get(),O,S,.5);K.subtract(E,J.origin,E);K.lerp(J.basis1,H,E,.5);T=K.lerp(A.sv3d.get(),S,T,.5);K.subtract(T,T,J.origin);D=K.lerp(A.sv3d.get(),D,O,.5);K.subtract(D,J.origin,D);K.lerp(J.basis2,T,D,.5);D=K.cross(A.sv3d.get(),J.basis1,J.basis2);D=K.cross(D,D,J.basis1);K.normalize(D,D);K.scale(J.basis2,D,K.dot(J.basis2,D));K.scale(J.basis1,J.basis1,1+w/K.length(J.basis1));K.scale(J.basis2,J.basis2,1+w/K.length(J.basis2));Q.updateUnboundedPlane(J);return J};y.unapply=function(H,E){return F(H,
E,!0)};Object.defineProperty(y,"__esModule",{value:!0})})},"*noref":1}});
define("exports ./editingTools/draw/DrawGraphicTool3D ./editingTools/moveGraphic/GraphicMoveTool ./editingTools/reshapeGraphic/GraphicReshapeTool ./editingTools/transformGraphic/GraphicTransformTool ./editingTools/transformGraphic/ExtentTransformTool".split(" "),function(y,aa,K,Y,Q,A){Object.defineProperty(y,"DrawGraphicTool3D",{enumerable:!0,get:()=>aa.DrawGraphicTool3D});Object.defineProperty(y,"GraphicMoveTool",{enumerable:!0,get:()=>K.GraphicMoveTool});Object.defineProperty(y,"GraphicReshapeTool",
{enumerable:!0,get:()=>Y.GraphicReshapeTool});Object.defineProperty(y,"GraphicTransformTool",{enumerable:!0,get:()=>Q.GraphicTransformTool});Object.defineProperty(y,"ExtentTransformTool",{enumerable:!0,get:()=>A.ExtentTransformTool});Object.defineProperty(y,"__esModule",{value:!0})});