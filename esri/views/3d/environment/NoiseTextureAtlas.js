// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("exports ../../../core/has ../../../core/maybe ../../webgl/BufferObject ../../webgl/FramebufferObject ../../../chunks/_rollupPluginBabelHelpers ../../webgl/checkWebGLError ../../webgl/enums ../../../chunks/builtins ../../webgl/Texture ../../webgl/VertexArrayObject ./NoiseTextureAtlasTechnique ../webgl-engine/lib/glUtil3D".split(" "),function(e,g,d,r,m,t,u,v,w,n,x,p,q){const f=g("esri-mobile")?64:128,h=Math.ceil(Math.sqrt(f)),c=(f+2)*h;g=function(){function k(a,b){this._shapeTextureDescriptor=
{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9729,hasMipmap:!1,width:1,height:1};this._frameBuffer=new m(a,{colorTarget:0});this._vao=q.createQuadVAO(a);this.textureAtlas=new n(a,this._shapeTextureDescriptor,null);this._technique=new p.NoiseTextureAtlasTechnique({rctx:a,viewingMode:b.state.viewingMode},null)}var l=k.prototype;l.destroy=function(){this._technique=d.releaseMaybe(this._technique);this._frameBuffer=d.disposeMaybe(this._frameBuffer);this._vao=d.disposeMaybe(this._vao);
this.textureAtlas=d.disposeMaybe(this.textureAtlas)};l.render=function(a){if(d.isNone(this._vao)||d.isNone(this.textureAtlas))return!1;this._frameBuffer.resize(c,c);this.textureAtlas.resize(c,c);this._frameBuffer.attachColorTexture(this.textureAtlas);a.bindFramebuffer(this._frameBuffer);var b=this._technique.program;a.bindVAO(this._vao);b.assertCompatibleVertexAttributeLocations(this._vao);this._technique.bindPipelineState(a);a.useProgram(b);b.setUniform1f("tileSize",f);b.setUniform1f("tileRows",
h);b=a.getViewport();a.setViewport(0,0,c,c);a.gl.drawArrays(a.gl.TRIANGLE_STRIP,0,4);this._frameBuffer.detachColorTexture();a.setViewport(b.x,b.y,b.width,b.height);return!0};return k}();e.ATLAS_SIZE=c;e.NoiseTextureAtlas=g;e.TILE_ROWS=h;e.TILE_SIZE=f;Object.defineProperty(e,"__esModule",{value:!0})});