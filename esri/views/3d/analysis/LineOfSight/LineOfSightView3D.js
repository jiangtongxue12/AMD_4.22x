// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Evented ../../../../core/HandleOwner ../../../../core/maybe ../../../../core/accessorSupport/decorators/property ../../../../core/arrayUtils ../../../../core/has ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/subclass ../AnalysisView3D ./LineOfSightController ./LineOfSightViewData ./LineOfSightVisualization".split(" "),function(l,c,b,
n,p,g,d,w,x,y,q,r,t,u,v){b=function(m){function h(a){a=m.call(this,a)||this;a.type="line-of-sight-view";a.suspended=!1;a.fullOpacity=1;a.analysisViewData=new u.LineOfSightViewData;return a}l._inheritsLoose(h,m);var k=h.prototype;k.initialize=function(){const a=this.view,e=this.analysis;this._analysisController=new t.LineOfSightController({analysis:e,analysisViewData:this.analysisViewData,view:a});this._analysisVisualization=new v.LineOfSightVisualization({analysis:e,analysisView:this,view:a});this.handles.add([this._analysisController.on("result-changed",
f=>{f.target!==this.analysisViewData.cursorTarget&&this.emit("result-changed",f)})])};k.destroy=function(){this._analysisController=g.destroyMaybe(this._analysisController);this._analysisVisualization=g.destroyMaybe(this._analysisVisualization)};k.getResultForTarget=function(a){var e=this.analysisViewData.analyses.find(f=>f.target===a);e=g.applySome(e,f=>f.result);return g.unwrapOr(e,null)};l._createClass(h,[{key:"results",get:function(){return this.analysisViewData.analyses.map(a=>a.result)}},{key:"priority",
get:function(){return this._analysisController.priority},set:function(a){this._analysisController.priority=a}},{key:"updating",get:function(){return g.isSome(this._analysisController)&&this._analysisController.updating}},{key:"test",get:function(){return{visualization:this._analysisVisualization,controller:this._analysisController}}}]);return h}(r.AnalysisView3D(p.HandleOwnerMixin(n.EventedMixin(b))));c.__decorate([d.property()],b.prototype,"type",void 0);c.__decorate([d.property()],b.prototype,"analysis",
void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"results",null);c.__decorate([d.property()],b.prototype,"priority",null);c.__decorate([d.property()],b.prototype,"suspended",void 0);c.__decorate([d.property()],b.prototype,"fullOpacity",void 0);c.__decorate([d.property()],b.prototype,"analysisViewData",void 0);c.__decorate([d.property()],b.prototype,"updating",null);c.__decorate([d.property()],b.prototype,"_analysisController",void 0);c.__decorate([d.property()],b.prototype,"_analysisVisualization",
void 0);return b=c.__decorate([q.subclass("esri.views.3d.analysis.LineOfSight.LineOfSightView3D")],b)});