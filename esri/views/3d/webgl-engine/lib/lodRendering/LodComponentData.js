// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../support/buffer/glUtil ../DefaultVertexAttributeLocations ../GLMaterials ../Intersector ../../../../webgl/BufferObject ../../../../webgl/VertexArrayObject".split(" "),function(q,t,u,v,w,x,y,z){let A=function(){function m(a,b){const k=a.renderContext.rctx,{geometry:e,material:d}=b;this._materialRepository=a.materialRep;d.setParameters({instancedDoublePrecision:!0});a=d.createBufferWriter();b=a.vertexBufferLayout;const f=a.elementCount(e),
l=a.allocate(f);a.write({},e,l,0);this.geometry=e;this.material=d;this.glMaterials=new w.GLMaterials(d,this._materialRepository);this.vertexBufferLayout=b;this.vbo=y.createVertex(k,35044,l.buffer);this.vao=new z(k,v.Default3D,{geometry:u.glLayout(b)},{geometry:this.vbo});this.vertexCount=f}var r=m.prototype;r.destroy=function(){this.glMaterials.destroy();this.vbo.dispose();this.vao.dispose()};r.intersect=function(a,b,k,e,d,f){const l=this.geometry.id;this.material.intersect(this.geometry,null,a.transform.transform,
a,k,e,(c,n,g,p,h)=>{0<=c&&(null==b||b(a.rayBegin,a.rayEnd,c))&&(g={layerUid:f.layerUid,graphicUid:f.graphicUid(d),geometryId:l,triangleNr:g},(null==a.results.min.drapedLayerOrder||h>=a.results.min.drapedLayerOrder)&&(null==a.results.min.dist||c<a.results.min.dist)&&a.results.min.set(6,g,c,n,a.transform.transform,h),0!==a.options.store&&(null==a.results.max.drapedLayerOrder||h>=a.results.max.drapedLayerOrder)&&(null==a.results.max.dist||c>a.results.max.dist)&&a.results.max.set(6,g,c,n,a.transform.transform,
h),2===a.options.store&&(p=x.newIntersectorResult(a.results.min.ray),p.set(6,g,c,n,a.transform.transform,h),a.results.all.push(p)))})};t._createClass(m,[{key:"boundingInfo",get:function(){return this.geometry.boundingInfo}},{key:"triangleCount",get:function(){return this.vertexCount/3}}]);return m}();q.LodComponentData=A;Object.defineProperty(q,"__esModule",{value:!0})});