// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("../../../../../../chunks/_rollupPluginBabelHelpers ../../../../../../core/screenUtils ../../color ../../definitions ../../GeometryUtils ../../number ../../materialKey/MaterialKey ./util ./WGLBaseFillTemplate ./WGLMeshTemplate".split(" "),function(C,x,A,l,D,t,E,w,F,G){return function(B){function n(a,b,d,e,p,m,q,k,g,r,c,h,u,y,z,v){var f=B.call(this)||this;f._effects=y;a=E.FillMaterialKey.load(a);b&&(a.sdf=b.sdf,a.pattern=!0,a.textureBinding=b.textureBinding);f.fillColor=d;f.tl=e;f.br=p;f.aux2=
t.i8888to32(m,q,k,g);f.aux3=t.i8888to32(r,c,h,0);f._bitset=u;f._minMaxZoom=t.i1616to32(Math.round(z*l.MIN_MAX_ZOOM_PRECISION_FACTOR),Math.round(v*l.MIN_MAX_ZOOM_PRECISION_FACTOR));f._materialKey=a.data;return f}C._inheritsLoose(n,B);n.fromCIMFill=function(a,b,d){var e=a.color;e=e&&A.premultiplyAlphaRGBA(e)||0;const p=a.materialKey,[m,q]=w.getMinMaxZoom(a.scaleInfo,d);if(!b)return new n(p,null,e,0,0,0,0,0,0,0,0,0,a.colorLocked?1:0,a.effects,m,q);const {rect:k,width:g,height:r}=b;var c=a.scaleX||1,
h=k.x+l.SPRITE_PADDING;const u=k.y+l.SPRITE_PADDING;var y=h+g;const z=u+r;var v=a.height;d=Math.round(v);255<d?d=255:0>=d&&(d=z-u);c=Math.round(c*v);255<c?c=255:0>=c&&(c=y-h);v=x.pt2px(a.offsetX||0)+128;255<v&&(v=255);let f=x.pt2px(-a.offsetY||0)+128;255<f&&(f=255);h=t.i1616to32(h,u);y=t.i1616to32(y,z);return new n(p,b,e,h,y,c,d,v,f,128,128,D.degToByte(a.angle),a.colorLocked?1:0,a.effects,m,q)};n.fromSimpleFill=function(a,b,d=!1){var {color:e}=a;e=e&&"esriSFSNull"!==a.style&&A.premultiplyAlphaRGBAArray(e)||
0;d=d?l.BITSET_GENERIC_LOCK_COLOR:0;const p=a.materialKey;if(b){const {rect:k,width:g,height:r}=b;var m=k.x+l.SPRITE_PADDING;const c=k.y+l.SPRITE_PADDING;var q=m+g;const h=c+r;m=t.i1616to32(m,c);q=t.i1616to32(q,h);b=new n(p,b,e,m,q,g,r,0,0,128,128,0,d,null,w.DEFAULT_MIN_ZOOM,w.DEFAULT_MAX_ZOOM)}else b=new n(p,null,e,0,0,0,0,0,0,0,0,0,d,null,w.DEFAULT_MIN_ZOOM,w.DEFAULT_MAX_ZOOM);b._maybeAddLineTemplate(a);return b};n.fromPictureFill=function(a,b,d=!1){const e=l.PICTURE_FILL_COLOR,{rect:p,width:m,
height:q}=b;var k=p.x+l.SPRITE_PADDING,g=p.y+l.SPRITE_PADDING,r=k+m,c=g+q;k=t.i1616to32(k,g);r=t.i1616to32(r,c);c=Math.round(x.pt2px(a.width));255<c&&(c=255);g=Math.round(x.pt2px(a.height));255<g&&(g=255);let h=x.pt2px(a.xoffset)+128;255<h&&(h=255);let u=x.pt2px(-a.yoffset)+128;255<u&&(u=255);b=new n(a.materialKey,b,e,k,r,c,g,h,u,128*a.xscale,128*a.yscale,0,d?l.BITSET_GENERIC_LOCK_COLOR:0,null,w.DEFAULT_MIN_ZOOM,w.DEFAULT_MAX_ZOOM);b._maybeAddLineTemplate(a);return b};return n}(F(G))});