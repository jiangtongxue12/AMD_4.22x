// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define(["../../../../../chunks/_rollupPluginBabelHelpers","../enums","../Utils","./WGLGeometryBrush","../materialKey/MaterialKey"],function(q,r,t,u,v){return function(h){function c(){return h.apply(this,arguments)||this}q._inheritsLoose(c,h);var d=c.prototype;d.dispose=function(){};d.getGeometryType=function(){return r.WGLGeometryType.MARKER};d.drawGeometry=function(e,k,l,a){const {context:f,painter:m,rendererInfo:g,state:n}=e,b=v.MarkerMaterialKey.load(l.materialKey),{bufferLayouts:w,attributes:p}=
t.createProgramDescriptor(b.data,{geometry:[{location:0,name:"a_pos",count:2,type:5122},{location:1,name:"a_vertexOffset",count:2,type:5122},{location:2,name:"a_texCoords",count:2,type:5123},{location:3,name:"a_bitSetAndDistRatio",count:2,type:5123},{location:4,name:"a_id",count:4,type:5121},{location:5,name:"a_color",count:4,type:5121,normalized:!0},{location:6,name:"a_outlineColor",count:4,type:5121,normalized:!0},{location:7,name:"a_sizeAndOutlineWidth",count:4,type:5121},{location:8,name:"a_zoomRange",
count:2,type:5123}]});a=m.materialManager.getMaterialProgram(e,b,"materials/icon",p,a);f.useProgram(a);b.textureBinding&&m.textureManager.bindTextures(f,a,b,!0);this._setSharedUniforms(a,e,k);a.setUniformMatrix3fv("u_displayMat3",b.vvRotation?n.displayViewMat3:n.displayMat3);this._setSizeVVUniforms(b,a,g,k);this._setColorAndOpacityVVUniforms(b,a,g);this._setRotationVVUniforms(b,a,g);l.draw(f,w,p)};return c}(u)});