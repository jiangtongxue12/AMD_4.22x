// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/BidiText ../../../../core/maybe ../../../../core/screenUtils ../../../../geometry/Polygon ../../../../geometry/support/aaBoundingRect ../../../../geometry/support/normalizeUtilsCommon ../../engine/webgl/alignmentUtils ../../engine/webgl/definitions ../../engine/webgl/mesh/templates/shapingUtils".split(" "),function(e,n,p,f,q,h,r,l,m,t){e.PIXEL_BUFFER=50;e.TILE_SIZE=512;e.getTextSymbolSize=function(a,b,c){var d,g,k;if(!c||0===c.glyphMosaicItems.length)return a;const u=
n.bidiText(b.text)[1];b=t.shapeGlyphs(c.glyphMosaicItems,u,{scale:f.pt2px(b.font.size)/m.GLYPH_SIZE,angle:null!=(d=b.angle)?d:0,xOffset:null!=(g=b.xoffset)?g:0,yOffset:null!=(k=b.yoffset)?k:0,hAlign:l.getXAnchorDirection(b.horizontalAlignment||"center"),vAlign:l.getYAnchorDirection(b.verticalAlignment||"baseline"),maxLineWidth:Math.max(32,Math.min(b.lineWidth||512,512)),lineHeight:m.MAGIC_LABEL_LINE_HEIGHT*Math.max(.25,Math.min(b.lineHeight||1,4)),decoration:b.font.decoration||"none",isCIM:!1}).bounds;
a[0]=f.pt2px(b.x-b.halfWidth);a[1]=f.pt2px(b.y-b.halfHeight);a[2]=f.pt2px(b.width);a[3]=f.pt2px(b.height);return a};e.graphicGeometryToNumber=function(a){switch(p.unwrap(a.geometry).type){case "polyline":return 1;case "polygon":case "extent":return 2}return 0};e.intersectingInternationalDateline=function(a,b){if(!b.isWrappable)return null;const [c,d]=r.getSpatialReferenceMinMaxX(b);return a[2]>d?[h.create([a[0],a[1],d,a[3]]),h.create([c,a[1],c+a[2]-d,a[3]])]:a[0]<c?[h.create([c,a[1],a[2],a[3]]),h.create([d-
(c-a[0]),a[1],d,a[3]])]:null};e.isMarkerSymbol=function(a){return"simple-marker"===a||"picture-marker"===a||"esriSMS"===a||"esriPMS"===a};e.isTextSymbol=function(a){return"text"===a||"esriTS"===a};e.polygonFromExtent=function(a){if(!a)return null;const {xmin:b,ymin:c,xmax:d,ymax:g,spatialReference:k}=a;return new q({rings:[[[b,c],[b,g],[d,g],[d,c],[b,c]]],spatialReference:k})};Object.defineProperty(e,"__esModule",{value:!0})});