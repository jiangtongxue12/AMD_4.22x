// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../core/maybe ../../../intl/number ../../../renderers/support/rasterRendererHelper ../support/utils".split(" "),function(l,m,e,d,n,p,t){function u(a){return g.apply(this,arguments)}function g(){g=m._asyncToGenerator(function*(a){a=yield t.processRasterRendererParameters(a);const f=a.layer,{rasterInfo:b}=f;if(1<b.bandCount)throw new e("raster-class-breaks-renderer:not-supported","Multiband raster is not supported");
a.field||(a.field=d.isSome(b.attributeTable)?p.getField(b.attributeTable,"value").name:"value");var c=d.isSome(b.attributeTable);const v=c&&b.attributeTable.fields.find(h=>"count"===h.name.toLowerCase());c=c&&b.attributeTable.fields.find(h=>h.name.toLowerCase()===a.field.toLowerCase());if(!(v&&c||d.isSome(b.histograms)||(yield f.updateRasterInfoWithEstimatedStats({renderingRule:a.renderingRule,signal:a.signal}),d.isSome(b.histograms))))throw new e("raster-class-breaks-renderer:not-supported","Histograms or raster attribute table is required on the source raster. Unable to estimate histograms");
const {colors:q,numClasses:r}=a;if(q&&r&&q.length!==r)throw new e("raster-class-breaks-renderer:not-supported","The size of the `colors` parameter does not match 'numClasses'");a.classificationMethod||(a.classificationMethod="natural-breaks");return a});return g.apply(this,arguments)}function k(){k=m._asyncToGenerator(function*(a){a=yield u(a);a=p.createClassBreaksRenderer(a.layer.rasterInfo,a);if(!d.isSome(a))throw new e("raster-class-breaks-renderer:not-supported","Class breaks renderer is not supported on this data");
const f={minValue:a.minValue,maxValue:a.classBreakInfos[a.classBreakInfos.length-1].maxValue,normalizationTotal:null,classBreakInfos:a.classBreakInfos.map(b=>{var c=b.maxValue;c=n.formatNumber(b.minValue,{maximumFractionDigits:3})+" - "+n.formatNumber(c,{maximumFractionDigits:3});b.label=c;return{minValue:b.minValue,maxValue:b.maxValue,label:c}})};return{renderer:a,classBreaksResult:f}});return k.apply(this,arguments)}l.createRenderer=function(a){return k.apply(this,arguments)};Object.defineProperty(l,
"__esModule",{value:!0})});