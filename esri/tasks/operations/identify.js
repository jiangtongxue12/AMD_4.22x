// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define(["exports","../../core/maybe","../../geometry/support/jsonUtils","../../rest/utils"],function(g,m,n,p){g.identifyToIdentifyRESTParameters=function(a,b){const {dpi:q,gdbVersion:h,geometry:r,geometryPrecision:t,height:u,layerOption:v,mapExtent:c,maxAllowableOffset:w,returnFieldName:x,returnGeometry:y,returnUnformattedValues:z,returnZ:A,spatialReference:d,timeExtent:k,tolerance:B,width:C}=a.toJSON(),{dynamicLayers:e,layerDefs:f,layerIds:l}=p.toDynamicLayersJSON(a);b=b&&m.isSome(b.geometry)?b.geometry:
null;a={geometryPrecision:t,maxAllowableOffset:w,returnFieldName:x,returnGeometry:y,returnUnformattedValues:z,returnZ:A,tolerance:B};b=b&&b.toJSON()||r;a.imageDisplay=`${C},${u},${q}`;h&&(a.gdbVersion=h);b&&(delete b.spatialReference,a.geometry=JSON.stringify(b),a.geometryType=n.getJsonType(b));d?a.sr=d.wkid||JSON.stringify(d):b&&b.spatialReference?a.sr=b.spatialReference.wkid||JSON.stringify(b.spatialReference):c&&c.spatialReference&&(a.sr=c.spatialReference.wkid||JSON.stringify(c.spatialReference));
a.time=k?k.join(","):null;if(c){const {xmin:D,ymin:E,xmax:F,ymax:G}=c;a.mapExtent=`${D},${E},${F},${G}`}f&&(a.layerDefs=f);e&&!f&&(a.dynamicLayers=e);a.layers=v;l&&!e&&(a.layers+=`:${l.join(",")}`);return a};Object.defineProperty(g,"__esModule",{value:!0})});