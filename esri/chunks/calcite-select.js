// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("exports ./componentsUtils ./dom ./label ./observers ./calcite-icon2".split(" "),function(k,d,e,l,n,p){function f(a){return"CALCITE-OPTION"===a.tagName}function m(){["calcite-select","calcite-icon"].forEach(a=>{switch(a){case "calcite-select":customElements.get(a)||customElements.define(a,g);break;case "calcite-icon":customElements.get(a)||p.defineCustomElement()}})}let g=class extends HTMLElement{constructor(){super();this.__registerHost();this.__attachShadow();this.calciteSelectChange=d.createEvent(this,
"calciteSelectChange",7);this.disabled=!1;this.scale="m";this.width="auto";this.componentToNativeEl=new Map;this.mutationObserver=n.createObserver("mutation",()=>this.populateInternalSelect());this.handleInternalSelectChange=()=>{this.selectFromNativeOption(this.selectEl.selectedOptions[0]);requestAnimationFrame(()=>this.emitChangeEvent())};this.populateInternalSelect=()=>{const a=Array.from(this.el.children);this.clearInternalSelect();a.forEach(b=>{var c;return null===(c=this.selectEl)||void 0===
c?void 0:c.append(this.toNativeElement(b))})};this.storeSelectRef=a=>{this.selectEl=a;this.populateInternalSelect();this.selectFromNativeOption(this.selectEl.selectedOptions[0])};this.emitChangeEvent=()=>{this.calciteSelectChange.emit()}}connectedCallback(){var a;const {el:b}=this;null===(a=this.mutationObserver)||void 0===a?void 0:a.observe(b,{subtree:!0,childList:!0});l.connectLabel(this)}disconnectedCallback(){var a;null===(a=this.mutationObserver)||void 0===a?void 0:a.disconnect();l.disconnectLabel(this)}async setFocus(){e.focusElement(this.selectEl)}handleOptionOrGroupChange(a){a.stopPropagation();
a=a.target;const b=this.componentToNativeEl.get(a);b&&(this.updateNativeElement(a,b),f(a)&&a.selected&&this.deselectAllExcept(a))}onLabelClick(){this.setFocus()}updateNativeElement(a,b){b.disabled=a.disabled;b.label=a.label;f(a)&&(b.selected=a.selected,b.value=a.value,b.innerText=a.label)}clearInternalSelect(){this.componentToNativeEl.forEach(a=>a.remove());this.componentToNativeEl.clear()}selectFromNativeOption(a){if(a){var b;this.componentToNativeEl.forEach((c,h)=>{f(h)&&c===a&&(h.selected=!0,b=
h,this.deselectAllExcept(h))});b&&requestAnimationFrame(()=>this.selectedOption=b)}}toNativeElement(a){if(f(a)){const b=document.createElement("option");this.updateNativeElement(a,b);this.componentToNativeEl.set(a,b);return b}if("CALCITE-OPTION-GROUP"===a.tagName){const b=document.createElement("optgroup");this.updateNativeElement(a,b);Array.from(a.children).forEach(c=>{c=this.toNativeElement(c);b.append(c);this.componentToNativeEl.set(a,c)});this.componentToNativeEl.set(a,b);return b}throw Error("unsupported element child provided");
}deselectAllExcept(a){this.el.querySelectorAll("calcite-option").forEach(b=>{b!==a&&(b.selected=!1)})}renderChevron(a){return d.h("div",{class:{["icon-container"]:!0,[e.CSS_UTILITY.rtl]:"rtl"===a}},d.h("calcite-icon",{class:"icon",icon:"chevron-down",scale:"s"}))}render(){const a=e.getElementDir(this.el);return d.h(d.Fragment,null,d.h("select",{"aria-label":this.label,class:{["select"]:!0,[e.CSS_UTILITY.rtl]:"rtl"===a},disabled:this.disabled,onChange:this.handleInternalSelectChange,ref:this.storeSelectRef},
d.h("slot",null)),this.renderChevron(a))}get el(){return this}static get style(){return"@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;position:relative;width:var(--select-width)}:host([scale\x3ds]){height:1.5rem;--calcite-select-font-size:var(--calcite-font-size--2);--calcite-select-spacing:0 2rem 0 0.5rem;--calcite-select-spacing-rtl:0 0.5rem 0 2rem}:host([scale\x3ds]) .icon-container{padding-left:0.5rem;padding-right:0.5rem}:host([scale\x3dm]){height:2rem;--calcite-select-font-size:var(--calcite-font-size--1);--calcite-select-spacing:0 2.5rem 0 0.75rem;--calcite-select-spacing-rtl:0 0.75rem 0 2.5rem}:host([scale\x3dm]) .icon-container{padding-left:0.75rem;padding-right:0.75rem}:host([scale\x3dl]){height:44px;--calcite-select-font-size:var(--calcite-font-size-0);--calcite-select-spacing:0 3rem 0 1rem;--calcite-select-spacing-rtl:0 1rem 0 3rem}:host([scale\x3dl]) .icon-container{padding-left:1rem;padding-right:1rem}:host([width\x3dauto]){width:auto}:host([width\x3dhalf]){width:50%}:host([width\x3dfull]){width:100%}.select{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-width:1px;border-style:solid;border-right-width:0;background-color:var(--calcite-ui-foreground-1);border-color:var(--calcite-ui-border-input);border-radius:0;color:var(--calcite-ui-text-2);cursor:pointer;font-family:inherit;margin:0;width:100%;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--calcite-select-font-size);padding:var(--calcite-select-spacing)}.select:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.select:hover{background-color:var(--calcite-ui-foreground-2)}.select.calcite--rtl{border-width:1px;border-color:var(--calcite-ui-border-input);padding:var(--calcite-select-spacing-rtl)}select:disabled{border-color:var(--calcite-ui-border-input);--bg-opacity:1}:host([disabled]){pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}.icon-container{-ms-flex-align:center;align-items:center;background-color:transparent;border-width:0;border-right-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);border-left-width:0;color:var(--calcite-ui-text-2);display:-ms-flexbox;display:flex;pointer-events:none;position:absolute;right:0;top:0;bottom:0}.icon-container.calcite--rtl{border-left-width:1px;border-right-width:0;left:0;right:unset}.select:focus~.icon-container{border-color:transparent}"}};
g=d.proxyCustomElement(g,[1,"calcite-select",{disabled:[516],label:[1],scale:[513],selectedOption:[1040],width:[513],setFocus:[64]},[[0,"calciteOptionChange","handleOptionOrGroupChange"],[0,"calciteOptionGroupChange","handleOptionOrGroupChange"]]]);m();k.CalciteSelect=g;k.defineCustomElement=m});