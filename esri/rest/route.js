// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.22/esri/copyright.txt for details.
//>>built
define("exports ../chunks/_rollupPluginBabelHelpers ../request ../core/queryUtils ../geometry/support/normalizeUtils ./networkService ./utils".split(" "),function(n,q,r,t,u,d,v){function m(){m=q._asyncToGenerator(function*(c,a,e){var h=[],f=[],b={};const k={},p=v.parseUrl(c);({path:c}=p);a.stops&&a.stops.features&&d.collectGeometries(a.stops.features,f,"stops.features",b);a.pointBarriers&&a.pointBarriers.features&&d.collectGeometries(a.pointBarriers.features,f,"pointBarriers.features",b);a.polylineBarriers&&
a.polylineBarriers.features&&d.collectGeometries(a.polylineBarriers.features,f,"polylineBarriers.features",b);a.polygonBarriers&&a.polygonBarriers.features&&d.collectGeometries(a.polygonBarriers.features,f,"polygonBarriers.features",b);f=yield u.normalizeCentralMeridian(f);for(const g in b){const l=b[g];h.push(g);k[g]=f.slice(l[0],l[1])}if(d.isInputGeometryZAware(k,h)){b=null;try{b=yield d.fetchServiceDescription(c,a.apiKey,e)}catch{}b&&!b.hasZ&&d.dropZValuesOffInputGeometry(k,h)}for(const g in k)k[g].forEach((l,
w)=>{a.get(g)[w].geometry=l});e={...e,query:{...p.query,...x.toQueryParams(a),f:"json"}};h=c.endsWith("/solve")?c:`${c}/solve`;e=yield r(h,e);return d.handleSolveResponse(e)});return m.apply(this,arguments)}const x=t.createQueryParamsHelper({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:c=>c.outSpatialReference.wkid},
pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});n.solve=function(c,a,e){return m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0})});